!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.i=function(value){return value},__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=279)}([function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=Array.isArray},function(module,__webpack_exports__,__webpack_require__){"use strict";function newInterval(floori,offseti,count,field){function interval(date){return floori(date=new Date(+date)),date}return interval.floor=interval,interval.ceil=function(date){return floori(date=new Date(date-1)),offseti(date,1),floori(date),date},interval.round=function(date){var d0=interval(date),d1=interval.ceil(date);return date-d0<d1-date?d0:d1},interval.offset=function(date,step){return offseti(date=new Date(+date),null==step?1:Math.floor(step)),date},interval.range=function(start,stop,step){var range=[];if(start=interval.ceil(start),step=null==step?1:Math.floor(step),!(start<stop&&step>0))return range;do range.push(new Date(+start));while(offseti(start,step),floori(start),start<stop);return range},interval.filter=function(test){return newInterval(function(date){if(date>=date)for(;floori(date),!test(date);)date.setTime(date-1)},function(date,step){if(date>=date)for(;--step>=0;)for(;offseti(date,1),!test(date););})},count&&(interval.count=function(start,end){return t0.setTime(+start),t1.setTime(+end),floori(t0),floori(t1),Math.floor(count(t0,t1))},interval.every=function(step){return step=Math.floor(step),isFinite(step)&&step>0?step>1?interval.filter(field?function(d){return field(d)%step===0}:function(d){return interval.count(0,d)%step===0}):interval:null}),interval}__webpack_exports__.a=newInterval;var t0=new Date,t1=new Date},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(window,document,undefined){function expose(){var oldL=window.L;L.noConflict=function(){return window.L=oldL,this},window.L=L}var L={version:"1.0.3"};"object"==typeof module&&"object"==typeof module.exports?module.exports=L:(__WEBPACK_AMD_DEFINE_FACTORY__=L,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__,!(__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))),"undefined"!=typeof window&&expose(),L.Util={extend:function(dest){var i,j,len,src;for(j=1,len=arguments.length;j<len;j++){src=arguments[j];for(i in src)dest[i]=src[i]}return dest},create:Object.create||function(){function F(){}return function(proto){return F.prototype=proto,new F}}(),bind:function(fn,obj){var slice=Array.prototype.slice;if(fn.bind)return fn.bind.apply(fn,slice.call(arguments,1));var args=slice.call(arguments,2);return function(){return fn.apply(obj,args.length?args.concat(slice.call(arguments)):arguments)}},stamp:function(obj){return obj._leaflet_id=obj._leaflet_id||++L.Util.lastId,obj._leaflet_id},lastId:0,throttle:function(fn,time,context){var lock,args,wrapperFn,later;return later=function(){lock=!1,args&&(wrapperFn.apply(context,args),args=!1)},wrapperFn=function(){lock?args=arguments:(fn.apply(context,arguments),setTimeout(later,time),lock=!0)}},wrapNum:function(x,range,includeMax){var max=range[1],min=range[0],d=max-min;return x===max&&includeMax?x:((x-min)%d+d)%d+min},falseFn:function(){return!1},formatNum:function(num,digits){var pow=Math.pow(10,digits||5);return Math.round(num*pow)/pow},trim:function(str){return str.trim?str.trim():str.replace(/^\s+|\s+$/g,"")},splitWords:function(str){return L.Util.trim(str).split(/\s+/)},setOptions:function(obj,options){obj.hasOwnProperty("options")||(obj.options=obj.options?L.Util.create(obj.options):{});for(var i in options)obj.options[i]=options[i];return obj.options},getParamString:function(obj,existingUrl,uppercase){var params=[];for(var i in obj)params.push(encodeURIComponent(uppercase?i.toUpperCase():i)+"="+encodeURIComponent(obj[i]));return(existingUrl&&existingUrl.indexOf("?")!==-1?"&":"?")+params.join("&")},template:function(str,data){return str.replace(L.Util.templateRe,function(str,key){var value=data[key];if(value===undefined)throw new Error("No value provided for variable "+str);return"function"==typeof value&&(value=value(data)),value})},templateRe:/\{ *([\w_\-]+) *\}/g,isArray:Array.isArray||function(obj){return"[object Array]"===Object.prototype.toString.call(obj)},indexOf:function(array,el){for(var i=0;i<array.length;i++)if(array[i]===el)return i;return-1},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="},function(){function getPrefixed(name){return window["webkit"+name]||window["moz"+name]||window["ms"+name]}function timeoutDefer(fn){var time=+new Date,timeToCall=Math.max(0,16-(time-lastTime));return lastTime=time+timeToCall,window.setTimeout(fn,timeToCall)}var lastTime=0,requestFn=window.requestAnimationFrame||getPrefixed("RequestAnimationFrame")||timeoutDefer,cancelFn=window.cancelAnimationFrame||getPrefixed("CancelAnimationFrame")||getPrefixed("CancelRequestAnimationFrame")||function(id){window.clearTimeout(id)};L.Util.requestAnimFrame=function(fn,context,immediate){return immediate&&requestFn===timeoutDefer?void fn.call(context):requestFn.call(window,L.bind(fn,context))},L.Util.cancelAnimFrame=function(id){id&&cancelFn.call(window,id)}}(),L.extend=L.Util.extend,L.bind=L.Util.bind,L.stamp=L.Util.stamp,L.setOptions=L.Util.setOptions,L.Class=function(){},L.Class.extend=function(props){var NewClass=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},parentProto=NewClass.__super__=this.prototype,proto=L.Util.create(parentProto);proto.constructor=NewClass,NewClass.prototype=proto;for(var i in this)this.hasOwnProperty(i)&&"prototype"!==i&&(NewClass[i]=this[i]);return props.statics&&(L.extend(NewClass,props.statics),delete props.statics),props.includes&&(L.Util.extend.apply(null,[proto].concat(props.includes)),delete props.includes),proto.options&&(props.options=L.Util.extend(L.Util.create(proto.options),props.options)),L.extend(proto,props),proto._initHooks=[],proto.callInitHooks=function(){if(!this._initHooksCalled){parentProto.callInitHooks&&parentProto.callInitHooks.call(this),this._initHooksCalled=!0;for(var i=0,len=proto._initHooks.length;i<len;i++)proto._initHooks[i].call(this)}},NewClass},L.Class.include=function(props){return L.extend(this.prototype,props),this},L.Class.mergeOptions=function(options){return L.extend(this.prototype.options,options),this},L.Class.addInitHook=function(fn){var args=Array.prototype.slice.call(arguments,1),init="function"==typeof fn?fn:function(){this[fn].apply(this,args)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(init),this},L.Evented=L.Class.extend({on:function(types,fn,context){if("object"==typeof types)for(var type in types)this._on(type,types[type],fn);else{types=L.Util.splitWords(types);for(var i=0,len=types.length;i<len;i++)this._on(types[i],fn,context)}return this},off:function(types,fn,context){if(types)if("object"==typeof types)for(var type in types)this._off(type,types[type],fn);else{types=L.Util.splitWords(types);for(var i=0,len=types.length;i<len;i++)this._off(types[i],fn,context)}else delete this._events;return this},_on:function(type,fn,context){this._events=this._events||{};var typeListeners=this._events[type];typeListeners||(typeListeners=[],this._events[type]=typeListeners),context===this&&(context=undefined);for(var newListener={fn:fn,ctx:context},listeners=typeListeners,i=0,len=listeners.length;i<len;i++)if(listeners[i].fn===fn&&listeners[i].ctx===context)return;listeners.push(newListener)},_off:function(type,fn,context){var listeners,i,len;if(this._events&&(listeners=this._events[type])){if(!fn){for(i=0,len=listeners.length;i<len;i++)listeners[i].fn=L.Util.falseFn;return void delete this._events[type]}if(context===this&&(context=undefined),listeners)for(i=0,len=listeners.length;i<len;i++){var l=listeners[i];if(l.ctx===context&&l.fn===fn)return l.fn=L.Util.falseFn,this._firingCount&&(this._events[type]=listeners=listeners.slice()),void listeners.splice(i,1)}}},fire:function(type,data,propagate){if(!this.listens(type,propagate))return this;var event=L.Util.extend({},data,{type:type,target:this});if(this._events){var listeners=this._events[type];if(listeners){this._firingCount=this._firingCount+1||1;for(var i=0,len=listeners.length;i<len;i++){var l=listeners[i];l.fn.call(l.ctx||this,event)}this._firingCount--}}return propagate&&this._propagateEvent(event),this},listens:function(type,propagate){var listeners=this._events&&this._events[type];if(listeners&&listeners.length)return!0;if(propagate)for(var id in this._eventParents)if(this._eventParents[id].listens(type,propagate))return!0;return!1},once:function(types,fn,context){if("object"==typeof types){for(var type in types)this.once(type,types[type],fn);return this}var handler=L.bind(function(){this.off(types,fn,context).off(types,handler,context)},this);return this.on(types,fn,context).on(types,handler,context)},addEventParent:function(obj){return this._eventParents=this._eventParents||{},this._eventParents[L.stamp(obj)]=obj,this},removeEventParent:function(obj){return this._eventParents&&delete this._eventParents[L.stamp(obj)],this},_propagateEvent:function(e){for(var id in this._eventParents)this._eventParents[id].fire(e.type,L.extend({layer:e.target},e),!0)}});var proto=L.Evented.prototype;proto.addEventListener=proto.on,proto.removeEventListener=proto.clearAllEventListeners=proto.off,proto.addOneTimeEventListener=proto.once,proto.fireEvent=proto.fire,proto.hasEventListeners=proto.listens,L.Mixin={Events:proto},function(){var ua=navigator.userAgent.toLowerCase(),doc=document.documentElement,ie="ActiveXObject"in window,webkit=ua.indexOf("webkit")!==-1,phantomjs=ua.indexOf("phantom")!==-1,android23=ua.search("android [23]")!==-1,chrome=ua.indexOf("chrome")!==-1,gecko=ua.indexOf("gecko")!==-1&&!webkit&&!window.opera&&!ie,win=0===navigator.platform.indexOf("Win"),mobile="undefined"!=typeof orientation||ua.indexOf("mobile")!==-1,msPointer=!window.PointerEvent&&window.MSPointerEvent,pointer=window.PointerEvent||msPointer,ie3d=ie&&"transition"in doc.style,webkit3d="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!android23,gecko3d="MozPerspective"in doc.style,opera12="OTransition"in doc.style,touch=!window.L_NO_TOUCH&&(pointer||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch);L.Browser={ie:ie,ielt9:ie&&!document.addEventListener,edge:"msLaunchUri"in navigator&&!("documentMode"in document),webkit:webkit,gecko:gecko,android:ua.indexOf("android")!==-1,android23:android23,chrome:chrome,safari:!chrome&&ua.indexOf("safari")!==-1,win:win,ie3d:ie3d,webkit3d:webkit3d,gecko3d:gecko3d,opera12:opera12,any3d:!window.L_DISABLE_3D&&(ie3d||webkit3d||gecko3d)&&!opera12&&!phantomjs,mobile:mobile,mobileWebkit:mobile&&webkit,mobileWebkit3d:mobile&&webkit3d,mobileOpera:mobile&&window.opera,mobileGecko:mobile&&gecko,touch:!!touch,msPointer:!!msPointer,pointer:!!pointer,retina:(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1}}(),L.Point=function(x,y,round){this.x=round?Math.round(x):x,this.y=round?Math.round(y):y},L.Point.prototype={clone:function(){return new L.Point(this.x,this.y)},add:function(point){return this.clone()._add(L.point(point))},_add:function(point){return this.x+=point.x,this.y+=point.y,this},subtract:function(point){return this.clone()._subtract(L.point(point))},_subtract:function(point){return this.x-=point.x,this.y-=point.y,this},divideBy:function(num){return this.clone()._divideBy(num)},_divideBy:function(num){return this.x/=num,this.y/=num,this},multiplyBy:function(num){return this.clone()._multiplyBy(num)},_multiplyBy:function(num){return this.x*=num,this.y*=num,this},scaleBy:function(point){return new L.Point(this.x*point.x,this.y*point.y)},unscaleBy:function(point){return new L.Point(this.x/point.x,this.y/point.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},distanceTo:function(point){point=L.point(point);var x=point.x-this.x,y=point.y-this.y;return Math.sqrt(x*x+y*y)},equals:function(point){return point=L.point(point),point.x===this.x&&point.y===this.y},contains:function(point){return point=L.point(point),Math.abs(point.x)<=Math.abs(this.x)&&Math.abs(point.y)<=Math.abs(this.y)},toString:function(){return"Point("+L.Util.formatNum(this.x)+", "+L.Util.formatNum(this.y)+")"}},L.point=function(x,y,round){return x instanceof L.Point?x:L.Util.isArray(x)?new L.Point(x[0],x[1]):x===undefined||null===x?x:"object"==typeof x&&"x"in x&&"y"in x?new L.Point(x.x,x.y):new L.Point(x,y,round)},L.Bounds=function(a,b){if(a)for(var points=b?[a,b]:a,i=0,len=points.length;i<len;i++)this.extend(points[i])},L.Bounds.prototype={extend:function(point){return point=L.point(point),this.min||this.max?(this.min.x=Math.min(point.x,this.min.x),this.max.x=Math.max(point.x,this.max.x),this.min.y=Math.min(point.y,this.min.y),this.max.y=Math.max(point.y,this.max.y)):(this.min=point.clone(),this.max=point.clone()),this},getCenter:function(round){return new L.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,round)},getBottomLeft:function(){return new L.Point(this.min.x,this.max.y)},getTopRight:function(){return new L.Point(this.max.x,this.min.y)},getSize:function(){return this.max.subtract(this.min)},contains:function(obj){var min,max;return obj="number"==typeof obj[0]||obj instanceof L.Point?L.point(obj):L.bounds(obj),obj instanceof L.Bounds?(min=obj.min,max=obj.max):min=max=obj,min.x>=this.min.x&&max.x<=this.max.x&&min.y>=this.min.y&&max.y<=this.max.y},intersects:function(bounds){bounds=L.bounds(bounds);var min=this.min,max=this.max,min2=bounds.min,max2=bounds.max,xIntersects=max2.x>=min.x&&min2.x<=max.x,yIntersects=max2.y>=min.y&&min2.y<=max.y;return xIntersects&&yIntersects},overlaps:function(bounds){bounds=L.bounds(bounds);var min=this.min,max=this.max,min2=bounds.min,max2=bounds.max,xOverlaps=max2.x>min.x&&min2.x<max.x,yOverlaps=max2.y>min.y&&min2.y<max.y;return xOverlaps&&yOverlaps},isValid:function(){return!(!this.min||!this.max)}},L.bounds=function(a,b){return!a||a instanceof L.Bounds?a:new L.Bounds(a,b)},L.Transformation=function(a,b,c,d){this._a=a,this._b=b,this._c=c,this._d=d},L.Transformation.prototype={transform:function(point,scale){return this._transform(point.clone(),scale)},_transform:function(point,scale){return scale=scale||1,point.x=scale*(this._a*point.x+this._b),point.y=scale*(this._c*point.y+this._d),point},untransform:function(point,scale){return scale=scale||1,new L.Point((point.x/scale-this._b)/this._a,(point.y/scale-this._d)/this._c)}},L.DomUtil={get:function(id){return"string"==typeof id?document.getElementById(id):id},getStyle:function(el,style){var value=el.style[style]||el.currentStyle&&el.currentStyle[style];if((!value||"auto"===value)&&document.defaultView){var css=document.defaultView.getComputedStyle(el,null);value=css?css[style]:null}return"auto"===value?null:value},create:function(tagName,className,container){var el=document.createElement(tagName);return el.className=className||"",container&&container.appendChild(el),el},remove:function(el){var parent=el.parentNode;parent&&parent.removeChild(el)},empty:function(el){for(;el.firstChild;)el.removeChild(el.firstChild)},toFront:function(el){el.parentNode.appendChild(el)},toBack:function(el){var parent=el.parentNode;parent.insertBefore(el,parent.firstChild)},hasClass:function(el,name){if(el.classList!==undefined)return el.classList.contains(name);var className=L.DomUtil.getClass(el);return className.length>0&&new RegExp("(^|\\s)"+name+"(\\s|$)").test(className)},addClass:function(el,name){if(el.classList!==undefined)for(var classes=L.Util.splitWords(name),i=0,len=classes.length;i<len;i++)el.classList.add(classes[i]);else if(!L.DomUtil.hasClass(el,name)){var className=L.DomUtil.getClass(el);L.DomUtil.setClass(el,(className?className+" ":"")+name)}},removeClass:function(el,name){el.classList!==undefined?el.classList.remove(name):L.DomUtil.setClass(el,L.Util.trim((" "+L.DomUtil.getClass(el)+" ").replace(" "+name+" "," ")))},setClass:function(el,name){el.className.baseVal===undefined?el.className=name:el.className.baseVal=name},getClass:function(el){return el.className.baseVal===undefined?el.className:el.className.baseVal},setOpacity:function(el,value){"opacity"in el.style?el.style.opacity=value:"filter"in el.style&&L.DomUtil._setOpacityIE(el,value)},_setOpacityIE:function(el,value){var filter=!1,filterName="DXImageTransform.Microsoft.Alpha";try{filter=el.filters.item(filterName)}catch(e){if(1===value)return}value=Math.round(100*value),filter?(filter.Enabled=100!==value,filter.Opacity=value):el.style.filter+=" progid:"+filterName+"(opacity="+value+")"},testProp:function(props){for(var style=document.documentElement.style,i=0;i<props.length;i++)if(props[i]in style)return props[i];return!1},setTransform:function(el,offset,scale){var pos=offset||new L.Point(0,0);el.style[L.DomUtil.TRANSFORM]=(L.Browser.ie3d?"translate("+pos.x+"px,"+pos.y+"px)":"translate3d("+pos.x+"px,"+pos.y+"px,0)")+(scale?" scale("+scale+")":"")},setPosition:function(el,point){el._leaflet_pos=point,L.Browser.any3d?L.DomUtil.setTransform(el,point):(el.style.left=point.x+"px",el.style.top=point.y+"px")},getPosition:function(el){return el._leaflet_pos||new L.Point(0,0)}},function(){L.DomUtil.TRANSFORM=L.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]);var transition=L.DomUtil.TRANSITION=L.DomUtil.testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);if(L.DomUtil.TRANSITION_END="webkitTransition"===transition||"OTransition"===transition?transition+"End":"transitionend","onselectstart"in document)L.DomUtil.disableTextSelection=function(){L.DomEvent.on(window,"selectstart",L.DomEvent.preventDefault)},L.DomUtil.enableTextSelection=function(){L.DomEvent.off(window,"selectstart",L.DomEvent.preventDefault)};else{var userSelectProperty=L.DomUtil.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);L.DomUtil.disableTextSelection=function(){if(userSelectProperty){var style=document.documentElement.style;this._userSelect=style[userSelectProperty],style[userSelectProperty]="none"}},L.DomUtil.enableTextSelection=function(){userSelectProperty&&(document.documentElement.style[userSelectProperty]=this._userSelect,delete this._userSelect)}}L.DomUtil.disableImageDrag=function(){L.DomEvent.on(window,"dragstart",L.DomEvent.preventDefault)},L.DomUtil.enableImageDrag=function(){L.DomEvent.off(window,"dragstart",L.DomEvent.preventDefault)},L.DomUtil.preventOutline=function(element){for(;element.tabIndex===-1;)element=element.parentNode;element&&element.style&&(L.DomUtil.restoreOutline(),this._outlineElement=element,this._outlineStyle=element.style.outline,element.style.outline="none",L.DomEvent.on(window,"keydown",L.DomUtil.restoreOutline,this))},L.DomUtil.restoreOutline=function(){this._outlineElement&&(this._outlineElement.style.outline=this._outlineStyle,delete this._outlineElement,delete this._outlineStyle,L.DomEvent.off(window,"keydown",L.DomUtil.restoreOutline,this))}}(),L.LatLng=function(lat,lng,alt){if(isNaN(lat)||isNaN(lng))throw new Error("Invalid LatLng object: ("+lat+", "+lng+")");this.lat=+lat,this.lng=+lng,alt!==undefined&&(this.alt=+alt)},L.LatLng.prototype={equals:function(obj,maxMargin){if(!obj)return!1;obj=L.latLng(obj);var margin=Math.max(Math.abs(this.lat-obj.lat),Math.abs(this.lng-obj.lng));return margin<=(maxMargin===undefined?1e-9:maxMargin)},toString:function(precision){return"LatLng("+L.Util.formatNum(this.lat,precision)+", "+L.Util.formatNum(this.lng,precision)+")"},distanceTo:function(other){return L.CRS.Earth.distance(this,L.latLng(other))},wrap:function(){return L.CRS.Earth.wrapLatLng(this)},toBounds:function(sizeInMeters){var latAccuracy=180*sizeInMeters/40075017,lngAccuracy=latAccuracy/Math.cos(Math.PI/180*this.lat);return L.latLngBounds([this.lat-latAccuracy,this.lng-lngAccuracy],[this.lat+latAccuracy,this.lng+lngAccuracy])},clone:function(){return new L.LatLng(this.lat,this.lng,this.alt)}},L.latLng=function(a,b,c){return a instanceof L.LatLng?a:L.Util.isArray(a)&&"object"!=typeof a[0]?3===a.length?new L.LatLng(a[0],a[1],a[2]):2===a.length?new L.LatLng(a[0],a[1]):null:a===undefined||null===a?a:"object"==typeof a&&"lat"in a?new L.LatLng(a.lat,"lng"in a?a.lng:a.lon,a.alt):b===undefined?null:new L.LatLng(a,b,c)},L.LatLngBounds=function(corner1,corner2){if(corner1)for(var latlngs=corner2?[corner1,corner2]:corner1,i=0,len=latlngs.length;i<len;i++)this.extend(latlngs[i])},L.LatLngBounds.prototype={extend:function(obj){var sw2,ne2,sw=this._southWest,ne=this._northEast;if(obj instanceof L.LatLng)sw2=obj,ne2=obj;else{if(!(obj instanceof L.LatLngBounds))return obj?this.extend(L.latLng(obj)||L.latLngBounds(obj)):this;if(sw2=obj._southWest,ne2=obj._northEast,!sw2||!ne2)return this}return sw||ne?(sw.lat=Math.min(sw2.lat,sw.lat),sw.lng=Math.min(sw2.lng,sw.lng),ne.lat=Math.max(ne2.lat,ne.lat),ne.lng=Math.max(ne2.lng,ne.lng)):(this._southWest=new L.LatLng(sw2.lat,sw2.lng),this._northEast=new L.LatLng(ne2.lat,ne2.lng)),this},pad:function(bufferRatio){var sw=this._southWest,ne=this._northEast,heightBuffer=Math.abs(sw.lat-ne.lat)*bufferRatio,widthBuffer=Math.abs(sw.lng-ne.lng)*bufferRatio;return new L.LatLngBounds(new L.LatLng(sw.lat-heightBuffer,sw.lng-widthBuffer),new L.LatLng(ne.lat+heightBuffer,ne.lng+widthBuffer))},getCenter:function(){return new L.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new L.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new L.LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(obj){obj="number"==typeof obj[0]||obj instanceof L.LatLng||"lat"in obj?L.latLng(obj):L.latLngBounds(obj);var sw2,ne2,sw=this._southWest,ne=this._northEast;return obj instanceof L.LatLngBounds?(sw2=obj.getSouthWest(),ne2=obj.getNorthEast()):sw2=ne2=obj,sw2.lat>=sw.lat&&ne2.lat<=ne.lat&&sw2.lng>=sw.lng&&ne2.lng<=ne.lng},intersects:function(bounds){bounds=L.latLngBounds(bounds);var sw=this._southWest,ne=this._northEast,sw2=bounds.getSouthWest(),ne2=bounds.getNorthEast(),latIntersects=ne2.lat>=sw.lat&&sw2.lat<=ne.lat,lngIntersects=ne2.lng>=sw.lng&&sw2.lng<=ne.lng;return latIntersects&&lngIntersects},overlaps:function(bounds){bounds=L.latLngBounds(bounds);var sw=this._southWest,ne=this._northEast,sw2=bounds.getSouthWest(),ne2=bounds.getNorthEast(),latOverlaps=ne2.lat>sw.lat&&sw2.lat<ne.lat,lngOverlaps=ne2.lng>sw.lng&&sw2.lng<ne.lng;return latOverlaps&&lngOverlaps},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(bounds){return!!bounds&&(bounds=L.latLngBounds(bounds),this._southWest.equals(bounds.getSouthWest())&&this._northEast.equals(bounds.getNorthEast()))},isValid:function(){return!(!this._southWest||!this._northEast)}},L.latLngBounds=function(a,b){return a instanceof L.LatLngBounds?a:new L.LatLngBounds(a,b)},L.Projection={},L.Projection.LonLat={project:function(latlng){return new L.Point(latlng.lng,latlng.lat)},unproject:function(point){return new L.LatLng(point.y,point.x)},bounds:L.bounds([-180,-90],[180,90])},L.Projection.SphericalMercator={R:6378137,MAX_LATITUDE:85.0511287798,project:function(latlng){var d=Math.PI/180,max=this.MAX_LATITUDE,lat=Math.max(Math.min(max,latlng.lat),-max),sin=Math.sin(lat*d);return new L.Point(this.R*latlng.lng*d,this.R*Math.log((1+sin)/(1-sin))/2)},unproject:function(point){var d=180/Math.PI;return new L.LatLng((2*Math.atan(Math.exp(point.y/this.R))-Math.PI/2)*d,point.x*d/this.R)},bounds:function(){var d=6378137*Math.PI;return L.bounds([-d,-d],[d,d])}()},L.CRS={latLngToPoint:function(latlng,zoom){var projectedPoint=this.projection.project(latlng),scale=this.scale(zoom);return this.transformation._transform(projectedPoint,scale)},pointToLatLng:function(point,zoom){var scale=this.scale(zoom),untransformedPoint=this.transformation.untransform(point,scale);return this.projection.unproject(untransformedPoint)},project:function(latlng){return this.projection.project(latlng)},unproject:function(point){return this.projection.unproject(point)},scale:function(zoom){return 256*Math.pow(2,zoom)},zoom:function(scale){return Math.log(scale/256)/Math.LN2},getProjectedBounds:function(zoom){if(this.infinite)return null;var b=this.projection.bounds,s=this.scale(zoom),min=this.transformation.transform(b.min,s),max=this.transformation.transform(b.max,s);return L.bounds(min,max)},infinite:!1,wrapLatLng:function(latlng){var lng=this.wrapLng?L.Util.wrapNum(latlng.lng,this.wrapLng,!0):latlng.lng,lat=this.wrapLat?L.Util.wrapNum(latlng.lat,this.wrapLat,!0):latlng.lat,alt=latlng.alt;return L.latLng(lat,lng,alt)},wrapLatLngBounds:function(bounds){var center=bounds.getCenter(),newCenter=this.wrapLatLng(center),latShift=center.lat-newCenter.lat,lngShift=center.lng-newCenter.lng;if(0===latShift&&0===lngShift)return bounds;var sw=bounds.getSouthWest(),ne=bounds.getNorthEast(),newSw=L.latLng({lat:sw.lat-latShift,lng:sw.lng-lngShift}),newNe=L.latLng({lat:ne.lat-latShift,lng:ne.lng-lngShift});return new L.LatLngBounds(newSw,newNe)}},L.CRS.Simple=L.extend({},L.CRS,{projection:L.Projection.LonLat,transformation:new L.Transformation(1,0,-1,0),scale:function(zoom){return Math.pow(2,zoom)},zoom:function(scale){return Math.log(scale)/Math.LN2},distance:function(latlng1,latlng2){var dx=latlng2.lng-latlng1.lng,dy=latlng2.lat-latlng1.lat;return Math.sqrt(dx*dx+dy*dy)},infinite:!0}),L.CRS.Earth=L.extend({},L.CRS,{wrapLng:[-180,180],R:6371e3,distance:function(latlng1,latlng2){var rad=Math.PI/180,lat1=latlng1.lat*rad,lat2=latlng2.lat*rad,a=Math.sin(lat1)*Math.sin(lat2)+Math.cos(lat1)*Math.cos(lat2)*Math.cos((latlng2.lng-latlng1.lng)*rad);return this.R*Math.acos(Math.min(a,1))}}),L.CRS.EPSG3857=L.extend({},L.CRS.Earth,{code:"EPSG:3857",projection:L.Projection.SphericalMercator,transformation:function(){var scale=.5/(Math.PI*L.Projection.SphericalMercator.R);return new L.Transformation(scale,.5,-scale,.5)}()}),L.CRS.EPSG900913=L.extend({},L.CRS.EPSG3857,{code:"EPSG:900913"}),L.CRS.EPSG4326=L.extend({},L.CRS.Earth,{code:"EPSG:4326",projection:L.Projection.LonLat,transformation:new L.Transformation(1/180,1,-1/180,.5)}),L.Map=L.Evented.extend({options:{crs:L.CRS.EPSG3857,center:undefined,zoom:undefined,minZoom:undefined,maxZoom:undefined,layers:[],maxBounds:undefined,renderer:undefined,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(id,options){options=L.setOptions(this,options),this._initContainer(id),this._initLayout(),this._onResize=L.bind(this._onResize,this),this._initEvents(),options.maxBounds&&this.setMaxBounds(options.maxBounds),options.zoom!==undefined&&(this._zoom=this._limitZoom(options.zoom)),options.center&&options.zoom!==undefined&&this.setView(L.latLng(options.center),options.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this.callInitHooks(),this._zoomAnimated=L.DomUtil.TRANSITION&&L.Browser.any3d&&!L.Browser.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),L.DomEvent.on(this._proxy,L.DomUtil.TRANSITION_END,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(center,zoom,options){if(zoom=zoom===undefined?this._zoom:this._limitZoom(zoom),center=this._limitCenter(L.latLng(center),zoom,this.options.maxBounds),options=options||{},this._stop(),this._loaded&&!options.reset&&options!==!0){options.animate!==undefined&&(options.zoom=L.extend({animate:options.animate},options.zoom),options.pan=L.extend({animate:options.animate,duration:options.duration},options.pan));var moved=this._zoom!==zoom?this._tryAnimatedZoom&&this._tryAnimatedZoom(center,zoom,options.zoom):this._tryAnimatedPan(center,options.pan);if(moved)return clearTimeout(this._sizeTimer),this}return this._resetView(center,zoom),this},setZoom:function(zoom,options){return this._loaded?this.setView(this.getCenter(),zoom,{zoom:options}):(this._zoom=zoom,this)},zoomIn:function(delta,options){return delta=delta||(L.Browser.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+delta,options)},zoomOut:function(delta,options){return delta=delta||(L.Browser.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-delta,options)},setZoomAround:function(latlng,zoom,options){var scale=this.getZoomScale(zoom),viewHalf=this.getSize().divideBy(2),containerPoint=latlng instanceof L.Point?latlng:this.latLngToContainerPoint(latlng),centerOffset=containerPoint.subtract(viewHalf).multiplyBy(1-1/scale),newCenter=this.containerPointToLatLng(viewHalf.add(centerOffset));return this.setView(newCenter,zoom,{zoom:options})},_getBoundsCenterZoom:function(bounds,options){options=options||{},bounds=bounds.getBounds?bounds.getBounds():L.latLngBounds(bounds);var paddingTL=L.point(options.paddingTopLeft||options.padding||[0,0]),paddingBR=L.point(options.paddingBottomRight||options.padding||[0,0]),zoom=this.getBoundsZoom(bounds,!1,paddingTL.add(paddingBR));zoom="number"==typeof options.maxZoom?Math.min(options.maxZoom,zoom):zoom;var paddingOffset=paddingBR.subtract(paddingTL).divideBy(2),swPoint=this.project(bounds.getSouthWest(),zoom),nePoint=this.project(bounds.getNorthEast(),zoom),center=this.unproject(swPoint.add(nePoint).divideBy(2).add(paddingOffset),zoom);return{center:center,zoom:zoom}},fitBounds:function(bounds,options){if(bounds=L.latLngBounds(bounds),!bounds.isValid())throw new Error("Bounds are not valid.");var target=this._getBoundsCenterZoom(bounds,options);return this.setView(target.center,target.zoom,options)},fitWorld:function(options){return this.fitBounds([[-90,-180],[90,180]],options)},panTo:function(center,options){return this.setView(center,this._zoom,{pan:options})},panBy:function(offset,options){if(offset=L.point(offset).round(),options=options||{},!offset.x&&!offset.y)return this.fire("moveend");if(options.animate!==!0&&!this.getSize().contains(offset))return this._resetView(this.unproject(this.project(this.getCenter()).add(offset)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new L.PosAnimation,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),options.noMoveStart||this.fire("movestart"),options.animate!==!1){
L.DomUtil.addClass(this._mapPane,"leaflet-pan-anim");var newPos=this._getMapPanePos().subtract(offset).round();this._panAnim.run(this._mapPane,newPos,options.duration||.25,options.easeLinearity)}else this._rawPanBy(offset),this.fire("move").fire("moveend");return this},flyTo:function(targetCenter,targetZoom,options){function r(i){var s1=i?-1:1,s2=i?w1:w0,t1=w1*w1-w0*w0+s1*rho2*rho2*u1*u1,b1=2*s2*rho2*u1,b=t1/b1,sq=Math.sqrt(b*b+1)-b,log=sq<1e-9?-18:Math.log(sq);return log}function sinh(n){return(Math.exp(n)-Math.exp(-n))/2}function cosh(n){return(Math.exp(n)+Math.exp(-n))/2}function tanh(n){return sinh(n)/cosh(n)}function w(s){return w0*(cosh(r0)/cosh(r0+rho*s))}function u(s){return w0*(cosh(r0)*tanh(r0+rho*s)-sinh(r0))/rho2}function easeOut(t){return 1-Math.pow(1-t,1.5)}function frame(){var t=(Date.now()-start)/duration,s=easeOut(t)*S;t<=1?(this._flyToFrame=L.Util.requestAnimFrame(frame,this),this._move(this.unproject(from.add(to.subtract(from).multiplyBy(u(s)/u1)),startZoom),this.getScaleZoom(w0/w(s),startZoom),{flyTo:!0})):this._move(targetCenter,targetZoom)._moveEnd(!0)}if(options=options||{},options.animate===!1||!L.Browser.any3d)return this.setView(targetCenter,targetZoom,options);this._stop();var from=this.project(this.getCenter()),to=this.project(targetCenter),size=this.getSize(),startZoom=this._zoom;targetCenter=L.latLng(targetCenter),targetZoom=targetZoom===undefined?startZoom:targetZoom;var w0=Math.max(size.x,size.y),w1=w0*this.getZoomScale(startZoom,targetZoom),u1=to.distanceTo(from)||1,rho=1.42,rho2=rho*rho,r0=r(0),start=Date.now(),S=(r(1)-r0)/rho,duration=options.duration?1e3*options.duration:1e3*S*.8;return this._moveStart(!0),frame.call(this),this},flyToBounds:function(bounds,options){var target=this._getBoundsCenterZoom(bounds,options);return this.flyTo(target.center,target.zoom,options)},setMaxBounds:function(bounds){return bounds=L.latLngBounds(bounds),bounds.isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=bounds,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(zoom){return this.options.minZoom=zoom,this._loaded&&this.getZoom()<this.options.minZoom?this.setZoom(zoom):this},setMaxZoom:function(zoom){return this.options.maxZoom=zoom,this._loaded&&this.getZoom()>this.options.maxZoom?this.setZoom(zoom):this},panInsideBounds:function(bounds,options){this._enforcingBounds=!0;var center=this.getCenter(),newCenter=this._limitCenter(center,this._zoom,L.latLngBounds(bounds));return center.equals(newCenter)||this.panTo(newCenter,options),this._enforcingBounds=!1,this},invalidateSize:function(options){if(!this._loaded)return this;options=L.extend({animate:!1,pan:!0},options===!0?{animate:!0}:options);var oldSize=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var newSize=this.getSize(),oldCenter=oldSize.divideBy(2).round(),newCenter=newSize.divideBy(2).round(),offset=oldCenter.subtract(newCenter);return offset.x||offset.y?(options.animate&&options.pan?this.panBy(offset):(options.pan&&this._rawPanBy(offset),this.fire("move"),options.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(L.bind(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:oldSize,newSize:newSize})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(options){if(options=this._locateOptions=L.extend({timeout:1e4,watch:!1},options),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var onResponse=L.bind(this._handleGeolocationResponse,this),onError=L.bind(this._handleGeolocationError,this);return options.watch?this._locationWatchId=navigator.geolocation.watchPosition(onResponse,onError,options):navigator.geolocation.getCurrentPosition(onResponse,onError,options),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(error){var c=error.code,message=error.message||(1===c?"permission denied":2===c?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:c,message:"Geolocation error: "+message+"."})},_handleGeolocationResponse:function(pos){var lat=pos.coords.latitude,lng=pos.coords.longitude,latlng=new L.LatLng(lat,lng),bounds=latlng.toBounds(pos.coords.accuracy),options=this._locateOptions;if(options.setView){var zoom=this.getBoundsZoom(bounds);this.setView(latlng,options.maxZoom?Math.min(zoom,options.maxZoom):zoom)}var data={latlng:latlng,bounds:bounds,timestamp:pos.timestamp};for(var i in pos.coords)"number"==typeof pos.coords[i]&&(data[i]=pos.coords[i]);this.fire("locationfound",data)},addHandler:function(name,HandlerClass){if(!HandlerClass)return this;var handler=this[name]=new HandlerClass(this);return this._handlers.push(handler),this.options[name]&&handler.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(e){this._container._leaflet_id=undefined,this._containerId=undefined}L.DomUtil.remove(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this._loaded&&this.fire("unload");for(var i in this._layers)this._layers[i].remove();return this},createPane:function(name,container){var className="leaflet-pane"+(name?" leaflet-"+name.replace("Pane","")+"-pane":""),pane=L.DomUtil.create("div",className,container||this._mapPane);return name&&(this._panes[name]=pane),pane},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var bounds=this.getPixelBounds(),sw=this.unproject(bounds.getBottomLeft()),ne=this.unproject(bounds.getTopRight());return new L.LatLngBounds(sw,ne)},getMinZoom:function(){return this.options.minZoom===undefined?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===undefined?this._layersMaxZoom===undefined?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(bounds,inside,padding){bounds=L.latLngBounds(bounds),padding=L.point(padding||[0,0]);var zoom=this.getZoom()||0,min=this.getMinZoom(),max=this.getMaxZoom(),nw=bounds.getNorthWest(),se=bounds.getSouthEast(),size=this.getSize().subtract(padding),boundsSize=L.bounds(this.project(se,zoom),this.project(nw,zoom)).getSize(),snap=L.Browser.any3d?this.options.zoomSnap:1,scale=Math.min(size.x/boundsSize.x,size.y/boundsSize.y);return zoom=this.getScaleZoom(scale,zoom),snap&&(zoom=Math.round(zoom/(snap/100))*(snap/100),zoom=inside?Math.ceil(zoom/snap)*snap:Math.floor(zoom/snap)*snap),Math.max(min,Math.min(max,zoom))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new L.Point(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(center,zoom){var topLeftPoint=this._getTopLeftPoint(center,zoom);return new L.Bounds(topLeftPoint,topLeftPoint.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(zoom){return this.options.crs.getProjectedBounds(zoom===undefined?this.getZoom():zoom)},getPane:function(pane){return"string"==typeof pane?this._panes[pane]:pane},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(toZoom,fromZoom){var crs=this.options.crs;return fromZoom=fromZoom===undefined?this._zoom:fromZoom,crs.scale(toZoom)/crs.scale(fromZoom)},getScaleZoom:function(scale,fromZoom){var crs=this.options.crs;fromZoom=fromZoom===undefined?this._zoom:fromZoom;var zoom=crs.zoom(scale*crs.scale(fromZoom));return isNaN(zoom)?1/0:zoom},project:function(latlng,zoom){return zoom=zoom===undefined?this._zoom:zoom,this.options.crs.latLngToPoint(L.latLng(latlng),zoom)},unproject:function(point,zoom){return zoom=zoom===undefined?this._zoom:zoom,this.options.crs.pointToLatLng(L.point(point),zoom)},layerPointToLatLng:function(point){var projectedPoint=L.point(point).add(this.getPixelOrigin());return this.unproject(projectedPoint)},latLngToLayerPoint:function(latlng){var projectedPoint=this.project(L.latLng(latlng))._round();return projectedPoint._subtract(this.getPixelOrigin())},wrapLatLng:function(latlng){return this.options.crs.wrapLatLng(L.latLng(latlng))},wrapLatLngBounds:function(latlng){return this.options.crs.wrapLatLngBounds(L.latLngBounds(latlng))},distance:function(latlng1,latlng2){return this.options.crs.distance(L.latLng(latlng1),L.latLng(latlng2))},containerPointToLayerPoint:function(point){return L.point(point).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(point){return L.point(point).add(this._getMapPanePos())},containerPointToLatLng:function(point){var layerPoint=this.containerPointToLayerPoint(L.point(point));return this.layerPointToLatLng(layerPoint)},latLngToContainerPoint:function(latlng){return this.layerPointToContainerPoint(this.latLngToLayerPoint(L.latLng(latlng)))},mouseEventToContainerPoint:function(e){return L.DomEvent.getMousePosition(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(id){var container=this._container=L.DomUtil.get(id);if(!container)throw new Error("Map container not found.");if(container._leaflet_id)throw new Error("Map container is already initialized.");L.DomEvent.addListener(container,"scroll",this._onScroll,this),this._containerId=L.Util.stamp(container)},_initLayout:function(){var container=this._container;this._fadeAnimated=this.options.fadeAnimation&&L.Browser.any3d,L.DomUtil.addClass(container,"leaflet-container"+(L.Browser.touch?" leaflet-touch":"")+(L.Browser.retina?" leaflet-retina":"")+(L.Browser.ielt9?" leaflet-oldie":"")+(L.Browser.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var position=L.DomUtil.getStyle(container,"position");"absolute"!==position&&"relative"!==position&&"fixed"!==position&&(container.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var panes=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),L.DomUtil.setPosition(this._mapPane,new L.Point(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(L.DomUtil.addClass(panes.markerPane,"leaflet-zoom-hide"),L.DomUtil.addClass(panes.shadowPane,"leaflet-zoom-hide"))},_resetView:function(center,zoom){L.DomUtil.setPosition(this._mapPane,new L.Point(0,0));var loading=!this._loaded;this._loaded=!0,zoom=this._limitZoom(zoom),this.fire("viewprereset");var zoomChanged=this._zoom!==zoom;this._moveStart(zoomChanged)._move(center,zoom)._moveEnd(zoomChanged),this.fire("viewreset"),loading&&this.fire("load")},_moveStart:function(zoomChanged){return zoomChanged&&this.fire("zoomstart"),this.fire("movestart")},_move:function(center,zoom,data){zoom===undefined&&(zoom=this._zoom);var zoomChanged=this._zoom!==zoom;return this._zoom=zoom,this._lastCenter=center,this._pixelOrigin=this._getNewPixelOrigin(center),(zoomChanged||data&&data.pinch)&&this.fire("zoom",data),this.fire("move",data)},_moveEnd:function(zoomChanged){return zoomChanged&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return L.Util.cancelAnimFrame(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(offset){L.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(offset))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(remove){if(L.DomEvent){this._targets={},this._targets[L.stamp(this._container)]=this;var onOff=remove?"off":"on";L.DomEvent[onOff](this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this),this.options.trackResize&&L.DomEvent[onOff](window,"resize",this._onResize,this),L.Browser.any3d&&this.options.transform3DLimit&&this[onOff]("moveend",this._onMoveEnd)}},_onResize:function(){L.Util.cancelAnimFrame(this._resizeRequest),this._resizeRequest=L.Util.requestAnimFrame(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var pos=this._getMapPanePos();Math.max(Math.abs(pos.x),Math.abs(pos.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,type){for(var target,targets=[],isHover="mouseout"===type||"mouseover"===type,src=e.target||e.srcElement,dragging=!1;src;){if(target=this._targets[L.stamp(src)],target&&("click"===type||"preclick"===type)&&!e._simulated&&this._draggableMoved(target)){dragging=!0;break}if(target&&target.listens(type,!0)){if(isHover&&!L.DomEvent._isExternalTarget(src,e))break;if(targets.push(target),isHover)break}if(src===this._container)break;src=src.parentNode}return targets.length||dragging||isHover||!L.DomEvent._isExternalTarget(src,e)||(targets=[this]),targets},_handleDOMEvent:function(e){if(this._loaded&&!L.DomEvent._skipped(e)){var type="keypress"===e.type&&13===e.keyCode?"click":e.type;"mousedown"===type&&L.DomUtil.preventOutline(e.target||e.srcElement),this._fireDOMEvent(e,type)}},_fireDOMEvent:function(e,type,targets){if("click"===e.type){var synth=L.Util.extend({},e);synth.type="preclick",this._fireDOMEvent(synth,synth.type,targets)}if(!e._stopped&&(targets=(targets||[]).concat(this._findEventTargets(e,type)),targets.length)){var target=targets[0];"contextmenu"===type&&target.listens(type,!0)&&L.DomEvent.preventDefault(e);var data={originalEvent:e};if("keypress"!==e.type){var isMarker=target instanceof L.Marker;data.containerPoint=isMarker?this.latLngToContainerPoint(target.getLatLng()):this.mouseEventToContainerPoint(e),data.layerPoint=this.containerPointToLayerPoint(data.containerPoint),data.latlng=isMarker?target.getLatLng():this.layerPointToLatLng(data.layerPoint)}for(var i=0;i<targets.length;i++)if(targets[i].fire(type,data,!0),data.originalEvent._stopped||targets[i].options.nonBubblingEvents&&L.Util.indexOf(targets[i].options.nonBubblingEvents,type)!==-1)return}},_draggableMoved:function(obj){return obj=obj.dragging&&obj.dragging.enabled()?obj:this,obj.dragging&&obj.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,len=this._handlers.length;i<len;i++)this._handlers[i].disable()},whenReady:function(callback,context){return this._loaded?callback.call(context||this,{target:this}):this.on("load",callback,context),this},_getMapPanePos:function(){return L.DomUtil.getPosition(this._mapPane)||new L.Point(0,0)},_moved:function(){var pos=this._getMapPanePos();return pos&&!pos.equals([0,0])},_getTopLeftPoint:function(center,zoom){var pixelOrigin=center&&zoom!==undefined?this._getNewPixelOrigin(center,zoom):this.getPixelOrigin();return pixelOrigin.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(center,zoom){var viewHalf=this.getSize()._divideBy(2);return this.project(center,zoom)._subtract(viewHalf)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(latlng,zoom,center){var topLeft=this._getNewPixelOrigin(center,zoom);return this.project(latlng,zoom)._subtract(topLeft)},_latLngBoundsToNewLayerBounds:function(latLngBounds,zoom,center){var topLeft=this._getNewPixelOrigin(center,zoom);return L.bounds([this.project(latLngBounds.getSouthWest(),zoom)._subtract(topLeft),this.project(latLngBounds.getNorthWest(),zoom)._subtract(topLeft),this.project(latLngBounds.getSouthEast(),zoom)._subtract(topLeft),this.project(latLngBounds.getNorthEast(),zoom)._subtract(topLeft)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(latlng){return this.latLngToLayerPoint(latlng).subtract(this._getCenterLayerPoint())},_limitCenter:function(center,zoom,bounds){if(!bounds)return center;var centerPoint=this.project(center,zoom),viewHalf=this.getSize().divideBy(2),viewBounds=new L.Bounds(centerPoint.subtract(viewHalf),centerPoint.add(viewHalf)),offset=this._getBoundsOffset(viewBounds,bounds,zoom);return offset.round().equals([0,0])?center:this.unproject(centerPoint.add(offset),zoom)},_limitOffset:function(offset,bounds){if(!bounds)return offset;var viewBounds=this.getPixelBounds(),newBounds=new L.Bounds(viewBounds.min.add(offset),viewBounds.max.add(offset));return offset.add(this._getBoundsOffset(newBounds,bounds))},_getBoundsOffset:function(pxBounds,maxBounds,zoom){var projectedMaxBounds=L.bounds(this.project(maxBounds.getNorthEast(),zoom),this.project(maxBounds.getSouthWest(),zoom)),minOffset=projectedMaxBounds.min.subtract(pxBounds.min),maxOffset=projectedMaxBounds.max.subtract(pxBounds.max),dx=this._rebound(minOffset.x,-maxOffset.x),dy=this._rebound(minOffset.y,-maxOffset.y);return new L.Point(dx,dy)},_rebound:function(left,right){return left+right>0?Math.round(left-right)/2:Math.max(0,Math.ceil(left))-Math.max(0,Math.floor(right))},_limitZoom:function(zoom){var min=this.getMinZoom(),max=this.getMaxZoom(),snap=L.Browser.any3d?this.options.zoomSnap:1;return snap&&(zoom=Math.round(zoom/snap)*snap),Math.max(min,Math.min(max,zoom))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){L.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(center,options){var offset=this._getCenterOffset(center)._floor();return!((options&&options.animate)!==!0&&!this.getSize().contains(offset))&&(this.panBy(offset,options),!0)},_createAnimProxy:function(){var proxy=this._proxy=L.DomUtil.create("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(proxy),this.on("zoomanim",function(e){var prop=L.DomUtil.TRANSFORM,transform=proxy.style[prop];L.DomUtil.setTransform(proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),transform===proxy.style[prop]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",function(){var c=this.getCenter(),z=this.getZoom();L.DomUtil.setTransform(proxy,this.project(c,z),this.getZoomScale(z,1))},this)},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(center,zoom,options){if(this._animatingZoom)return!0;if(options=options||{},!this._zoomAnimated||options.animate===!1||this._nothingToAnimate()||Math.abs(zoom-this._zoom)>this.options.zoomAnimationThreshold)return!1;var scale=this.getZoomScale(zoom),offset=this._getCenterOffset(center)._divideBy(1-1/scale);return!(options.animate!==!0&&!this.getSize().contains(offset))&&(L.Util.requestAnimFrame(function(){this._moveStart(!0)._animateZoom(center,zoom,!0)},this),!0)},_animateZoom:function(center,zoom,startAnim,noUpdate){startAnim&&(this._animatingZoom=!0,this._animateToCenter=center,this._animateToZoom=zoom,L.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:center,zoom:zoom,noUpdate:noUpdate}),setTimeout(L.bind(this._onZoomTransitionEnd,this),250)},_onZoomTransitionEnd:function(){this._animatingZoom&&(L.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),L.Util.requestAnimFrame(function(){this._moveEnd(!0)},this))}}),L.map=function(id,options){return new L.Map(id,options)},L.Layer=L.Evented.extend({options:{pane:"overlayPane",nonBubblingEvents:[],attribution:null},addTo:function(map){return map.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(obj){return obj&&obj.removeLayer(this),this},getPane:function(name){return this._map.getPane(name?this.options[name]||name:this.options.pane)},addInteractiveTarget:function(targetEl){return this._map._targets[L.stamp(targetEl)]=this,this},removeInteractiveTarget:function(targetEl){return delete this._map._targets[L.stamp(targetEl)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var map=e.target;if(map.hasLayer(this)){if(this._map=map,this._zoomAnimated=map._zoomAnimated,this.getEvents){var events=this.getEvents();map.on(events,this),this.once("remove",function(){map.off(events,this)},this)}this.onAdd(map),this.getAttribution&&map.attributionControl&&map.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),map.fire("layeradd",{layer:this})}}}),L.Map.include({addLayer:function(layer){var id=L.stamp(layer);return this._layers[id]?this:(this._layers[id]=layer,layer._mapToAdd=this,layer.beforeAdd&&layer.beforeAdd(this),this.whenReady(layer._layerAdd,layer),this)},removeLayer:function(layer){var id=L.stamp(layer);return this._layers[id]?(this._loaded&&layer.onRemove(this),layer.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(layer.getAttribution()),delete this._layers[id],this._loaded&&(this.fire("layerremove",{layer:layer}),layer.fire("remove")),layer._map=layer._mapToAdd=null,this):this},hasLayer:function(layer){return!!layer&&L.stamp(layer)in this._layers},eachLayer:function(method,context){for(var i in this._layers)method.call(context,this._layers[i]);return this},_addLayers:function(layers){layers=layers?L.Util.isArray(layers)?layers:[layers]:[];for(var i=0,len=layers.length;i<len;i++)this.addLayer(layers[i])},_addZoomLimit:function(layer){!isNaN(layer.options.maxZoom)&&isNaN(layer.options.minZoom)||(this._zoomBoundLayers[L.stamp(layer)]=layer,this._updateZoomLevels())},_removeZoomLimit:function(layer){var id=L.stamp(layer);this._zoomBoundLayers[id]&&(delete this._zoomBoundLayers[id],this._updateZoomLevels())},_updateZoomLevels:function(){var minZoom=1/0,maxZoom=-(1/0),oldZoomSpan=this._getZoomSpan();for(var i in this._zoomBoundLayers){var options=this._zoomBoundLayers[i].options;minZoom=options.minZoom===undefined?minZoom:Math.min(minZoom,options.minZoom),maxZoom=options.maxZoom===undefined?maxZoom:Math.max(maxZoom,options.maxZoom)}this._layersMaxZoom=maxZoom===-(1/0)?undefined:maxZoom,this._layersMinZoom=minZoom===1/0?undefined:minZoom,oldZoomSpan!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===undefined&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===undefined&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var eventsKey="_leaflet_events";L.DomEvent={on:function(obj,types,fn,context){if("object"==typeof types)for(var type in types)this._on(obj,type,types[type],fn);else{types=L.Util.splitWords(types);for(var i=0,len=types.length;i<len;i++)this._on(obj,types[i],fn,context)}return this},off:function(obj,types,fn,context){if("object"==typeof types)for(var type in types)this._off(obj,type,types[type],fn);else{types=L.Util.splitWords(types);for(var i=0,len=types.length;i<len;i++)this._off(obj,types[i],fn,context)}return this},_on:function(obj,type,fn,context){var id=type+L.stamp(fn)+(context?"_"+L.stamp(context):"");if(obj[eventsKey]&&obj[eventsKey][id])return this;var handler=function(e){return fn.call(context||obj,e||window.event)},originalHandler=handler;return L.Browser.pointer&&0===type.indexOf("touch")?this.addPointerListener(obj,type,handler,id):!L.Browser.touch||"dblclick"!==type||!this.addDoubleTapListener||L.Browser.pointer&&L.Browser.chrome?"addEventListener"in obj?"mousewheel"===type?obj.addEventListener("onwheel"in obj?"wheel":"mousewheel",handler,!1):"mouseenter"===type||"mouseleave"===type?(handler=function(e){e=e||window.event,L.DomEvent._isExternalTarget(obj,e)&&originalHandler(e)},obj.addEventListener("mouseenter"===type?"mouseover":"mouseout",handler,!1)):("click"===type&&L.Browser.android&&(handler=function(e){return L.DomEvent._filterClick(e,originalHandler)}),obj.addEventListener(type,handler,!1)):"attachEvent"in obj&&obj.attachEvent("on"+type,handler):this.addDoubleTapListener(obj,handler,id),obj[eventsKey]=obj[eventsKey]||{},obj[eventsKey][id]=handler,this},_off:function(obj,type,fn,context){var id=type+L.stamp(fn)+(context?"_"+L.stamp(context):""),handler=obj[eventsKey]&&obj[eventsKey][id];return handler?(L.Browser.pointer&&0===type.indexOf("touch")?this.removePointerListener(obj,type,id):L.Browser.touch&&"dblclick"===type&&this.removeDoubleTapListener?this.removeDoubleTapListener(obj,id):"removeEventListener"in obj?"mousewheel"===type?obj.removeEventListener("onwheel"in obj?"wheel":"mousewheel",handler,!1):obj.removeEventListener("mouseenter"===type?"mouseover":"mouseleave"===type?"mouseout":type,handler,!1):"detachEvent"in obj&&obj.detachEvent("on"+type,handler),obj[eventsKey][id]=null,this):this},stopPropagation:function(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,L.DomEvent._skipped(e),this},disableScrollPropagation:function(el){return L.DomEvent.on(el,"mousewheel",L.DomEvent.stopPropagation)},disableClickPropagation:function(el){var stop=L.DomEvent.stopPropagation;return L.DomEvent.on(el,L.Draggable.START.join(" "),stop),L.DomEvent.on(el,{click:L.DomEvent._fakeStop,dblclick:stop})},preventDefault:function(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this},stop:function(e){return L.DomEvent.preventDefault(e).stopPropagation(e)},getMousePosition:function(e,container){if(!container)return new L.Point(e.clientX,e.clientY);var rect=container.getBoundingClientRect();return new L.Point(e.clientX-rect.left-container.clientLeft,e.clientY-rect.top-container.clientTop)},_wheelPxFactor:L.Browser.win&&L.Browser.chrome?2:L.Browser.gecko?window.devicePixelRatio:1,getWheelDelta:function(e){return L.Browser.edge?e.wheelDeltaY/2:e.deltaY&&0===e.deltaMode?-e.deltaY/L.DomEvent._wheelPxFactor:e.deltaY&&1===e.deltaMode?20*-e.deltaY:e.deltaY&&2===e.deltaMode?60*-e.deltaY:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?20*-e.detail:e.detail?e.detail/-32765*60:0},_skipEvents:{},_fakeStop:function(e){L.DomEvent._skipEvents[e.type]=!0},_skipped:function(e){var skipped=this._skipEvents[e.type];return this._skipEvents[e.type]=!1,skipped},_isExternalTarget:function(el,e){var related=e.relatedTarget;if(!related)return!0;try{for(;related&&related!==el;)related=related.parentNode}catch(err){return!1}return related!==el},_filterClick:function(e,handler){var timeStamp=e.timeStamp||e.originalEvent&&e.originalEvent.timeStamp,elapsed=L.DomEvent._lastClick&&timeStamp-L.DomEvent._lastClick;return elapsed&&elapsed>100&&elapsed<500||e.target._simulatedClick&&!e._simulated?void L.DomEvent.stop(e):(L.DomEvent._lastClick=timeStamp,void handler(e))}},L.DomEvent.addListener=L.DomEvent.on,L.DomEvent.removeListener=L.DomEvent.off,L.PosAnimation=L.Evented.extend({run:function(el,newPos,duration,easeLinearity){this.stop(),this._el=el,this._inProgress=!0,this._duration=duration||.25,this._easeOutPower=1/Math.max(easeLinearity||.5,.2),this._startPos=L.DomUtil.getPosition(el),this._offset=newPos.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=L.Util.requestAnimFrame(this._animate,this),this._step()},_step:function(round){var elapsed=+new Date-this._startTime,duration=1e3*this._duration;elapsed<duration?this._runFrame(this._easeOut(elapsed/duration),round):(this._runFrame(1),this._complete())},_runFrame:function(progress,round){var pos=this._startPos.add(this._offset.multiplyBy(progress));round&&pos._round(),L.DomUtil.setPosition(this._el,pos),this.fire("step")},_complete:function(){L.Util.cancelAnimFrame(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),L.Projection.Mercator={R:6378137,R_MINOR:6356752.314245179,bounds:L.bounds([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(latlng){var d=Math.PI/180,r=this.R,y=latlng.lat*d,tmp=this.R_MINOR/r,e=Math.sqrt(1-tmp*tmp),con=e*Math.sin(y),ts=Math.tan(Math.PI/4-y/2)/Math.pow((1-con)/(1+con),e/2);return y=-r*Math.log(Math.max(ts,1e-10)),new L.Point(latlng.lng*d*r,y)},unproject:function(point){for(var con,d=180/Math.PI,r=this.R,tmp=this.R_MINOR/r,e=Math.sqrt(1-tmp*tmp),ts=Math.exp(-point.y/r),phi=Math.PI/2-2*Math.atan(ts),i=0,dphi=.1;i<15&&Math.abs(dphi)>1e-7;i++)con=e*Math.sin(phi),con=Math.pow((1-con)/(1+con),e/2),dphi=Math.PI/2-2*Math.atan(ts*con)-phi,phi+=dphi;return new L.LatLng(phi*d,point.x*d/r)}},L.CRS.EPSG3395=L.extend({},L.CRS.Earth,{code:"EPSG:3395",projection:L.Projection.Mercator,transformation:function(){var scale=.5/(Math.PI*L.Projection.Mercator.R);return new L.Transformation(scale,.5,-scale,.5)}()}),L.GridLayer=L.Layer.extend({options:{tileSize:256,opacity:1,updateWhenIdle:L.Browser.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:undefined,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(options){L.setOptions(this,options)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(map){map._addZoomLimit(this)},onRemove:function(map){this._removeAllTiles(),L.DomUtil.remove(this._container),map._removeZoomLimit(this),this._container=null,this._tileZoom=null},bringToFront:function(){return this._map&&(L.DomUtil.toFront(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(L.DomUtil.toBack(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(opacity){return this.options.opacity=opacity,this._updateOpacity(),this},setZIndex:function(zIndex){return this.options.zIndex=zIndex,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var events={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=L.Util.throttle(this._onMoveEnd,this.options.updateInterval,this)),events.move=this._onMove),this._zoomAnimated&&(events.zoomanim=this._animateZoom),events},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof L.Point?s:new L.Point(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==undefined&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(compare){for(var zIndex,layers=this.getPane().children,edgeZIndex=-compare(-(1/0),1/0),i=0,len=layers.length;i<len;i++)zIndex=layers[i].style.zIndex,layers[i]!==this._container&&zIndex&&(edgeZIndex=compare(edgeZIndex,+zIndex));isFinite(edgeZIndex)&&(this.options.zIndex=edgeZIndex+compare(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!L.Browser.ielt9){
L.DomUtil.setOpacity(this._container,this.options.opacity);var now=+new Date,nextFrame=!1,willPrune=!1;for(var key in this._tiles){var tile=this._tiles[key];if(tile.current&&tile.loaded){var fade=Math.min(1,(now-tile.loaded)/200);L.DomUtil.setOpacity(tile.el,fade),fade<1?nextFrame=!0:(tile.active&&(willPrune=!0),tile.active=!0)}}willPrune&&!this._noPrune&&this._pruneTiles(),nextFrame&&(L.Util.cancelAnimFrame(this._fadeFrame),this._fadeFrame=L.Util.requestAnimFrame(this._updateOpacity,this))}},_initContainer:function(){this._container||(this._container=L.DomUtil.create("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var zoom=this._tileZoom,maxZoom=this.options.maxZoom;if(zoom===undefined)return undefined;for(var z in this._levels)this._levels[z].el.children.length||z===zoom?this._levels[z].el.style.zIndex=maxZoom-Math.abs(zoom-z):(L.DomUtil.remove(this._levels[z].el),this._removeTilesAtZoom(z),delete this._levels[z]);var level=this._levels[zoom],map=this._map;return level||(level=this._levels[zoom]={},level.el=L.DomUtil.create("div","leaflet-tile-container leaflet-zoom-animated",this._container),level.el.style.zIndex=maxZoom,level.origin=map.project(map.unproject(map.getPixelOrigin()),zoom).round(),level.zoom=zoom,this._setZoomTransform(level,map.getCenter(),map.getZoom()),L.Util.falseFn(level.el.offsetWidth)),this._level=level,level},_pruneTiles:function(){if(this._map){var key,tile,zoom=this._map.getZoom();if(zoom>this.options.maxZoom||zoom<this.options.minZoom)return void this._removeAllTiles();for(key in this._tiles)tile=this._tiles[key],tile.retain=tile.current;for(key in this._tiles)if(tile=this._tiles[key],tile.current&&!tile.active){var coords=tile.coords;this._retainParent(coords.x,coords.y,coords.z,coords.z-5)||this._retainChildren(coords.x,coords.y,coords.z,coords.z+2)}for(key in this._tiles)this._tiles[key].retain||this._removeTile(key)}},_removeTilesAtZoom:function(zoom){for(var key in this._tiles)this._tiles[key].coords.z===zoom&&this._removeTile(key)},_removeAllTiles:function(){for(var key in this._tiles)this._removeTile(key)},_invalidateAll:function(){for(var z in this._levels)L.DomUtil.remove(this._levels[z].el),delete this._levels[z];this._removeAllTiles(),this._tileZoom=null},_retainParent:function(x,y,z,minZoom){var x2=Math.floor(x/2),y2=Math.floor(y/2),z2=z-1,coords2=new L.Point(+x2,+y2);coords2.z=+z2;var key=this._tileCoordsToKey(coords2),tile=this._tiles[key];return tile&&tile.active?(tile.retain=!0,!0):(tile&&tile.loaded&&(tile.retain=!0),z2>minZoom&&this._retainParent(x2,y2,z2,minZoom))},_retainChildren:function(x,y,z,maxZoom){for(var i=2*x;i<2*x+2;i++)for(var j=2*y;j<2*y+2;j++){var coords=new L.Point(i,j);coords.z=z+1;var key=this._tileCoordsToKey(coords),tile=this._tiles[key];tile&&tile.active?tile.retain=!0:(tile&&tile.loaded&&(tile.retain=!0),z+1<maxZoom&&this._retainChildren(i,j,z+1,maxZoom))}},_resetView:function(e){var animating=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),animating,animating)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_setView:function(center,zoom,noPrune,noUpdate){var tileZoom=Math.round(zoom);(this.options.maxZoom!==undefined&&tileZoom>this.options.maxZoom||this.options.minZoom!==undefined&&tileZoom<this.options.minZoom)&&(tileZoom=undefined);var tileZoomChanged=this.options.updateWhenZooming&&tileZoom!==this._tileZoom;noUpdate&&!tileZoomChanged||(this._tileZoom=tileZoom,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),tileZoom!==undefined&&this._update(center),noPrune||this._pruneTiles(),this._noPrune=!!noPrune),this._setZoomTransforms(center,zoom)},_setZoomTransforms:function(center,zoom){for(var i in this._levels)this._setZoomTransform(this._levels[i],center,zoom)},_setZoomTransform:function(level,center,zoom){var scale=this._map.getZoomScale(zoom,level.zoom),translate=level.origin.multiplyBy(scale).subtract(this._map._getNewPixelOrigin(center,zoom)).round();L.Browser.any3d?L.DomUtil.setTransform(level.el,translate,scale):L.DomUtil.setPosition(level.el,translate)},_resetGrid:function(){var map=this._map,crs=map.options.crs,tileSize=this._tileSize=this.getTileSize(),tileZoom=this._tileZoom,bounds=this._map.getPixelWorldBounds(this._tileZoom);bounds&&(this._globalTileRange=this._pxBoundsToTileRange(bounds)),this._wrapX=crs.wrapLng&&!this.options.noWrap&&[Math.floor(map.project([0,crs.wrapLng[0]],tileZoom).x/tileSize.x),Math.ceil(map.project([0,crs.wrapLng[1]],tileZoom).x/tileSize.y)],this._wrapY=crs.wrapLat&&!this.options.noWrap&&[Math.floor(map.project([crs.wrapLat[0],0],tileZoom).y/tileSize.x),Math.ceil(map.project([crs.wrapLat[1],0],tileZoom).y/tileSize.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(center){var map=this._map,mapZoom=map._animatingZoom?Math.max(map._animateToZoom,map.getZoom()):map.getZoom(),scale=map.getZoomScale(mapZoom,this._tileZoom),pixelCenter=map.project(center,this._tileZoom).floor(),halfSize=map.getSize().divideBy(2*scale);return new L.Bounds(pixelCenter.subtract(halfSize),pixelCenter.add(halfSize))},_update:function(center){var map=this._map;if(map){var zoom=map.getZoom();if(center===undefined&&(center=map.getCenter()),this._tileZoom!==undefined){var pixelBounds=this._getTiledPixelBounds(center),tileRange=this._pxBoundsToTileRange(pixelBounds),tileCenter=tileRange.getCenter(),queue=[],margin=this.options.keepBuffer,noPruneRange=new L.Bounds(tileRange.getBottomLeft().subtract([margin,-margin]),tileRange.getTopRight().add([margin,-margin]));for(var key in this._tiles){var c=this._tiles[key].coords;c.z===this._tileZoom&&noPruneRange.contains(L.point(c.x,c.y))||(this._tiles[key].current=!1)}if(Math.abs(zoom-this._tileZoom)>1)return void this._setView(center,zoom);for(var j=tileRange.min.y;j<=tileRange.max.y;j++)for(var i=tileRange.min.x;i<=tileRange.max.x;i++){var coords=new L.Point(i,j);if(coords.z=this._tileZoom,this._isValidTile(coords)){var tile=this._tiles[this._tileCoordsToKey(coords)];tile?tile.current=!0:queue.push(coords)}}if(queue.sort(function(a,b){return a.distanceTo(tileCenter)-b.distanceTo(tileCenter)}),0!==queue.length){this._loading||(this._loading=!0,this.fire("loading"));var fragment=document.createDocumentFragment();for(i=0;i<queue.length;i++)this._addTile(queue[i],fragment);this._level.el.appendChild(fragment)}}}},_isValidTile:function(coords){var crs=this._map.options.crs;if(!crs.infinite){var bounds=this._globalTileRange;if(!crs.wrapLng&&(coords.x<bounds.min.x||coords.x>bounds.max.x)||!crs.wrapLat&&(coords.y<bounds.min.y||coords.y>bounds.max.y))return!1}if(!this.options.bounds)return!0;var tileBounds=this._tileCoordsToBounds(coords);return L.latLngBounds(this.options.bounds).overlaps(tileBounds)},_keyToBounds:function(key){return this._tileCoordsToBounds(this._keyToTileCoords(key))},_tileCoordsToBounds:function(coords){var map=this._map,tileSize=this.getTileSize(),nwPoint=coords.scaleBy(tileSize),sePoint=nwPoint.add(tileSize),nw=map.unproject(nwPoint,coords.z),se=map.unproject(sePoint,coords.z),bounds=new L.LatLngBounds(nw,se);return this.options.noWrap||map.wrapLatLngBounds(bounds),bounds},_tileCoordsToKey:function(coords){return coords.x+":"+coords.y+":"+coords.z},_keyToTileCoords:function(key){var k=key.split(":"),coords=new L.Point(+k[0],+k[1]);return coords.z=+k[2],coords},_removeTile:function(key){var tile=this._tiles[key];tile&&(L.DomUtil.remove(tile.el),delete this._tiles[key],this.fire("tileunload",{tile:tile.el,coords:this._keyToTileCoords(key)}))},_initTile:function(tile){L.DomUtil.addClass(tile,"leaflet-tile");var tileSize=this.getTileSize();tile.style.width=tileSize.x+"px",tile.style.height=tileSize.y+"px",tile.onselectstart=L.Util.falseFn,tile.onmousemove=L.Util.falseFn,L.Browser.ielt9&&this.options.opacity<1&&L.DomUtil.setOpacity(tile,this.options.opacity),L.Browser.android&&!L.Browser.android23&&(tile.style.WebkitBackfaceVisibility="hidden")},_addTile:function(coords,container){var tilePos=this._getTilePos(coords),key=this._tileCoordsToKey(coords),tile=this.createTile(this._wrapCoords(coords),L.bind(this._tileReady,this,coords));this._initTile(tile),this.createTile.length<2&&L.Util.requestAnimFrame(L.bind(this._tileReady,this,coords,null,tile)),L.DomUtil.setPosition(tile,tilePos),this._tiles[key]={el:tile,coords:coords,current:!0},container.appendChild(tile),this.fire("tileloadstart",{tile:tile,coords:coords})},_tileReady:function(coords,err,tile){if(this._map){err&&this.fire("tileerror",{error:err,tile:tile,coords:coords});var key=this._tileCoordsToKey(coords);tile=this._tiles[key],tile&&(tile.loaded=+new Date,this._map._fadeAnimated?(L.DomUtil.setOpacity(tile.el,0),L.Util.cancelAnimFrame(this._fadeFrame),this._fadeFrame=L.Util.requestAnimFrame(this._updateOpacity,this)):(tile.active=!0,this._pruneTiles()),err||(L.DomUtil.addClass(tile.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:tile.el,coords:coords})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),L.Browser.ielt9||!this._map._fadeAnimated?L.Util.requestAnimFrame(this._pruneTiles,this):setTimeout(L.bind(this._pruneTiles,this),250)))}},_getTilePos:function(coords){return coords.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(coords){var newCoords=new L.Point(this._wrapX?L.Util.wrapNum(coords.x,this._wrapX):coords.x,this._wrapY?L.Util.wrapNum(coords.y,this._wrapY):coords.y);return newCoords.z=coords.z,newCoords},_pxBoundsToTileRange:function(bounds){var tileSize=this.getTileSize();return new L.Bounds(bounds.min.unscaleBy(tileSize).floor(),bounds.max.unscaleBy(tileSize).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var key in this._tiles)if(!this._tiles[key].loaded)return!1;return!0}}),L.gridLayer=function(options){return new L.GridLayer(options)},L.TileLayer=L.GridLayer.extend({options:{minZoom:0,maxZoom:18,maxNativeZoom:null,minNativeZoom:null,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(url,options){this._url=url,options=L.setOptions(this,options),options.detectRetina&&L.Browser.retina&&options.maxZoom>0&&(options.tileSize=Math.floor(options.tileSize/2),options.zoomReverse?(options.zoomOffset--,options.minZoom++):(options.zoomOffset++,options.maxZoom--),options.minZoom=Math.max(0,options.minZoom)),"string"==typeof options.subdomains&&(options.subdomains=options.subdomains.split("")),L.Browser.android||this.on("tileunload",this._onTileRemove)},setUrl:function(url,noRedraw){return this._url=url,noRedraw||this.redraw(),this},createTile:function(coords,done){var tile=document.createElement("img");return L.DomEvent.on(tile,"load",L.bind(this._tileOnLoad,this,done,tile)),L.DomEvent.on(tile,"error",L.bind(this._tileOnError,this,done,tile)),this.options.crossOrigin&&(tile.crossOrigin=""),tile.alt="",tile.setAttribute("role","presentation"),tile.src=this.getTileUrl(coords),tile},getTileUrl:function(coords){var data={r:L.Browser.retina?"@2x":"",s:this._getSubdomain(coords),x:coords.x,y:coords.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var invertedY=this._globalTileRange.max.y-coords.y;this.options.tms&&(data.y=invertedY),data["-y"]=invertedY}return L.Util.template(this._url,L.extend(data,this.options))},_tileOnLoad:function(done,tile){L.Browser.ielt9?setTimeout(L.bind(done,this,null,tile),0):done(null,tile)},_tileOnError:function(done,tile,e){var errorUrl=this.options.errorTileUrl;errorUrl&&tile.src!==errorUrl&&(tile.src=errorUrl),done(e,tile)},getTileSize:function(){var map=this._map,tileSize=L.GridLayer.prototype.getTileSize.call(this),zoom=this._tileZoom+this.options.zoomOffset,minNativeZoom=this.options.minNativeZoom,maxNativeZoom=this.options.maxNativeZoom;return null!==minNativeZoom&&zoom<minNativeZoom?tileSize.divideBy(map.getZoomScale(minNativeZoom,zoom)).round():null!==maxNativeZoom&&zoom>maxNativeZoom?tileSize.divideBy(map.getZoomScale(maxNativeZoom,zoom)).round():tileSize},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var zoom=this._tileZoom,maxZoom=this.options.maxZoom,zoomReverse=this.options.zoomReverse,zoomOffset=this.options.zoomOffset,minNativeZoom=this.options.minNativeZoom,maxNativeZoom=this.options.maxNativeZoom;return zoomReverse&&(zoom=maxZoom-zoom),zoom+=zoomOffset,null!==minNativeZoom&&zoom<minNativeZoom?minNativeZoom:null!==maxNativeZoom&&zoom>maxNativeZoom?maxNativeZoom:zoom},_getSubdomain:function(tilePoint){var index=Math.abs(tilePoint.x+tilePoint.y)%this.options.subdomains.length;return this.options.subdomains[index]},_abortLoading:function(){var i,tile;for(i in this._tiles)this._tiles[i].coords.z!==this._tileZoom&&(tile=this._tiles[i].el,tile.onload=L.Util.falseFn,tile.onerror=L.Util.falseFn,tile.complete||(tile.src=L.Util.emptyImageUrl,L.DomUtil.remove(tile)))}}),L.tileLayer=function(url,options){return new L.TileLayer(url,options)},L.TileLayer.WMS=L.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(url,options){this._url=url;var wmsParams=L.extend({},this.defaultWmsParams);for(var i in options)i in this.options||(wmsParams[i]=options[i]);options=L.setOptions(this,options),wmsParams.width=wmsParams.height=options.tileSize*(options.detectRetina&&L.Browser.retina?2:1),this.wmsParams=wmsParams},onAdd:function(map){this._crs=this.options.crs||map.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var projectionKey=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[projectionKey]=this._crs.code,L.TileLayer.prototype.onAdd.call(this,map)},getTileUrl:function(coords){var tileBounds=this._tileCoordsToBounds(coords),nw=this._crs.project(tileBounds.getNorthWest()),se=this._crs.project(tileBounds.getSouthEast()),bbox=(this._wmsVersion>=1.3&&this._crs===L.CRS.EPSG4326?[se.y,nw.x,nw.y,se.x]:[nw.x,se.y,se.x,nw.y]).join(","),url=L.TileLayer.prototype.getTileUrl.call(this,coords);return url+L.Util.getParamString(this.wmsParams,url,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+bbox},setParams:function(params,noRedraw){return L.extend(this.wmsParams,params),noRedraw||this.redraw(),this}}),L.tileLayer.wms=function(url,options){return new L.TileLayer.WMS(url,options)},L.ImageOverlay=L.Layer.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1},initialize:function(url,bounds,options){this._url=url,this._bounds=L.latLngBounds(bounds),L.setOptions(this,options)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(L.DomUtil.addClass(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){L.DomUtil.remove(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(opacity){return this.options.opacity=opacity,this._image&&this._updateOpacity(),this},setStyle:function(styleOpts){return styleOpts.opacity&&this.setOpacity(styleOpts.opacity),this},bringToFront:function(){return this._map&&L.DomUtil.toFront(this._image),this},bringToBack:function(){return this._map&&L.DomUtil.toBack(this._image),this},setUrl:function(url){return this._url=url,this._image&&(this._image.src=url),this},setBounds:function(bounds){return this._bounds=bounds,this._map&&this._reset(),this},getEvents:function(){var events={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(events.zoomanim=this._animateZoom),events},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var img=this._image=L.DomUtil.create("img","leaflet-image-layer "+(this._zoomAnimated?"leaflet-zoom-animated":""));img.onselectstart=L.Util.falseFn,img.onmousemove=L.Util.falseFn,img.onload=L.bind(this.fire,this,"load"),this.options.crossOrigin&&(img.crossOrigin=""),img.src=this._url,img.alt=this.options.alt},_animateZoom:function(e){var scale=this._map.getZoomScale(e.zoom),offset=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;L.DomUtil.setTransform(this._image,offset,scale)},_reset:function(){var image=this._image,bounds=new L.Bounds(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),size=bounds.getSize();L.DomUtil.setPosition(image,bounds.min),image.style.width=size.x+"px",image.style.height=size.y+"px"},_updateOpacity:function(){L.DomUtil.setOpacity(this._image,this.options.opacity)}}),L.imageOverlay=function(url,bounds,options){return new L.ImageOverlay(url,bounds,options)},L.Icon=L.Class.extend({initialize:function(options){L.setOptions(this,options)},createIcon:function(oldIcon){return this._createIcon("icon",oldIcon)},createShadow:function(oldIcon){return this._createIcon("shadow",oldIcon)},_createIcon:function(name,oldIcon){var src=this._getIconUrl(name);if(!src){if("icon"===name)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var img=this._createImg(src,oldIcon&&"IMG"===oldIcon.tagName?oldIcon:null);return this._setIconStyles(img,name),img},_setIconStyles:function(img,name){var options=this.options,sizeOption=options[name+"Size"];"number"==typeof sizeOption&&(sizeOption=[sizeOption,sizeOption]);var size=L.point(sizeOption),anchor=L.point("shadow"===name&&options.shadowAnchor||options.iconAnchor||size&&size.divideBy(2,!0));img.className="leaflet-marker-"+name+" "+(options.className||""),anchor&&(img.style.marginLeft=-anchor.x+"px",img.style.marginTop=-anchor.y+"px"),size&&(img.style.width=size.x+"px",img.style.height=size.y+"px")},_createImg:function(src,el){return el=el||document.createElement("img"),el.src=src,el},_getIconUrl:function(name){return L.Browser.retina&&this.options[name+"RetinaUrl"]||this.options[name+"Url"]}}),L.icon=function(options){return new L.Icon(options)},L.Icon.Default=L.Icon.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(name){return L.Icon.Default.imagePath||(L.Icon.Default.imagePath=this._detectIconPath()),(this.options.imagePath||L.Icon.Default.imagePath)+L.Icon.prototype._getIconUrl.call(this,name)},_detectIconPath:function(){var el=L.DomUtil.create("div","leaflet-default-icon-path",document.body),path=L.DomUtil.getStyle(el,"background-image")||L.DomUtil.getStyle(el,"backgroundImage");return document.body.removeChild(el),0===path.indexOf("url")?path.replace(/^url\([\"\']?/,"").replace(/marker-icon\.png[\"\']?\)$/,""):""}}),L.Marker=L.Layer.extend({options:{icon:new L.Icon.Default,interactive:!0,draggable:!1,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",nonBubblingEvents:["click","dblclick","mouseover","mouseout","contextmenu"]},initialize:function(latlng,options){L.setOptions(this,options),this._latlng=L.latLng(latlng)},onAdd:function(map){this._zoomAnimated=this._zoomAnimated&&map.options.markerZoomAnimation,this._zoomAnimated&&map.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(map){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),this._zoomAnimated&&map.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(latlng){var oldLatLng=this._latlng;return this._latlng=L.latLng(latlng),this.update(),this.fire("move",{oldLatLng:oldLatLng,latlng:this._latlng})},setZIndexOffset:function(offset){return this.options.zIndexOffset=offset,this.update()},setIcon:function(icon){return this.options.icon=icon,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon){var pos=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(pos)}return this},_initIcon:function(){var options=this.options,classToAdd="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),icon=options.icon.createIcon(this._icon),addIcon=!1;icon!==this._icon&&(this._icon&&this._removeIcon(),addIcon=!0,options.title&&(icon.title=options.title),options.alt&&(icon.alt=options.alt)),L.DomUtil.addClass(icon,classToAdd),options.keyboard&&(icon.tabIndex="0"),this._icon=icon,options.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var newShadow=options.icon.createShadow(this._shadow),addShadow=!1;newShadow!==this._shadow&&(this._removeShadow(),addShadow=!0),newShadow&&(L.DomUtil.addClass(newShadow,classToAdd),newShadow.alt=""),this._shadow=newShadow,options.opacity<1&&this._updateOpacity(),addIcon&&this.getPane().appendChild(this._icon),this._initInteraction(),newShadow&&addShadow&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),L.DomUtil.remove(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&L.DomUtil.remove(this._shadow),this._shadow=null},_setPos:function(pos){L.DomUtil.setPosition(this._icon,pos),this._shadow&&L.DomUtil.setPosition(this._shadow,pos),this._zIndex=pos.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(offset){this._icon.style.zIndex=this._zIndex+offset},_animateZoom:function(opt){var pos=this._map._latLngToNewLayerPoint(this._latlng,opt.zoom,opt.center).round();this._setPos(pos)},_initInteraction:function(){if(this.options.interactive&&(L.DomUtil.addClass(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),L.Handler.MarkerDrag)){var draggable=this.options.draggable;this.dragging&&(draggable=this.dragging.enabled(),this.dragging.disable()),this.dragging=new L.Handler.MarkerDrag(this),draggable&&this.dragging.enable()}},setOpacity:function(opacity){return this.options.opacity=opacity,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var opacity=this.options.opacity;L.DomUtil.setOpacity(this._icon,opacity),this._shadow&&L.DomUtil.setOpacity(this._shadow,opacity)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor||[0,0]},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor||[0,0]}}),L.marker=function(latlng,options){return new L.Marker(latlng,options)},L.DivIcon=L.Icon.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(oldIcon){var div=oldIcon&&"DIV"===oldIcon.tagName?oldIcon:document.createElement("div"),options=this.options;if(div.innerHTML=options.html!==!1?options.html:"",options.bgPos){var bgPos=L.point(options.bgPos);div.style.backgroundPosition=-bgPos.x+"px "+-bgPos.y+"px"}return this._setIconStyles(div,"icon"),div},createShadow:function(){return null}}),L.divIcon=function(options){return new L.DivIcon(options)},L.DivOverlay=L.Layer.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(options,source){L.setOptions(this,options),this._source=source},onAdd:function(map){this._zoomAnimated=map._zoomAnimated,this._container||this._initLayout(),map._fadeAnimated&&L.DomUtil.setOpacity(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),map._fadeAnimated&&L.DomUtil.setOpacity(this._container,1),this.bringToFront()},onRemove:function(map){map._fadeAnimated?(L.DomUtil.setOpacity(this._container,0),this._removeTimeout=setTimeout(L.bind(L.DomUtil.remove,L.DomUtil,this._container),200)):L.DomUtil.remove(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(latlng){return this._latlng=L.latLng(latlng),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(content){return this._content=content,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var events={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(events.zoomanim=this._animateZoom),events},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&L.DomUtil.toFront(this._container),this},bringToBack:function(){return this._map&&L.DomUtil.toBack(this._container),this},_updateContent:function(){if(this._content){var node=this._contentNode,content="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof content)node.innerHTML=content;else{for(;node.hasChildNodes();)node.removeChild(node.firstChild);node.appendChild(content)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var pos=this._map.latLngToLayerPoint(this._latlng),offset=L.point(this.options.offset),anchor=this._getAnchor();this._zoomAnimated?L.DomUtil.setPosition(this._container,pos.add(anchor)):offset=offset.add(pos).add(anchor);var bottom=this._containerBottom=-offset.y,left=this._containerLeft=-Math.round(this._containerWidth/2)+offset.x;this._container.style.bottom=bottom+"px",this._container.style.left=left+"px"}},_getAnchor:function(){return[0,0]}}),L.Popup=L.DivOverlay.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,className:""},openOn:function(map){return map.openPopup(this),this},onAdd:function(map){L.DivOverlay.prototype.onAdd.call(this,map),map.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof L.Path||this._source.on("preclick",L.DomEvent.stopPropagation))},onRemove:function(map){L.DivOverlay.prototype.onRemove.call(this,map),map.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof L.Path||this._source.off("preclick",L.DomEvent.stopPropagation))},getEvents:function(){var events=L.DivOverlay.prototype.getEvents.call(this);return("closeOnClick"in this.options?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(events.preclick=this._close),this.options.keepInView&&(events.moveend=this._adjustPan),events},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var prefix="leaflet-popup",container=this._container=L.DomUtil.create("div",prefix+" "+(this.options.className||"")+" leaflet-zoom-animated");if(this.options.closeButton){var closeButton=this._closeButton=L.DomUtil.create("a",prefix+"-close-button",container);closeButton.href="#close",closeButton.innerHTML="&#215;",L.DomEvent.on(closeButton,"click",this._onCloseButtonClick,this)}var wrapper=this._wrapper=L.DomUtil.create("div",prefix+"-content-wrapper",container);this._contentNode=L.DomUtil.create("div",prefix+"-content",wrapper),L.DomEvent.disableClickPropagation(wrapper).disableScrollPropagation(this._contentNode).on(wrapper,"contextmenu",L.DomEvent.stopPropagation),this._tipContainer=L.DomUtil.create("div",prefix+"-tip-container",container),this._tip=L.DomUtil.create("div",prefix+"-tip",this._tipContainer)},_updateLayout:function(){var container=this._contentNode,style=container.style;style.width="",style.whiteSpace="nowrap";var width=container.offsetWidth;width=Math.min(width,this.options.maxWidth),width=Math.max(width,this.options.minWidth),style.width=width+1+"px",style.whiteSpace="",style.height="";var height=container.offsetHeight,maxHeight=this.options.maxHeight,scrolledClass="leaflet-popup-scrolled";maxHeight&&height>maxHeight?(style.height=maxHeight+"px",L.DomUtil.addClass(container,scrolledClass)):L.DomUtil.removeClass(container,scrolledClass),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var pos=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),anchor=this._getAnchor();L.DomUtil.setPosition(this._container,pos.add(anchor))},_adjustPan:function(){if(!(!this.options.autoPan||this._map._panAnim&&this._map._panAnim._inProgress)){var map=this._map,marginBottom=parseInt(L.DomUtil.getStyle(this._container,"marginBottom"),10)||0,containerHeight=this._container.offsetHeight+marginBottom,containerWidth=this._containerWidth,layerPos=new L.Point(this._containerLeft,-containerHeight-this._containerBottom);layerPos._add(L.DomUtil.getPosition(this._container));var containerPos=map.layerPointToContainerPoint(layerPos),padding=L.point(this.options.autoPanPadding),paddingTL=L.point(this.options.autoPanPaddingTopLeft||padding),paddingBR=L.point(this.options.autoPanPaddingBottomRight||padding),size=map.getSize(),dx=0,dy=0;containerPos.x+containerWidth+paddingBR.x>size.x&&(dx=containerPos.x+containerWidth-size.x+paddingBR.x),containerPos.x-dx-paddingTL.x<0&&(dx=containerPos.x-paddingTL.x),containerPos.y+containerHeight+paddingBR.y>size.y&&(dy=containerPos.y+containerHeight-size.y+paddingBR.y),containerPos.y-dy-paddingTL.y<0&&(dy=containerPos.y-paddingTL.y),(dx||dy)&&map.fire("autopanstart").panBy([dx,dy])}},_onCloseButtonClick:function(e){this._close(),L.DomEvent.stop(e)},_getAnchor:function(){return L.point(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),L.popup=function(options,source){return new L.Popup(options,source)},L.Map.mergeOptions({closePopupOnClick:!0}),L.Map.include({openPopup:function(popup,latlng,options){return popup instanceof L.Popup||(popup=new L.Popup(options).setContent(popup)),latlng&&popup.setLatLng(latlng),this.hasLayer(popup)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=popup,this.addLayer(popup))},closePopup:function(popup){return popup&&popup!==this._popup||(popup=this._popup,this._popup=null),popup&&this.removeLayer(popup),this}}),L.Layer.include({bindPopup:function(content,options){return content instanceof L.Popup?(L.setOptions(content,options),this._popup=content,content._source=this):(this._popup&&!options||(this._popup=new L.Popup(options,this)),this._popup.setContent(content)),this._popupHandlersAdded||(this.on({click:this._openPopup,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(layer,latlng){if(layer instanceof L.Layer||(latlng=layer,layer=this),layer instanceof L.FeatureGroup)for(var id in this._layers){layer=this._layers[id];break}return latlng||(latlng=layer.getCenter?layer.getCenter():layer.getLatLng()),this._popup&&this._map&&(this._popup._source=layer,this._popup.update(),this._map.openPopup(this._popup,latlng)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(target){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(target)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(content){return this._popup&&this._popup.setContent(content),this},getPopup:function(){return this._popup},_openPopup:function(e){var layer=e.layer||e.target;if(this._popup&&this._map)return L.DomEvent.stop(e),layer instanceof L.Path?void this.openPopup(e.layer||e.target,e.latlng):void(this._map.hasLayer(this._popup)&&this._popup._source===layer?this.closePopup():this.openPopup(layer,e.latlng));
},_movePopup:function(e){this._popup.setLatLng(e.latlng)}}),L.Tooltip=L.DivOverlay.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(map){L.DivOverlay.prototype.onAdd.call(this,map),this.setOpacity(this.options.opacity),map.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(map){L.DivOverlay.prototype.onRemove.call(this,map),map.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var events=L.DivOverlay.prototype.getEvents.call(this);return L.Browser.touch&&!this.options.permanent&&(events.preclick=this._close),events},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var prefix="leaflet-tooltip",className=prefix+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=L.DomUtil.create("div",className)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(pos){var map=this._map,container=this._container,centerPoint=map.latLngToContainerPoint(map.getCenter()),tooltipPoint=map.layerPointToContainerPoint(pos),direction=this.options.direction,tooltipWidth=container.offsetWidth,tooltipHeight=container.offsetHeight,offset=L.point(this.options.offset),anchor=this._getAnchor();"top"===direction?pos=pos.add(L.point(-tooltipWidth/2+offset.x,-tooltipHeight+offset.y+anchor.y,!0)):"bottom"===direction?pos=pos.subtract(L.point(tooltipWidth/2-offset.x,-offset.y,!0)):"center"===direction?pos=pos.subtract(L.point(tooltipWidth/2+offset.x,tooltipHeight/2-anchor.y+offset.y,!0)):"right"===direction||"auto"===direction&&tooltipPoint.x<centerPoint.x?(direction="right",pos=pos.add(L.point(offset.x+anchor.x,anchor.y-tooltipHeight/2+offset.y,!0))):(direction="left",pos=pos.subtract(L.point(tooltipWidth+anchor.x-offset.x,tooltipHeight/2-anchor.y-offset.y,!0))),L.DomUtil.removeClass(container,"leaflet-tooltip-right"),L.DomUtil.removeClass(container,"leaflet-tooltip-left"),L.DomUtil.removeClass(container,"leaflet-tooltip-top"),L.DomUtil.removeClass(container,"leaflet-tooltip-bottom"),L.DomUtil.addClass(container,"leaflet-tooltip-"+direction),L.DomUtil.setPosition(container,pos)},_updatePosition:function(){var pos=this._map.latLngToLayerPoint(this._latlng);this._setPosition(pos)},setOpacity:function(opacity){this.options.opacity=opacity,this._container&&L.DomUtil.setOpacity(this._container,opacity)},_animateZoom:function(e){var pos=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(pos)},_getAnchor:function(){return L.point(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),L.tooltip=function(options,source){return new L.Tooltip(options,source)},L.Map.include({openTooltip:function(tooltip,latlng,options){return tooltip instanceof L.Tooltip||(tooltip=new L.Tooltip(options).setContent(tooltip)),latlng&&tooltip.setLatLng(latlng),this.hasLayer(tooltip)?this:this.addLayer(tooltip)},closeTooltip:function(tooltip){return tooltip&&this.removeLayer(tooltip),this}}),L.Layer.include({bindTooltip:function(content,options){return content instanceof L.Tooltip?(L.setOptions(content,options),this._tooltip=content,content._source=this):(this._tooltip&&!options||(this._tooltip=L.tooltip(options,this)),this._tooltip.setContent(content)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(remove){if(remove||!this._tooltipHandlersAdded){var onOff=remove?"off":"on",events={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?events.add=this._openTooltip:(events.mouseover=this._openTooltip,events.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(events.mousemove=this._moveTooltip),L.Browser.touch&&(events.click=this._openTooltip)),this[onOff](events),this._tooltipHandlersAdded=!remove}},openTooltip:function(layer,latlng){if(layer instanceof L.Layer||(latlng=layer,layer=this),layer instanceof L.FeatureGroup)for(var id in this._layers){layer=this._layers[id];break}return latlng||(latlng=layer.getCenter?layer.getCenter():layer.getLatLng()),this._tooltip&&this._map&&(this._tooltip._source=layer,this._tooltip.update(),this._map.openTooltip(this._tooltip,latlng),this._tooltip.options.interactive&&this._tooltip._container&&(L.DomUtil.addClass(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(L.DomUtil.removeClass(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(target){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(target)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(content){return this._tooltip&&this._tooltip.setContent(content),this},getTooltip:function(){return this._tooltip},_openTooltip:function(e){var layer=e.layer||e.target;this._tooltip&&this._map&&this.openTooltip(layer,this._tooltip.options.sticky?e.latlng:undefined)},_moveTooltip:function(e){var containerPoint,layerPoint,latlng=e.latlng;this._tooltip.options.sticky&&e.originalEvent&&(containerPoint=this._map.mouseEventToContainerPoint(e.originalEvent),layerPoint=this._map.containerPointToLayerPoint(containerPoint),latlng=this._map.layerPointToLatLng(layerPoint)),this._tooltip.setLatLng(latlng)}}),L.LayerGroup=L.Layer.extend({initialize:function(layers){this._layers={};var i,len;if(layers)for(i=0,len=layers.length;i<len;i++)this.addLayer(layers[i])},addLayer:function(layer){var id=this.getLayerId(layer);return this._layers[id]=layer,this._map&&this._map.addLayer(layer),this},removeLayer:function(layer){var id=layer in this._layers?layer:this.getLayerId(layer);return this._map&&this._layers[id]&&this._map.removeLayer(this._layers[id]),delete this._layers[id],this},hasLayer:function(layer){return!!layer&&(layer in this._layers||this.getLayerId(layer)in this._layers)},clearLayers:function(){for(var i in this._layers)this.removeLayer(this._layers[i]);return this},invoke:function(methodName){var i,layer,args=Array.prototype.slice.call(arguments,1);for(i in this._layers)layer=this._layers[i],layer[methodName]&&layer[methodName].apply(layer,args);return this},onAdd:function(map){for(var i in this._layers)map.addLayer(this._layers[i])},onRemove:function(map){for(var i in this._layers)map.removeLayer(this._layers[i])},eachLayer:function(method,context){for(var i in this._layers)method.call(context,this._layers[i]);return this},getLayer:function(id){return this._layers[id]},getLayers:function(){var layers=[];for(var i in this._layers)layers.push(this._layers[i]);return layers},setZIndex:function(zIndex){return this.invoke("setZIndex",zIndex)},getLayerId:function(layer){return L.stamp(layer)}}),L.layerGroup=function(layers){return new L.LayerGroup(layers)},L.FeatureGroup=L.LayerGroup.extend({addLayer:function(layer){return this.hasLayer(layer)?this:(layer.addEventParent(this),L.LayerGroup.prototype.addLayer.call(this,layer),this.fire("layeradd",{layer:layer}))},removeLayer:function(layer){return this.hasLayer(layer)?(layer in this._layers&&(layer=this._layers[layer]),layer.removeEventParent(this),L.LayerGroup.prototype.removeLayer.call(this,layer),this.fire("layerremove",{layer:layer})):this},setStyle:function(style){return this.invoke("setStyle",style)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var bounds=new L.LatLngBounds;for(var id in this._layers){var layer=this._layers[id];bounds.extend(layer.getBounds?layer.getBounds():layer.getLatLng())}return bounds}}),L.featureGroup=function(layers){return new L.FeatureGroup(layers)},L.Renderer=L.Layer.extend({options:{padding:.1},initialize:function(options){L.setOptions(this,options),L.stamp(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&L.DomUtil.addClass(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){L.DomUtil.remove(this._container),this.off("update",this._updatePaths,this)},getEvents:function(){var events={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(events.zoomanim=this._onAnimZoom),events},_onAnimZoom:function(ev){this._updateTransform(ev.center,ev.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(center,zoom){var scale=this._map.getZoomScale(zoom,this._zoom),position=L.DomUtil.getPosition(this._container),viewHalf=this._map.getSize().multiplyBy(.5+this.options.padding),currentCenterPoint=this._map.project(this._center,zoom),destCenterPoint=this._map.project(center,zoom),centerOffset=destCenterPoint.subtract(currentCenterPoint),topLeftOffset=viewHalf.multiplyBy(-scale).add(position).add(viewHalf).subtract(centerOffset);L.Browser.any3d?L.DomUtil.setTransform(this._container,topLeftOffset,scale):L.DomUtil.setPosition(this._container,topLeftOffset)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var id in this._layers)this._layers[id]._reset()},_onZoomEnd:function(){for(var id in this._layers)this._layers[id]._project()},_updatePaths:function(){for(var id in this._layers)this._layers[id]._update()},_update:function(){var p=this.options.padding,size=this._map.getSize(),min=this._map.containerPointToLayerPoint(size.multiplyBy(-p)).round();this._bounds=new L.Bounds(min,min.add(size.multiplyBy(1+2*p)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),L.Map.include({getRenderer:function(layer){var renderer=layer.options.renderer||this._getPaneRenderer(layer.options.pane)||this.options.renderer||this._renderer;return renderer||(renderer=this._renderer=this.options.preferCanvas&&L.canvas()||L.svg()),this.hasLayer(renderer)||this.addLayer(renderer),renderer},_getPaneRenderer:function(name){if("overlayPane"===name||name===undefined)return!1;var renderer=this._paneRenderers[name];return renderer===undefined&&(renderer=L.SVG&&L.svg({pane:name})||L.Canvas&&L.canvas({pane:name}),this._paneRenderers[name]=renderer),renderer}}),L.Path=L.Layer.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0},beforeAdd:function(map){this._renderer=map.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(style){return L.setOptions(this,style),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(L.Browser.touch?10:0)}}),L.LineUtil={simplify:function(points,tolerance){if(!tolerance||!points.length)return points.slice();var sqTolerance=tolerance*tolerance;return points=this._reducePoints(points,sqTolerance),points=this._simplifyDP(points,sqTolerance)},pointToSegmentDistance:function(p,p1,p2){return Math.sqrt(this._sqClosestPointOnSegment(p,p1,p2,!0))},closestPointOnSegment:function(p,p1,p2){return this._sqClosestPointOnSegment(p,p1,p2)},_simplifyDP:function(points,sqTolerance){var len=points.length,ArrayConstructor=typeof Uint8Array!=undefined+""?Uint8Array:Array,markers=new ArrayConstructor(len);markers[0]=markers[len-1]=1,this._simplifyDPStep(points,markers,sqTolerance,0,len-1);var i,newPoints=[];for(i=0;i<len;i++)markers[i]&&newPoints.push(points[i]);return newPoints},_simplifyDPStep:function(points,markers,sqTolerance,first,last){var index,i,sqDist,maxSqDist=0;for(i=first+1;i<=last-1;i++)sqDist=this._sqClosestPointOnSegment(points[i],points[first],points[last],!0),sqDist>maxSqDist&&(index=i,maxSqDist=sqDist);maxSqDist>sqTolerance&&(markers[index]=1,this._simplifyDPStep(points,markers,sqTolerance,first,index),this._simplifyDPStep(points,markers,sqTolerance,index,last))},_reducePoints:function(points,sqTolerance){for(var reducedPoints=[points[0]],i=1,prev=0,len=points.length;i<len;i++)this._sqDist(points[i],points[prev])>sqTolerance&&(reducedPoints.push(points[i]),prev=i);return prev<len-1&&reducedPoints.push(points[len-1]),reducedPoints},clipSegment:function(a,b,bounds,useLastCode,round){var codeOut,p,newCode,codeA=useLastCode?this._lastCode:this._getBitCode(a,bounds),codeB=this._getBitCode(b,bounds);for(this._lastCode=codeB;;){if(!(codeA|codeB))return[a,b];if(codeA&codeB)return!1;codeOut=codeA||codeB,p=this._getEdgeIntersection(a,b,codeOut,bounds,round),newCode=this._getBitCode(p,bounds),codeOut===codeA?(a=p,codeA=newCode):(b=p,codeB=newCode)}},_getEdgeIntersection:function(a,b,code,bounds,round){var x,y,dx=b.x-a.x,dy=b.y-a.y,min=bounds.min,max=bounds.max;return 8&code?(x=a.x+dx*(max.y-a.y)/dy,y=max.y):4&code?(x=a.x+dx*(min.y-a.y)/dy,y=min.y):2&code?(x=max.x,y=a.y+dy*(max.x-a.x)/dx):1&code&&(x=min.x,y=a.y+dy*(min.x-a.x)/dx),new L.Point(x,y,round)},_getBitCode:function(p,bounds){var code=0;return p.x<bounds.min.x?code|=1:p.x>bounds.max.x&&(code|=2),p.y<bounds.min.y?code|=4:p.y>bounds.max.y&&(code|=8),code},_sqDist:function(p1,p2){var dx=p2.x-p1.x,dy=p2.y-p1.y;return dx*dx+dy*dy},_sqClosestPointOnSegment:function(p,p1,p2,sqDist){var t,x=p1.x,y=p1.y,dx=p2.x-x,dy=p2.y-y,dot=dx*dx+dy*dy;return dot>0&&(t=((p.x-x)*dx+(p.y-y)*dy)/dot,t>1?(x=p2.x,y=p2.y):t>0&&(x+=dx*t,y+=dy*t)),dx=p.x-x,dy=p.y-y,sqDist?dx*dx+dy*dy:new L.Point(x,y)}},L.Polyline=L.Path.extend({options:{smoothFactor:1,noClip:!1},initialize:function(latlngs,options){L.setOptions(this,options),this._setLatLngs(latlngs)},getLatLngs:function(){return this._latlngs},setLatLngs:function(latlngs){return this._setLatLngs(latlngs),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(p){for(var p1,p2,minDistance=1/0,minPoint=null,closest=L.LineUtil._sqClosestPointOnSegment,j=0,jLen=this._parts.length;j<jLen;j++)for(var points=this._parts[j],i=1,len=points.length;i<len;i++){p1=points[i-1],p2=points[i];var sqDist=closest(p,p1,p2,!0);sqDist<minDistance&&(minDistance=sqDist,minPoint=closest(p,p1,p2))}return minPoint&&(minPoint.distance=Math.sqrt(minDistance)),minPoint},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var i,halfDist,segDist,dist,p1,p2,ratio,points=this._rings[0],len=points.length;if(!len)return null;for(i=0,halfDist=0;i<len-1;i++)halfDist+=points[i].distanceTo(points[i+1])/2;if(0===halfDist)return this._map.layerPointToLatLng(points[0]);for(i=0,dist=0;i<len-1;i++)if(p1=points[i],p2=points[i+1],segDist=p1.distanceTo(p2),dist+=segDist,dist>halfDist)return ratio=(dist-halfDist)/segDist,this._map.layerPointToLatLng([p2.x-ratio*(p2.x-p1.x),p2.y-ratio*(p2.y-p1.y)])},getBounds:function(){return this._bounds},addLatLng:function(latlng,latlngs){return latlngs=latlngs||this._defaultShape(),latlng=L.latLng(latlng),latlngs.push(latlng),this._bounds.extend(latlng),this.redraw()},_setLatLngs:function(latlngs){this._bounds=new L.LatLngBounds,this._latlngs=this._convertLatLngs(latlngs)},_defaultShape:function(){return L.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(latlngs){for(var result=[],flat=L.Polyline._flat(latlngs),i=0,len=latlngs.length;i<len;i++)flat?(result[i]=L.latLng(latlngs[i]),this._bounds.extend(result[i])):result[i]=this._convertLatLngs(latlngs[i]);return result},_project:function(){var pxBounds=new L.Bounds;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,pxBounds);var w=this._clickTolerance(),p=new L.Point(w,w);this._bounds.isValid()&&pxBounds.isValid()&&(pxBounds.min._subtract(p),pxBounds.max._add(p),this._pxBounds=pxBounds)},_projectLatlngs:function(latlngs,result,projectedBounds){var i,ring,flat=latlngs[0]instanceof L.LatLng,len=latlngs.length;if(flat){for(ring=[],i=0;i<len;i++)ring[i]=this._map.latLngToLayerPoint(latlngs[i]),projectedBounds.extend(ring[i]);result.push(ring)}else for(i=0;i<len;i++)this._projectLatlngs(latlngs[i],result,projectedBounds)},_clipPoints:function(){var bounds=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(bounds)){if(this.options.noClip)return void(this._parts=this._rings);var i,j,k,len,len2,segment,points,parts=this._parts;for(i=0,k=0,len=this._rings.length;i<len;i++)for(points=this._rings[i],j=0,len2=points.length;j<len2-1;j++)segment=L.LineUtil.clipSegment(points[j],points[j+1],bounds,j,!0),segment&&(parts[k]=parts[k]||[],parts[k].push(segment[0]),segment[1]===points[j+1]&&j!==len2-2||(parts[k].push(segment[1]),k++))}},_simplifyPoints:function(){for(var parts=this._parts,tolerance=this.options.smoothFactor,i=0,len=parts.length;i<len;i++)parts[i]=L.LineUtil.simplify(parts[i],tolerance)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)}}),L.polyline=function(latlngs,options){return new L.Polyline(latlngs,options)},L.Polyline._flat=function(latlngs){return!L.Util.isArray(latlngs[0])||"object"!=typeof latlngs[0][0]&&"undefined"!=typeof latlngs[0][0]},L.PolyUtil={},L.PolyUtil.clipPolygon=function(points,bounds,round){var clippedPoints,i,j,k,a,b,len,edge,p,edges=[1,4,2,8],lu=L.LineUtil;for(i=0,len=points.length;i<len;i++)points[i]._code=lu._getBitCode(points[i],bounds);for(k=0;k<4;k++){for(edge=edges[k],clippedPoints=[],i=0,len=points.length,j=len-1;i<len;j=i++)a=points[i],b=points[j],a._code&edge?b._code&edge||(p=lu._getEdgeIntersection(b,a,edge,bounds,round),p._code=lu._getBitCode(p,bounds),clippedPoints.push(p)):(b._code&edge&&(p=lu._getEdgeIntersection(b,a,edge,bounds,round),p._code=lu._getBitCode(p,bounds),clippedPoints.push(p)),clippedPoints.push(a));points=clippedPoints}return points},L.Polygon=L.Polyline.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var i,j,p1,p2,f,area,x,y,center,points=this._rings[0],len=points.length;if(!len)return null;for(area=x=y=0,i=0,j=len-1;i<len;j=i++)p1=points[i],p2=points[j],f=p1.y*p2.x-p2.y*p1.x,x+=(p1.x+p2.x)*f,y+=(p1.y+p2.y)*f,area+=3*f;return center=0===area?points[0]:[x/area,y/area],this._map.layerPointToLatLng(center)},_convertLatLngs:function(latlngs){var result=L.Polyline.prototype._convertLatLngs.call(this,latlngs),len=result.length;return len>=2&&result[0]instanceof L.LatLng&&result[0].equals(result[len-1])&&result.pop(),result},_setLatLngs:function(latlngs){L.Polyline.prototype._setLatLngs.call(this,latlngs),L.Polyline._flat(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return L.Polyline._flat(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var bounds=this._renderer._bounds,w=this.options.weight,p=new L.Point(w,w);if(bounds=new L.Bounds(bounds.min.subtract(p),bounds.max.add(p)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(bounds)){if(this.options.noClip)return void(this._parts=this._rings);for(var clipped,i=0,len=this._rings.length;i<len;i++)clipped=L.PolyUtil.clipPolygon(this._rings[i],bounds,!0),clipped.length&&this._parts.push(clipped)}},_updatePath:function(){this._renderer._updatePoly(this,!0)}}),L.polygon=function(latlngs,options){return new L.Polygon(latlngs,options)},L.Rectangle=L.Polygon.extend({initialize:function(latLngBounds,options){L.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(latLngBounds),options)},setBounds:function(latLngBounds){return this.setLatLngs(this._boundsToLatLngs(latLngBounds))},_boundsToLatLngs:function(latLngBounds){return latLngBounds=L.latLngBounds(latLngBounds),[latLngBounds.getSouthWest(),latLngBounds.getNorthWest(),latLngBounds.getNorthEast(),latLngBounds.getSouthEast()]}}),L.rectangle=function(latLngBounds,options){return new L.Rectangle(latLngBounds,options)},L.CircleMarker=L.Path.extend({options:{fill:!0,radius:10},initialize:function(latlng,options){L.setOptions(this,options),this._latlng=L.latLng(latlng),this._radius=this.options.radius},setLatLng:function(latlng){return this._latlng=L.latLng(latlng),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(radius){return this.options.radius=this._radius=radius,this.redraw()},getRadius:function(){return this._radius},setStyle:function(options){var radius=options&&options.radius||this._radius;return L.Path.prototype.setStyle.call(this,options),this.setRadius(radius),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,r2=this._radiusY||r,w=this._clickTolerance(),p=[r+w,r2+w];this._pxBounds=new L.Bounds(this._point.subtract(p),this._point.add(p))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)}}),L.circleMarker=function(latlng,options){return new L.CircleMarker(latlng,options)},L.Circle=L.CircleMarker.extend({initialize:function(latlng,options,legacyOptions){if("number"==typeof options&&(options=L.extend({},legacyOptions,{radius:options})),L.setOptions(this,options),this._latlng=L.latLng(latlng),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(radius){return this._mRadius=radius,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var half=[this._radius,this._radiusY||this._radius];return new L.LatLngBounds(this._map.layerPointToLatLng(this._point.subtract(half)),this._map.layerPointToLatLng(this._point.add(half)))},setStyle:L.Path.prototype.setStyle,_project:function(){var lng=this._latlng.lng,lat=this._latlng.lat,map=this._map,crs=map.options.crs;if(crs.distance===L.CRS.Earth.distance){var d=Math.PI/180,latR=this._mRadius/L.CRS.Earth.R/d,top=map.project([lat+latR,lng]),bottom=map.project([lat-latR,lng]),p=top.add(bottom).divideBy(2),lat2=map.unproject(p).lat,lngR=Math.acos((Math.cos(latR*d)-Math.sin(lat*d)*Math.sin(lat2*d))/(Math.cos(lat*d)*Math.cos(lat2*d)))/d;(isNaN(lngR)||0===lngR)&&(lngR=latR/Math.cos(Math.PI/180*lat)),this._point=p.subtract(map.getPixelOrigin()),this._radius=isNaN(lngR)?0:Math.max(Math.round(p.x-map.project([lat2,lng-lngR]).x),1),this._radiusY=Math.max(Math.round(p.y-top.y),1)}else{var latlng2=crs.unproject(crs.project(this._latlng).subtract([this._mRadius,0]));this._point=map.latLngToLayerPoint(this._latlng),this._radius=this._point.x-map.latLngToLayerPoint(latlng2).x}this._updateBounds()}}),L.circle=function(latlng,options,legacyOptions){return new L.Circle(latlng,options,legacyOptions)},L.SVG=L.Renderer.extend({getEvents:function(){var events=L.Renderer.prototype.getEvents.call(this);return events.zoomstart=this._onZoomStart,events},_initContainer:function(){this._container=L.SVG.create("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=L.SVG.create("g"),this._container.appendChild(this._rootGroup)},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){L.Renderer.prototype._update.call(this);var b=this._bounds,size=b.getSize(),container=this._container;this._svgSize&&this._svgSize.equals(size)||(this._svgSize=size,container.setAttribute("width",size.x),container.setAttribute("height",size.y)),L.DomUtil.setPosition(container,b.min),container.setAttribute("viewBox",[b.min.x,b.min.y,size.x,size.y].join(" ")),this.fire("update")}},_initPath:function(layer){var path=layer._path=L.SVG.create("path");layer.options.className&&L.DomUtil.addClass(path,layer.options.className),layer.options.interactive&&L.DomUtil.addClass(path,"leaflet-interactive"),this._updateStyle(layer),this._layers[L.stamp(layer)]=layer},_addPath:function(layer){this._rootGroup.appendChild(layer._path),layer.addInteractiveTarget(layer._path)},_removePath:function(layer){L.DomUtil.remove(layer._path),layer.removeInteractiveTarget(layer._path),delete this._layers[L.stamp(layer)]},_updatePath:function(layer){layer._project(),layer._update()},_updateStyle:function(layer){var path=layer._path,options=layer.options;path&&(options.stroke?(path.setAttribute("stroke",options.color),path.setAttribute("stroke-opacity",options.opacity),path.setAttribute("stroke-width",options.weight),path.setAttribute("stroke-linecap",options.lineCap),path.setAttribute("stroke-linejoin",options.lineJoin),options.dashArray?path.setAttribute("stroke-dasharray",options.dashArray):path.removeAttribute("stroke-dasharray"),options.dashOffset?path.setAttribute("stroke-dashoffset",options.dashOffset):path.removeAttribute("stroke-dashoffset")):path.setAttribute("stroke","none"),options.fill?(path.setAttribute("fill",options.fillColor||options.color),path.setAttribute("fill-opacity",options.fillOpacity),path.setAttribute("fill-rule",options.fillRule||"evenodd")):path.setAttribute("fill","none"))},_updatePoly:function(layer,closed){this._setPath(layer,L.SVG.pointsToPath(layer._parts,closed))},_updateCircle:function(layer){var p=layer._point,r=layer._radius,r2=layer._radiusY||r,arc="a"+r+","+r2+" 0 1,0 ",d=layer._empty()?"M0 0":"M"+(p.x-r)+","+p.y+arc+2*r+",0 "+arc+2*-r+",0 ";this._setPath(layer,d)},_setPath:function(layer,path){layer._path.setAttribute("d",path)},_bringToFront:function(layer){L.DomUtil.toFront(layer._path)},_bringToBack:function(layer){L.DomUtil.toBack(layer._path)}}),L.extend(L.SVG,{create:function(name){return document.createElementNS("http://www.w3.org/2000/svg",name)},pointsToPath:function(rings,closed){var i,j,len,len2,points,p,str="";for(i=0,len=rings.length;i<len;i++){for(points=rings[i],j=0,len2=points.length;j<len2;j++)p=points[j],str+=(j?"L":"M")+p.x+" "+p.y;str+=closed?L.Browser.svg?"z":"x":""}return str||"M0 0"}}),L.Browser.svg=!(!document.createElementNS||!L.SVG.create("svg").createSVGRect),L.svg=function(options){return L.Browser.svg||L.Browser.vml?new L.SVG(options):null},L.Browser.vml=!L.Browser.svg&&function(){try{var div=document.createElement("div");div.innerHTML='<v:shape adj="1"/>';var shape=div.firstChild;return shape.style.behavior="url(#default#VML)",shape&&"object"==typeof shape.adj}catch(e){return!1}}(),L.SVG.include(L.Browser.vml?{_initContainer:function(){this._container=L.DomUtil.create("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(L.Renderer.prototype._update.call(this),this.fire("update"))},_initPath:function(layer){var container=layer._container=L.SVG.create("shape");L.DomUtil.addClass(container,"leaflet-vml-shape "+(this.options.className||"")),container.coordsize="1 1",layer._path=L.SVG.create("path"),container.appendChild(layer._path),this._updateStyle(layer),this._layers[L.stamp(layer)]=layer},_addPath:function(layer){var container=layer._container;this._container.appendChild(container),layer.options.interactive&&layer.addInteractiveTarget(container)},_removePath:function(layer){var container=layer._container;L.DomUtil.remove(container),layer.removeInteractiveTarget(container),delete this._layers[L.stamp(layer)]},_updateStyle:function(layer){var stroke=layer._stroke,fill=layer._fill,options=layer.options,container=layer._container;container.stroked=!!options.stroke,container.filled=!!options.fill,options.stroke?(stroke||(stroke=layer._stroke=L.SVG.create("stroke")),container.appendChild(stroke),stroke.weight=options.weight+"px",stroke.color=options.color,stroke.opacity=options.opacity,options.dashArray?stroke.dashStyle=L.Util.isArray(options.dashArray)?options.dashArray.join(" "):options.dashArray.replace(/( *, *)/g," "):stroke.dashStyle="",stroke.endcap=options.lineCap.replace("butt","flat"),stroke.joinstyle=options.lineJoin):stroke&&(container.removeChild(stroke),layer._stroke=null),options.fill?(fill||(fill=layer._fill=L.SVG.create("fill")),container.appendChild(fill),fill.color=options.fillColor||options.color,fill.opacity=options.fillOpacity):fill&&(container.removeChild(fill),layer._fill=null)},_updateCircle:function(layer){var p=layer._point.round(),r=Math.round(layer._radius),r2=Math.round(layer._radiusY||r);this._setPath(layer,layer._empty()?"M0 0":"AL "+p.x+","+p.y+" "+r+","+r2+" 0,23592600")},_setPath:function(layer,path){layer._path.v=path},_bringToFront:function(layer){L.DomUtil.toFront(layer._container)},_bringToBack:function(layer){L.DomUtil.toBack(layer._container)}}:{}),L.Browser.vml&&(L.SVG.create=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(name){return document.createElement("<lvml:"+name+' class="lvml">')}}catch(e){return function(name){return document.createElement("<"+name+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}()),L.Canvas=L.Renderer.extend({getEvents:function(){var events=L.Renderer.prototype.getEvents.call(this);return events.viewprereset=this._onViewPreReset,events},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){L.Renderer.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var container=this._container=document.createElement("canvas");L.DomEvent.on(container,"mousemove",L.Util.throttle(this._onMouseMove,32,this),this).on(container,"click dblclick mousedown mouseup contextmenu",this._onClick,this).on(container,"mouseout",this._handleMouseOut,this),this._ctx=container.getContext("2d")},_updatePaths:function(){if(!this._postponeUpdatePaths){var layer;this._redrawBounds=null;for(var id in this._layers)layer=this._layers[id],layer._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){this._drawnLayers={},L.Renderer.prototype._update.call(this);var b=this._bounds,container=this._container,size=b.getSize(),m=L.Browser.retina?2:1;L.DomUtil.setPosition(container,b.min),container.width=m*size.x,container.height=m*size.y,container.style.width=size.x+"px",container.style.height=size.y+"px",L.Browser.retina&&this._ctx.scale(2,2),this._ctx.translate(-b.min.x,-b.min.y),this.fire("update")}},_reset:function(){L.Renderer.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(layer){this._updateDashArray(layer),this._layers[L.stamp(layer)]=layer;var order=layer._order={layer:layer,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=order),this._drawLast=order,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(layer){this._requestRedraw(layer)},_removePath:function(layer){var order=layer._order,next=order.next,prev=order.prev;next?next.prev=prev:this._drawLast=prev,prev?prev.next=next:this._drawFirst=next,delete layer._order,delete this._layers[L.stamp(layer)],this._requestRedraw(layer)},_updatePath:function(layer){this._extendRedrawBounds(layer),layer._project(),layer._update(),this._requestRedraw(layer)},_updateStyle:function(layer){this._updateDashArray(layer),this._requestRedraw(layer)},_updateDashArray:function(layer){if(layer.options.dashArray){var i,parts=layer.options.dashArray.split(","),dashArray=[];
for(i=0;i<parts.length;i++)dashArray.push(Number(parts[i]));layer.options._dashArray=dashArray}},_requestRedraw:function(layer){this._map&&(this._extendRedrawBounds(layer),this._redrawRequest=this._redrawRequest||L.Util.requestAnimFrame(this._redraw,this))},_extendRedrawBounds:function(layer){var padding=(layer.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new L.Bounds,this._redrawBounds.extend(layer._pxBounds.min.subtract([padding,padding])),this._redrawBounds.extend(layer._pxBounds.max.add([padding,padding]))},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var bounds=this._redrawBounds;if(bounds){var size=bounds.getSize();this._ctx.clearRect(bounds.min.x,bounds.min.y,size.x,size.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var layer,bounds=this._redrawBounds;if(this._ctx.save(),bounds){var size=bounds.getSize();this._ctx.beginPath(),this._ctx.rect(bounds.min.x,bounds.min.y,size.x,size.y),this._ctx.clip()}this._drawing=!0;for(var order=this._drawFirst;order;order=order.next)layer=order.layer,(!bounds||layer._pxBounds&&layer._pxBounds.intersects(bounds))&&layer._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(layer,closed){if(this._drawing){var i,j,len2,p,parts=layer._parts,len=parts.length,ctx=this._ctx;if(len){for(this._drawnLayers[layer._leaflet_id]=layer,ctx.beginPath(),ctx.setLineDash&&ctx.setLineDash(layer.options&&layer.options._dashArray||[]),i=0;i<len;i++){for(j=0,len2=parts[i].length;j<len2;j++)p=parts[i][j],ctx[j?"lineTo":"moveTo"](p.x,p.y);closed&&ctx.closePath()}this._fillStroke(ctx,layer)}}},_updateCircle:function(layer){if(this._drawing&&!layer._empty()){var p=layer._point,ctx=this._ctx,r=layer._radius,s=(layer._radiusY||r)/r;this._drawnLayers[layer._leaflet_id]=layer,1!==s&&(ctx.save(),ctx.scale(1,s)),ctx.beginPath(),ctx.arc(p.x,p.y/s,r,0,2*Math.PI,!1),1!==s&&ctx.restore(),this._fillStroke(ctx,layer)}},_fillStroke:function(ctx,layer){var options=layer.options;options.fill&&(ctx.globalAlpha=options.fillOpacity,ctx.fillStyle=options.fillColor||options.color,ctx.fill(options.fillRule||"evenodd")),options.stroke&&0!==options.weight&&(ctx.globalAlpha=options.opacity,ctx.lineWidth=options.weight,ctx.strokeStyle=options.color,ctx.lineCap=options.lineCap,ctx.lineJoin=options.lineJoin,ctx.stroke())},_onClick:function(e){for(var layer,clickedLayer,point=this._map.mouseEventToLayerPoint(e),order=this._drawFirst;order;order=order.next)layer=order.layer,layer.options.interactive&&layer._containsPoint(point)&&!this._map._draggableMoved(layer)&&(clickedLayer=layer);clickedLayer&&(L.DomEvent._fakeStop(e),this._fireEvent([clickedLayer],e))},_onMouseMove:function(e){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var point=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,point)}},_handleMouseOut:function(e){var layer=this._hoveredLayer;layer&&(L.DomUtil.removeClass(this._container,"leaflet-interactive"),this._fireEvent([layer],e,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(e,point){for(var layer,candidateHoveredLayer,order=this._drawFirst;order;order=order.next)layer=order.layer,layer.options.interactive&&layer._containsPoint(point)&&(candidateHoveredLayer=layer);candidateHoveredLayer!==this._hoveredLayer&&(this._handleMouseOut(e),candidateHoveredLayer&&(L.DomUtil.addClass(this._container,"leaflet-interactive"),this._fireEvent([candidateHoveredLayer],e,"mouseover"),this._hoveredLayer=candidateHoveredLayer)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],e)},_fireEvent:function(layers,e,type){this._map._fireDOMEvent(e,type||e.type,layers)},_bringToFront:function(layer){var order=layer._order,next=order.next,prev=order.prev;next&&(next.prev=prev,prev?prev.next=next:next&&(this._drawFirst=next),order.prev=this._drawLast,this._drawLast.next=order,order.next=null,this._drawLast=order,this._requestRedraw(layer))},_bringToBack:function(layer){var order=layer._order,next=order.next,prev=order.prev;prev&&(prev.next=next,next?next.prev=prev:prev&&(this._drawLast=prev),order.prev=null,order.next=this._drawFirst,this._drawFirst.prev=order,this._drawFirst=order,this._requestRedraw(layer))}}),L.Browser.canvas=function(){return!!document.createElement("canvas").getContext}(),L.canvas=function(options){return L.Browser.canvas?new L.Canvas(options):null},L.Polyline.prototype._containsPoint=function(p,closed){var i,j,k,len,len2,part,w=this._clickTolerance();if(!this._pxBounds.contains(p))return!1;for(i=0,len=this._parts.length;i<len;i++)for(part=this._parts[i],j=0,len2=part.length,k=len2-1;j<len2;k=j++)if((closed||0!==j)&&L.LineUtil.pointToSegmentDistance(p,part[k],part[j])<=w)return!0;return!1},L.Polygon.prototype._containsPoint=function(p){var part,p1,p2,i,j,k,len,len2,inside=!1;if(!this._pxBounds.contains(p))return!1;for(i=0,len=this._parts.length;i<len;i++)for(part=this._parts[i],j=0,len2=part.length,k=len2-1;j<len2;k=j++)p1=part[j],p2=part[k],p1.y>p.y!=p2.y>p.y&&p.x<(p2.x-p1.x)*(p.y-p1.y)/(p2.y-p1.y)+p1.x&&(inside=!inside);return inside||L.Polyline.prototype._containsPoint.call(this,p,!0)},L.CircleMarker.prototype._containsPoint=function(p){return p.distanceTo(this._point)<=this._radius+this._clickTolerance()},L.GeoJSON=L.FeatureGroup.extend({initialize:function(geojson,options){L.setOptions(this,options),this._layers={},geojson&&this.addData(geojson)},addData:function(geojson){var i,len,feature,features=L.Util.isArray(geojson)?geojson:geojson.features;if(features){for(i=0,len=features.length;i<len;i++)feature=features[i],(feature.geometries||feature.geometry||feature.features||feature.coordinates)&&this.addData(feature);return this}var options=this.options;if(options.filter&&!options.filter(geojson))return this;var layer=L.GeoJSON.geometryToLayer(geojson,options);return layer?(layer.feature=L.GeoJSON.asFeature(geojson),layer.defaultOptions=layer.options,this.resetStyle(layer),options.onEachFeature&&options.onEachFeature(geojson,layer),this.addLayer(layer)):this},resetStyle:function(layer){return layer.options=L.Util.extend({},layer.defaultOptions),this._setLayerStyle(layer,this.options.style),this},setStyle:function(style){return this.eachLayer(function(layer){this._setLayerStyle(layer,style)},this)},_setLayerStyle:function(layer,style){"function"==typeof style&&(style=style(layer.feature)),layer.setStyle&&layer.setStyle(style)}}),L.extend(L.GeoJSON,{geometryToLayer:function(geojson,options){var latlng,latlngs,i,len,geometry="Feature"===geojson.type?geojson.geometry:geojson,coords=geometry?geometry.coordinates:null,layers=[],pointToLayer=options&&options.pointToLayer,coordsToLatLng=options&&options.coordsToLatLng||this.coordsToLatLng;if(!coords&&!geometry)return null;switch(geometry.type){case"Point":return latlng=coordsToLatLng(coords),pointToLayer?pointToLayer(geojson,latlng):new L.Marker(latlng);case"MultiPoint":for(i=0,len=coords.length;i<len;i++)latlng=coordsToLatLng(coords[i]),layers.push(pointToLayer?pointToLayer(geojson,latlng):new L.Marker(latlng));return new L.FeatureGroup(layers);case"LineString":case"MultiLineString":return latlngs=this.coordsToLatLngs(coords,"LineString"===geometry.type?0:1,coordsToLatLng),new L.Polyline(latlngs,options);case"Polygon":case"MultiPolygon":return latlngs=this.coordsToLatLngs(coords,"Polygon"===geometry.type?1:2,coordsToLatLng),new L.Polygon(latlngs,options);case"GeometryCollection":for(i=0,len=geometry.geometries.length;i<len;i++){var layer=this.geometryToLayer({geometry:geometry.geometries[i],type:"Feature",properties:geojson.properties},options);layer&&layers.push(layer)}return new L.FeatureGroup(layers);default:throw new Error("Invalid GeoJSON object.")}},coordsToLatLng:function(coords){return new L.LatLng(coords[1],coords[0],coords[2])},coordsToLatLngs:function(coords,levelsDeep,coordsToLatLng){for(var latlng,latlngs=[],i=0,len=coords.length;i<len;i++)latlng=levelsDeep?this.coordsToLatLngs(coords[i],levelsDeep-1,coordsToLatLng):(coordsToLatLng||this.coordsToLatLng)(coords[i]),latlngs.push(latlng);return latlngs},latLngToCoords:function(latlng){return latlng.alt!==undefined?[latlng.lng,latlng.lat,latlng.alt]:[latlng.lng,latlng.lat]},latLngsToCoords:function(latlngs,levelsDeep,closed){for(var coords=[],i=0,len=latlngs.length;i<len;i++)coords.push(levelsDeep?L.GeoJSON.latLngsToCoords(latlngs[i],levelsDeep-1,closed):L.GeoJSON.latLngToCoords(latlngs[i]));return!levelsDeep&&closed&&coords.push(coords[0]),coords},getFeature:function(layer,newGeometry){return layer.feature?L.extend({},layer.feature,{geometry:newGeometry}):L.GeoJSON.asFeature(newGeometry)},asFeature:function(geojson){return"Feature"===geojson.type||"FeatureCollection"===geojson.type?geojson:{type:"Feature",properties:{},geometry:geojson}}});var PointToGeoJSON={toGeoJSON:function(){return L.GeoJSON.getFeature(this,{type:"Point",coordinates:L.GeoJSON.latLngToCoords(this.getLatLng())})}};L.Marker.include(PointToGeoJSON),L.Circle.include(PointToGeoJSON),L.CircleMarker.include(PointToGeoJSON),L.Polyline.prototype.toGeoJSON=function(){var multi=!L.Polyline._flat(this._latlngs),coords=L.GeoJSON.latLngsToCoords(this._latlngs,multi?1:0);return L.GeoJSON.getFeature(this,{type:(multi?"Multi":"")+"LineString",coordinates:coords})},L.Polygon.prototype.toGeoJSON=function(){var holes=!L.Polyline._flat(this._latlngs),multi=holes&&!L.Polyline._flat(this._latlngs[0]),coords=L.GeoJSON.latLngsToCoords(this._latlngs,multi?2:holes?1:0,!0);return holes||(coords=[coords]),L.GeoJSON.getFeature(this,{type:(multi?"Multi":"")+"Polygon",coordinates:coords})},L.LayerGroup.include({toMultiPoint:function(){var coords=[];return this.eachLayer(function(layer){coords.push(layer.toGeoJSON().geometry.coordinates)}),L.GeoJSON.getFeature(this,{type:"MultiPoint",coordinates:coords})},toGeoJSON:function(){var type=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===type)return this.toMultiPoint();var isGeometryCollection="GeometryCollection"===type,jsons=[];return this.eachLayer(function(layer){if(layer.toGeoJSON){var json=layer.toGeoJSON();jsons.push(isGeometryCollection?json.geometry:L.GeoJSON.asFeature(json))}}),isGeometryCollection?L.GeoJSON.getFeature(this,{geometries:jsons,type:"GeometryCollection"}):{type:"FeatureCollection",features:jsons}}}),L.geoJSON=function(geojson,options){return new L.GeoJSON(geojson,options)},L.geoJson=L.geoJSON,L.Draggable=L.Evented.extend({options:{clickTolerance:3},statics:{START:L.Browser.touch?["touchstart","mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"}},initialize:function(element,dragStartTarget,preventOutline){this._element=element,this._dragStartTarget=dragStartTarget||element,this._preventOutline=preventOutline},enable:function(){this._enabled||(L.DomEvent.on(this._dragStartTarget,L.Draggable.START.join(" "),this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(L.Draggable._dragging===this&&this.finishDrag(),L.DomEvent.off(this._dragStartTarget,L.Draggable.START.join(" "),this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(!e._simulated&&this._enabled&&(this._moved=!1,!L.DomUtil.hasClass(this._element,"leaflet-zoom-anim")&&!(L.Draggable._dragging||e.shiftKey||1!==e.which&&1!==e.button&&!e.touches||(L.Draggable._dragging=this,this._preventOutline&&L.DomUtil.preventOutline(this._element),L.DomUtil.disableImageDrag(),L.DomUtil.disableTextSelection(),this._moving)))){this.fire("down");var first=e.touches?e.touches[0]:e;this._startPoint=new L.Point(first.clientX,first.clientY),L.DomEvent.on(document,L.Draggable.MOVE[e.type],this._onMove,this).on(document,L.Draggable.END[e.type],this._onUp,this)}},_onMove:function(e){if(!e._simulated&&this._enabled){if(e.touches&&e.touches.length>1)return void(this._moved=!0);var first=e.touches&&1===e.touches.length?e.touches[0]:e,newPoint=new L.Point(first.clientX,first.clientY),offset=newPoint.subtract(this._startPoint);(offset.x||offset.y)&&(Math.abs(offset.x)+Math.abs(offset.y)<this.options.clickTolerance||(L.DomEvent.preventDefault(e),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=L.DomUtil.getPosition(this._element).subtract(offset),L.DomUtil.addClass(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),L.DomUtil.addClass(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(offset),this._moving=!0,L.Util.cancelAnimFrame(this._animRequest),this._lastEvent=e,this._animRequest=L.Util.requestAnimFrame(this._updatePosition,this,!0)))}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),L.DomUtil.setPosition(this._element,this._newPos),this.fire("drag",e)},_onUp:function(e){!e._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){L.DomUtil.removeClass(document.body,"leaflet-dragging"),this._lastTarget&&(L.DomUtil.removeClass(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var i in L.Draggable.MOVE)L.DomEvent.off(document,L.Draggable.MOVE[i],this._onMove,this).off(document,L.Draggable.END[i],this._onUp,this);L.DomUtil.enableImageDrag(),L.DomUtil.enableTextSelection(),this._moved&&this._moving&&(L.Util.cancelAnimFrame(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,L.Draggable._dragging=!1}}),L.Handler=L.Class.extend({initialize:function(map){this._map=map},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}}),L.Map.mergeOptions({dragging:!0,inertia:!L.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0}),L.Map.Drag=L.Handler.extend({addHooks:function(){if(!this._draggable){var map=this._map;this._draggable=new L.Draggable(map._mapPane,map._container),this._draggable.on({down:this._onDown,dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),map.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),map.on("zoomend",this._onZoomEnd,this),map.whenReady(this._onZoomEnd,this))}L.DomUtil.addClass(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){L.DomUtil.removeClass(this._map._container,"leaflet-grab"),L.DomUtil.removeClass(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDown:function(){this._map._stop()},_onDragStart:function(){var map=this._map;if(this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var bounds=L.latLngBounds(this._map.options.maxBounds);this._offsetLimit=L.bounds(this._map.latLngToContainerPoint(bounds.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(bounds.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;map.fire("movestart").fire("dragstart"),map.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var time=this._lastTime=+new Date,pos=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(pos),this._times.push(time),time-this._times[0]>50&&(this._positions.shift(),this._times.shift())}this._map.fire("move",e).fire("drag",e)},_onZoomEnd:function(){var pxCenter=this._map.getSize().divideBy(2),pxWorldCenter=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=pxWorldCenter.subtract(pxCenter).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(value,threshold){return value-(value-threshold)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var offset=this._draggable._newPos.subtract(this._draggable._startPos),limit=this._offsetLimit;offset.x<limit.min.x&&(offset.x=this._viscousLimit(offset.x,limit.min.x)),offset.y<limit.min.y&&(offset.y=this._viscousLimit(offset.y,limit.min.y)),offset.x>limit.max.x&&(offset.x=this._viscousLimit(offset.x,limit.max.x)),offset.y>limit.max.y&&(offset.y=this._viscousLimit(offset.y,limit.max.y)),this._draggable._newPos=this._draggable._startPos.add(offset)}},_onPreDragWrap:function(){var worldWidth=this._worldWidth,halfWidth=Math.round(worldWidth/2),dx=this._initialWorldOffset,x=this._draggable._newPos.x,newX1=(x-halfWidth+dx)%worldWidth+halfWidth-dx,newX2=(x+halfWidth+dx)%worldWidth-halfWidth-dx,newX=Math.abs(newX1+dx)<Math.abs(newX2+dx)?newX1:newX2;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=newX},_onDragEnd:function(e){var map=this._map,options=map.options,noInertia=!options.inertia||this._times.length<2;if(map.fire("dragend",e),noInertia)map.fire("moveend");else{var direction=this._lastPos.subtract(this._positions[0]),duration=(this._lastTime-this._times[0])/1e3,ease=options.easeLinearity,speedVector=direction.multiplyBy(ease/duration),speed=speedVector.distanceTo([0,0]),limitedSpeed=Math.min(options.inertiaMaxSpeed,speed),limitedSpeedVector=speedVector.multiplyBy(limitedSpeed/speed),decelerationDuration=limitedSpeed/(options.inertiaDeceleration*ease),offset=limitedSpeedVector.multiplyBy(-decelerationDuration/2).round();offset.x||offset.y?(offset=map._limitOffset(offset,map.options.maxBounds),L.Util.requestAnimFrame(function(){map.panBy(offset,{duration:decelerationDuration,easeLinearity:ease,noMoveStart:!0,animate:!0})})):map.fire("moveend")}}}),L.Map.addInitHook("addHandler","dragging",L.Map.Drag),L.Map.mergeOptions({doubleClickZoom:!0}),L.Map.DoubleClickZoom=L.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var map=this._map,oldZoom=map.getZoom(),delta=map.options.zoomDelta,zoom=e.originalEvent.shiftKey?oldZoom-delta:oldZoom+delta;"center"===map.options.doubleClickZoom?map.setZoom(zoom):map.setZoomAround(e.containerPoint,zoom)}}),L.Map.addInitHook("addHandler","doubleClickZoom",L.Map.DoubleClickZoom),L.Map.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60}),L.Map.ScrollWheelZoom=L.Handler.extend({addHooks:function(){L.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){L.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var delta=L.DomEvent.getWheelDelta(e),debounce=this._map.options.wheelDebounceTime;this._delta+=delta,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var left=Math.max(debounce-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(L.bind(this._performZoom,this),left),L.DomEvent.stop(e)},_performZoom:function(){var map=this._map,zoom=map.getZoom(),snap=this._map.options.zoomSnap||0;map._stop();var d2=this._delta/(4*this._map.options.wheelPxPerZoomLevel),d3=4*Math.log(2/(1+Math.exp(-Math.abs(d2))))/Math.LN2,d4=snap?Math.ceil(d3/snap)*snap:d3,delta=map._limitZoom(zoom+(this._delta>0?d4:-d4))-zoom;this._delta=0,this._startTime=null,delta&&("center"===map.options.scrollWheelZoom?map.setZoom(zoom+delta):map.setZoomAround(this._lastMousePos,zoom+delta))}}),L.Map.addInitHook("addHandler","scrollWheelZoom",L.Map.ScrollWheelZoom),L.extend(L.DomEvent,{_touchstart:L.Browser.msPointer?"MSPointerDown":L.Browser.pointer?"pointerdown":"touchstart",_touchend:L.Browser.msPointer?"MSPointerUp":L.Browser.pointer?"pointerup":"touchend",addDoubleTapListener:function(obj,handler,id){function onTouchStart(e){var count;if(L.Browser.pointer){if(!L.Browser.edge||"mouse"===e.pointerType)return;count=L.DomEvent._pointersCount}else count=e.touches.length;if(!(count>1)){var now=Date.now(),delta=now-(last||now);touch=e.touches?e.touches[0]:e,doubleTap=delta>0&&delta<=delay,last=now}}function onTouchEnd(e){if(doubleTap&&!touch.cancelBubble){if(L.Browser.pointer){if(!L.Browser.edge||"mouse"===e.pointerType)return;var prop,i,newTouch={};for(i in touch)prop=touch[i],newTouch[i]=prop&&prop.bind?prop.bind(touch):prop;touch=newTouch}touch.type="dblclick",handler(touch),last=null}}var last,touch,doubleTap=!1,delay=250,pre="_leaflet_",touchstart=this._touchstart,touchend=this._touchend;return obj[pre+touchstart+id]=onTouchStart,obj[pre+touchend+id]=onTouchEnd,obj[pre+"dblclick"+id]=handler,obj.addEventListener(touchstart,onTouchStart,!1),obj.addEventListener(touchend,onTouchEnd,!1),obj.addEventListener("dblclick",handler,!1),this},removeDoubleTapListener:function(obj,id){var pre="_leaflet_",touchstart=obj[pre+this._touchstart+id],touchend=obj[pre+this._touchend+id],dblclick=obj[pre+"dblclick"+id];return obj.removeEventListener(this._touchstart,touchstart,!1),obj.removeEventListener(this._touchend,touchend,!1),L.Browser.edge||obj.removeEventListener("dblclick",dblclick,!1),this}}),L.extend(L.DomEvent,{POINTER_DOWN:L.Browser.msPointer?"MSPointerDown":"pointerdown",POINTER_MOVE:L.Browser.msPointer?"MSPointerMove":"pointermove",POINTER_UP:L.Browser.msPointer?"MSPointerUp":"pointerup",POINTER_CANCEL:L.Browser.msPointer?"MSPointerCancel":"pointercancel",TAG_WHITE_LIST:["INPUT","SELECT","OPTION"],_pointers:{},_pointersCount:0,addPointerListener:function(obj,type,handler,id){return"touchstart"===type?this._addPointerStart(obj,handler,id):"touchmove"===type?this._addPointerMove(obj,handler,id):"touchend"===type&&this._addPointerEnd(obj,handler,id),this},removePointerListener:function(obj,type,id){var handler=obj["_leaflet_"+type+id];return"touchstart"===type?obj.removeEventListener(this.POINTER_DOWN,handler,!1):"touchmove"===type?obj.removeEventListener(this.POINTER_MOVE,handler,!1):"touchend"===type&&(obj.removeEventListener(this.POINTER_UP,handler,!1),obj.removeEventListener(this.POINTER_CANCEL,handler,!1)),this},_addPointerStart:function(obj,handler,id){var onDown=L.bind(function(e){if("mouse"!==e.pointerType&&e.MSPOINTER_TYPE_MOUSE&&e.pointerType!==e.MSPOINTER_TYPE_MOUSE){if(!(this.TAG_WHITE_LIST.indexOf(e.target.tagName)<0))return;L.DomEvent.preventDefault(e)}this._handlePointer(e,handler)},this);if(obj["_leaflet_touchstart"+id]=onDown,obj.addEventListener(this.POINTER_DOWN,onDown,!1),!this._pointerDocListener){var pointerUp=L.bind(this._globalPointerUp,this);document.documentElement.addEventListener(this.POINTER_DOWN,L.bind(this._globalPointerDown,this),!0),document.documentElement.addEventListener(this.POINTER_MOVE,L.bind(this._globalPointerMove,this),!0),document.documentElement.addEventListener(this.POINTER_UP,pointerUp,!0),document.documentElement.addEventListener(this.POINTER_CANCEL,pointerUp,!0),this._pointerDocListener=!0}},_globalPointerDown:function(e){this._pointers[e.pointerId]=e,this._pointersCount++},_globalPointerMove:function(e){this._pointers[e.pointerId]&&(this._pointers[e.pointerId]=e)},_globalPointerUp:function(e){delete this._pointers[e.pointerId],this._pointersCount--},_handlePointer:function(e,handler){e.touches=[];for(var i in this._pointers)e.touches.push(this._pointers[i]);e.changedTouches=[e],handler(e)},_addPointerMove:function(obj,handler,id){var onMove=L.bind(function(e){(e.pointerType!==e.MSPOINTER_TYPE_MOUSE&&"mouse"!==e.pointerType||0!==e.buttons)&&this._handlePointer(e,handler)},this);obj["_leaflet_touchmove"+id]=onMove,obj.addEventListener(this.POINTER_MOVE,onMove,!1)},_addPointerEnd:function(obj,handler,id){var onUp=L.bind(function(e){this._handlePointer(e,handler)},this);obj["_leaflet_touchend"+id]=onUp,obj.addEventListener(this.POINTER_UP,onUp,!1),obj.addEventListener(this.POINTER_CANCEL,onUp,!1)}}),L.Map.mergeOptions({touchZoom:L.Browser.touch&&!L.Browser.android23,bounceAtZoomLimits:!0}),L.Map.TouchZoom=L.Handler.extend({addHooks:function(){L.DomUtil.addClass(this._map._container,"leaflet-touch-zoom"),L.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){L.DomUtil.removeClass(this._map._container,"leaflet-touch-zoom"),L.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var map=this._map;if(e.touches&&2===e.touches.length&&!map._animatingZoom&&!this._zooming){var p1=map.mouseEventToContainerPoint(e.touches[0]),p2=map.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=map.getSize()._divideBy(2),this._startLatLng=map.containerPointToLatLng(this._centerPoint),"center"!==map.options.touchZoom&&(this._pinchStartLatLng=map.containerPointToLatLng(p1.add(p2)._divideBy(2))),this._startDist=p1.distanceTo(p2),this._startZoom=map.getZoom(),this._moved=!1,this._zooming=!0,map._stop(),L.DomEvent.on(document,"touchmove",this._onTouchMove,this).on(document,"touchend",this._onTouchEnd,this),L.DomEvent.preventDefault(e)}},_onTouchMove:function(e){if(e.touches&&2===e.touches.length&&this._zooming){var map=this._map,p1=map.mouseEventToContainerPoint(e.touches[0]),p2=map.mouseEventToContainerPoint(e.touches[1]),scale=p1.distanceTo(p2)/this._startDist;if(this._zoom=map.getScaleZoom(scale,this._startZoom),!map.options.bounceAtZoomLimits&&(this._zoom<map.getMinZoom()&&scale<1||this._zoom>map.getMaxZoom()&&scale>1)&&(this._zoom=map._limitZoom(this._zoom)),"center"===map.options.touchZoom){if(this._center=this._startLatLng,1===scale)return}else{var delta=p1._add(p2)._divideBy(2)._subtract(this._centerPoint);if(1===scale&&0===delta.x&&0===delta.y)return;this._center=map.unproject(map.project(this._pinchStartLatLng,this._zoom).subtract(delta),this._zoom)}this._moved||(map._moveStart(!0),this._moved=!0),L.Util.cancelAnimFrame(this._animRequest);var moveFn=L.bind(map._move,map,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=L.Util.requestAnimFrame(moveFn,this,!0),L.DomEvent.preventDefault(e)}},_onTouchEnd:function(){return this._moved&&this._zooming?(this._zooming=!1,L.Util.cancelAnimFrame(this._animRequest),L.DomEvent.off(document,"touchmove",this._onTouchMove).off(document,"touchend",this._onTouchEnd),void(this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom)))):void(this._zooming=!1)}}),L.Map.addInitHook("addHandler","touchZoom",L.Map.TouchZoom),L.Map.mergeOptions({tap:!0,tapTolerance:15}),L.Map.Tap=L.Handler.extend({addHooks:function(){L.DomEvent.on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){L.DomEvent.off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(e.touches){if(L.DomEvent.preventDefault(e),this._fireClick=!0,e.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var first=e.touches[0],el=first.target;this._startPos=this._newPos=new L.Point(first.clientX,first.clientY),el.tagName&&"a"===el.tagName.toLowerCase()&&L.DomUtil.addClass(el,"leaflet-active"),this._holdTimeout=setTimeout(L.bind(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",first))},this),1e3),this._simulateEvent("mousedown",first),L.DomEvent.on(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(e){if(clearTimeout(this._holdTimeout),L.DomEvent.off(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&e&&e.changedTouches){var first=e.changedTouches[0],el=first.target;el&&el.tagName&&"a"===el.tagName.toLowerCase()&&L.DomUtil.removeClass(el,"leaflet-active"),this._simulateEvent("mouseup",first),this._isTapValid()&&this._simulateEvent("click",first)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(e){var first=e.touches[0];this._newPos=new L.Point(first.clientX,first.clientY),this._simulateEvent("mousemove",first)},_simulateEvent:function(type,e){var simulatedEvent=document.createEvent("MouseEvents");simulatedEvent._simulated=!0,e.target._simulatedClick=!0,simulatedEvent.initMouseEvent(type,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(simulatedEvent)}}),L.Browser.touch&&!L.Browser.pointer&&L.Map.addInitHook("addHandler","tap",L.Map.Tap),L.Map.mergeOptions({boxZoom:!0}),L.Map.BoxZoom=L.Handler.extend({initialize:function(map){this._map=map,this._container=map._container,this._pane=map._panes.overlayPane},addHooks:function(){L.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){L.DomEvent.off(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_resetState:function(){this._moved=!1},_onMouseDown:function(e){return!(!e.shiftKey||1!==e.which&&1!==e.button)&&(this._resetState(),L.DomUtil.disableTextSelection(),L.DomUtil.disableImageDrag(),this._startPoint=this._map.mouseEventToContainerPoint(e),void L.DomEvent.on(document,{contextmenu:L.DomEvent.stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this))},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=L.DomUtil.create("div","leaflet-zoom-box",this._container),L.DomUtil.addClass(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var bounds=new L.Bounds(this._point,this._startPoint),size=bounds.getSize();L.DomUtil.setPosition(this._box,bounds.min),this._box.style.width=size.x+"px",this._box.style.height=size.y+"px"},_finish:function(){this._moved&&(L.DomUtil.remove(this._box),L.DomUtil.removeClass(this._container,"leaflet-crosshair")),L.DomUtil.enableTextSelection(),L.DomUtil.enableImageDrag(),L.DomEvent.off(document,{contextmenu:L.DomEvent.stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if((1===e.which||1===e.button)&&(this._finish(),this._moved)){setTimeout(L.bind(this._resetState,this),0);var bounds=new L.LatLngBounds(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(bounds).fire("boxzoomend",{boxZoomBounds:bounds})}},_onKeyDown:function(e){27===e.keyCode&&this._finish()}}),L.Map.addInitHook("addHandler","boxZoom",L.Map.BoxZoom),L.Map.mergeOptions({keyboard:!0,keyboardPanDelta:80}),L.Map.Keyboard=L.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(map){this._map=map,this._setPanDelta(map.options.keyboardPanDelta),this._setZoomDelta(map.options.zoomDelta)},addHooks:function(){var container=this._map._container;container.tabIndex<=0&&(container.tabIndex="0"),L.DomEvent.on(container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),L.DomEvent.off(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var body=document.body,docEl=document.documentElement,top=body.scrollTop||docEl.scrollTop,left=body.scrollLeft||docEl.scrollLeft;this._map._container.focus(),window.scrollTo(left,top)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(panDelta){var i,len,keys=this._panKeys={},codes=this.keyCodes;
for(i=0,len=codes.left.length;i<len;i++)keys[codes.left[i]]=[-1*panDelta,0];for(i=0,len=codes.right.length;i<len;i++)keys[codes.right[i]]=[panDelta,0];for(i=0,len=codes.down.length;i<len;i++)keys[codes.down[i]]=[0,panDelta];for(i=0,len=codes.up.length;i<len;i++)keys[codes.up[i]]=[0,-1*panDelta]},_setZoomDelta:function(zoomDelta){var i,len,keys=this._zoomKeys={},codes=this.keyCodes;for(i=0,len=codes.zoomIn.length;i<len;i++)keys[codes.zoomIn[i]]=zoomDelta;for(i=0,len=codes.zoomOut.length;i<len;i++)keys[codes.zoomOut[i]]=-zoomDelta},_addHooks:function(){L.DomEvent.on(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){L.DomEvent.off(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var offset,key=e.keyCode,map=this._map;if(key in this._panKeys){if(map._panAnim&&map._panAnim._inProgress)return;offset=this._panKeys[key],e.shiftKey&&(offset=L.point(offset).multiplyBy(3)),map.panBy(offset),map.options.maxBounds&&map.panInsideBounds(map.options.maxBounds)}else if(key in this._zoomKeys)map.setZoom(map.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[key]);else{if(27!==key)return;map.closePopup()}L.DomEvent.stop(e)}}}),L.Map.addInitHook("addHandler","keyboard",L.Map.Keyboard),L.Handler.MarkerDrag=L.Handler.extend({initialize:function(marker){this._marker=marker},addHooks:function(){var icon=this._marker._icon;this._draggable||(this._draggable=new L.Draggable(icon,icon,!0)),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),L.DomUtil.addClass(icon,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&L.DomUtil.removeClass(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(e){var marker=this._marker,shadow=marker._shadow,iconPos=L.DomUtil.getPosition(marker._icon),latlng=marker._map.layerPointToLatLng(iconPos);shadow&&L.DomUtil.setPosition(shadow,iconPos),marker._latlng=latlng,e.latlng=latlng,e.oldLatLng=this._oldLatLng,marker.fire("move",e).fire("drag",e)},_onDragEnd:function(e){delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),L.Control=L.Class.extend({options:{position:"topright"},initialize:function(options){L.setOptions(this,options)},getPosition:function(){return this.options.position},setPosition:function(position){var map=this._map;return map&&map.removeControl(this),this.options.position=position,map&&map.addControl(this),this},getContainer:function(){return this._container},addTo:function(map){this.remove(),this._map=map;var container=this._container=this.onAdd(map),pos=this.getPosition(),corner=map._controlCorners[pos];return L.DomUtil.addClass(container,"leaflet-control"),pos.indexOf("bottom")!==-1?corner.insertBefore(container,corner.firstChild):corner.appendChild(container),this},remove:function(){return this._map?(L.DomUtil.remove(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),L.control=function(options){return new L.Control(options)},L.Map.include({addControl:function(control){return control.addTo(this),this},removeControl:function(control){return control.remove(),this},_initControlPos:function(){function createCorner(vSide,hSide){var className=l+vSide+" "+l+hSide;corners[vSide+hSide]=L.DomUtil.create("div",className,container)}var corners=this._controlCorners={},l="leaflet-",container=this._controlContainer=L.DomUtil.create("div",l+"control-container",this._container);createCorner("top","left"),createCorner("top","right"),createCorner("bottom","left"),createCorner("bottom","right")},_clearControlPos:function(){L.DomUtil.remove(this._controlContainer)}}),L.Control.Zoom=L.Control.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"-",zoomOutTitle:"Zoom out"},onAdd:function(map){var zoomName="leaflet-control-zoom",container=L.DomUtil.create("div",zoomName+" leaflet-bar"),options=this.options;return this._zoomInButton=this._createButton(options.zoomInText,options.zoomInTitle,zoomName+"-in",container,this._zoomIn),this._zoomOutButton=this._createButton(options.zoomOutText,options.zoomOutTitle,zoomName+"-out",container,this._zoomOut),this._updateDisabled(),map.on("zoomend zoomlevelschange",this._updateDisabled,this),container},onRemove:function(map){map.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(html,title,className,container,fn){var link=L.DomUtil.create("a",className,container);return link.innerHTML=html,link.href="#",link.title=title,link.setAttribute("role","button"),link.setAttribute("aria-label",title),L.DomEvent.on(link,"mousedown dblclick",L.DomEvent.stopPropagation).on(link,"click",L.DomEvent.stop).on(link,"click",fn,this).on(link,"click",this._refocusOnMap,this),link},_updateDisabled:function(){var map=this._map,className="leaflet-disabled";L.DomUtil.removeClass(this._zoomInButton,className),L.DomUtil.removeClass(this._zoomOutButton,className),(this._disabled||map._zoom===map.getMinZoom())&&L.DomUtil.addClass(this._zoomOutButton,className),(this._disabled||map._zoom===map.getMaxZoom())&&L.DomUtil.addClass(this._zoomInButton,className)}}),L.Map.mergeOptions({zoomControl:!0}),L.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new L.Control.Zoom,this.addControl(this.zoomControl))}),L.control.zoom=function(options){return new L.Control.Zoom(options)},L.Control.Attribution=L.Control.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(options){L.setOptions(this,options),this._attributions={}},onAdd:function(map){map.attributionControl=this,this._container=L.DomUtil.create("div","leaflet-control-attribution"),L.DomEvent&&L.DomEvent.disableClickPropagation(this._container);for(var i in map._layers)map._layers[i].getAttribution&&this.addAttribution(map._layers[i].getAttribution());return this._update(),this._container},setPrefix:function(prefix){return this.options.prefix=prefix,this._update(),this},addAttribution:function(text){return text?(this._attributions[text]||(this._attributions[text]=0),this._attributions[text]++,this._update(),this):this},removeAttribution:function(text){return text?(this._attributions[text]&&(this._attributions[text]--,this._update()),this):this},_update:function(){if(this._map){var attribs=[];for(var i in this._attributions)this._attributions[i]&&attribs.push(i);var prefixAndAttribs=[];this.options.prefix&&prefixAndAttribs.push(this.options.prefix),attribs.length&&prefixAndAttribs.push(attribs.join(", ")),this._container.innerHTML=prefixAndAttribs.join(" | ")}}}),L.Map.mergeOptions({attributionControl:!0}),L.Map.addInitHook(function(){this.options.attributionControl&&(new L.Control.Attribution).addTo(this)}),L.control.attribution=function(options){return new L.Control.Attribution(options)},L.Control.Scale=L.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(map){var className="leaflet-control-scale",container=L.DomUtil.create("div",className),options=this.options;return this._addScales(options,className+"-line",container),map.on(options.updateWhenIdle?"moveend":"move",this._update,this),map.whenReady(this._update,this),container},onRemove:function(map){map.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(options,className,container){options.metric&&(this._mScale=L.DomUtil.create("div",className,container)),options.imperial&&(this._iScale=L.DomUtil.create("div",className,container))},_update:function(){var map=this._map,y=map.getSize().y/2,maxMeters=map.distance(map.containerPointToLatLng([0,y]),map.containerPointToLatLng([this.options.maxWidth,y]));this._updateScales(maxMeters)},_updateScales:function(maxMeters){this.options.metric&&maxMeters&&this._updateMetric(maxMeters),this.options.imperial&&maxMeters&&this._updateImperial(maxMeters)},_updateMetric:function(maxMeters){var meters=this._getRoundNum(maxMeters),label=meters<1e3?meters+" m":meters/1e3+" km";this._updateScale(this._mScale,label,meters/maxMeters)},_updateImperial:function(maxMeters){var maxMiles,miles,feet,maxFeet=3.2808399*maxMeters;maxFeet>5280?(maxMiles=maxFeet/5280,miles=this._getRoundNum(maxMiles),this._updateScale(this._iScale,miles+" mi",miles/maxMiles)):(feet=this._getRoundNum(maxFeet),this._updateScale(this._iScale,feet+" ft",feet/maxFeet))},_updateScale:function(scale,text,ratio){scale.style.width=Math.round(this.options.maxWidth*ratio)+"px",scale.innerHTML=text},_getRoundNum:function(num){var pow10=Math.pow(10,(Math.floor(num)+"").length-1),d=num/pow10;return d=d>=10?10:d>=5?5:d>=3?3:d>=2?2:1,pow10*d}}),L.control.scale=function(options){return new L.Control.Scale(options)},L.Control.Layers=L.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(layerA,layerB,nameA,nameB){return nameA<nameB?-1:nameB<nameA?1:0}},initialize:function(baseLayers,overlays,options){L.setOptions(this,options),this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var i in baseLayers)this._addLayer(baseLayers[i],i);for(i in overlays)this._addLayer(overlays[i],i,!0)},onAdd:function(map){return this._initLayout(),this._update(),this._map=map,map.on("zoomend",this._checkDisabledLayers,this),this._container},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(layer,name){return this._addLayer(layer,name),this._map?this._update():this},addOverlay:function(layer,name){return this._addLayer(layer,name,!0),this._map?this._update():this},removeLayer:function(layer){layer.off("add remove",this._onLayerChange,this);var obj=this._getLayer(L.stamp(layer));return obj&&this._layers.splice(this._layers.indexOf(obj),1),this._map?this._update():this},expand:function(){L.DomUtil.addClass(this._container,"leaflet-control-layers-expanded"),this._form.style.height=null;var acceptableHeight=this._map.getSize().y-(this._container.offsetTop+50);return acceptableHeight<this._form.clientHeight?(L.DomUtil.addClass(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=acceptableHeight+"px"):L.DomUtil.removeClass(this._form,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return L.DomUtil.removeClass(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var className="leaflet-control-layers",container=this._container=L.DomUtil.create("div",className),collapsed=this.options.collapsed;container.setAttribute("aria-haspopup",!0),L.DomEvent.disableClickPropagation(container),L.Browser.touch||L.DomEvent.disableScrollPropagation(container);var form=this._form=L.DomUtil.create("form",className+"-list");collapsed&&(this._map.on("click",this.collapse,this),L.Browser.android||L.DomEvent.on(container,{mouseenter:this.expand,mouseleave:this.collapse},this));var link=this._layersLink=L.DomUtil.create("a",className+"-toggle",container);link.href="#",link.title="Layers",L.Browser.touch?L.DomEvent.on(link,"click",L.DomEvent.stop).on(link,"click",this.expand,this):L.DomEvent.on(link,"focus",this.expand,this),L.DomEvent.on(form,"click",function(){setTimeout(L.bind(this._onInputClick,this),0)},this),collapsed||this.expand(),this._baseLayersList=L.DomUtil.create("div",className+"-base",form),this._separator=L.DomUtil.create("div",className+"-separator",form),this._overlaysList=L.DomUtil.create("div",className+"-overlays",form),container.appendChild(form)},_getLayer:function(id){for(var i=0;i<this._layers.length;i++)if(this._layers[i]&&L.stamp(this._layers[i].layer)===id)return this._layers[i]},_addLayer:function(layer,name,overlay){layer.on("add remove",this._onLayerChange,this),this._layers.push({layer:layer,name:name,overlay:overlay}),this.options.sortLayers&&this._layers.sort(L.bind(function(a,b){return this.options.sortFunction(a.layer,b.layer,a.name,b.name)},this)),this.options.autoZIndex&&layer.setZIndex&&(this._lastZIndex++,layer.setZIndex(this._lastZIndex))},_update:function(){if(!this._container)return this;L.DomUtil.empty(this._baseLayersList),L.DomUtil.empty(this._overlaysList);var baseLayersPresent,overlaysPresent,i,obj,baseLayersCount=0;for(i=0;i<this._layers.length;i++)obj=this._layers[i],this._addItem(obj),overlaysPresent=overlaysPresent||obj.overlay,baseLayersPresent=baseLayersPresent||!obj.overlay,baseLayersCount+=obj.overlay?0:1;return this.options.hideSingleBase&&(baseLayersPresent=baseLayersPresent&&baseLayersCount>1,this._baseLayersList.style.display=baseLayersPresent?"":"none"),this._separator.style.display=overlaysPresent&&baseLayersPresent?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var obj=this._getLayer(L.stamp(e.target)),type=obj.overlay?"add"===e.type?"overlayadd":"overlayremove":"add"===e.type?"baselayerchange":null;type&&this._map.fire(type,obj)},_createRadioElement:function(name,checked){var radioHtml='<input type="radio" class="leaflet-control-layers-selector" name="'+name+'"'+(checked?' checked="checked"':"")+"/>",radioFragment=document.createElement("div");return radioFragment.innerHTML=radioHtml,radioFragment.firstChild},_addItem:function(obj){var input,label=document.createElement("label"),checked=this._map.hasLayer(obj.layer);obj.overlay?(input=document.createElement("input"),input.type="checkbox",input.className="leaflet-control-layers-selector",input.defaultChecked=checked):input=this._createRadioElement("leaflet-base-layers",checked),input.layerId=L.stamp(obj.layer),L.DomEvent.on(input,"click",this._onInputClick,this);var name=document.createElement("span");name.innerHTML=" "+obj.name;var holder=document.createElement("div");label.appendChild(holder),holder.appendChild(input),holder.appendChild(name);var container=obj.overlay?this._overlaysList:this._baseLayersList;return container.appendChild(label),this._checkDisabledLayers(),label},_onInputClick:function(){var input,layer,hasLayer,inputs=this._form.getElementsByTagName("input"),addedLayers=[],removedLayers=[];this._handlingClick=!0;for(var i=inputs.length-1;i>=0;i--)input=inputs[i],layer=this._getLayer(input.layerId).layer,hasLayer=this._map.hasLayer(layer),input.checked&&!hasLayer?addedLayers.push(layer):!input.checked&&hasLayer&&removedLayers.push(layer);for(i=0;i<removedLayers.length;i++)this._map.removeLayer(removedLayers[i]);for(i=0;i<addedLayers.length;i++)this._map.addLayer(addedLayers[i]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var input,layer,inputs=this._form.getElementsByTagName("input"),zoom=this._map.getZoom(),i=inputs.length-1;i>=0;i--)input=inputs[i],layer=this._getLayer(input.layerId).layer,input.disabled=layer.options.minZoom!==undefined&&zoom<layer.options.minZoom||layer.options.maxZoom!==undefined&&zoom>layer.options.maxZoom},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),L.control.layers=function(baseLayers,overlays,options){return new L.Control.Layers(baseLayers,overlays,options)}}(window,document)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function isObject(param){return(0,_lodash2.default)(param)&&!(0,_isArray2.default)(param)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=isObject;var _lodash=__webpack_require__(230),_lodash2=_interopRequireDefault(_lodash),_isArray=__webpack_require__(0),_isArray2=_interopRequireDefault(_isArray)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _lodash=__webpack_require__(232),_lodash2=_interopRequireDefault(_lodash);exports.default=_lodash2.default},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__src_bisect__=__webpack_require__(44);__webpack_require__.d(__webpack_exports__,"c",function(){return __WEBPACK_IMPORTED_MODULE_0__src_bisect__.a});var __WEBPACK_IMPORTED_MODULE_1__src_ascending__=__webpack_require__(11);__webpack_require__.d(__webpack_exports__,"f",function(){return __WEBPACK_IMPORTED_MODULE_1__src_ascending__.a});var __WEBPACK_IMPORTED_MODULE_2__src_bisector__=__webpack_require__(45);__webpack_require__.d(__webpack_exports__,"d",function(){return __WEBPACK_IMPORTED_MODULE_2__src_bisector__.a});var __WEBPACK_IMPORTED_MODULE_17__src_quantile__=(__webpack_require__(83),__webpack_require__(46),__webpack_require__(47),__webpack_require__(84),__webpack_require__(95),__webpack_require__(96),__webpack_require__(50),__webpack_require__(86),__webpack_require__(87),__webpack_require__(88),__webpack_require__(89),__webpack_require__(48),__webpack_require__(90),__webpack_require__(91),__webpack_require__(30));__webpack_require__.d(__webpack_exports__,"e",function(){return __WEBPACK_IMPORTED_MODULE_17__src_quantile__.a});var __WEBPACK_IMPORTED_MODULE_18__src_range__=__webpack_require__(49);__webpack_require__.d(__webpack_exports__,"g",function(){return __WEBPACK_IMPORTED_MODULE_18__src_range__.a});var __WEBPACK_IMPORTED_MODULE_22__src_ticks__=(__webpack_require__(92),__webpack_require__(93),__webpack_require__(94),__webpack_require__(51));__webpack_require__.d(__webpack_exports__,"a",function(){return __WEBPACK_IMPORTED_MODULE_22__src_ticks__.a}),__webpack_require__.d(__webpack_exports__,"b",function(){return __WEBPACK_IMPORTED_MODULE_22__src_ticks__.b});__webpack_require__(52),__webpack_require__(53),__webpack_require__(97)},function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0__src_color__=__webpack_require__(32);__webpack_require__.d(__webpack_exports__,"color",function(){return __WEBPACK_IMPORTED_MODULE_0__src_color__.a}),__webpack_require__.d(__webpack_exports__,"rgb",function(){return __WEBPACK_IMPORTED_MODULE_0__src_color__.b}),__webpack_require__.d(__webpack_exports__,"hsl",function(){return __WEBPACK_IMPORTED_MODULE_0__src_color__.c});var __WEBPACK_IMPORTED_MODULE_1__src_lab__=__webpack_require__(105);__webpack_require__.d(__webpack_exports__,"lab",function(){return __WEBPACK_IMPORTED_MODULE_1__src_lab__.a}),__webpack_require__.d(__webpack_exports__,"hcl",function(){return __WEBPACK_IMPORTED_MODULE_1__src_lab__.b});var __WEBPACK_IMPORTED_MODULE_2__src_cubehelix__=__webpack_require__(104);__webpack_require__.d(__webpack_exports__,"cubehelix",function(){return __WEBPACK_IMPORTED_MODULE_2__src_cubehelix__.a})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"e",function(){return durationSecond}),__webpack_require__.d(__webpack_exports__,"d",function(){return durationMinute}),__webpack_require__.d(__webpack_exports__,"c",function(){return durationHour}),__webpack_require__.d(__webpack_exports__,"b",function(){return durationDay}),__webpack_require__.d(__webpack_exports__,"a",function(){return durationWeek});var durationSecond=1e3,durationMinute=6e4,durationHour=36e5,durationDay=864e5,durationWeek=6048e5},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return map}),__webpack_require__.d(__webpack_exports__,"b",function(){return slice});var array=Array.prototype,map=array.map,slice=array.slice},function(module,__webpack_exports__,__webpack_require__){"use strict";function newInterval(floori,offseti,count,field){function interval(date){return floori(date=new Date(+date)),date}return interval.floor=interval,interval.ceil=function(date){return floori(date=new Date(date-1)),offseti(date,1),floori(date),date},interval.round=function(date){var d0=interval(date),d1=interval.ceil(date);return date-d0<d1-date?d0:d1},interval.offset=function(date,step){return offseti(date=new Date(+date),null==step?1:Math.floor(step)),date},interval.range=function(start,stop,step){var range=[];if(start=interval.ceil(start),step=null==step?1:Math.floor(step),!(start<stop&&step>0))return range;do range.push(new Date(+start));while(offseti(start,step),floori(start),start<stop);return range},interval.filter=function(test){return newInterval(function(date){if(date>=date)for(;floori(date),!test(date);)date.setTime(date-1)},function(date,step){if(date>=date)for(;--step>=0;)for(;offseti(date,1),!test(date););})},count&&(interval.count=function(start,end){return t0.setTime(+start),t1.setTime(+end),floori(t0),floori(t1),Math.floor(count(t0,t1))},interval.every=function(step){return step=Math.floor(step),isFinite(step)&&step>0?step>1?interval.filter(field?function(d){return field(d)%step===0}:function(d){return interval.count(0,d)%step===0}):interval:null}),interval}__webpack_exports__.a=newInterval;var t0=new Date,t1=new Date},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function arrayClean(array){for(var item,results=[],i=0,ln=array.length;i<ln;i++)item=array[i],(0,_isEmpty2.default)(item)||results.push(item);return results}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=arrayClean;var _isEmpty=__webpack_require__(78),_isEmpty2=_interopRequireDefault(_isEmpty)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}},function(module,exports){module.exports=function(){var list=[];return list.toString=function(){for(var result=[],i=0;i<this.length;i++){var item=this[i];item[2]?result.push("@media "+item[2]+"{"+item[1]+"}"):result.push(item[1])}return result.join("")},list.i=function(modules,mediaQuery){"string"==typeof modules&&(modules=[[null,modules,""]]);for(var alreadyImportedModules={},i=0;i<this.length;i++){var id=this[i][0];"number"==typeof id&&(alreadyImportedModules[id]=!0)}for(i=0;i<modules.length;i++){var item=modules[i];"number"==typeof item[0]&&alreadyImportedModules[item[0]]||(mediaQuery&&!item[2]?item[2]=mediaQuery:mediaQuery&&(item[2]="("+item[2]+") and ("+mediaQuery+")"),list.push(item))}},list}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(x){return null===x?NaN:+x}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__src_value__=__webpack_require__(36);__webpack_require__.d(__webpack_exports__,"b",function(){return __WEBPACK_IMPORTED_MODULE_0__src_value__.a});var __WEBPACK_IMPORTED_MODULE_5__src_number__=(__webpack_require__(60),__webpack_require__(35),__webpack_require__(61),__webpack_require__(63),__webpack_require__(22));__webpack_require__.d(__webpack_exports__,"a",function(){return __WEBPACK_IMPORTED_MODULE_5__src_number__.a});var __WEBPACK_IMPORTED_MODULE_7__src_round__=(__webpack_require__(64),__webpack_require__(118));__webpack_require__.d(__webpack_exports__,"c",function(){return __WEBPACK_IMPORTED_MODULE_7__src_round__.a});var __WEBPACK_IMPORTED_MODULE_15__src_cubehelix__=(__webpack_require__(66),__webpack_require__(120),__webpack_require__(122),__webpack_require__(65),__webpack_require__(115),__webpack_require__(116),__webpack_require__(114),__webpack_require__(113));__webpack_require__.d(__webpack_exports__,"d",function(){return __WEBPACK_IMPORTED_MODULE_15__src_cubehelix__.a});__webpack_require__(117)},function(module,__webpack_exports__,__webpack_require__){"use strict";function linear(a,d){return function(t){return a+t*d}}function exponential(a,b,y){return a=Math.pow(a,y),b=Math.pow(b,y)-a,y=1/y,function(t){return Math.pow(a+t*b,y)}}function hue(a,b){var d=b-a;return d?linear(a,d>180||d<-180?d-360*Math.round(d/360):d):__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__constant__.a)(isNaN(a)?b:a)}function gamma(y){return 1===(y=+y)?nogamma:function(a,b){return b-a?exponential(a,b,y):__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__constant__.a)(isNaN(a)?b:a)}}function nogamma(a,b){var d=b-a;return d?linear(a,d):__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__constant__.a)(isNaN(a)?b:a)}var __WEBPACK_IMPORTED_MODULE_0__constant__=__webpack_require__(62);__webpack_exports__.b=hue,__webpack_exports__.c=gamma,__webpack_exports__.a=nogamma},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(s){return s.match(/.{6}/g).map(function(x){return"#"+x})}},function(module,__webpack_exports__,__webpack_require__){"use strict";function linearish(scale){var domain=scale.domain;return scale.ticks=function(count){var d=domain();return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d3_array__.a)(d[0],d[d.length-1],null==count?10:count)},scale.tickFormat=function(count,specifier){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__tickFormat__.a)(domain(),count,specifier)},scale.nice=function(count){var d=domain(),i=d.length-1,n=null==count?10:count,start=d[0],stop=d[i],step=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d3_array__.b)(start,stop,n);return step&&(step=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d3_array__.b)(Math.floor(start/step)*step,Math.ceil(stop/step)*step,n),d[0]=Math.floor(start/step)*step,d[i]=Math.ceil(stop/step)*step,domain(d)),scale},scale}function linear(){var scale=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__continuous__.a)(__WEBPACK_IMPORTED_MODULE_2__continuous__.b,__WEBPACK_IMPORTED_MODULE_1_d3_interpolate__.a);return scale.copy=function(){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__continuous__.c)(scale,linear())},linearish(scale)}var __WEBPACK_IMPORTED_MODULE_0_d3_array__=__webpack_require__(5),__WEBPACK_IMPORTED_MODULE_1_d3_interpolate__=__webpack_require__(14),__WEBPACK_IMPORTED_MODULE_2__continuous__=__webpack_require__(23),__WEBPACK_IMPORTED_MODULE_3__tickFormat__=__webpack_require__(137);__webpack_exports__.b=linearish,__webpack_exports__.a=linear},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function geoJson(options){return new GeoJson(options)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.GeoJson=void 0,exports.default=geoJson;var _leaflet=__webpack_require__(2),_leaflet2=_interopRequireDefault(_leaflet),_Label=__webpack_require__(175),_Label2=_interopRequireDefault(_Label),_polylabel=__webpack_require__(161),_polylabel2=_interopRequireDefault(_polylabel);__webpack_require__(165),__webpack_require__(159);var geojsonArea=__webpack_require__(155),GeoJson=exports.GeoJson=_leaflet2.default.GeoJSON.extend({options:{highlightStyle:{weight:2},resetStyle:{weight:1}},initialize:function(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};options.label&&(this._labels=_leaflet2.default.layerGroup.collision({margin:2})),_leaflet2.default.GeoJSON.prototype.initialize.call(this,options.data,options)},addLayer:function(layer){var options=this.options,feature=layer.feature;this.options.label&&this.addLabel(layer,_leaflet2.default.Util.template(this.options.label,feature.properties)),(options.hoverLabel||options.label)&&layer.bindTooltip(_leaflet2.default.Util.template(options.hoverLabel||options.label,feature.properties),{sticky:!0}),!options.popup||options.popup instanceof Function||layer.bindPopup(_leaflet2.default.Util.template(options.popup,feature.properties)),_leaflet2.default.GeoJSON.prototype.addLayer.call(this,layer)},addLabel:function(layer,text){var prop=layer.feature.properties,geometry=layer.feature.geometry,labelStyle=_leaflet2.default.extend(prop.labelStyle||{},this.options.labelStyle),latlng=this._getLabelLatlng(geometry);prop.style&&prop.style.color&&(labelStyle.color=prop.style.color),layer._label=(0,_Label2.default)(latlng,{html:text,position:"Point"===geometry.type?"below":"middle",labelStyle:labelStyle}),this._labels.addLayer(layer._label)},setOpacity:function(opacity){this.setStyle({opacity:opacity,fillOpacity:opacity})},findById:function(id){for(var i in this._layers)if(this._layers[i].feature.id===id)return this._layers[i];return null},onAdd:function(map){_leaflet2.default.GeoJSON.prototype.onAdd.call(this,map),this._labels&&map.addLayer(this._labels),this.options.highlightStyle&&(this.on("mouseover",this.onMouseOver,this),this.on("mouseout",this.onMouseOut,this)),this.options.contextmenu&&this.on("contextmenu",this.options.contextmenu),this.fire("ready")},onRemove:function(map){_leaflet2.default.GeoJSON.prototype.onRemove.call(this,map),this._labels&&map.removeLayer(this._labels),this.options.highlightStyle&&(this.off("mouseover",this.onMouseOver,this),this.off("mouseout",this.onMouseOut,this)),this.options.contextmenu&&this.off("contextmenu",this.options.contextmenu)},onMouseOver:function(evt){evt.layer.setStyle(this.options.highlightStyle)},onMouseOut:function(evt){evt.layer.setStyle(this.options.resetStyle)},_getLabelLatlng:function(geometry){var coords=geometry.coordinates,biggestRing=void 0;if("Point"===geometry.type)return[coords[1],coords[0]];if("Polygon"===geometry.type)biggestRing=coords;else if("MultiPolygon"===geometry.type&&(biggestRing=coords[0],coords.length>1)){var biggestSize=0;coords.forEach(function(ring){var size=geojsonArea.ring(ring[0]);size>biggestSize&&(biggestRing=ring,biggestSize=size)})}return(0,_polylabel2.default)(biggestRing,2).reverse()}})},function(module,exports){var g;g=function(){return this}();try{g=g||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(g=window)}module.exports=g},function(module,exports,__webpack_require__){"use strict";function arrayContains(array,item){return Array.prototype.indexOf.call(array,item)!==-1}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=arrayContains},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__formatDecimal__=__webpack_require__(34);__webpack_exports__.a=function(x){return x=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__formatDecimal__.a)(Math.abs(x)),x?x[1]:NaN}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(a,b){return a=+a,b-=a,function(t){return a+b*t}}},function(module,__webpack_exports__,__webpack_require__){"use strict";function deinterpolateLinear(a,b){return(b-=a=+a)?function(x){return(x-a)/b}:__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__constant__.a)(b)}function deinterpolateClamp(deinterpolate){return function(a,b){var d=deinterpolate(a=+a,b=+b);return function(x){return x<=a?0:x>=b?1:d(x)}}}function reinterpolateClamp(reinterpolate){return function(a,b){var r=reinterpolate(a=+a,b=+b);return function(t){return t<=0?a:t>=1?b:r(t)}}}function bimap(domain,range,deinterpolate,reinterpolate){var d0=domain[0],d1=domain[1],r0=range[0],r1=range[1];return d1<d0?(d0=deinterpolate(d1,d0),r0=reinterpolate(r1,r0)):(d0=deinterpolate(d0,d1),r0=reinterpolate(r0,r1)),function(x){return r0(d0(x))}}function polymap(domain,range,deinterpolate,reinterpolate){var j=Math.min(domain.length,range.length)-1,d=new Array(j),r=new Array(j),i=-1;
for(domain[j]<domain[0]&&(domain=domain.slice().reverse(),range=range.slice().reverse());++i<j;)d[i]=deinterpolate(domain[i],domain[i+1]),r[i]=reinterpolate(range[i],range[i+1]);return function(x){var i=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d3_array__.c)(domain,x,1,j)-1;return r[i](d[i](x))}}function copy(source,target){return target.domain(source.domain()).range(source.range()).interpolate(source.interpolate()).clamp(source.clamp())}function continuous(deinterpolate,reinterpolate){function rescale(){return piecewise=Math.min(domain.length,range.length)>2?polymap:bimap,output=input=null,scale}function scale(x){return(output||(output=piecewise(domain,range,clamp?deinterpolateClamp(deinterpolate):deinterpolate,interpolate)))(+x)}var piecewise,output,input,domain=unit,range=unit,interpolate=__WEBPACK_IMPORTED_MODULE_1_d3_interpolate__.b,clamp=!1;return scale.invert=function(y){return(input||(input=piecewise(range,domain,deinterpolateLinear,clamp?reinterpolateClamp(reinterpolate):reinterpolate)))(+y)},scale.domain=function(_){return arguments.length?(domain=__WEBPACK_IMPORTED_MODULE_2__array__.a.call(_,__WEBPACK_IMPORTED_MODULE_4__number__.a),rescale()):domain.slice()},scale.range=function(_){return arguments.length?(range=__WEBPACK_IMPORTED_MODULE_2__array__.b.call(_),rescale()):range.slice()},scale.rangeRound=function(_){return range=__WEBPACK_IMPORTED_MODULE_2__array__.b.call(_),interpolate=__WEBPACK_IMPORTED_MODULE_1_d3_interpolate__.c,rescale()},scale.clamp=function(_){return arguments.length?(clamp=!!_,rescale()):clamp},scale.interpolate=function(_){return arguments.length?(interpolate=_,rescale()):interpolate},rescale()}var __WEBPACK_IMPORTED_MODULE_0_d3_array__=__webpack_require__(5),__WEBPACK_IMPORTED_MODULE_1_d3_interpolate__=__webpack_require__(14),__WEBPACK_IMPORTED_MODULE_2__array__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_3__constant__=__webpack_require__(37),__WEBPACK_IMPORTED_MODULE_4__number__=__webpack_require__(69);__webpack_exports__.b=deinterpolateLinear,__webpack_exports__.c=copy,__webpack_exports__.a=continuous;var unit=[0,1]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function circleMarker(feature,options){return new CircleMarker(feature,options)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.CircleMarker=void 0,exports.default=circleMarker;var _leaflet=__webpack_require__(2),_leaflet2=_interopRequireDefault(_leaflet),CircleMarker=exports.CircleMarker=_leaflet2.default.CircleMarker.extend({options:{strokeColor:"#fff",weight:.5,radius:6},initialize:function(feature,opts){var options=_leaflet2.default.setOptions(this,opts);options.fillColor=options.color,options.fillOpacity=options.opacity,options.color=options.strokeColor,this._feature=feature,this._latlng=_leaflet2.default.GeoJSON.coordsToLatLng(feature.geometry.coordinates),this._radius=this.options.radius},getFeature:function(){return this._feature},showPopup:function(content){var popup=content||this.options.popup;"string"==typeof popup?this.bindPopup(_leaflet2.default.Util.template(popup,this._feature.properties)).openPopup():popup instanceof Function&&popup(this._feature,_leaflet2.default.bind(function(response){this.bindPopup(response).openPopup()},this))},setOpacity:function(opacity){this.setStyle({opacity:opacity,fillOpacity:opacity})}})},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){return obj&&"undefined"!=typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj}function arrayFrom(param,isNewRef){var toArray=function(iterable,start,end){if(!iterable||!iterable.length)return[];if("string"==typeof iterable&&(iterable=iterable.split("")),supportsSliceOnNodeList)return slice.call(iterable,start||0,end||iterable.length);var i,array=[];for(start=start||0,end=end?end<0?iterable.length+end:end:iterable.length,i=start;i<end;i++)array.push(iterable[i]);return array};if(void 0===param||null===param)return[];if((0,_isArray2.default)(param))return isNewRef?Array.prototype.slice.call(param):param;var type="undefined"==typeof param?"undefined":_typeof(param);return!param||void 0===param.length||"string"===type||"function"===type&&param.apply?[param]:toArray(param)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=arrayFrom;var _isArray=__webpack_require__(0),_isArray2=_interopRequireDefault(_isArray)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"e",function(){return durationSecond}),__webpack_require__.d(__webpack_exports__,"d",function(){return durationMinute}),__webpack_require__.d(__webpack_exports__,"c",function(){return durationHour}),__webpack_require__.d(__webpack_exports__,"b",function(){return durationDay}),__webpack_require__.d(__webpack_exports__,"a",function(){return durationWeek});var durationSecond=1e3,durationMinute=6e4,durationHour=36e5,durationDay=864e5,durationWeek=6048e5},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _lodash=__webpack_require__(227),_lodash2=_interopRequireDefault(_lodash);exports.default=_lodash2.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function arrayDifference(array1,array2,biDirectional){return(0,_arrayUnique2.default)(array1.filter(function(item){return!(0,_arrayContains2.default)(array2,item)}).concat(biDirectional===!0?array2.filter(function(item){return!(0,_arrayContains2.default)(array1,item)}):[]))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=arrayDifference;var _arrayUnique=__webpack_require__(77),_arrayUnique2=_interopRequireDefault(_arrayUnique),_arrayContains=__webpack_require__(20),_arrayContains2=_interopRequireDefault(_arrayContains)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _lodash=__webpack_require__(228),_lodash2=_interopRequireDefault(_lodash);exports.default=_lodash2.default},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__number__=__webpack_require__(13);__webpack_exports__.a=function(array,p,f){if(null==f&&(f=__WEBPACK_IMPORTED_MODULE_0__number__.a),n=array.length){if((p=+p)<=0||n<2)return+f(array[0],0,array);if(p>=1)return+f(array[n-1],n-1,array);var n,h=(n-1)*p,i=Math.floor(h),a=+f(array[i],i,array),b=+f(array[i+1],i+1,array);return a+(b-a)*(h-i)}}},function(module,__webpack_exports__,__webpack_require__){"use strict";function Map(){}function map(object,f){var map=new Map;if(object instanceof Map)object.each(function(value,key){map.set(key,value)});else if(Array.isArray(object)){var o,i=-1,n=object.length;if(null==f)for(;++i<n;)map.set(i,object[i]);else for(;++i<n;)map.set(f(o=object[i],i,object),o)}else if(object)for(var key in object)map.set(key,object[key]);return map}__webpack_require__.d(__webpack_exports__,"b",function(){return prefix});var prefix="$";Map.prototype=map.prototype={constructor:Map,has:function(key){return prefix+key in this},get:function(key){return this[prefix+key]},set:function(key,value){return this[prefix+key]=value,this},remove:function(key){var property=prefix+key;return property in this&&delete this[property]},clear:function(){for(var property in this)property[0]===prefix&&delete this[property]},keys:function(){var keys=[];for(var property in this)property[0]===prefix&&keys.push(property.slice(1));return keys},values:function(){var values=[];for(var property in this)property[0]===prefix&&values.push(this[property]);return values},entries:function(){var entries=[];for(var property in this)property[0]===prefix&&entries.push({key:property.slice(1),value:this[property]});return entries},size:function(){var size=0;for(var property in this)property[0]===prefix&&++size;return size},empty:function(){for(var property in this)if(property[0]===prefix)return!1;return!0},each:function(f){for(var property in this)property[0]===prefix&&f(this[property],property.slice(1),this)}},__webpack_exports__.a=map},function(module,__webpack_exports__,__webpack_require__){"use strict";function Color(){}function color(format){var m;return format=(format+"").trim().toLowerCase(),(m=reHex3.exec(format))?(m=parseInt(m[1],16),new Rgb(m>>8&15|m>>4&240,m>>4&15|240&m,(15&m)<<4|15&m,1)):(m=reHex6.exec(format))?rgbn(parseInt(m[1],16)):(m=reRgbInteger.exec(format))?new Rgb(m[1],m[2],m[3],1):(m=reRgbPercent.exec(format))?new Rgb(255*m[1]/100,255*m[2]/100,255*m[3]/100,1):(m=reRgbaInteger.exec(format))?rgba(m[1],m[2],m[3],m[4]):(m=reRgbaPercent.exec(format))?rgba(255*m[1]/100,255*m[2]/100,255*m[3]/100,m[4]):(m=reHslPercent.exec(format))?hsla(m[1],m[2]/100,m[3]/100,1):(m=reHslaPercent.exec(format))?hsla(m[1],m[2]/100,m[3]/100,m[4]):named.hasOwnProperty(format)?rgbn(named[format]):"transparent"===format?new Rgb(NaN,NaN,NaN,0):null}function rgbn(n){return new Rgb(n>>16&255,n>>8&255,255&n,1)}function rgba(r,g,b,a){return a<=0&&(r=g=b=NaN),new Rgb(r,g,b,a)}function rgbConvert(o){return o instanceof Color||(o=color(o)),o?(o=o.rgb(),new Rgb(o.r,o.g,o.b,o.opacity)):new Rgb}function rgb(r,g,b,opacity){return 1===arguments.length?rgbConvert(r):new Rgb(r,g,b,null==opacity?1:opacity)}function Rgb(r,g,b,opacity){this.r=+r,this.g=+g,this.b=+b,this.opacity=+opacity}function hsla(h,s,l,a){return a<=0?h=s=l=NaN:l<=0||l>=1?h=s=NaN:s<=0&&(h=NaN),new Hsl(h,s,l,a)}function hslConvert(o){if(o instanceof Hsl)return new Hsl(o.h,o.s,o.l,o.opacity);if(o instanceof Color||(o=color(o)),!o)return new Hsl;if(o instanceof Hsl)return o;o=o.rgb();var r=o.r/255,g=o.g/255,b=o.b/255,min=Math.min(r,g,b),max=Math.max(r,g,b),h=NaN,s=max-min,l=(max+min)/2;return s?(h=r===max?(g-b)/s+6*(g<b):g===max?(b-r)/s+2:(r-g)/s+4,s/=l<.5?max+min:2-max-min,h*=60):s=l>0&&l<1?0:h,new Hsl(h,s,l,o.opacity)}function hsl(h,s,l,opacity){return 1===arguments.length?hslConvert(h):new Hsl(h,s,l,null==opacity?1:opacity)}function Hsl(h,s,l,opacity){this.h=+h,this.s=+s,this.l=+l,this.opacity=+opacity}function hsl2rgb(h,m1,m2){return 255*(h<60?m1+(m2-m1)*h/60:h<180?m2:h<240?m1+(m2-m1)*(240-h)/60:m1)}var __WEBPACK_IMPORTED_MODULE_0__define__=__webpack_require__(33);__webpack_exports__.f=Color,__webpack_require__.d(__webpack_exports__,"h",function(){return darker}),__webpack_require__.d(__webpack_exports__,"g",function(){return brighter}),__webpack_exports__.a=color,__webpack_exports__.e=rgbConvert,__webpack_exports__.b=rgb,__webpack_exports__.d=Rgb,__webpack_exports__.c=hsl;var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex3=/^#([0-9a-f]{3})$/,reHex6=/^#([0-9a-f]{6})$/,reRgbInteger=new RegExp("^rgb\\("+[reI,reI,reI]+"\\)$"),reRgbPercent=new RegExp("^rgb\\("+[reP,reP,reP]+"\\)$"),reRgbaInteger=new RegExp("^rgba\\("+[reI,reI,reI,reN]+"\\)$"),reRgbaPercent=new RegExp("^rgba\\("+[reP,reP,reP,reN]+"\\)$"),reHslPercent=new RegExp("^hsl\\("+[reN,reP,reP]+"\\)$"),reHslaPercent=new RegExp("^hsla\\("+[reN,reP,reP,reN]+"\\)$"),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__define__.a)(Color,color,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__define__.a)(Rgb,rgb,__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__define__.b)(Color,{brighter:function(k){return k=null==k?brighter:Math.pow(brighter,k),new Rgb(this.r*k,this.g*k,this.b*k,this.opacity)},darker:function(k){return k=null==k?darker:Math.pow(darker,k),new Rgb(this.r*k,this.g*k,this.b*k,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var a=this.opacity;return a=isNaN(a)?1:Math.max(0,Math.min(1,a)),(1===a?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===a?")":", "+a+")")}})),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__define__.a)(Hsl,hsl,__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__define__.b)(Color,{brighter:function(k){return k=null==k?brighter:Math.pow(brighter,k),new Hsl(this.h,this.s,this.l*k,this.opacity)},darker:function(k){return k=null==k?darker:Math.pow(darker,k),new Hsl(this.h,this.s,this.l*k,this.opacity)},rgb:function(){var h=this.h%360+360*(this.h<0),s=isNaN(h)||isNaN(this.s)?0:this.s,l=this.l,m2=l+(l<.5?l:1-l)*s,m1=2*l-m2;return new Rgb(hsl2rgb(h>=240?h-240:h+120,m1,m2),hsl2rgb(h,m1,m2),hsl2rgb(h<120?h+240:h-120,m1,m2),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}))},function(module,__webpack_exports__,__webpack_require__){"use strict";function extend(parent,definition){var prototype=Object.create(parent.prototype);for(var key in definition)prototype[key]=definition[key];return prototype}__webpack_exports__.b=extend,__webpack_exports__.a=function(constructor,factory,prototype){constructor.prototype=factory.prototype=prototype,prototype.constructor=constructor}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(x,p){if((i=(x=p?x.toExponential(p-1):x.toExponential()).indexOf("e"))<0)return null;var i,coefficient=x.slice(0,i);return[coefficient.length>1?coefficient[0]+coefficient.slice(2):coefficient,+x.slice(i+1)]}},function(module,__webpack_exports__,__webpack_require__){"use strict";function basis(t1,v0,v1,v2,v3){var t2=t1*t1,t3=t2*t1;return((1-3*t1+3*t2-t3)*v0+(4-6*t2+3*t3)*v1+(1+3*t1+3*t2-3*t3)*v2+t3*v3)/6}__webpack_exports__.b=basis,__webpack_exports__.a=function(values){var n=values.length-1;return function(t){var i=t<=0?t=0:t>=1?(t=1,n-1):Math.floor(t*n),v1=values[i],v2=values[i+1],v0=i>0?values[i-1]:2*v1-v2,v3=i<n-1?values[i+2]:2*v2-v1;return basis((t-i/n)*n,v0,v1,v2,v3)}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_d3_color__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_1__rgb__=__webpack_require__(65),__WEBPACK_IMPORTED_MODULE_2__array__=__webpack_require__(60),__WEBPACK_IMPORTED_MODULE_3__date__=__webpack_require__(63),__WEBPACK_IMPORTED_MODULE_4__number__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_5__object__=__webpack_require__(64),__WEBPACK_IMPORTED_MODULE_6__string__=__webpack_require__(66),__WEBPACK_IMPORTED_MODULE_7__constant__=__webpack_require__(62);__webpack_exports__.a=function(a,b){var c,t=typeof b;return null==b||"boolean"===t?__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__constant__.a)(b):("number"===t?__WEBPACK_IMPORTED_MODULE_4__number__.a:"string"===t?(c=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d3_color__.color)(b))?(b=c,__WEBPACK_IMPORTED_MODULE_1__rgb__.a):__WEBPACK_IMPORTED_MODULE_6__string__.a:b instanceof __WEBPACK_IMPORTED_MODULE_0_d3_color__.color?__WEBPACK_IMPORTED_MODULE_1__rgb__.a:b instanceof Date?__WEBPACK_IMPORTED_MODULE_3__date__.a:Array.isArray(b)?__WEBPACK_IMPORTED_MODULE_2__array__.a:isNaN(b)?__WEBPACK_IMPORTED_MODULE_5__object__.a:__WEBPACK_IMPORTED_MODULE_4__number__.a)(a,b)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(x){return function(){return x}}},function(module,__webpack_exports__,__webpack_require__){"use strict";function defaultLocale(definition){return locale=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__locale__.a)(definition),timeFormat=locale.format,timeParse=locale.parse,utcFormat=locale.utcFormat,utcParse=locale.utcParse,locale}var __WEBPACK_IMPORTED_MODULE_0__locale__=__webpack_require__(74);__webpack_require__.d(__webpack_exports__,"c",function(){return timeFormat}),__webpack_require__.d(__webpack_exports__,"a",function(){return utcFormat}),__webpack_require__.d(__webpack_exports__,"b",function(){return utcParse});var locale,timeFormat,timeParse,utcFormat,utcParse;defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_1__src_millisecond__=(__webpack_require__(1),__webpack_require__(143));__webpack_require__.d(__webpack_exports__,"t",function(){return __WEBPACK_IMPORTED_MODULE_1__src_millisecond__.a}),__webpack_require__.d(__webpack_exports__,"h",function(){return __WEBPACK_IMPORTED_MODULE_1__src_millisecond__.a});var __WEBPACK_IMPORTED_MODULE_2__src_second__=__webpack_require__(146);__webpack_require__.d(__webpack_exports__,"s",function(){return __WEBPACK_IMPORTED_MODULE_2__src_second__.a}),__webpack_require__.d(__webpack_exports__,"g",function(){return __WEBPACK_IMPORTED_MODULE_2__src_second__.a});var __WEBPACK_IMPORTED_MODULE_3__src_minute__=__webpack_require__(144);__webpack_require__.d(__webpack_exports__,"r",function(){return __WEBPACK_IMPORTED_MODULE_3__src_minute__.a});var __WEBPACK_IMPORTED_MODULE_4__src_hour__=__webpack_require__(142);__webpack_require__.d(__webpack_exports__,"q",function(){return __WEBPACK_IMPORTED_MODULE_4__src_hour__.a});var __WEBPACK_IMPORTED_MODULE_5__src_day__=__webpack_require__(141);__webpack_require__.d(__webpack_exports__,"i",function(){return __WEBPACK_IMPORTED_MODULE_5__src_day__.a});var __WEBPACK_IMPORTED_MODULE_6__src_week__=__webpack_require__(153);__webpack_require__.d(__webpack_exports__,"p",function(){return __WEBPACK_IMPORTED_MODULE_6__src_week__.a}),__webpack_require__.d(__webpack_exports__,"k",function(){return __WEBPACK_IMPORTED_MODULE_6__src_week__.a}),__webpack_require__.d(__webpack_exports__,"l",function(){return __WEBPACK_IMPORTED_MODULE_6__src_week__.b});var __WEBPACK_IMPORTED_MODULE_7__src_month__=__webpack_require__(145);__webpack_require__.d(__webpack_exports__,"o",function(){return __WEBPACK_IMPORTED_MODULE_7__src_month__.a});var __WEBPACK_IMPORTED_MODULE_8__src_year__=__webpack_require__(154);__webpack_require__.d(__webpack_exports__,"j",function(){return __WEBPACK_IMPORTED_MODULE_8__src_year__.a});var __WEBPACK_IMPORTED_MODULE_9__src_utcMinute__=__webpack_require__(149);__webpack_require__.d(__webpack_exports__,"f",function(){return __WEBPACK_IMPORTED_MODULE_9__src_utcMinute__.a});var __WEBPACK_IMPORTED_MODULE_10__src_utcHour__=__webpack_require__(148);__webpack_require__.d(__webpack_exports__,"e",function(){return __WEBPACK_IMPORTED_MODULE_10__src_utcHour__.a});var __WEBPACK_IMPORTED_MODULE_11__src_utcDay__=__webpack_require__(147);__webpack_require__.d(__webpack_exports__,"d",function(){return __WEBPACK_IMPORTED_MODULE_11__src_utcDay__.a});var __WEBPACK_IMPORTED_MODULE_12__src_utcWeek__=__webpack_require__(151);__webpack_require__.d(__webpack_exports__,"c",function(){return __WEBPACK_IMPORTED_MODULE_12__src_utcWeek__.a}),__webpack_require__.d(__webpack_exports__,"m",function(){return __WEBPACK_IMPORTED_MODULE_12__src_utcWeek__.a}),__webpack_require__.d(__webpack_exports__,"n",function(){return __WEBPACK_IMPORTED_MODULE_12__src_utcWeek__.b});var __WEBPACK_IMPORTED_MODULE_13__src_utcMonth__=__webpack_require__(150);__webpack_require__.d(__webpack_exports__,"b",function(){return __WEBPACK_IMPORTED_MODULE_13__src_utcMonth__.a});var __WEBPACK_IMPORTED_MODULE_14__src_utcYear__=__webpack_require__(152);__webpack_require__.d(__webpack_exports__,"a",function(){return __WEBPACK_IMPORTED_MODULE_14__src_utcYear__.a})},function(module,exports,__webpack_require__){"use strict";function arrayPluck(array,propertyName){var i,len,item,newArray=[];for(i=0,len=array.length;i<len;i++)item=array[i],newArray.push(item[propertyName]);return newArray}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=arrayPluck},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function arraySort(array,direction,key,emptyFirst){if((0,_isArray2.default)(array))return key=key||(0,_isNumber2.default)(key)?key:"name",array.sort(function(a,b){return(0,_isObject2.default)(a)&&(0,_isObject2.default)(b)&&(a=a[key],b=b[key]),(0,_isArray2.default)(a)&&(0,_isArray2.default)(b)&&(a=a[key],b=b[key]),(0,_isString2.default)(a)&&(0,_isString2.default)(b)?(a=a.toLowerCase(),b=b.toLowerCase(),"DESC"===direction?a<b?1:a>b?-1:0:a<b?-1:a>b?1:0):(0,_isNumber2.default)(a)&&(0,_isNumber2.default)(b)?"DESC"===direction?b-a:a-b:void 0===a||null===a?emptyFirst?-1:1:(void 0===b||null===b)&&emptyFirst?1:-1}),array}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=arraySort;var _isString=__webpack_require__(4),_isString2=_interopRequireDefault(_isString),_isNumber=__webpack_require__(42),_isNumber2=_interopRequireDefault(_isNumber),_isArray=__webpack_require__(0),_isArray2=_interopRequireDefault(_isArray),_isObject=__webpack_require__(3),_isObject2=_interopRequireDefault(_isObject)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function isNumber(param){return"number"==typeof param&&(0,_numberIsFinite2.default)(param)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=isNumber;var _numberIsFinite=__webpack_require__(202),_numberIsFinite2=_interopRequireDefault(_numberIsFinite)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return slice}),__webpack_require__.d(__webpack_exports__,"a",function(){return map});var array=Array.prototype,slice=array.slice,map=array.map},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__ascending__=__webpack_require__(11),__WEBPACK_IMPORTED_MODULE_1__bisector__=__webpack_require__(45),ascendingBisect=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__bisector__.a)(__WEBPACK_IMPORTED_MODULE_0__ascending__.a),bisectRight=ascendingBisect.right;ascendingBisect.left;__webpack_exports__.a=bisectRight},function(module,__webpack_exports__,__webpack_require__){"use strict";function ascendingComparator(f){return function(d,x){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__ascending__.a)(f(d),x)}}var __WEBPACK_IMPORTED_MODULE_0__ascending__=__webpack_require__(11);__webpack_exports__.a=function(compare){return 1===compare.length&&(compare=ascendingComparator(compare)),{left:function(a,x,lo,hi){for(null==lo&&(lo=0),null==hi&&(hi=a.length);lo<hi;){var mid=lo+hi>>>1;compare(a[mid],x)<0?lo=mid+1:hi=mid}return lo},right:function(a,x,lo,hi){for(null==lo&&(lo=0),null==hi&&(hi=a.length);lo<hi;){var mid=lo+hi>>>1;compare(a[mid],x)>0?hi=mid:lo=mid+1}return lo}}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__variance__=__webpack_require__(53);__webpack_exports__.a=function(array,f){var v=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__variance__.a)(array,f);return v?Math.sqrt(v):v}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(array,f){var a,b,c,i=-1,n=array.length;if(null==f){for(;++i<n;)if(null!=(b=array[i])&&b>=b){a=c=b;break}for(;++i<n;)null!=(b=array[i])&&(a>b&&(a=b),c<b&&(c=b))}else{for(;++i<n;)if(null!=(b=f(array[i],i,array))&&b>=b){a=c=b;break}for(;++i<n;)null!=(b=f(array[i],i,array))&&(a>b&&(a=b),c<b&&(c=b))}return[a,c]}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(array,f){var a,b,i=-1,n=array.length;if(null==f){for(;++i<n;)if(null!=(b=array[i])&&b>=b){a=b;break}for(;++i<n;)null!=(b=array[i])&&a>b&&(a=b)}else{for(;++i<n;)if(null!=(b=f(array[i],i,array))&&b>=b){a=b;break}for(;++i<n;)null!=(b=f(array[i],i,array))&&a>b&&(a=b)}return a}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(start,stop,step){start=+start,stop=+stop,step=(n=arguments.length)<2?(stop=start,start=0,1):n<3?1:+step;for(var i=-1,n=0|Math.max(0,Math.ceil((stop-start)/step)),range=new Array(n);++i<n;)range[i]=start+i*step;return range}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(values){return Math.ceil(Math.log(values.length)/Math.LN2)+1}},function(module,__webpack_exports__,__webpack_require__){"use strict";function tickStep(start,stop,count){var step0=Math.abs(stop-start)/Math.max(0,count),step1=Math.pow(10,Math.floor(Math.log(step0)/Math.LN10)),error=step0/step1;return error>=e10?step1*=10:error>=e5?step1*=5:error>=e2&&(step1*=2),stop<start?-step1:step1}var __WEBPACK_IMPORTED_MODULE_0__range__=__webpack_require__(49);__webpack_exports__.b=tickStep;var e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);__webpack_exports__.a=function(start,stop,count){var step=tickStep(start,stop,count);return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__range__.a)(Math.ceil(start/step)*step,Math.floor(stop/step)*step+step/2,step)}},function(module,__webpack_exports__,__webpack_require__){"use strict";function length(d){return d.length}var __WEBPACK_IMPORTED_MODULE_0__min__=__webpack_require__(48);__webpack_exports__.a=function(matrix){if(!(n=matrix.length))return[];for(var i=-1,m=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__min__.a)(matrix,length),transpose=new Array(m);++i<m;)for(var n,j=-1,row=transpose[i]=new Array(n);++j<n;)row[j]=matrix[j][i];return transpose}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__number__=__webpack_require__(13);__webpack_exports__.a=function(array,f){var a,d,n=array.length,m=0,s=0,i=-1,j=0;if(null==f)for(;++i<n;)isNaN(a=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__number__.a)(array[i]))||(d=a-m,m+=d/++j,s+=d*(a-m));else for(;++i<n;)isNaN(a=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__number__.a)(f(array[i],i,array)))||(d=a-m,m+=d/++j,s+=d*(a-m));if(j>1)return s/(j-1)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return deg2rad}),__webpack_require__.d(__webpack_exports__,"a",function(){return rad2deg});var deg2rad=Math.PI/180,rad2deg=180/Math.PI},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__src_defaultLocale__=__webpack_require__(106);__webpack_require__.d(__webpack_exports__,"f",function(){return __WEBPACK_IMPORTED_MODULE_0__src_defaultLocale__.a}),__webpack_require__.d(__webpack_exports__,"c",function(){return __WEBPACK_IMPORTED_MODULE_0__src_defaultLocale__.b});var __WEBPACK_IMPORTED_MODULE_2__src_formatSpecifier__=(__webpack_require__(59),__webpack_require__(57));__webpack_require__.d(__webpack_exports__,"a",function(){return __WEBPACK_IMPORTED_MODULE_2__src_formatSpecifier__.a});var __WEBPACK_IMPORTED_MODULE_3__src_precisionFixed__=__webpack_require__(110);__webpack_require__.d(__webpack_exports__,"e",function(){return __WEBPACK_IMPORTED_MODULE_3__src_precisionFixed__.a});var __WEBPACK_IMPORTED_MODULE_4__src_precisionPrefix__=__webpack_require__(111);__webpack_require__.d(__webpack_exports__,"b",function(){return __WEBPACK_IMPORTED_MODULE_4__src_precisionPrefix__.a});var __WEBPACK_IMPORTED_MODULE_5__src_precisionRound__=__webpack_require__(112);__webpack_require__.d(__webpack_exports__,"d",function(){return __WEBPACK_IMPORTED_MODULE_5__src_precisionRound__.a})},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__formatDecimal__=__webpack_require__(34);__webpack_require__.d(__webpack_exports__,"b",function(){return prefixExponent});var prefixExponent;__webpack_exports__.a=function(x,p){var d=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__formatDecimal__.a)(x,p);if(!d)return x+"";var coefficient=d[0],exponent=d[1],i=exponent-(prefixExponent=3*Math.max(-8,Math.min(8,Math.floor(exponent/3))))+1,n=coefficient.length;return i===n?coefficient:i>n?coefficient+new Array(i-n+1).join("0"):i>0?coefficient.slice(0,i)+"."+coefficient.slice(i):"0."+new Array(1-i).join("0")+__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__formatDecimal__.a)(x,Math.max(0,p+i-1))[0]}},function(module,__webpack_exports__,__webpack_require__){"use strict";function FormatSpecifier(specifier){if(!(match=re.exec(specifier)))throw new Error("invalid format: "+specifier);var match,fill=match[1]||" ",align=match[2]||">",sign=match[3]||"-",symbol=match[4]||"",zero=!!match[5],width=match[6]&&+match[6],comma=!!match[7],precision=match[8]&&+match[8].slice(1),type=match[9]||"";"n"===type?(comma=!0,type="g"):__WEBPACK_IMPORTED_MODULE_0__formatTypes__.a[type]||(type=""),(zero||"0"===fill&&"="===align)&&(zero=!0,
fill="0",align="="),this.fill=fill,this.align=align,this.sign=sign,this.symbol=symbol,this.zero=zero,this.width=width,this.comma=comma,this.precision=precision,this.type=type}var __WEBPACK_IMPORTED_MODULE_0__formatTypes__=__webpack_require__(58),re=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;__webpack_exports__.a=function(specifier){return new FormatSpecifier(specifier)},FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__formatDefault__=__webpack_require__(107),__WEBPACK_IMPORTED_MODULE_1__formatPrefixAuto__=__webpack_require__(56),__WEBPACK_IMPORTED_MODULE_2__formatRounded__=__webpack_require__(109);__webpack_exports__.a={"":__WEBPACK_IMPORTED_MODULE_0__formatDefault__.a,"%":function(x,p){return(100*x).toFixed(p)},b:function(x){return Math.round(x).toString(2)},c:function(x){return x+""},d:function(x){return Math.round(x).toString(10)},e:function(x,p){return x.toExponential(p)},f:function(x,p){return x.toFixed(p)},g:function(x,p){return x.toPrecision(p)},o:function(x){return Math.round(x).toString(8)},p:function(x,p){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__formatRounded__.a)(100*x,p)},r:__WEBPACK_IMPORTED_MODULE_2__formatRounded__.a,s:__WEBPACK_IMPORTED_MODULE_1__formatPrefixAuto__.a,X:function(x){return Math.round(x).toString(16).toUpperCase()},x:function(x){return Math.round(x).toString(16)}}},function(module,__webpack_exports__,__webpack_require__){"use strict";function identity(x){return x}var __WEBPACK_IMPORTED_MODULE_0__exponent__=__webpack_require__(21),__WEBPACK_IMPORTED_MODULE_1__formatGroup__=__webpack_require__(108),__WEBPACK_IMPORTED_MODULE_2__formatSpecifier__=__webpack_require__(57),__WEBPACK_IMPORTED_MODULE_3__formatTypes__=__webpack_require__(58),__WEBPACK_IMPORTED_MODULE_4__formatPrefixAuto__=__webpack_require__(56),prefixes=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];__webpack_exports__.a=function(locale){function newFormat(specifier){function format(value){var i,n,c,valuePrefix=prefix,valueSuffix=suffix;if("c"===type)valueSuffix=formatType(value)+valueSuffix,value="";else{value=+value;var valueNegative=(value<0||1/value<0)&&(value*=-1,!0);if(value=formatType(value,precision),valueNegative)for(i=-1,n=value.length,valueNegative=!1;++i<n;)if(c=value.charCodeAt(i),48<c&&c<58||"x"===type&&96<c&&c<103||"X"===type&&64<c&&c<71){valueNegative=!0;break}if(valuePrefix=(valueNegative?"("===sign?sign:"-":"-"===sign||"("===sign?"":sign)+valuePrefix,valueSuffix=valueSuffix+("s"===type?prefixes[8+__WEBPACK_IMPORTED_MODULE_4__formatPrefixAuto__.b/3]:"")+(valueNegative&&"("===sign?")":""),maybeSuffix)for(i=-1,n=value.length;++i<n;)if(c=value.charCodeAt(i),48>c||c>57){valueSuffix=(46===c?decimal+value.slice(i+1):value.slice(i))+valueSuffix,value=value.slice(0,i);break}}comma&&!zero&&(value=group(value,1/0));var length=valuePrefix.length+value.length+valueSuffix.length,padding=length<width?new Array(width-length+1).join(fill):"";switch(comma&&zero&&(value=group(padding+value,padding.length?width-valueSuffix.length:1/0),padding=""),align){case"<":return valuePrefix+value+valueSuffix+padding;case"=":return valuePrefix+padding+value+valueSuffix;case"^":return padding.slice(0,length=padding.length>>1)+valuePrefix+value+valueSuffix+padding.slice(length)}return padding+valuePrefix+value+valueSuffix}specifier=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__formatSpecifier__.a)(specifier);var fill=specifier.fill,align=specifier.align,sign=specifier.sign,symbol=specifier.symbol,zero=specifier.zero,width=specifier.width,comma=specifier.comma,precision=specifier.precision,type=specifier.type,prefix="$"===symbol?currency[0]:"#"===symbol&&/[boxX]/.test(type)?"0"+type.toLowerCase():"",suffix="$"===symbol?currency[1]:/[%p]/.test(type)?"%":"",formatType=__WEBPACK_IMPORTED_MODULE_3__formatTypes__.a[type],maybeSuffix=!type||/[defgprs%]/.test(type);return precision=null==precision?type?6:12:/[gprs]/.test(type)?Math.max(1,Math.min(21,precision)):Math.max(0,Math.min(20,precision)),format.toString=function(){return specifier+""},format}function formatPrefix(specifier,value){var f=newFormat((specifier=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__formatSpecifier__.a)(specifier),specifier.type="f",specifier)),e=3*Math.max(-8,Math.min(8,Math.floor(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__exponent__.a)(value)/3))),k=Math.pow(10,-e),prefix=prefixes[8+e/3];return function(value){return f(k*value)+prefix}}var group=locale.grouping&&locale.thousands?__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__formatGroup__.a)(locale.grouping,locale.thousands):identity,currency=locale.currency,decimal=locale.decimal;return{format:newFormat,formatPrefix:formatPrefix}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__value__=__webpack_require__(36);__webpack_exports__.a=function(a,b){var i,nb=b?b.length:0,na=a?Math.min(nb,a.length):0,x=new Array(nb),c=new Array(nb);for(i=0;i<na;++i)x[i]=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__value__.a)(a[i],b[i]);for(;i<nb;++i)c[i]=b[i];return function(t){for(i=0;i<na;++i)c[i]=x[i](t);return c}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__basis__=__webpack_require__(35);__webpack_exports__.a=function(values){var n=values.length;return function(t){var i=Math.floor(((t%=1)<0?++t:t)*n),v0=values[(i+n-1)%n],v1=values[i%n],v2=values[(i+1)%n],v3=values[(i+2)%n];return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__basis__.b)((t-i/n)*n,v0,v1,v2,v3)}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(x){return function(){return x}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(a,b){var d=new Date;return a=+a,b-=a,function(t){return d.setTime(a+b*t),d}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__value__=__webpack_require__(36);__webpack_exports__.a=function(a,b){var k,i={},c={};null!==a&&"object"==typeof a||(a={}),null!==b&&"object"==typeof b||(b={});for(k in b)k in a?i[k]=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__value__.a)(a[k],b[k]):c[k]=b[k];return function(t){for(k in i)c[k]=i[k](t);return c}}},function(module,__webpack_exports__,__webpack_require__){"use strict";function rgbSpline(spline){return function(colors){var i,color,n=colors.length,r=new Array(n),g=new Array(n),b=new Array(n);for(i=0;i<n;++i)color=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d3_color__.rgb)(colors[i]),r[i]=color.r||0,g[i]=color.g||0,b[i]=color.b||0;return r=spline(r),g=spline(g),b=spline(b),color.opacity=1,function(t){return color.r=r(t),color.g=g(t),color.b=b(t),color+""}}}var __WEBPACK_IMPORTED_MODULE_0_d3_color__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_1__basis__=__webpack_require__(35),__WEBPACK_IMPORTED_MODULE_2__basisClosed__=__webpack_require__(61),__WEBPACK_IMPORTED_MODULE_3__color__=__webpack_require__(15);__webpack_exports__.a=function rgbGamma(y){function rgb(start,end){var r=color((start=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d3_color__.rgb)(start)).r,(end=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d3_color__.rgb)(end)).r),g=color(start.g,end.g),b=color(start.b,end.b),opacity=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__color__.a)(start.opacity,end.opacity);return function(t){return start.r=r(t),start.g=g(t),start.b=b(t),start.opacity=opacity(t),start+""}}var color=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__color__.c)(y);return rgb.gamma=rgbGamma,rgb}(1);rgbSpline(__WEBPACK_IMPORTED_MODULE_1__basis__.a),rgbSpline(__WEBPACK_IMPORTED_MODULE_2__basisClosed__.a)},function(module,__webpack_exports__,__webpack_require__){"use strict";function zero(b){return function(){return b}}function one(b){return function(t){return b(t)+""}}var __WEBPACK_IMPORTED_MODULE_0__number__=__webpack_require__(22),reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");__webpack_exports__.a=function(a,b){var am,bm,bs,bi=reA.lastIndex=reB.lastIndex=0,i=-1,s=[],q=[];for(a+="",b+="";(am=reA.exec(a))&&(bm=reB.exec(b));)(bs=bm.index)>bi&&(bs=b.slice(bi,bs),s[i]?s[i]+=bs:s[++i]=bs),(am=am[0])===(bm=bm[0])?s[i]?s[i]+=bm:s[++i]=bm:(s[++i]=null,q.push({i:i,x:__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__number__.a)(am,bm)})),bi=reB.lastIndex;return bi<b.length&&(bs=b.slice(bi),s[i]?s[i]+=bs:s[++i]=bs),s.length<2?q[0]?one(q[0].x):zero(b):(b=q.length,function(t){for(var o,i=0;i<b;++i)s[(o=q[i]).i]=o.x(t);return s.join("")})}},function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0__src_band__=__webpack_require__(123);__webpack_require__.d(__webpack_exports__,"scaleBand",function(){return __WEBPACK_IMPORTED_MODULE_0__src_band__.a}),__webpack_require__.d(__webpack_exports__,"scalePoint",function(){return __WEBPACK_IMPORTED_MODULE_0__src_band__.b});var __WEBPACK_IMPORTED_MODULE_1__src_identity__=__webpack_require__(129);__webpack_require__.d(__webpack_exports__,"scaleIdentity",function(){return __WEBPACK_IMPORTED_MODULE_1__src_identity__.a});var __WEBPACK_IMPORTED_MODULE_2__src_linear__=__webpack_require__(17);__webpack_require__.d(__webpack_exports__,"scaleLinear",function(){return __WEBPACK_IMPORTED_MODULE_2__src_linear__.a});var __WEBPACK_IMPORTED_MODULE_3__src_log__=__webpack_require__(130);__webpack_require__.d(__webpack_exports__,"scaleLog",function(){return __WEBPACK_IMPORTED_MODULE_3__src_log__.a});var __WEBPACK_IMPORTED_MODULE_4__src_ordinal__=__webpack_require__(70);__webpack_require__.d(__webpack_exports__,"scaleOrdinal",function(){return __WEBPACK_IMPORTED_MODULE_4__src_ordinal__.a}),__webpack_require__.d(__webpack_exports__,"scaleImplicit",function(){return __WEBPACK_IMPORTED_MODULE_4__src_ordinal__.b});var __WEBPACK_IMPORTED_MODULE_5__src_pow__=__webpack_require__(131);__webpack_require__.d(__webpack_exports__,"scalePow",function(){return __WEBPACK_IMPORTED_MODULE_5__src_pow__.a}),__webpack_require__.d(__webpack_exports__,"scaleSqrt",function(){return __WEBPACK_IMPORTED_MODULE_5__src_pow__.b});var __WEBPACK_IMPORTED_MODULE_6__src_quantile__=__webpack_require__(132);__webpack_require__.d(__webpack_exports__,"scaleQuantile",function(){return __WEBPACK_IMPORTED_MODULE_6__src_quantile__.a});var __WEBPACK_IMPORTED_MODULE_7__src_quantize__=__webpack_require__(133);__webpack_require__.d(__webpack_exports__,"scaleQuantize",function(){return __WEBPACK_IMPORTED_MODULE_7__src_quantize__.a});var __WEBPACK_IMPORTED_MODULE_8__src_threshold__=__webpack_require__(136);__webpack_require__.d(__webpack_exports__,"scaleThreshold",function(){return __WEBPACK_IMPORTED_MODULE_8__src_threshold__.a});var __WEBPACK_IMPORTED_MODULE_9__src_time__=__webpack_require__(71);__webpack_require__.d(__webpack_exports__,"scaleTime",function(){return __WEBPACK_IMPORTED_MODULE_9__src_time__.a});var __WEBPACK_IMPORTED_MODULE_10__src_utcTime__=__webpack_require__(138);__webpack_require__.d(__webpack_exports__,"scaleUtc",function(){return __WEBPACK_IMPORTED_MODULE_10__src_utcTime__.a});var __WEBPACK_IMPORTED_MODULE_11__src_category10__=__webpack_require__(124);__webpack_require__.d(__webpack_exports__,"schemeCategory10",function(){return __WEBPACK_IMPORTED_MODULE_11__src_category10__.a});var __WEBPACK_IMPORTED_MODULE_12__src_category20b__=__webpack_require__(126);__webpack_require__.d(__webpack_exports__,"schemeCategory20b",function(){return __WEBPACK_IMPORTED_MODULE_12__src_category20b__.a});var __WEBPACK_IMPORTED_MODULE_13__src_category20c__=__webpack_require__(127);__webpack_require__.d(__webpack_exports__,"schemeCategory20c",function(){return __WEBPACK_IMPORTED_MODULE_13__src_category20c__.a});var __WEBPACK_IMPORTED_MODULE_14__src_category20__=__webpack_require__(125);__webpack_require__.d(__webpack_exports__,"schemeCategory20",function(){return __WEBPACK_IMPORTED_MODULE_14__src_category20__.a});var __WEBPACK_IMPORTED_MODULE_15__src_cubehelix__=__webpack_require__(128);__webpack_require__.d(__webpack_exports__,"interpolateCubehelixDefault",function(){return __WEBPACK_IMPORTED_MODULE_15__src_cubehelix__.a});var __WEBPACK_IMPORTED_MODULE_16__src_rainbow__=__webpack_require__(134);__webpack_require__.d(__webpack_exports__,"interpolateRainbow",function(){return __WEBPACK_IMPORTED_MODULE_16__src_rainbow__.a}),__webpack_require__.d(__webpack_exports__,"interpolateWarm",function(){return __WEBPACK_IMPORTED_MODULE_16__src_rainbow__.b}),__webpack_require__.d(__webpack_exports__,"interpolateCool",function(){return __WEBPACK_IMPORTED_MODULE_16__src_rainbow__.c});var __WEBPACK_IMPORTED_MODULE_17__src_viridis__=__webpack_require__(139);__webpack_require__.d(__webpack_exports__,"interpolateViridis",function(){return __WEBPACK_IMPORTED_MODULE_17__src_viridis__.a}),__webpack_require__.d(__webpack_exports__,"interpolateMagma",function(){return __WEBPACK_IMPORTED_MODULE_17__src_viridis__.b}),__webpack_require__.d(__webpack_exports__,"interpolateInferno",function(){return __WEBPACK_IMPORTED_MODULE_17__src_viridis__.c}),__webpack_require__.d(__webpack_exports__,"interpolatePlasma",function(){return __WEBPACK_IMPORTED_MODULE_17__src_viridis__.d});var __WEBPACK_IMPORTED_MODULE_18__src_sequential__=__webpack_require__(135);__webpack_require__.d(__webpack_exports__,"scaleSequential",function(){return __WEBPACK_IMPORTED_MODULE_18__src_sequential__.a})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(domain,interval){domain=domain.slice();var t,i0=0,i1=domain.length-1,x0=domain[i0],x1=domain[i1];return x1<x0&&(t=i0,i0=i1,i1=t,t=x0,x0=x1,x1=t),domain[i0]=interval.floor(x0),domain[i1]=interval.ceil(x1),domain}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(x){return+x}},function(module,__webpack_exports__,__webpack_require__){"use strict";function ordinal(range){function scale(d){var key=d+"",i=index.get(key);if(!i){if(unknown!==implicit)return unknown;index.set(key,i=domain.push(d))}return range[(i-1)%range.length]}var index=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d3_collection__.a)(),domain=[],unknown=implicit;return range=null==range?[]:__WEBPACK_IMPORTED_MODULE_1__array__.b.call(range),scale.domain=function(_){if(!arguments.length)return domain.slice();domain=[],index=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d3_collection__.a)();for(var d,key,i=-1,n=_.length;++i<n;)index.has(key=(d=_[i])+"")||index.set(key,domain.push(d));return scale},scale.range=function(_){return arguments.length?(range=__WEBPACK_IMPORTED_MODULE_1__array__.b.call(_),scale):range.slice()},scale.unknown=function(_){return arguments.length?(unknown=_,scale):unknown},scale.copy=function(){return ordinal().domain(domain).range(range).unknown(unknown)},scale}var __WEBPACK_IMPORTED_MODULE_0_d3_collection__=__webpack_require__(98),__WEBPACK_IMPORTED_MODULE_1__array__=__webpack_require__(8);__webpack_require__.d(__webpack_exports__,"b",function(){return implicit}),__webpack_exports__.a=ordinal;var implicit={name:"implicit"}},function(module,__webpack_exports__,__webpack_require__){"use strict";function date(t){return new Date(t)}function number(t){return t instanceof Date?+t:+new Date(+t)}function calendar(year,month,week,day,hour,minute,second,millisecond,format){function tickFormat(date){return(second(date)<date?formatMillisecond:minute(date)<date?formatSecond:hour(date)<date?formatMinute:day(date)<date?formatHour:month(date)<date?week(date)<date?formatDay:formatWeek:year(date)<date?formatMonth:formatYear)(date)}function tickInterval(interval,start,stop,step){if(null==interval&&(interval=10),"number"==typeof interval){var target=Math.abs(stop-start)/interval,i=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d3_array__.d)(function(i){return i[2]}).right(tickIntervals,target);i===tickIntervals.length?(step=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d3_array__.b)(start/durationYear,stop/durationYear,interval),interval=year):i?(i=tickIntervals[target/tickIntervals[i-1][2]<tickIntervals[i][2]/target?i-1:i],step=i[1],interval=i[0]):(step=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d3_array__.b)(start,stop,interval),interval=millisecond)}return null==step?interval:interval.every(step)}var scale=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__continuous__.a)(__WEBPACK_IMPORTED_MODULE_5__continuous__.b,__WEBPACK_IMPORTED_MODULE_1_d3_interpolate__.a),invert=scale.invert,domain=scale.domain,formatMillisecond=format(".%L"),formatSecond=format(":%S"),formatMinute=format("%I:%M"),formatHour=format("%I %p"),formatDay=format("%a %d"),formatWeek=format("%b %d"),formatMonth=format("%B"),formatYear=format("%Y"),tickIntervals=[[second,1,durationSecond],[second,5,5*durationSecond],[second,15,15*durationSecond],[second,30,30*durationSecond],[minute,1,durationMinute],[minute,5,5*durationMinute],[minute,15,15*durationMinute],[minute,30,30*durationMinute],[hour,1,durationHour],[hour,3,3*durationHour],[hour,6,6*durationHour],[hour,12,12*durationHour],[day,1,durationDay],[day,2,2*durationDay],[week,1,durationWeek],[month,1,durationMonth],[month,3,3*durationMonth],[year,1,durationYear]];return scale.invert=function(y){return new Date(invert(y))},scale.domain=function(_){return arguments.length?domain(__WEBPACK_IMPORTED_MODULE_4__array__.a.call(_,number)):domain().map(date)},scale.ticks=function(interval,step){var t,d=domain(),t0=d[0],t1=d[d.length-1],r=t1<t0;return r&&(t=t0,t0=t1,t1=t),t=tickInterval(interval,t0,t1,step),t=t?t.range(t0,t1+1):[],r?t.reverse():t},scale.tickFormat=function(count,specifier){return null==specifier?tickFormat:format(specifier)},scale.nice=function(interval,step){var d=domain();return(interval=tickInterval(interval,d[0],d[d.length-1],step))?domain(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__nice__.a)(d,interval)):scale},scale.copy=function(){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__continuous__.c)(scale,calendar(year,month,week,day,hour,minute,second,millisecond,format))},scale}var __WEBPACK_IMPORTED_MODULE_0_d3_array__=__webpack_require__(5),__WEBPACK_IMPORTED_MODULE_1_d3_interpolate__=__webpack_require__(14),__WEBPACK_IMPORTED_MODULE_2_d3_time__=__webpack_require__(39),__WEBPACK_IMPORTED_MODULE_3_d3_time_format__=__webpack_require__(72),__WEBPACK_IMPORTED_MODULE_4__array__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_5__continuous__=__webpack_require__(23),__WEBPACK_IMPORTED_MODULE_6__nice__=__webpack_require__(68);__webpack_exports__.b=calendar;var durationSecond=1e3,durationMinute=60*durationSecond,durationHour=60*durationMinute,durationDay=24*durationHour,durationWeek=7*durationDay,durationMonth=30*durationDay,durationYear=365*durationDay;__webpack_exports__.a=function(){return calendar(__WEBPACK_IMPORTED_MODULE_2_d3_time__.j,__WEBPACK_IMPORTED_MODULE_2_d3_time__.o,__WEBPACK_IMPORTED_MODULE_2_d3_time__.p,__WEBPACK_IMPORTED_MODULE_2_d3_time__.i,__WEBPACK_IMPORTED_MODULE_2_d3_time__.q,__WEBPACK_IMPORTED_MODULE_2_d3_time__.r,__WEBPACK_IMPORTED_MODULE_2_d3_time__.s,__WEBPACK_IMPORTED_MODULE_2_d3_time__.t,__WEBPACK_IMPORTED_MODULE_3_d3_time_format__.b).domain([new Date(2e3,0,1),new Date(2e3,0,2)])}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__src_defaultLocale__=__webpack_require__(38);__webpack_require__.d(__webpack_exports__,"b",function(){return __WEBPACK_IMPORTED_MODULE_0__src_defaultLocale__.c}),__webpack_require__.d(__webpack_exports__,"a",function(){return __WEBPACK_IMPORTED_MODULE_0__src_defaultLocale__.a});__webpack_require__(74),__webpack_require__(73),__webpack_require__(140)},function(module,__webpack_exports__,__webpack_require__){"use strict";function formatIsoNative(date){return date.toISOString()}var __WEBPACK_IMPORTED_MODULE_0__defaultLocale__=__webpack_require__(38);__webpack_require__.d(__webpack_exports__,"a",function(){return isoSpecifier});var isoSpecifier="%Y-%m-%dT%H:%M:%S.%LZ";Date.prototype.toISOString?formatIsoNative:__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__defaultLocale__.a)(isoSpecifier)},function(module,__webpack_exports__,__webpack_require__){"use strict";function localDate(d){if(0<=d.y&&d.y<100){var date=new Date(-1,d.m,d.d,d.H,d.M,d.S,d.L);return date.setFullYear(d.y),date}return new Date(d.y,d.m,d.d,d.H,d.M,d.S,d.L)}function utcDate(d){if(0<=d.y&&d.y<100){var date=new Date(Date.UTC(-1,d.m,d.d,d.H,d.M,d.S,d.L));return date.setUTCFullYear(d.y),date}return new Date(Date.UTC(d.y,d.m,d.d,d.H,d.M,d.S,d.L))}function newYear(y){return{y:y,m:0,d:1,H:0,M:0,S:0,L:0}}function formatLocale(locale){function newFormat(specifier,formats){return function(date){var c,pad,format,string=[],i=-1,j=0,n=specifier.length;for(date instanceof Date||(date=new Date(+date));++i<n;)37===specifier.charCodeAt(i)&&(string.push(specifier.slice(j,i)),null!=(pad=pads[c=specifier.charAt(++i)])?c=specifier.charAt(++i):pad="e"===c?" ":"0",(format=formats[c])&&(c=format(date,pad)),string.push(c),j=i+1);return string.push(specifier.slice(j,i)),string.join("")}}function newParse(specifier,newDate){return function(string){var d=newYear(1900),i=parseSpecifier(d,specifier,string+="",0);if(i!=string.length)return null;if("p"in d&&(d.H=d.H%12+12*d.p),"W"in d||"U"in d){"w"in d||(d.w="W"in d?1:0);var day="Z"in d?utcDate(newYear(d.y)).getUTCDay():newDate(newYear(d.y)).getDay();d.m=0,d.d="W"in d?(d.w+6)%7+7*d.W-(day+5)%7:d.w+7*d.U-(day+6)%7}return"Z"in d?(d.H+=d.Z/100|0,d.M+=d.Z%100,utcDate(d)):newDate(d)}}function parseSpecifier(d,specifier,string,j){for(var c,parse,i=0,n=specifier.length,m=string.length;i<n;){if(j>=m)return-1;if(c=specifier.charCodeAt(i++),37===c){if(c=specifier.charAt(i++),parse=parses[c in pads?specifier.charAt(i++):c],!parse||(j=parse(d,string,j))<0)return-1}else if(c!=string.charCodeAt(j++))return-1}return j}function parsePeriod(d,string,i){var n=periodRe.exec(string.slice(i));return n?(d.p=periodLookup[n[0].toLowerCase()],i+n[0].length):-1}function parseShortWeekday(d,string,i){var n=shortWeekdayRe.exec(string.slice(i));return n?(d.w=shortWeekdayLookup[n[0].toLowerCase()],i+n[0].length):-1}function parseWeekday(d,string,i){var n=weekdayRe.exec(string.slice(i));return n?(d.w=weekdayLookup[n[0].toLowerCase()],i+n[0].length):-1}function parseShortMonth(d,string,i){var n=shortMonthRe.exec(string.slice(i));return n?(d.m=shortMonthLookup[n[0].toLowerCase()],i+n[0].length):-1}function parseMonth(d,string,i){var n=monthRe.exec(string.slice(i));return n?(d.m=monthLookup[n[0].toLowerCase()],i+n[0].length):-1}function parseLocaleDateTime(d,string,i){return parseSpecifier(d,locale_dateTime,string,i)}function parseLocaleDate(d,string,i){return parseSpecifier(d,locale_date,string,i)}function parseLocaleTime(d,string,i){return parseSpecifier(d,locale_time,string,i)}function formatShortWeekday(d){return locale_shortWeekdays[d.getDay()]}function formatWeekday(d){return locale_weekdays[d.getDay()]}function formatShortMonth(d){return locale_shortMonths[d.getMonth()]}function formatMonth(d){return locale_months[d.getMonth()]}function formatPeriod(d){return locale_periods[+(d.getHours()>=12)]}function formatUTCShortWeekday(d){return locale_shortWeekdays[d.getUTCDay()]}function formatUTCWeekday(d){return locale_weekdays[d.getUTCDay()]}function formatUTCShortMonth(d){return locale_shortMonths[d.getUTCMonth()]}function formatUTCMonth(d){return locale_months[d.getUTCMonth()]}function formatUTCPeriod(d){return locale_periods[+(d.getUTCHours()>=12)]}var locale_dateTime=locale.dateTime,locale_date=locale.date,locale_time=locale.time,locale_periods=locale.periods,locale_weekdays=locale.days,locale_shortWeekdays=locale.shortDays,locale_months=locale.months,locale_shortMonths=locale.shortMonths,periodRe=formatRe(locale_periods),periodLookup=formatLookup(locale_periods),weekdayRe=formatRe(locale_weekdays),weekdayLookup=formatLookup(locale_weekdays),shortWeekdayRe=formatRe(locale_shortWeekdays),shortWeekdayLookup=formatLookup(locale_shortWeekdays),monthRe=formatRe(locale_months),monthLookup=formatLookup(locale_months),shortMonthRe=formatRe(locale_shortMonths),shortMonthLookup=formatLookup(locale_shortMonths),formats={a:formatShortWeekday,A:formatWeekday,b:formatShortMonth,B:formatMonth,c:null,d:formatDayOfMonth,e:formatDayOfMonth,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:formatPeriod,S:formatSeconds,U:formatWeekNumberSunday,w:formatWeekdayNumber,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},utcFormats={a:formatUTCShortWeekday,A:formatUTCWeekday,b:formatUTCShortMonth,B:formatUTCMonth,c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:formatUTCPeriod,S:formatUTCSeconds,U:formatUTCWeekNumberSunday,w:formatUTCWeekdayNumber,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},parses={a:parseShortWeekday,A:parseWeekday,b:parseShortMonth,B:parseMonth,c:parseLocaleDateTime,d:parseDayOfMonth,e:parseDayOfMonth,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:parsePeriod,S:parseSeconds,U:parseWeekNumberSunday,w:parseWeekdayNumber,W:parseWeekNumberMonday,x:parseLocaleDate,X:parseLocaleTime,y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};return formats.x=newFormat(locale_date,formats),formats.X=newFormat(locale_time,formats),formats.c=newFormat(locale_dateTime,formats),utcFormats.x=newFormat(locale_date,utcFormats),utcFormats.X=newFormat(locale_time,utcFormats),utcFormats.c=newFormat(locale_dateTime,utcFormats),{format:function(specifier){var f=newFormat(specifier+="",formats);return f.toString=function(){return specifier},f},parse:function(specifier){var p=newParse(specifier+="",localDate);return p.toString=function(){return specifier},p},utcFormat:function(specifier){var f=newFormat(specifier+="",utcFormats);return f.toString=function(){return specifier},f},utcParse:function(specifier){var p=newParse(specifier,utcDate);return p.toString=function(){return specifier},p}}}function pad(value,fill,width){var sign=value<0?"-":"",string=(sign?-value:value)+"",length=string.length;return sign+(length<width?new Array(width-length+1).join(fill)+string:string)}function requote(s){return s.replace(requoteRe,"\\$&")}function formatRe(names){return new RegExp("^(?:"+names.map(requote).join("|")+")","i")}function formatLookup(names){for(var map={},i=-1,n=names.length;++i<n;)map[names[i].toLowerCase()]=i;return map}function parseWeekdayNumber(d,string,i){var n=numberRe.exec(string.slice(i,i+1));return n?(d.w=+n[0],i+n[0].length):-1}function parseWeekNumberSunday(d,string,i){var n=numberRe.exec(string.slice(i));return n?(d.U=+n[0],i+n[0].length):-1}function parseWeekNumberMonday(d,string,i){var n=numberRe.exec(string.slice(i));return n?(d.W=+n[0],i+n[0].length):-1}function parseFullYear(d,string,i){var n=numberRe.exec(string.slice(i,i+4));return n?(d.y=+n[0],i+n[0].length):-1}function parseYear(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.y=+n[0]+(+n[0]>68?1900:2e3),i+n[0].length):-1}function parseZone(d,string,i){var n=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(string.slice(i,i+6));return n?(d.Z=n[1]?0:-(n[2]+(n[3]||"00")),i+n[0].length):-1}function parseMonthNumber(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.m=n[0]-1,i+n[0].length):-1}function parseDayOfMonth(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.d=+n[0],i+n[0].length):-1}function parseDayOfYear(d,string,i){var n=numberRe.exec(string.slice(i,i+3));return n?(d.m=0,d.d=+n[0],i+n[0].length):-1}function parseHour24(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.H=+n[0],i+n[0].length):-1}function parseMinutes(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.M=+n[0],i+n[0].length):-1}function parseSeconds(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.S=+n[0],i+n[0].length):-1}function parseMilliseconds(d,string,i){var n=numberRe.exec(string.slice(i,i+3));return n?(d.L=+n[0],i+n[0].length):-1}function parseLiteralPercent(d,string,i){var n=percentRe.exec(string.slice(i,i+1));return n?i+n[0].length:-1}function formatDayOfMonth(d,p){return pad(d.getDate(),p,2)}function formatHour24(d,p){return pad(d.getHours(),p,2)}function formatHour12(d,p){return pad(d.getHours()%12||12,p,2)}function formatDayOfYear(d,p){return pad(1+__WEBPACK_IMPORTED_MODULE_0_d3_time__.i.count(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d3_time__.j)(d),d),p,3)}function formatMilliseconds(d,p){return pad(d.getMilliseconds(),p,3)}function formatMonthNumber(d,p){return pad(d.getMonth()+1,p,2)}function formatMinutes(d,p){return pad(d.getMinutes(),p,2)}function formatSeconds(d,p){return pad(d.getSeconds(),p,2)}function formatWeekNumberSunday(d,p){return pad(__WEBPACK_IMPORTED_MODULE_0_d3_time__.k.count(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d3_time__.j)(d),d),p,2)}function formatWeekdayNumber(d){return d.getDay()}function formatWeekNumberMonday(d,p){return pad(__WEBPACK_IMPORTED_MODULE_0_d3_time__.l.count(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d3_time__.j)(d),d),p,2)}function formatYear(d,p){return pad(d.getFullYear()%100,p,2)}function formatFullYear(d,p){return pad(d.getFullYear()%1e4,p,4)}function formatZone(d){var z=d.getTimezoneOffset();return(z>0?"-":(z*=-1,"+"))+pad(z/60|0,"0",2)+pad(z%60,"0",2)}function formatUTCDayOfMonth(d,p){return pad(d.getUTCDate(),p,2)}function formatUTCHour24(d,p){return pad(d.getUTCHours(),p,2)}function formatUTCHour12(d,p){return pad(d.getUTCHours()%12||12,p,2)}function formatUTCDayOfYear(d,p){return pad(1+__WEBPACK_IMPORTED_MODULE_0_d3_time__.d.count(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d3_time__.a)(d),d),p,3)}function formatUTCMilliseconds(d,p){return pad(d.getUTCMilliseconds(),p,3)}function formatUTCMonthNumber(d,p){return pad(d.getUTCMonth()+1,p,2)}function formatUTCMinutes(d,p){return pad(d.getUTCMinutes(),p,2)}function formatUTCSeconds(d,p){return pad(d.getUTCSeconds(),p,2)}function formatUTCWeekNumberSunday(d,p){return pad(__WEBPACK_IMPORTED_MODULE_0_d3_time__.m.count(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d3_time__.a)(d),d),p,2)}function formatUTCWeekdayNumber(d){return d.getUTCDay()}function formatUTCWeekNumberMonday(d,p){return pad(__WEBPACK_IMPORTED_MODULE_0_d3_time__.n.count(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d3_time__.a)(d),d),p,2)}function formatUTCYear(d,p){return pad(d.getUTCFullYear()%100,p,2)}function formatUTCFullYear(d,p){return pad(d.getUTCFullYear()%1e4,p,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}var __WEBPACK_IMPORTED_MODULE_0_d3_time__=__webpack_require__(39);__webpack_exports__.a=formatLocale;var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g},function(module,exports){module.exports=function(src){"undefined"!=typeof execScript?execScript(src):eval.call(null,src)}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function clusterIcon(options){return new ClusterIcon(options)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ClusterIcon=void 0,exports.default=clusterIcon;var _leaflet=__webpack_require__(2),_leaflet2=_interopRequireDefault(_leaflet),_d3Color=__webpack_require__(6),ClusterIcon=exports.ClusterIcon=_leaflet2.default.Icon.extend({options:{className:"leaflet-cluster-icon"
},createIcon:function(oldIcon){var options=this.options;return this._div=oldIcon&&"DIV"===oldIcon.tagName?oldIcon:document.createElement("div"),this.setSize(options.size),this.setCount(options.count),this.setColor(options.color),this.setOpacity(options.opacity),this._div},setSize:function(size){this.options.iconSize=[size,size],this._setIconStyles(this._div,"icon")},setCount:function(count){var num=void 0;count>=1e3&&count<9500?num=(count/1e3).toFixed(1)+"k":count>=9500&&count<999500?num=Math.round(count/1e3)+"k":count>=999500&&count<195e4?num=(count/1e6).toFixed(1)+"M":count>195e4&&(num=Math.round(count/1e6)+"M"),this._div.innerHTML="<span>"+(num||count)+"</span>"},setColor:function(color){this._div.style.background=color,this._div.style.color=(0,_d3Color.hcl)(color).l<70?"#fff":"#000"},setOpacity:function(opacity){this._div.style.opacity=opacity},createShadow:function(){return null}})},function(module,exports,__webpack_require__){"use strict";function arrayUnique(array){for(var item,newArray=[],i=0,len=array.length;i<len;i++)item=array[i],newArray.indexOf(item)===-1&&newArray.push(item);return newArray}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=arrayUnique},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function isEmpty(param,allowEmptyString){return null==param||!allowEmptyString&&""===param||(0,_isArray2.default)(param)&&0===param.length||((0,_lodash2.default)(param)||(0,_lodash4.default)(param))&&0===param.size}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=isEmpty;var _isArray=__webpack_require__(0),_isArray2=_interopRequireDefault(_isArray),_lodash=__webpack_require__(229),_lodash2=_interopRequireDefault(_lodash),_lodash3=__webpack_require__(231),_lodash4=_interopRequireDefault(_lodash3)},function(module,exports){module.exports=function(module){return module.webpackPolyfill||(module.deprecate=function(){},module.paths=[],module.children||(module.children=[]),Object.defineProperty(module,"loaded",{enumerable:!0,get:function(){return module.l}}),Object.defineProperty(module,"id",{enumerable:!0,get:function(){return module.i}}),module.webpackPolyfill=1),module}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _getMap=__webpack_require__(195),_getMap2=_interopRequireDefault(_getMap),_getInstance=__webpack_require__(193),_getInstance2=_interopRequireDefault(_getInstance),_getLayers=__webpack_require__(194),_getLayers2=_interopRequireDefault(_getLayers),_MapLoader=__webpack_require__(192),_MapLoader2=_interopRequireDefault(_MapLoader),_LayerHandlerEvent=__webpack_require__(188),_LayerHandlerEvent2=_interopRequireDefault(_LayerHandlerEvent),_LayerHandlerFacility=__webpack_require__(190),_LayerHandlerFacility2=_interopRequireDefault(_LayerHandlerFacility),_LayerHandlerThematic=__webpack_require__(191),_LayerHandlerThematic2=_interopRequireDefault(_LayerHandlerThematic),_LayerHandlerBoundary=__webpack_require__(186),_LayerHandlerBoundary2=_interopRequireDefault(_LayerHandlerBoundary),_LayerHandlerEarthEngine=__webpack_require__(187),_LayerHandlerEarthEngine2=_interopRequireDefault(_LayerHandlerEarthEngine),_LayerHandlerExternal=__webpack_require__(189),_LayerHandlerExternal2=_interopRequireDefault(_LayerHandlerExternal),_ContextMenu=__webpack_require__(185),_ContextMenu2=_interopRequireDefault(_ContextMenu);Ext.Ajax.method="GET",Ext.isIE=/trident/.test(Ext.userAgent),Ext.isIE11=Ext.isIE&&/rv:11.0/.test(Ext.userAgent),exports.default={apiVersion:26,core:{instances:[],getMap:_getMap2.default,getInstance:_getInstance2.default,getLayers:_getLayers2.default,MapLoader:_MapLoader2.default,LayerHandlerEvent:_LayerHandlerEvent2.default,LayerHandlerFacility:_LayerHandlerFacility2.default,LayerHandlerThematic:_LayerHandlerThematic2.default,LayerHandlerBoundary:_LayerHandlerBoundary2.default,LayerHandlerEarthEngine:_LayerHandlerEarthEngine2.default,LayerHandlerExternal:_LayerHandlerExternal2.default,ContextMenu:_ContextMenu2.default},i18n:{},isDebug:!1,isSessionStorage:"sessionStorage"in window&&null!==window.sessionStorage,logg:[]}},function(module,exports){function addStylesToDom(styles,options){for(var i=0;i<styles.length;i++){var item=styles[i],domStyle=stylesInDom[item.id];if(domStyle){domStyle.refs++;for(var j=0;j<domStyle.parts.length;j++)domStyle.parts[j](item.parts[j]);for(;j<item.parts.length;j++)domStyle.parts.push(addStyle(item.parts[j],options))}else{for(var parts=[],j=0;j<item.parts.length;j++)parts.push(addStyle(item.parts[j],options));stylesInDom[item.id]={id:item.id,refs:1,parts:parts}}}}function listToStyles(list){for(var styles=[],newStyles={},i=0;i<list.length;i++){var item=list[i],id=item[0],css=item[1],media=item[2],sourceMap=item[3],part={css:css,media:media,sourceMap:sourceMap};newStyles[id]?newStyles[id].parts.push(part):styles.push(newStyles[id]={id:id,parts:[part]})}return styles}function insertStyleElement(options,styleElement){var head=getHeadElement(),lastStyleElementInsertedAtTop=styleElementsInsertedAtTop[styleElementsInsertedAtTop.length-1];if("top"===options.insertAt)lastStyleElementInsertedAtTop?lastStyleElementInsertedAtTop.nextSibling?head.insertBefore(styleElement,lastStyleElementInsertedAtTop.nextSibling):head.appendChild(styleElement):head.insertBefore(styleElement,head.firstChild),styleElementsInsertedAtTop.push(styleElement);else{if("bottom"!==options.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");head.appendChild(styleElement)}}function removeStyleElement(styleElement){styleElement.parentNode.removeChild(styleElement);var idx=styleElementsInsertedAtTop.indexOf(styleElement);idx>=0&&styleElementsInsertedAtTop.splice(idx,1)}function createStyleElement(options){var styleElement=document.createElement("style");return styleElement.type="text/css",insertStyleElement(options,styleElement),styleElement}function createLinkElement(options){var linkElement=document.createElement("link");return linkElement.rel="stylesheet",insertStyleElement(options,linkElement),linkElement}function addStyle(obj,options){var styleElement,update,remove;if(options.singleton){var styleIndex=singletonCounter++;styleElement=singletonElement||(singletonElement=createStyleElement(options)),update=applyToSingletonTag.bind(null,styleElement,styleIndex,!1),remove=applyToSingletonTag.bind(null,styleElement,styleIndex,!0)}else obj.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(styleElement=createLinkElement(options),update=updateLink.bind(null,styleElement),remove=function(){removeStyleElement(styleElement),styleElement.href&&URL.revokeObjectURL(styleElement.href)}):(styleElement=createStyleElement(options),update=applyToTag.bind(null,styleElement),remove=function(){removeStyleElement(styleElement)});return update(obj),function(newObj){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap)return;update(obj=newObj)}else remove()}}function applyToSingletonTag(styleElement,index,remove,obj){var css=remove?"":obj.css;if(styleElement.styleSheet)styleElement.styleSheet.cssText=replaceText(index,css);else{var cssNode=document.createTextNode(css),childNodes=styleElement.childNodes;childNodes[index]&&styleElement.removeChild(childNodes[index]),childNodes.length?styleElement.insertBefore(cssNode,childNodes[index]):styleElement.appendChild(cssNode)}}function applyToTag(styleElement,obj){var css=obj.css,media=obj.media;if(media&&styleElement.setAttribute("media",media),styleElement.styleSheet)styleElement.styleSheet.cssText=css;else{for(;styleElement.firstChild;)styleElement.removeChild(styleElement.firstChild);styleElement.appendChild(document.createTextNode(css))}}function updateLink(linkElement,obj){var css=obj.css,sourceMap=obj.sourceMap;sourceMap&&(css+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))+" */");var blob=new Blob([css],{type:"text/css"}),oldSrc=linkElement.href;linkElement.href=URL.createObjectURL(blob),oldSrc&&URL.revokeObjectURL(oldSrc)}var stylesInDom={},memoize=function(fn){var memo;return function(){return"undefined"==typeof memo&&(memo=fn.apply(this,arguments)),memo}},isOldIE=memoize(function(){return/msie [6-9]\b/.test(self.navigator.userAgent.toLowerCase())}),getHeadElement=memoize(function(){return document.head||document.getElementsByTagName("head")[0]}),singletonElement=null,singletonCounter=0,styleElementsInsertedAtTop=[];module.exports=function(list,options){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");options=options||{},"undefined"==typeof options.singleton&&(options.singleton=isOldIE()),"undefined"==typeof options.insertAt&&(options.insertAt="bottom");var styles=listToStyles(list);return addStylesToDom(styles,options),function(newList){for(var mayRemove=[],i=0;i<styles.length;i++){var item=styles[i],domStyle=stylesInDom[item.id];domStyle.refs--,mayRemove.push(domStyle)}if(newList){var newStyles=listToStyles(newList);addStylesToDom(newStyles,options)}for(var i=0;i<mayRemove.length;i++){var domStyle=mayRemove[i];if(0===domStyle.refs){for(var j=0;j<domStyle.parts.length;j++)domStyle.parts[j]();delete stylesInDom[domStyle.id]}}}};var replaceText=function(){var textStore=[];return function(index,replacement){return textStore[index]=replacement,textStore.filter(Boolean).join("\n")}}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(x){return function(){return x}}},function(module,__webpack_exports__,__webpack_require__){"use strict"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(43),__webpack_require__(44),__webpack_require__(82),__webpack_require__(47),__webpack_require__(85),__webpack_require__(51),__webpack_require__(50)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(x){return x}},function(module,__webpack_exports__,__webpack_require__){"use strict"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(13)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(11),__webpack_require__(13),__webpack_require__(30)},function(module,__webpack_exports__,__webpack_require__){"use strict"},function(module,__webpack_exports__,__webpack_require__){"use strict"},function(module,__webpack_exports__,__webpack_require__){"use strict"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(11)},function(module,__webpack_exports__,__webpack_require__){"use strict"},function(module,__webpack_exports__,__webpack_require__){"use strict"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(43),__webpack_require__(11),__webpack_require__(13),__webpack_require__(30)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(46)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(52)},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_2__src_map__=(__webpack_require__(101),__webpack_require__(102),__webpack_require__(31));__webpack_require__.d(__webpack_exports__,"a",function(){return __WEBPACK_IMPORTED_MODULE_2__src_map__.a});__webpack_require__(100),__webpack_require__(103),__webpack_require__(99)},function(module,__webpack_exports__,__webpack_require__){"use strict"},function(module,__webpack_exports__,__webpack_require__){"use strict"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(31)},function(module,__webpack_exports__,__webpack_require__){"use strict";function Set(){}function set(object,f){var set=new Set;if(object instanceof Set)object.each(function(value){set.add(value)});else if(object){var i=-1,n=object.length;if(null==f)for(;++i<n;)set.add(object[i]);else for(;++i<n;)set.add(f(object[i],i,object))}return set}var __WEBPACK_IMPORTED_MODULE_0__map__=__webpack_require__(31),proto=__WEBPACK_IMPORTED_MODULE_0__map__.a.prototype;Set.prototype=set.prototype={constructor:Set,has:proto.has,add:function(value){return value+="",this[__WEBPACK_IMPORTED_MODULE_0__map__.b+value]=value,this},remove:proto.remove,clear:proto.clear,values:proto.keys,size:proto.size,empty:proto.empty,each:proto.each}},function(module,__webpack_exports__,__webpack_require__){"use strict"},function(module,__webpack_exports__,__webpack_require__){"use strict";function cubehelixConvert(o){if(o instanceof Cubehelix)return new Cubehelix(o.h,o.s,o.l,o.opacity);o instanceof __WEBPACK_IMPORTED_MODULE_1__color__.d||(o=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__color__.e)(o));var r=o.r/255,g=o.g/255,b=o.b/255,l=(BC_DA*b+ED*r-EB*g)/(BC_DA+ED-EB),bl=b-l,k=(E*(g-l)-C*bl)/D,s=Math.sqrt(k*k+bl*bl)/(E*l*(1-l)),h=s?Math.atan2(k,bl)*__WEBPACK_IMPORTED_MODULE_2__math__.a-120:NaN;return new Cubehelix(h<0?h+360:h,s,l,o.opacity)}function cubehelix(h,s,l,opacity){return 1===arguments.length?cubehelixConvert(h):new Cubehelix(h,s,l,null==opacity?1:opacity)}function Cubehelix(h,s,l,opacity){this.h=+h,this.s=+s,this.l=+l,this.opacity=+opacity}var __WEBPACK_IMPORTED_MODULE_0__define__=__webpack_require__(33),__WEBPACK_IMPORTED_MODULE_1__color__=__webpack_require__(32),__WEBPACK_IMPORTED_MODULE_2__math__=__webpack_require__(54);__webpack_exports__.a=cubehelix;var A=-.14861,B=1.78277,C=-.29227,D=-.90649,E=1.97294,ED=E*D,EB=E*B,BC_DA=B*C-D*A;__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__define__.a)(Cubehelix,cubehelix,__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__define__.b)(__WEBPACK_IMPORTED_MODULE_1__color__.f,{brighter:function(k){return k=null==k?__WEBPACK_IMPORTED_MODULE_1__color__.g:Math.pow(__WEBPACK_IMPORTED_MODULE_1__color__.g,k),new Cubehelix(this.h,this.s,this.l*k,this.opacity)},darker:function(k){return k=null==k?__WEBPACK_IMPORTED_MODULE_1__color__.h:Math.pow(__WEBPACK_IMPORTED_MODULE_1__color__.h,k),new Cubehelix(this.h,this.s,this.l*k,this.opacity)},rgb:function(){var h=isNaN(this.h)?0:(this.h+120)*__WEBPACK_IMPORTED_MODULE_2__math__.b,l=+this.l,a=isNaN(this.s)?0:this.s*l*(1-l),cosh=Math.cos(h),sinh=Math.sin(h);return new __WEBPACK_IMPORTED_MODULE_1__color__.d(255*(l+a*(A*cosh+B*sinh)),255*(l+a*(C*cosh+D*sinh)),255*(l+a*(E*cosh)),this.opacity)}}))},function(module,__webpack_exports__,__webpack_require__){"use strict";function labConvert(o){if(o instanceof Lab)return new Lab(o.l,o.a,o.b,o.opacity);if(o instanceof Hcl){var h=o.h*__WEBPACK_IMPORTED_MODULE_2__math__.b;return new Lab(o.l,Math.cos(h)*o.c,Math.sin(h)*o.c,o.opacity)}o instanceof __WEBPACK_IMPORTED_MODULE_1__color__.d||(o=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__color__.e)(o));var b=rgb2xyz(o.r),a=rgb2xyz(o.g),l=rgb2xyz(o.b),x=xyz2lab((.4124564*b+.3575761*a+.1804375*l)/Xn),y=xyz2lab((.2126729*b+.7151522*a+.072175*l)/Yn),z=xyz2lab((.0193339*b+.119192*a+.9503041*l)/Zn);return new Lab(116*y-16,500*(x-y),200*(y-z),o.opacity)}function lab(l,a,b,opacity){return 1===arguments.length?labConvert(l):new Lab(l,a,b,null==opacity?1:opacity)}function Lab(l,a,b,opacity){this.l=+l,this.a=+a,this.b=+b,this.opacity=+opacity}function xyz2lab(t){return t>t3?Math.pow(t,1/3):t/t2+t0}function lab2xyz(t){return t>t1?t*t*t:t2*(t-t0)}function xyz2rgb(x){return 255*(x<=.0031308?12.92*x:1.055*Math.pow(x,1/2.4)-.055)}function rgb2xyz(x){return(x/=255)<=.04045?x/12.92:Math.pow((x+.055)/1.055,2.4)}function hclConvert(o){if(o instanceof Hcl)return new Hcl(o.h,o.c,o.l,o.opacity);o instanceof Lab||(o=labConvert(o));var h=Math.atan2(o.b,o.a)*__WEBPACK_IMPORTED_MODULE_2__math__.a;return new Hcl(h<0?h+360:h,Math.sqrt(o.a*o.a+o.b*o.b),o.l,o.opacity)}function hcl(h,c,l,opacity){return 1===arguments.length?hclConvert(h):new Hcl(h,c,l,null==opacity?1:opacity)}function Hcl(h,c,l,opacity){this.h=+h,this.c=+c,this.l=+l,this.opacity=+opacity}var __WEBPACK_IMPORTED_MODULE_0__define__=__webpack_require__(33),__WEBPACK_IMPORTED_MODULE_1__color__=__webpack_require__(32),__WEBPACK_IMPORTED_MODULE_2__math__=__webpack_require__(54);__webpack_exports__.a=lab,__webpack_exports__.b=hcl;var Kn=18,Xn=.95047,Yn=1,Zn=1.08883,t0=4/29,t1=6/29,t2=3*t1*t1,t3=t1*t1*t1;__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__define__.a)(Lab,lab,__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__define__.b)(__WEBPACK_IMPORTED_MODULE_1__color__.f,{brighter:function(k){return new Lab(this.l+Kn*(null==k?1:k),this.a,this.b,this.opacity)},darker:function(k){return new Lab(this.l-Kn*(null==k?1:k),this.a,this.b,this.opacity)},rgb:function(){var y=(this.l+16)/116,x=isNaN(this.a)?y:y+this.a/500,z=isNaN(this.b)?y:y-this.b/200;return y=Yn*lab2xyz(y),x=Xn*lab2xyz(x),z=Zn*lab2xyz(z),new __WEBPACK_IMPORTED_MODULE_1__color__.d(xyz2rgb(3.2404542*x-1.5371385*y-.4985314*z),xyz2rgb(-.969266*x+1.8760108*y+.041556*z),xyz2rgb(.0556434*x-.2040259*y+1.0572252*z),this.opacity)}})),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__define__.a)(Hcl,hcl,__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__define__.b)(__WEBPACK_IMPORTED_MODULE_1__color__.f,{brighter:function(k){return new Hcl(this.h,this.c,this.l+Kn*(null==k?1:k),this.opacity)},darker:function(k){return new Hcl(this.h,this.c,this.l-Kn*(null==k?1:k),this.opacity)},rgb:function(){return labConvert(this).rgb()}}))},function(module,__webpack_exports__,__webpack_require__){"use strict";function defaultLocale(definition){return locale=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__locale__.a)(definition),format=locale.format,formatPrefix=locale.formatPrefix,locale}var __WEBPACK_IMPORTED_MODULE_0__locale__=__webpack_require__(59);__webpack_require__.d(__webpack_exports__,"a",function(){return format}),__webpack_require__.d(__webpack_exports__,"b",function(){return formatPrefix});var locale,format,formatPrefix;defaultLocale({decimal:".",thousands:",",grouping:[3],currency:["$",""]})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(x,p){x=x.toPrecision(p);out:for(var i1,n=x.length,i=1,i0=-1;i<n;++i)switch(x[i]){case".":i0=i1=i;break;case"0":0===i0&&(i0=i),i1=i;break;case"e":break out;default:i0>0&&(i0=0)}return i0>0?x.slice(0,i0)+x.slice(i1+1):x}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(grouping,thousands){return function(value,width){for(var i=value.length,t=[],j=0,g=grouping[0],length=0;i>0&&g>0&&(length+g+1>width&&(g=Math.max(1,width-length)),t.push(value.substring(i-=g,i+g)),!((length+=g+1)>width));)g=grouping[j=(j+1)%grouping.length];return t.reverse().join(thousands)}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__formatDecimal__=__webpack_require__(34);__webpack_exports__.a=function(x,p){var d=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__formatDecimal__.a)(x,p);if(!d)return x+"";var coefficient=d[0],exponent=d[1];return exponent<0?"0."+new Array(-exponent).join("0")+coefficient:coefficient.length>exponent+1?coefficient.slice(0,exponent+1)+"."+coefficient.slice(exponent+1):coefficient+new Array(exponent-coefficient.length+2).join("0")}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__exponent__=__webpack_require__(21);__webpack_exports__.a=function(step){return Math.max(0,-__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__exponent__.a)(Math.abs(step)))}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__exponent__=__webpack_require__(21);__webpack_exports__.a=function(step,value){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__exponent__.a)(value)/3)))-__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__exponent__.a)(Math.abs(step)))}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__exponent__=__webpack_require__(21);__webpack_exports__.a=function(step,max){return step=Math.abs(step),max=Math.abs(max)-step,Math.max(0,__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__exponent__.a)(max)-__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__exponent__.a)(step))+1}},function(module,__webpack_exports__,__webpack_require__){"use strict";function cubehelix(hue){return function cubehelixGamma(y){function cubehelix(start,end){var h=hue((start=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d3_color__.cubehelix)(start)).h,(end=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d3_color__.cubehelix)(end)).h),s=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__color__.a)(start.s,end.s),l=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__color__.a)(start.l,end.l),opacity=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__color__.a)(start.opacity,end.opacity);return function(t){return start.h=h(t),start.s=s(t),start.l=l(Math.pow(t,y)),start.opacity=opacity(t),start+""}}return y=+y,cubehelix.gamma=cubehelixGamma,cubehelix}(1)}var __WEBPACK_IMPORTED_MODULE_0_d3_color__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_1__color__=__webpack_require__(15);__webpack_require__.d(__webpack_exports__,"a",function(){return cubehelixLong});var cubehelixLong=(cubehelix(__WEBPACK_IMPORTED_MODULE_1__color__.b),cubehelix(__WEBPACK_IMPORTED_MODULE_1__color__.a))},function(module,__webpack_exports__,__webpack_require__){"use strict";function hcl(hue){return function(start,end){var h=hue((start=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d3_color__.hcl)(start)).h,(end=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d3_color__.hcl)(end)).h),c=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__color__.a)(start.c,end.c),l=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__color__.a)(start.l,end.l),opacity=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__color__.a)(start.opacity,end.opacity);return function(t){return start.h=h(t),start.c=c(t),start.l=l(t),start.opacity=opacity(t),start+""}}}var __WEBPACK_IMPORTED_MODULE_0_d3_color__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_1__color__=__webpack_require__(15);hcl(__WEBPACK_IMPORTED_MODULE_1__color__.b),hcl(__WEBPACK_IMPORTED_MODULE_1__color__.a)},function(module,__webpack_exports__,__webpack_require__){"use strict";function hsl(hue){return function(start,end){var h=hue((start=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d3_color__.hsl)(start)).h,(end=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d3_color__.hsl)(end)).h),s=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__color__.a)(start.s,end.s),l=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__color__.a)(start.l,end.l),opacity=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__color__.a)(start.opacity,end.opacity);return function(t){return start.h=h(t),start.s=s(t),start.l=l(t),start.opacity=opacity(t),start+""}}}var __WEBPACK_IMPORTED_MODULE_0_d3_color__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_1__color__=__webpack_require__(15);hsl(__WEBPACK_IMPORTED_MODULE_1__color__.b),hsl(__WEBPACK_IMPORTED_MODULE_1__color__.a)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(6),__webpack_require__(15)},function(module,__webpack_exports__,__webpack_require__){"use strict"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(a,b){return a=+a,b-=a,function(t){return Math.round(a+b*t)}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return identity});var degrees=180/Math.PI,identity={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};__webpack_exports__.b=function(a,b,c,d,e,f){var scaleX,scaleY,skewX;return(scaleX=Math.sqrt(a*a+b*b))&&(a/=scaleX,b/=scaleX),(skewX=a*c+b*d)&&(c-=a*skewX,d-=b*skewX),(scaleY=Math.sqrt(c*c+d*d))&&(c/=scaleY,d/=scaleY,skewX/=scaleY),a*d<b*c&&(a=-a,b=-b,skewX=-skewX,scaleX=-scaleX),{translateX:e,translateY:f,rotate:Math.atan2(b,a)*degrees,skewX:Math.atan(skewX)*degrees,scaleX:scaleX,scaleY:scaleY}}},function(module,__webpack_exports__,__webpack_require__){"use strict";function interpolateTransform(parse,pxComma,pxParen,degParen){function pop(s){return s.length?s.pop()+" ":""}function translate(xa,ya,xb,yb,s,q){if(xa!==xb||ya!==yb){var i=s.push("translate(",null,pxComma,null,pxParen);q.push({i:i-4,x:__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__number__.a)(xa,xb)},{i:i-2,x:__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__number__.a)(ya,yb)})}else(xb||yb)&&s.push("translate("+xb+pxComma+yb+pxParen)}function rotate(a,b,s,q){a!==b?(a-b>180?b+=360:b-a>180&&(a+=360),q.push({i:s.push(pop(s)+"rotate(",null,degParen)-2,x:__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__number__.a)(a,b)})):b&&s.push(pop(s)+"rotate("+b+degParen)}function skewX(a,b,s,q){a!==b?q.push({i:s.push(pop(s)+"skewX(",null,degParen)-2,x:__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__number__.a)(a,b)}):b&&s.push(pop(s)+"skewX("+b+degParen)}function scale(xa,ya,xb,yb,s,q){if(xa!==xb||ya!==yb){var i=s.push(pop(s)+"scale(",null,",",null,")");q.push({i:i-4,x:__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__number__.a)(xa,xb)},{i:i-2,x:__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__number__.a)(ya,yb)})}else 1===xb&&1===yb||s.push(pop(s)+"scale("+xb+","+yb+")")}return function(a,b){var s=[],q=[];return a=parse(a),b=parse(b),translate(a.translateX,a.translateY,b.translateX,b.translateY,s,q),rotate(a.rotate,b.rotate,s,q),skewX(a.skewX,b.skewX,s,q),scale(a.scaleX,a.scaleY,b.scaleX,b.scaleY,s,q),a=b=null,function(t){for(var o,i=-1,n=q.length;++i<n;)s[(o=q[i]).i]=o.x(t);return s.join("")}}}var __WEBPACK_IMPORTED_MODULE_0__number__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_1__parse__=__webpack_require__(121);interpolateTransform(__WEBPACK_IMPORTED_MODULE_1__parse__.a,"px, ","px)","deg)"),interpolateTransform(__WEBPACK_IMPORTED_MODULE_1__parse__.b,", ",")",")")},function(module,__webpack_exports__,__webpack_require__){"use strict";function parseCss(value){return"none"===value?__WEBPACK_IMPORTED_MODULE_0__decompose__.a:(cssNode||(cssNode=document.createElement("DIV"),cssRoot=document.documentElement,cssView=document.defaultView),cssNode.style.transform=value,value=cssView.getComputedStyle(cssRoot.appendChild(cssNode),null).getPropertyValue("transform"),cssRoot.removeChild(cssNode),value=value.slice(7,-1).split(","),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__decompose__.b)(+value[0],+value[1],+value[2],+value[3],+value[4],+value[5]))}function parseSvg(value){return null==value?__WEBPACK_IMPORTED_MODULE_0__decompose__.a:(svgNode||(svgNode=document.createElementNS("http://www.w3.org/2000/svg","g")),svgNode.setAttribute("transform",value),(value=svgNode.transform.baseVal.consolidate())?(value=value.matrix,__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__decompose__.b)(value.a,value.b,value.c,value.d,value.e,value.f)):__WEBPACK_IMPORTED_MODULE_0__decompose__.a)}var __WEBPACK_IMPORTED_MODULE_0__decompose__=__webpack_require__(119);__webpack_exports__.a=parseCss,__webpack_exports__.b=parseSvg;var cssNode,cssRoot,cssView,svgNode},function(module,__webpack_exports__,__webpack_require__){"use strict";Math.SQRT2},function(module,__webpack_exports__,__webpack_require__){"use strict";function band(){function rescale(){var n=domain().length,reverse=range[1]<range[0],start=range[reverse-0],stop=range[1-reverse];step=(stop-start)/Math.max(1,n-paddingInner+2*paddingOuter),round&&(step=Math.floor(step)),start+=(stop-start-step*(n-paddingInner))*align,bandwidth=step*(1-paddingInner),round&&(start=Math.round(start),bandwidth=Math.round(bandwidth));var values=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d3_array__.g)(n).map(function(i){return start+step*i});return ordinalRange(reverse?values.reverse():values)}var step,bandwidth,scale=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__ordinal__.a)().unknown(void 0),domain=scale.domain,ordinalRange=scale.range,range=[0,1],round=!1,paddingInner=0,paddingOuter=0,align=.5;return delete scale.unknown,scale.domain=function(_){return arguments.length?(domain(_),rescale()):domain()},scale.range=function(_){return arguments.length?(range=[+_[0],+_[1]],rescale()):range.slice()},scale.rangeRound=function(_){return range=[+_[0],+_[1]],round=!0,rescale()},scale.bandwidth=function(){return bandwidth},scale.step=function(){return step},scale.round=function(_){return arguments.length?(round=!!_,rescale()):round},scale.padding=function(_){return arguments.length?(paddingInner=paddingOuter=Math.max(0,Math.min(1,_)),rescale()):paddingInner},scale.paddingInner=function(_){return arguments.length?(paddingInner=Math.max(0,Math.min(1,_)),rescale()):paddingInner},scale.paddingOuter=function(_){return arguments.length?(paddingOuter=Math.max(0,Math.min(1,_)),rescale()):paddingOuter},scale.align=function(_){return arguments.length?(align=Math.max(0,Math.min(1,_)),rescale()):align},scale.copy=function(){return band().domain(domain()).range(range).round(round).paddingInner(paddingInner).paddingOuter(paddingOuter).align(align)},rescale()}function pointish(scale){var copy=scale.copy;return scale.padding=scale.paddingOuter,delete scale.paddingInner,delete scale.paddingOuter,scale.copy=function(){return pointish(copy())},scale}function point(){return pointish(band().paddingInner(1))}var __WEBPACK_IMPORTED_MODULE_0_d3_array__=__webpack_require__(5),__WEBPACK_IMPORTED_MODULE_1__ordinal__=__webpack_require__(70);__webpack_exports__.a=band,__webpack_exports__.b=point},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__colors__=__webpack_require__(16);__webpack_exports__.a=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__colors__.a)("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf")},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__colors__=__webpack_require__(16);__webpack_exports__.a=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__colors__.a)("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5")},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__colors__=__webpack_require__(16);__webpack_exports__.a=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__colors__.a)("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6")},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__colors__=__webpack_require__(16);__webpack_exports__.a=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__colors__.a)("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9")},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_d3_color__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_1_d3_interpolate__=__webpack_require__(14);__webpack_exports__.a=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_d3_interpolate__.d)(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d3_color__.cubehelix)(300,.5,0),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d3_color__.cubehelix)(-240,.5,1))},function(module,__webpack_exports__,__webpack_require__){"use strict";function identity(){function scale(x){return+x}var domain=[0,1];return scale.invert=scale,scale.domain=scale.range=function(_){return arguments.length?(domain=__WEBPACK_IMPORTED_MODULE_0__array__.a.call(_,__WEBPACK_IMPORTED_MODULE_2__number__.a),scale):domain.slice()},scale.copy=function(){return identity().domain(domain)},
__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__linear__.b)(scale)}var __WEBPACK_IMPORTED_MODULE_0__array__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_1__linear__=__webpack_require__(17),__WEBPACK_IMPORTED_MODULE_2__number__=__webpack_require__(69);__webpack_exports__.a=identity},function(module,__webpack_exports__,__webpack_require__){"use strict";function deinterpolate(a,b){return(b=Math.log(b/a))?function(x){return Math.log(x/a)/b}:__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__constant__.a)(b)}function reinterpolate(a,b){return a<0?function(t){return-Math.pow(-b,t)*Math.pow(-a,1-t)}:function(t){return Math.pow(b,t)*Math.pow(a,1-t)}}function pow10(x){return isFinite(x)?+("1e"+x):x<0?0:x}function powp(base){return 10===base?pow10:base===Math.E?Math.exp:function(x){return Math.pow(base,x)}}function logp(base){return base===Math.E?Math.log:10===base&&Math.log10||2===base&&Math.log2||(base=Math.log(base),function(x){return Math.log(x)/base})}function reflect(f){return function(x){return-f(-x)}}function log(){function rescale(){return logs=logp(base),pows=powp(base),domain()[0]<0&&(logs=reflect(logs),pows=reflect(pows)),scale}var scale=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__continuous__.a)(deinterpolate,reinterpolate).domain([1,10]),domain=scale.domain,base=10,logs=logp(10),pows=powp(10);return scale.base=function(_){return arguments.length?(base=+_,rescale()):base},scale.domain=function(_){return arguments.length?(domain(_),rescale()):domain()},scale.ticks=function(count){var r,d=domain(),u=d[0],v=d[d.length-1];(r=v<u)&&(i=u,u=v,v=i);var p,k,t,i=logs(u),j=logs(v),n=null==count?10:+count,z=[];if(!(base%1)&&j-i<n){if(i=Math.round(i)-1,j=Math.round(j)+1,u>0){for(;i<j;++i)for(k=1,p=pows(i);k<base;++k)if(t=p*k,!(t<u)){if(t>v)break;z.push(t)}}else for(;i<j;++i)for(k=base-1,p=pows(i);k>=1;--k)if(t=p*k,!(t<u)){if(t>v)break;z.push(t)}}else z=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d3_array__.a)(i,j,Math.min(j-i,n)).map(pows);return r?z.reverse():z},scale.tickFormat=function(count,specifier){if(null==specifier&&(specifier=10===base?".0e":","),"function"!=typeof specifier&&(specifier=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_d3_format__.f)(specifier)),count===1/0)return specifier;null==count&&(count=10);var k=Math.max(1,base*count/scale.ticks().length);return function(d){var i=d/pows(Math.round(logs(d)));return i*base<base-.5&&(i*=base),i<=k?specifier(d):""}},scale.nice=function(){return domain(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__nice__.a)(domain(),{floor:function(x){return pows(Math.floor(logs(x)))},ceil:function(x){return pows(Math.ceil(logs(x)))}}))},scale.copy=function(){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__continuous__.c)(scale,log().base(base))},scale}var __WEBPACK_IMPORTED_MODULE_0_d3_array__=__webpack_require__(5),__WEBPACK_IMPORTED_MODULE_1_d3_format__=__webpack_require__(55),__WEBPACK_IMPORTED_MODULE_2__constant__=__webpack_require__(37),__WEBPACK_IMPORTED_MODULE_3__nice__=__webpack_require__(68),__WEBPACK_IMPORTED_MODULE_4__continuous__=__webpack_require__(23);__webpack_exports__.a=log},function(module,__webpack_exports__,__webpack_require__){"use strict";function raise(x,exponent){return x<0?-Math.pow(-x,exponent):Math.pow(x,exponent)}function pow(){function deinterpolate(a,b){return(b=raise(b,exponent)-(a=raise(a,exponent)))?function(x){return(raise(x,exponent)-a)/b}:__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__constant__.a)(b)}function reinterpolate(a,b){return b=raise(b,exponent)-(a=raise(a,exponent)),function(t){return raise(a+b*t,1/exponent)}}var exponent=1,scale=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__continuous__.a)(deinterpolate,reinterpolate),domain=scale.domain;return scale.exponent=function(_){return arguments.length?(exponent=+_,domain(domain())):exponent},scale.copy=function(){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__continuous__.c)(scale,pow().exponent(exponent))},__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__linear__.b)(scale)}function sqrt(){return pow().exponent(.5)}var __WEBPACK_IMPORTED_MODULE_0__constant__=__webpack_require__(37),__WEBPACK_IMPORTED_MODULE_1__linear__=__webpack_require__(17),__WEBPACK_IMPORTED_MODULE_2__continuous__=__webpack_require__(23);__webpack_exports__.a=pow,__webpack_exports__.b=sqrt},function(module,__webpack_exports__,__webpack_require__){"use strict";function quantile(){function rescale(){var i=0,n=Math.max(1,range.length);for(thresholds=new Array(n-1);++i<n;)thresholds[i-1]=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d3_array__.e)(domain,i/n);return scale}function scale(x){if(!isNaN(x=+x))return range[__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d3_array__.c)(thresholds,x)]}var domain=[],range=[],thresholds=[];return scale.invertExtent=function(y){var i=range.indexOf(y);return i<0?[NaN,NaN]:[i>0?thresholds[i-1]:domain[0],i<thresholds.length?thresholds[i]:domain[domain.length-1]]},scale.domain=function(_){if(!arguments.length)return domain.slice();domain=[];for(var d,i=0,n=_.length;i<n;++i)d=_[i],null==d||isNaN(d=+d)||domain.push(d);return domain.sort(__WEBPACK_IMPORTED_MODULE_0_d3_array__.f),rescale()},scale.range=function(_){return arguments.length?(range=__WEBPACK_IMPORTED_MODULE_1__array__.b.call(_),rescale()):range.slice()},scale.quantiles=function(){return thresholds.slice()},scale.copy=function(){return quantile().domain(domain).range(range)},scale}var __WEBPACK_IMPORTED_MODULE_0_d3_array__=__webpack_require__(5),__WEBPACK_IMPORTED_MODULE_1__array__=__webpack_require__(8);__webpack_exports__.a=quantile},function(module,__webpack_exports__,__webpack_require__){"use strict";function quantize(){function scale(x){if(x<=x)return range[__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d3_array__.c)(domain,x,0,n)]}function rescale(){var i=-1;for(domain=new Array(n);++i<n;)domain[i]=((i+1)*x1-(i-n)*x0)/(n+1);return scale}var x0=0,x1=1,n=1,domain=[.5],range=[0,1];return scale.domain=function(_){return arguments.length?(x0=+_[0],x1=+_[1],rescale()):[x0,x1]},scale.range=function(_){return arguments.length?(n=(range=__WEBPACK_IMPORTED_MODULE_1__array__.b.call(_)).length-1,rescale()):range.slice()},scale.invertExtent=function(y){var i=range.indexOf(y);return i<0?[NaN,NaN]:i<1?[x0,domain[0]]:i>=n?[domain[n-1],x1]:[domain[i-1],domain[i]]},scale.copy=function(){return quantize().domain([x0,x1]).range(range)},__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__linear__.b)(scale)}var __WEBPACK_IMPORTED_MODULE_0_d3_array__=__webpack_require__(5),__WEBPACK_IMPORTED_MODULE_1__array__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_2__linear__=__webpack_require__(17);__webpack_exports__.a=quantize},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_d3_color__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_1_d3_interpolate__=__webpack_require__(14);__webpack_require__.d(__webpack_exports__,"b",function(){return warm}),__webpack_require__.d(__webpack_exports__,"c",function(){return cool});var warm=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_d3_interpolate__.d)(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d3_color__.cubehelix)(-100,.75,.35),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d3_color__.cubehelix)(80,1.5,.8)),cool=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_d3_interpolate__.d)(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d3_color__.cubehelix)(260,.75,.35),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d3_color__.cubehelix)(80,1.5,.8)),rainbow=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d3_color__.cubehelix)();__webpack_exports__.a=function(t){(t<0||t>1)&&(t-=Math.floor(t));var ts=Math.abs(t-.5);return rainbow.h=360*t-100,rainbow.s=1.5-1.5*ts,rainbow.l=.8-.9*ts,rainbow+""}},function(module,__webpack_exports__,__webpack_require__){"use strict";function sequential(interpolator){function scale(x){var t=(x-x0)/(x1-x0);return interpolator(clamp?Math.max(0,Math.min(1,t)):t)}var x0=0,x1=1,clamp=!1;return scale.domain=function(_){return arguments.length?(x0=+_[0],x1=+_[1],scale):[x0,x1]},scale.clamp=function(_){return arguments.length?(clamp=!!_,scale):clamp},scale.interpolator=function(_){return arguments.length?(interpolator=_,scale):interpolator},scale.copy=function(){return sequential(interpolator).domain([x0,x1]).clamp(clamp)},__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__linear__.b)(scale)}var __WEBPACK_IMPORTED_MODULE_0__linear__=__webpack_require__(17);__webpack_exports__.a=sequential},function(module,__webpack_exports__,__webpack_require__){"use strict";function threshold(){function scale(x){if(x<=x)return range[__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d3_array__.c)(domain,x,0,n)]}var domain=[.5],range=[0,1],n=1;return scale.domain=function(_){return arguments.length?(domain=__WEBPACK_IMPORTED_MODULE_1__array__.b.call(_),n=Math.min(domain.length,range.length-1),scale):domain.slice()},scale.range=function(_){return arguments.length?(range=__WEBPACK_IMPORTED_MODULE_1__array__.b.call(_),n=Math.min(domain.length,range.length-1),scale):range.slice()},scale.invertExtent=function(y){var i=range.indexOf(y);return[domain[i-1],domain[i]]},scale.copy=function(){return threshold().domain(domain).range(range)},scale}var __WEBPACK_IMPORTED_MODULE_0_d3_array__=__webpack_require__(5),__WEBPACK_IMPORTED_MODULE_1__array__=__webpack_require__(8);__webpack_exports__.a=threshold},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_d3_array__=__webpack_require__(5),__WEBPACK_IMPORTED_MODULE_1_d3_format__=__webpack_require__(55);__webpack_exports__.a=function(domain,count,specifier){var precision,start=domain[0],stop=domain[domain.length-1],step=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d3_array__.b)(start,stop,null==count?10:count);switch(specifier=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_d3_format__.a)(null==specifier?",f":specifier),specifier.type){case"s":var value=Math.max(Math.abs(start),Math.abs(stop));return null!=specifier.precision||isNaN(precision=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_d3_format__.b)(step,value))||(specifier.precision=precision),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_d3_format__.c)(specifier,value);case"":case"e":case"g":case"p":case"r":null!=specifier.precision||isNaN(precision=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_d3_format__.d)(step,Math.max(Math.abs(start),Math.abs(stop))))||(specifier.precision=precision-("e"===specifier.type));break;case"f":case"%":null!=specifier.precision||isNaN(precision=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_d3_format__.e)(step))||(specifier.precision=precision-2*("%"===specifier.type))}return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_d3_format__.f)(specifier)}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__time__=__webpack_require__(71),__WEBPACK_IMPORTED_MODULE_1_d3_time_format__=__webpack_require__(72),__WEBPACK_IMPORTED_MODULE_2_d3_time__=__webpack_require__(39);__webpack_exports__.a=function(){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__time__.b)(__WEBPACK_IMPORTED_MODULE_2_d3_time__.a,__WEBPACK_IMPORTED_MODULE_2_d3_time__.b,__WEBPACK_IMPORTED_MODULE_2_d3_time__.c,__WEBPACK_IMPORTED_MODULE_2_d3_time__.d,__WEBPACK_IMPORTED_MODULE_2_d3_time__.e,__WEBPACK_IMPORTED_MODULE_2_d3_time__.f,__WEBPACK_IMPORTED_MODULE_2_d3_time__.g,__WEBPACK_IMPORTED_MODULE_2_d3_time__.h,__WEBPACK_IMPORTED_MODULE_1_d3_time_format__.a).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])}},function(module,__webpack_exports__,__webpack_require__){"use strict";function ramp(range){var n=range.length;return function(t){return range[Math.max(0,Math.min(n-1,Math.floor(t*n)))]}}var __WEBPACK_IMPORTED_MODULE_0__colors__=__webpack_require__(16);__webpack_require__.d(__webpack_exports__,"b",function(){return magma}),__webpack_require__.d(__webpack_exports__,"c",function(){return inferno}),__webpack_require__.d(__webpack_exports__,"d",function(){return plasma}),__webpack_exports__.a=ramp(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__colors__.a)("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var magma=ramp(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__colors__.a)("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),inferno=ramp(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__colors__.a)("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),plasma=ramp(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__colors__.a)("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"))},function(module,__webpack_exports__,__webpack_require__){"use strict";function parseIsoNative(string){var date=new Date(string);return isNaN(date)?null:date}var __WEBPACK_IMPORTED_MODULE_0__isoFormat__=__webpack_require__(73),__WEBPACK_IMPORTED_MODULE_1__defaultLocale__=__webpack_require__(38);+new Date("2000-01-01T00:00:00.000Z")?parseIsoNative:__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__defaultLocale__.b)(__WEBPACK_IMPORTED_MODULE_0__isoFormat__.a)},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__interval__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_1__duration__=__webpack_require__(7),day=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__interval__.a)(function(date){date.setHours(0,0,0,0)},function(date,step){date.setDate(date.getDate()+step)},function(start,end){return(end-start-(end.getTimezoneOffset()-start.getTimezoneOffset())*__WEBPACK_IMPORTED_MODULE_1__duration__.d)/__WEBPACK_IMPORTED_MODULE_1__duration__.b},function(date){return date.getDate()-1});__webpack_exports__.a=day;day.range},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__interval__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_1__duration__=__webpack_require__(7),hour=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__interval__.a)(function(date){var offset=date.getTimezoneOffset()*__WEBPACK_IMPORTED_MODULE_1__duration__.d%__WEBPACK_IMPORTED_MODULE_1__duration__.c;offset<0&&(offset+=__WEBPACK_IMPORTED_MODULE_1__duration__.c),date.setTime(Math.floor((+date-offset)/__WEBPACK_IMPORTED_MODULE_1__duration__.c)*__WEBPACK_IMPORTED_MODULE_1__duration__.c+offset)},function(date,step){date.setTime(+date+step*__WEBPACK_IMPORTED_MODULE_1__duration__.c)},function(start,end){return(end-start)/__WEBPACK_IMPORTED_MODULE_1__duration__.c},function(date){return date.getHours()});__webpack_exports__.a=hour;hour.range},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__interval__=__webpack_require__(1),millisecond=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__interval__.a)(function(){},function(date,step){date.setTime(+date+step)},function(start,end){return end-start});millisecond.every=function(k){return k=Math.floor(k),isFinite(k)&&k>0?k>1?__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__interval__.a)(function(date){date.setTime(Math.floor(date/k)*k)},function(date,step){date.setTime(+date+step*k)},function(start,end){return(end-start)/k}):millisecond:null},__webpack_exports__.a=millisecond;millisecond.range},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__interval__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_1__duration__=__webpack_require__(7),minute=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__interval__.a)(function(date){date.setTime(Math.floor(date/__WEBPACK_IMPORTED_MODULE_1__duration__.d)*__WEBPACK_IMPORTED_MODULE_1__duration__.d)},function(date,step){date.setTime(+date+step*__WEBPACK_IMPORTED_MODULE_1__duration__.d)},function(start,end){return(end-start)/__WEBPACK_IMPORTED_MODULE_1__duration__.d},function(date){return date.getMinutes()});__webpack_exports__.a=minute;minute.range},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__interval__=__webpack_require__(1),month=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__interval__.a)(function(date){date.setDate(1),date.setHours(0,0,0,0)},function(date,step){date.setMonth(date.getMonth()+step)},function(start,end){return end.getMonth()-start.getMonth()+12*(end.getFullYear()-start.getFullYear())},function(date){return date.getMonth()});__webpack_exports__.a=month;month.range},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__interval__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_1__duration__=__webpack_require__(7),second=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__interval__.a)(function(date){date.setTime(Math.floor(date/__WEBPACK_IMPORTED_MODULE_1__duration__.e)*__WEBPACK_IMPORTED_MODULE_1__duration__.e)},function(date,step){date.setTime(+date+step*__WEBPACK_IMPORTED_MODULE_1__duration__.e)},function(start,end){return(end-start)/__WEBPACK_IMPORTED_MODULE_1__duration__.e},function(date){return date.getUTCSeconds()});__webpack_exports__.a=second;second.range},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__interval__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_1__duration__=__webpack_require__(7),utcDay=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__interval__.a)(function(date){date.setUTCHours(0,0,0,0)},function(date,step){date.setUTCDate(date.getUTCDate()+step)},function(start,end){return(end-start)/__WEBPACK_IMPORTED_MODULE_1__duration__.b},function(date){return date.getUTCDate()-1});__webpack_exports__.a=utcDay;utcDay.range},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__interval__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_1__duration__=__webpack_require__(7),utcHour=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__interval__.a)(function(date){date.setUTCMinutes(0,0,0)},function(date,step){date.setTime(+date+step*__WEBPACK_IMPORTED_MODULE_1__duration__.c)},function(start,end){return(end-start)/__WEBPACK_IMPORTED_MODULE_1__duration__.c},function(date){return date.getUTCHours()});__webpack_exports__.a=utcHour;utcHour.range},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__interval__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_1__duration__=__webpack_require__(7),utcMinute=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__interval__.a)(function(date){date.setUTCSeconds(0,0)},function(date,step){date.setTime(+date+step*__WEBPACK_IMPORTED_MODULE_1__duration__.d)},function(start,end){return(end-start)/__WEBPACK_IMPORTED_MODULE_1__duration__.d},function(date){return date.getUTCMinutes()});__webpack_exports__.a=utcMinute;utcMinute.range},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__interval__=__webpack_require__(1),utcMonth=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__interval__.a)(function(date){date.setUTCDate(1),date.setUTCHours(0,0,0,0)},function(date,step){date.setUTCMonth(date.getUTCMonth()+step)},function(start,end){return end.getUTCMonth()-start.getUTCMonth()+12*(end.getUTCFullYear()-start.getUTCFullYear())},function(date){return date.getUTCMonth()});__webpack_exports__.a=utcMonth;utcMonth.range},function(module,__webpack_exports__,__webpack_require__){"use strict";function utcWeekday(i){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__interval__.a)(function(date){date.setUTCDate(date.getUTCDate()-(date.getUTCDay()+7-i)%7),date.setUTCHours(0,0,0,0)},function(date,step){date.setUTCDate(date.getUTCDate()+7*step)},function(start,end){return(end-start)/__WEBPACK_IMPORTED_MODULE_1__duration__.a})}var __WEBPACK_IMPORTED_MODULE_0__interval__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_1__duration__=__webpack_require__(7);__webpack_require__.d(__webpack_exports__,"a",function(){return utcSunday}),__webpack_require__.d(__webpack_exports__,"b",function(){return utcMonday});var utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range,utcMonday.range,utcTuesday.range,utcWednesday.range,utcThursday.range,utcFriday.range,utcSaturday.range},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__interval__=__webpack_require__(1),utcYear=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__interval__.a)(function(date){date.setUTCMonth(0,1),date.setUTCHours(0,0,0,0)},function(date,step){date.setUTCFullYear(date.getUTCFullYear()+step)},function(start,end){return end.getUTCFullYear()-start.getUTCFullYear()},function(date){return date.getUTCFullYear()});utcYear.every=function(k){return isFinite(k=Math.floor(k))&&k>0?__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__interval__.a)(function(date){date.setUTCFullYear(Math.floor(date.getUTCFullYear()/k)*k),date.setUTCMonth(0,1),date.setUTCHours(0,0,0,0)},function(date,step){date.setUTCFullYear(date.getUTCFullYear()+step*k)}):null},__webpack_exports__.a=utcYear;utcYear.range},function(module,__webpack_exports__,__webpack_require__){"use strict";function weekday(i){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__interval__.a)(function(date){date.setDate(date.getDate()-(date.getDay()+7-i)%7),date.setHours(0,0,0,0)},function(date,step){date.setDate(date.getDate()+7*step)},function(start,end){return(end-start-(end.getTimezoneOffset()-start.getTimezoneOffset())*__WEBPACK_IMPORTED_MODULE_1__duration__.d)/__WEBPACK_IMPORTED_MODULE_1__duration__.a})}var __WEBPACK_IMPORTED_MODULE_0__interval__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_1__duration__=__webpack_require__(7);__webpack_require__.d(__webpack_exports__,"a",function(){return sunday}),__webpack_require__.d(__webpack_exports__,"b",function(){return monday});var sunday=weekday(0),monday=weekday(1),tuesday=weekday(2),wednesday=weekday(3),thursday=weekday(4),friday=weekday(5),saturday=weekday(6);sunday.range,monday.range,tuesday.range,wednesday.range,thursday.range,friday.range,saturday.range},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__interval__=__webpack_require__(1),year=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__interval__.a)(function(date){date.setMonth(0,1),date.setHours(0,0,0,0)},function(date,step){date.setFullYear(date.getFullYear()+step)},function(start,end){return end.getFullYear()-start.getFullYear()},function(date){return date.getFullYear()});year.every=function(k){return isFinite(k=Math.floor(k))&&k>0?__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__interval__.a)(function(date){date.setFullYear(Math.floor(date.getFullYear()/k)*k),date.setMonth(0,1),date.setHours(0,0,0,0)},function(date,step){date.setFullYear(date.getFullYear()+step*k)}):null},__webpack_exports__.a=year;year.range},function(module,exports,__webpack_require__){function geometry(_){var i,area=0;switch(_.type){case"Polygon":return polygonArea(_.coordinates);case"MultiPolygon":for(i=0;i<_.coordinates.length;i++)area+=polygonArea(_.coordinates[i]);return area;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(i=0;i<_.geometries.length;i++)area+=geometry(_.geometries[i]);return area}}function polygonArea(coords){var area=0;if(coords&&coords.length>0){area+=Math.abs(ringArea(coords[0]));for(var i=1;i<coords.length;i++)area-=Math.abs(ringArea(coords[i]))}return area}function ringArea(coords){var p1,p2,p3,lowerIndex,middleIndex,upperIndex,area=0,coordsLength=coords.length;if(coordsLength>2){for(i=0;i<coordsLength;i++)i===coordsLength-2?(lowerIndex=coordsLength-2,middleIndex=coordsLength-1,upperIndex=0):i===coordsLength-1?(lowerIndex=coordsLength-1,middleIndex=0,upperIndex=1):(lowerIndex=i,middleIndex=i+1,upperIndex=i+2),p1=coords[lowerIndex],p2=coords[middleIndex],p3=coords[upperIndex],area+=(rad(p3[0])-rad(p1[0]))*Math.sin(rad(p2[1]));area=area*wgs84.RADIUS*wgs84.RADIUS/2}return area}function rad(_){return _*Math.PI/180}var wgs84=__webpack_require__(167);module.exports.geometry=geometry,module.exports.ring=ringArea},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(factory){__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(2)],__WEBPACK_AMD_DEFINE_FACTORY__=factory,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(function(L){"use strict";function throttle(func,wait,options){var context,args,result,timeout=null,previous=0;options||(options={});var later=function(){previous=options.leading===!1?0:(new Date).getTime(),timeout=null,result=func.apply(context,args),timeout||(context=args=null)};return function(){var now=(new Date).getTime();previous||options.leading!==!1||(previous=now);var remaining=wait-(now-previous);return context=this,args=arguments,remaining<=0||remaining>wait?(timeout&&(clearTimeout(timeout),timeout=null),previous=now,result=func.apply(context,args),timeout||(context=args=null)):timeout||options.trailing===!1||(timeout=setTimeout(later,remaining)),result}}function escapeRegExp(str){return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var MINIMUM_INPUT_LENGTH_FOR_AUTOCOMPLETE=1,FULL_WIDTH_MARGIN=20,FULL_WIDTH_TOUCH_ADJUSTED_MARGIN=4,RESULTS_HEIGHT_MARGIN=20,API_RATE_LIMIT=250;L.Control.Geocoder=L.Control.extend({version:"1.7.1",includes:L.Mixin.Events,options:{position:"topleft",attribution:'Geocoding by <a href="https://mapzen.com/projects/search/">Mapzen</a>',url:"https://search.mapzen.com/v1",placeholder:"Search",title:"Search",bounds:!1,focus:!0,layers:null,panToPoint:!0,pointIcon:!0,polygonIcon:!0,fullWidth:650,markers:!0,expanded:!1,autocomplete:!0,place:!1},initialize:function(apiKey,options){window.XDomainRequest&&(this.options.url="//search.mapzen.com/v1"),"object"==typeof apiKey&&apiKey?options=apiKey:this.apiKey=apiKey,
options&&"undefined"!=typeof options.latlng&&("undefined"==typeof options.focus&&(options.focus=options.latlng),console.log("[leaflet-geocoder-mapzen] DEPRECATION WARNING:","As of v1.6.0, the `latlng` option is deprecated. It has been renamed to `focus`. `latlng` will be removed in a future version.")),L.Util.setOptions(this,options),this.markers=[]},reset:function(){this._input.value="",L.DomUtil.addClass(this._reset,"leaflet-pelias-hidden"),this.removeMarkers(),this.clearResults(),this.fire("reset")},getLayers:function(params){var layers=this.options.layers;return layers?(params.layers=layers,params):params},getBoundingBoxParam:function(params){function makeParamsFromLeaflet(params,latLngBounds){return params["boundary.rect.min_lon"]=latLngBounds.getWest(),params["boundary.rect.min_lat"]=latLngBounds.getSouth(),params["boundary.rect.max_lon"]=latLngBounds.getEast(),params["boundary.rect.max_lat"]=latLngBounds.getNorth(),params}var bounds=this.options.bounds;if(!bounds)return params;if(bounds===!0)bounds=this._map.getBounds(),params=makeParamsFromLeaflet(params,bounds);else if("object"==typeof bounds&&bounds.isValid&&bounds.isValid())params=makeParamsFromLeaflet(params,bounds);else if(L.Util.isArray(bounds)){var latLngBounds=L.latLngBounds(bounds);latLngBounds.isValid&&latLngBounds.isValid()&&(params=makeParamsFromLeaflet(params,latLngBounds))}return params},getFocusParam:function(params){var focus=this.options.focus;if(!focus)return params;if(focus===!0){var mapCenter=this._map.getCenter();params["focus.point.lat"]=mapCenter.lat,params["focus.point.lon"]=mapCenter.lng}else if("object"==typeof focus){var latlng=L.latLng(focus);params["focus.point.lat"]=latlng.lat,params["focus.point.lon"]=latlng.lng}return params},getParams:function(params){params=params||{},params=this.getBoundingBoxParam(params),params=this.getFocusParam(params),params=this.getLayers(params),this.apiKey&&(params.api_key=this.apiKey);var newParams=this.options.params;if(!newParams)return params;if("object"==typeof newParams)for(var prop in newParams)params[prop]=newParams[prop];return params},search:function(input){if(input){var url=this.options.url+"/search",params={text:input};this.callPelias(url,params,"search")}},autocomplete:throttle(function(input){if(input){var url=this.options.url+"/autocomplete",params={text:input};this.callPelias(url,params,"autocomplete")}},API_RATE_LIMIT),place:function(id){if(id){var url=this.options.url+"/place",params={ids:id};this.callPelias(url,params,"place")}},handlePlaceResponse:function(response){},maxReqTimestampRendered:(new Date).getTime(),callPelias:function(endpoint,params,type){params=this.getParams(params),L.DomUtil.addClass(this._search,"leaflet-pelias-loading");var reqStartedAt=(new Date).getTime();AJAX.request(endpoint,params,function(err,results){if(L.DomUtil.removeClass(this._search,"leaflet-pelias-loading"),err){var errorMessage;switch(err.code){case 403:errorMessage="A valid API key is needed for this search feature.";break;case 404:errorMessage="The search service cannot be found. :-(";break;case 408:errorMessage="The search service took too long to respond. Try again in a second.";break;case 429:errorMessage="There were too many requests. Try again in a second.";break;case 500:errorMessage="The search service is not working right now. Please try again later.";break;case 502:errorMessage="Connection lost. Please try again later.";break;default:errorMessage="The search service is having problems :-("}this.showMessage(errorMessage),this.fire("error",{results:results,endpoint:endpoint,requestType:type,params:params,errorCode:err.code,errorMessage:errorMessage})}if(results&&results.geocoding&&results.geocoding.errors)return errorMessage=results.geocoding.errors[0],this.showMessage(errorMessage),void this.fire("error",{results:results,endpoint:endpoint,requestType:type,params:params,errorCode:err.code,errorMessage:errorMessage});if(results&&results.features){if("autocomplete"===type||"search"===type){if(""===this._input.value||this.maxReqTimestampRendered>=reqStartedAt)return;this.maxReqTimestampRendered=reqStartedAt}"place"===type&&this.handlePlaceResponse(results),"autocomplete"!==type&&"search"!==type||this.showResults(results.features,params.text),this.fire("results",{results:results,endpoint:endpoint,requestType:type,params:params})}},this)},highlight:function(text,focus){var r=RegExp("("+escapeRegExp(focus)+")","gi");return text.replace(r,"<strong>$1</strong>")},getIconType:function(layer){var pointIcon=this.options.pointIcon,polygonIcon=this.options.polygonIcon,classPrefix="leaflet-pelias-layer-icon-";return layer.match("venue")||layer.match("address")?pointIcon===!0?{type:"class",value:classPrefix+"point"}:pointIcon!==!1&&{type:"image",value:pointIcon}:polygonIcon===!0?{type:"class",value:classPrefix+"polygon"}:polygonIcon!==!1&&{type:"image",value:polygonIcon}},showResults:function(features,input){if(0===features.length)return void this.showMessage("No results were found.");var resultsContainer=this._results;resultsContainer.innerHTML="",resultsContainer.style.display="block",resultsContainer.style.maxHeight=this._map.getSize().y-resultsContainer.offsetTop-this._container.offsetTop-RESULTS_HEIGHT_MARGIN+"px";for(var list=L.DomUtil.create("ul","leaflet-pelias-list",resultsContainer),i=0,j=features.length;i<j;i++){var feature=features[i],resultItem=L.DomUtil.create("li","leaflet-pelias-result",list);resultItem.feature=feature,resultItem.layer=feature.properties.layer,resultItem.coords=feature.geometry.coordinates;var icon=this.getIconType(feature.properties.layer);if(icon){var layerIcon,layerIconContainer=L.DomUtil.create("span","leaflet-pelias-layer-icon-container",resultItem);"class"===icon.type?layerIcon=L.DomUtil.create("div","leaflet-pelias-layer-icon "+icon.value,layerIconContainer):(layerIcon=L.DomUtil.create("img","leaflet-pelias-layer-icon",layerIconContainer),layerIcon.src=icon.value),layerIcon.title="layer: "+feature.properties.layer}resultItem.innerHTML+=this.highlight(feature.properties.label,input)}},showMessage:function(text){var resultsContainer=this._results;resultsContainer.innerHTML="",resultsContainer.style.display="block";var messageEl=L.DomUtil.create("div","leaflet-pelias-message",resultsContainer);messageEl.appendChild(document.createTextNode(text))},removeMarkers:function(){if(this.options.markers){for(var i=0;i<this.markers.length;i++)this._map.removeLayer(this.markers[i]);this.markers=[]}},showMarker:function(text,latlng){this._map.setView(latlng,this._map.getZoom()||8);var markerOptions="object"==typeof this.options.markers?this.options.markers:{};if(this.options.markers){var marker=new L.marker(latlng,markerOptions).bindPopup(text);this._map.addLayer(marker),this.markers.push(marker),marker.openPopup()}},fitBoundingBox:function(bbox){this._map.fitBounds([[bbox[1],bbox[0]],[bbox[3],bbox[2]]],{animate:!0,maxZoom:16})},setSelectedResult:function(selected,originalEvent){var latlng=L.GeoJSON.coordsToLatLng(selected.feature.geometry.coordinates);this._input.value=selected.innerText||selected.textContent,selected.feature.bbox?(this.removeMarkers(),this.fitBoundingBox(selected.feature.bbox)):(this.removeMarkers(),this.showMarker(selected.innerHTML,latlng)),this.fire("select",{originalEvent:originalEvent,latlng:latlng,feature:selected.feature}),this.blur(),this.options.place&&this.place(selected.feature.properties.gid)},focus:function(){L.DomUtil.hasClass(this._container,"leaflet-pelias-expanded")||this.expand(),this._input.focus()},blur:function(){this._input.blur(),this.clearResults(),""===this._input.value&&"none"!==this._results.style.display&&(L.DomUtil.addClass(this._reset,"leaflet-pelias-hidden"),this.options.expanded||this.collapse())},clearResults:function(force){this._results.style.display="none",""!==this._input.value&&force!==!0||(this._results.innerHTML="")},expand:function(){L.DomUtil.addClass(this._container,"leaflet-pelias-expanded"),this.setFullWidth(),this.fire("expand")},collapse:function(){L.DomUtil.removeClass(this._container,"leaflet-pelias-expanded"),this._input.blur(),this.clearFullWidth(),this.clearResults(),this.fire("collapse")},setFullWidth:function(){if(this.options.fullWidth){this._map.invalidateSize();var mapWidth=this._map.getSize().x,touchAdjustment=L.Browser.touch?FULL_WIDTH_TOUCH_ADJUSTED_MARGIN:0,width=mapWidth-FULL_WIDTH_MARGIN-touchAdjustment;if("number"==typeof this.options.fullWidth&&mapWidth>=window.parseInt(this.options.fullWidth,10))return void this.clearFullWidth();this._container.style.width=width.toString()+"px"}},clearFullWidth:function(){this.options.fullWidth&&(this._container.style.width="")},onAdd:function(map){var container=L.DomUtil.create("div","leaflet-pelias-control leaflet-bar leaflet-control");return this._body=document.body||document.getElementsByTagName("body")[0],this._container=container,this._input=L.DomUtil.create("input","leaflet-pelias-input",this._container),this._input.spellcheck=!1,L.DomEvent.addListener(this._input,"focus",function(e){this.fire("focus",{originalEvent:e})},this),L.DomEvent.addListener(this._input,"blur",function(e){this.fire("blur",{originalEvent:e})},this),this.options.title&&(this._input.title=this.options.title),this.options.placeholder&&(this._input.placeholder=this.options.placeholder),this._search=L.DomUtil.create("a","leaflet-pelias-search-icon",this._container),this._reset=L.DomUtil.create("div","leaflet-pelias-close leaflet-pelias-hidden",this._container),this._reset.innerHTML="",this._reset.title="Reset",this._results=L.DomUtil.create("div","leaflet-pelias-results leaflet-bar",this._container),this.options.expanded&&this.expand(),L.DomEvent.on(this._container,"click",function(e){this._input.focus()},this).on(this._input,"focus",function(e){this._input.value&&this._results.children.length&&(this._results.style.display="block")},this).on(this._map,"click",function(e){this.blur()},this).on(this._search,"click",function(e){if(L.DomEvent.stopPropagation(e),L.DomUtil.hasClass(this._container,"leaflet-pelias-expanded")){if(this.options.expanded===!0)return void this._input.focus();L.DomUtil.addClass(this._reset,"leaflet-pelias-hidden"),this.collapse()}else this._input.value.length>0&&L.DomUtil.removeClass(this._reset,"leaflet-pelias-hidden"),this.expand(),this._input.focus()},this).on(this._reset,"click",function(e){this.reset(),this._input.focus(),L.DomEvent.stopPropagation(e)},this).on(this._input,"keydown",function(e){for(var selectedPosition,list=this._results.querySelectorAll(".leaflet-pelias-result"),selected=this._results.querySelectorAll(".leaflet-pelias-selected")[0],self=this,panToPoint=function(shouldPan){var _selected=self._results.querySelectorAll(".leaflet-pelias-selected")[0];_selected&&shouldPan&&(_selected.feature.bbox?(self.removeMarkers(),self.fitBoundingBox(_selected.feature.bbox)):(self.removeMarkers(),self.showMarker(_selected.innerHTML,L.GeoJSON.coordsToLatLng(_selected.feature.geometry.coordinates))))},scrollSelectedResultIntoView=function(){var _selected=self._results.querySelectorAll(".leaflet-pelias-selected")[0],_selectedRect=_selected.getBoundingClientRect(),_resultsRect=self._results.getBoundingClientRect();_selectedRect.bottom>_resultsRect.bottom?self._results.scrollTop=_selected.offsetTop+_selected.offsetHeight-self._results.offsetHeight:_selectedRect.top<_resultsRect.top&&(self._results.scrollTop=_selected.offsetTop)},i=0;i<list.length;i++)if(list[i]===selected){selectedPosition=i;break}switch(e.keyCode){case 13:if(selected)this.setSelectedResult(selected,e);else{var text=(e.target||e.srcElement).value;this.search(text)}L.DomEvent.preventDefault(e);break;case 38:if(0===list.length||"none"===this._results.style.display)return;selected&&L.DomUtil.removeClass(selected,"leaflet-pelias-selected");var previousItem=list[selectedPosition-1],highlighted=selected&&previousItem?previousItem:list[list.length-1];L.DomUtil.addClass(highlighted,"leaflet-pelias-selected"),scrollSelectedResultIntoView(),panToPoint(this.options.panToPoint),this.fire("highlight",{originalEvent:e,latlng:L.GeoJSON.coordsToLatLng(highlighted.feature.geometry.coordinates),feature:highlighted.feature}),L.DomEvent.preventDefault(e);break;case 40:if(0===list.length||"none"===this._results.style.display)return;selected&&L.DomUtil.removeClass(selected,"leaflet-pelias-selected");var nextItem=list[selectedPosition+1],highlighted=selected&&nextItem?nextItem:list[0];L.DomUtil.addClass(highlighted,"leaflet-pelias-selected"),scrollSelectedResultIntoView(),panToPoint(this.options.panToPoint),this.fire("highlight",{originalEvent:e,latlng:L.GeoJSON.coordsToLatLng(highlighted.feature.geometry.coordinates),feature:highlighted.feature}),L.DomEvent.preventDefault(e)}},this).on(this._input,"keyup",function(e){var key=e.which||e.keyCode,text=(e.target||e.srcElement).value;if(text.length>0?L.DomUtil.removeClass(this._reset,"leaflet-pelias-hidden"):L.DomUtil.addClass(this._reset,"leaflet-pelias-hidden"),13!==key&&38!==key&&40!==key)return 27===key?(0!==text.length&&"none"!==this._results.style.display||(this._input.blur(),!this.options.expanded&&L.DomUtil.hasClass(this._container,"leaflet-pelias-expanded")&&this.collapse()),this.clearResults(!0),void L.DomUtil.removeClass(this._search,"leaflet-pelias-loading")):void(text!==this._lastValue&&(this._lastValue=text,text.length>=MINIMUM_INPUT_LENGTH_FOR_AUTOCOMPLETE&&this.options.autocomplete===!0?this.autocomplete(text):this.clearResults(!0)))},this).on(this._results,"click",function(e){L.DomEvent.preventDefault(e),L.DomEvent.stopPropagation(e);var _selected=this._results.querySelectorAll(".leaflet-pelias-selected")[0];_selected&&L.DomUtil.removeClass(_selected,"leaflet-pelias-selected");var selected=e.target||e.srcElement,findParent=function(){return L.DomUtil.hasClass(selected,"leaflet-pelias-result")||(selected=selected.parentElement,selected&&findParent()),selected};findParent(),selected&&(L.DomUtil.addClass(selected,"leaflet-pelias-selected"),this.setSelectedResult(selected,e))},this).on(this._results,"mouseover",function(e){this._scrollWheelZoomEnabled=map.scrollWheelZoom.enabled(),this._scrollWheelZoomEnabled&&map.scrollWheelZoom.disable()},this).on(this._results,"mouseout",function(e){this._scrollWheelZoomEnabled&&map.scrollWheelZoom.enable()},this),this.options.fullWidth&&L.DomEvent.on(window,"resize",function(e){L.DomUtil.hasClass(this._container,"leaflet-pelias-expanded")&&this.setFullWidth()},this),L.DomEvent.on(this._map,"mousedown",this._onMapInteraction,this),L.DomEvent.on(this._map,"touchstart",this._onMapInteraction,this),L.DomEvent.disableClickPropagation(this._container),map.attributionControl&&map.attributionControl.addAttribution(this.options.attribution),container},_onMapInteraction:function(event){this.blur(),this.options.expanded||!this._input.value&&L.DomUtil.hasClass(this._container,"leaflet-pelias-expanded")&&this.collapse()},onRemove:function(map){map.attributionControl.removeAttribution(this.options.attribution)}}),L.control.geocoder=function(apiKey,options){return new L.Control.Geocoder(apiKey,options)};var AJAX={serialize:function(params){var data="";for(var key in params)if(params.hasOwnProperty(key)){var value,param=params[key],type=param.toString();switch(data.length&&(data+="&"),type){case"[object Array]":value="[object Object]"===param[0].toString()?JSON.stringify(param):param.join(",");break;case"[object Object]":value=JSON.stringify(param);break;case"[object Date]":value=param.valueOf();break;default:value=param}data+=encodeURIComponent(key)+"="+encodeURIComponent(value)}return data},http_request:function(callback,context){return window.XDomainRequest?this.xdr(callback,context):this.xhr(callback,context)},xhr:function(callback,context){var xhr=new XMLHttpRequest;return xhr.onerror=function(e){xhr.onreadystatechange=L.Util.falseFn;var error={code:xhr.status,message:xhr.statusText};callback.call(context,error,null)},xhr.onreadystatechange=function(){var response,error;try{response=JSON.parse(xhr.responseText)}catch(e){response=null,error={code:500,message:"Parse Error"}}4===xhr.readyState&&(200!==xhr.status?(error={code:xhr.status,message:xhr.statusText},callback.call(context,error,response)):(!error&&response.error&&(error=response.error),xhr.onerror=L.Util.falseFn,callback.call(context,error,response)))},xhr},xdr:function(callback,context){var xdr=new window.XDomainRequest;return xdr.onerror=function(e){xdr.onload=L.Util.falseFn;var error={code:500,message:"XMLHttpRequest Error"};callback.call(context,error,null)},xdr.onload=function(){var response,error;try{response=JSON.parse(xdr.responseText)}catch(e){response=null,error={code:500,message:"Parse Error"}}!error&&response.error&&(error=response.error,response=null),xdr.onerror=L.Util.falseFn,callback.call(context,error,response)},xdr},request:function(url,params,callback,context){var paramString=this.serialize(params),httpRequest=this.http_request(callback,context);httpRequest.open("GET",url+"?"+paramString),"XMLHttpRequest"===httpRequest.constructor.name&&httpRequest.setRequestHeader("Accept","application/json"),setTimeout(function(){httpRequest.send(null)},0)}}})},function(module,exports,__webpack_require__){(function(global){var require,require,__WEBPACK_AMD_DEFINE_RESULT__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return require(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){},{}],2:[function(require,module,exports){function rgb2hsl(rgb){var h,s,l,r=rgb[0]/255,g=rgb[1]/255,b=rgb[2]/255,min=Math.min(r,g,b),max=Math.max(r,g,b),delta=max-min;return max==min?h=0:r==max?h=(g-b)/delta:g==max?h=2+(b-r)/delta:b==max&&(h=4+(r-g)/delta),h=Math.min(60*h,360),h<0&&(h+=360),l=(min+max)/2,s=max==min?0:l<=.5?delta/(max+min):delta/(2-max-min),[h,100*s,100*l]}function rgb2hsv(rgb){var h,s,v,r=rgb[0],g=rgb[1],b=rgb[2],min=Math.min(r,g,b),max=Math.max(r,g,b),delta=max-min;return s=0==max?0:delta/max*1e3/10,max==min?h=0:r==max?h=(g-b)/delta:g==max?h=2+(b-r)/delta:b==max&&(h=4+(r-g)/delta),h=Math.min(60*h,360),h<0&&(h+=360),v=max/255*1e3/10,[h,s,v]}function rgb2hwb(rgb){var r=rgb[0],g=rgb[1],b=rgb[2],h=rgb2hsl(rgb)[0],w=1/255*Math.min(r,Math.min(g,b)),b=1-1/255*Math.max(r,Math.max(g,b));return[h,100*w,100*b]}function rgb2cmyk(rgb){var c,m,y,k,r=rgb[0]/255,g=rgb[1]/255,b=rgb[2]/255;return k=Math.min(1-r,1-g,1-b),c=(1-r-k)/(1-k)||0,m=(1-g-k)/(1-k)||0,y=(1-b-k)/(1-k)||0,[100*c,100*m,100*y,100*k]}function rgb2keyword(rgb){return reverseKeywords[JSON.stringify(rgb)]}function rgb2xyz(rgb){var r=rgb[0]/255,g=rgb[1]/255,b=rgb[2]/255;r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,g=g>.04045?Math.pow((g+.055)/1.055,2.4):g/12.92,b=b>.04045?Math.pow((b+.055)/1.055,2.4):b/12.92;var x=.4124*r+.3576*g+.1805*b,y=.2126*r+.7152*g+.0722*b,z=.0193*r+.1192*g+.9505*b;return[100*x,100*y,100*z]}function rgb2lab(rgb){var l,a,b,xyz=rgb2xyz(rgb),x=xyz[0],y=xyz[1],z=xyz[2];return x/=95.047,y/=100,z/=108.883,x=x>.008856?Math.pow(x,1/3):7.787*x+16/116,y=y>.008856?Math.pow(y,1/3):7.787*y+16/116,z=z>.008856?Math.pow(z,1/3):7.787*z+16/116,l=116*y-16,a=500*(x-y),b=200*(y-z),[l,a,b]}function rgb2lch(args){return lab2lch(rgb2lab(args))}function hsl2rgb(hsl){var t1,t2,t3,rgb,val,h=hsl[0]/360,s=hsl[1]/100,l=hsl[2]/100;if(0==s)return val=255*l,[val,val,val];t2=l<.5?l*(1+s):l+s-l*s,t1=2*l-t2,rgb=[0,0,0];for(var i=0;i<3;i++)t3=h+1/3*-(i-1),t3<0&&t3++,t3>1&&t3--,val=6*t3<1?t1+6*(t2-t1)*t3:2*t3<1?t2:3*t3<2?t1+(t2-t1)*(2/3-t3)*6:t1,rgb[i]=255*val;return rgb}function hsl2hsv(hsl){var sv,v,h=hsl[0],s=hsl[1]/100,l=hsl[2]/100;return 0===l?[0,0,0]:(l*=2,s*=l<=1?l:2-l,v=(l+s)/2,sv=2*s/(l+s),[h,100*sv,100*v])}function hsl2hwb(args){return rgb2hwb(hsl2rgb(args))}function hsl2cmyk(args){return rgb2cmyk(hsl2rgb(args))}function hsl2keyword(args){return rgb2keyword(hsl2rgb(args))}function hsv2rgb(hsv){var h=hsv[0]/60,s=hsv[1]/100,v=hsv[2]/100,hi=Math.floor(h)%6,f=h-Math.floor(h),p=255*v*(1-s),q=255*v*(1-s*f),t=255*v*(1-s*(1-f)),v=255*v;switch(hi){case 0:return[v,t,p];case 1:return[q,v,p];case 2:return[p,v,t];case 3:return[p,q,v];case 4:return[t,p,v];case 5:return[v,p,q]}}function hsv2hsl(hsv){var sl,l,h=hsv[0],s=hsv[1]/100,v=hsv[2]/100;return l=(2-s)*v,sl=s*v,sl/=l<=1?l:2-l,sl=sl||0,l/=2,[h,100*sl,100*l]}function hsv2hwb(args){return rgb2hwb(hsv2rgb(args))}function hsv2cmyk(args){return rgb2cmyk(hsv2rgb(args))}function hsv2keyword(args){return rgb2keyword(hsv2rgb(args))}function hwb2rgb(hwb){var i,v,f,n,h=hwb[0]/360,wh=hwb[1]/100,bl=hwb[2]/100,ratio=wh+bl;switch(ratio>1&&(wh/=ratio,bl/=ratio),i=Math.floor(6*h),v=1-bl,f=6*h-i,0!=(1&i)&&(f=1-f),n=wh+f*(v-wh),i){default:case 6:case 0:r=v,g=n,b=wh;break;case 1:r=n,g=v,b=wh;break;case 2:r=wh,g=v,b=n;break;case 3:r=wh,g=n,b=v;break;case 4:r=n,g=wh,b=v;break;case 5:r=v,g=wh,b=n}return[255*r,255*g,255*b]}function hwb2hsl(args){return rgb2hsl(hwb2rgb(args))}function hwb2hsv(args){return rgb2hsv(hwb2rgb(args))}function hwb2cmyk(args){return rgb2cmyk(hwb2rgb(args))}function hwb2keyword(args){return rgb2keyword(hwb2rgb(args))}function cmyk2rgb(cmyk){var r,g,b,c=cmyk[0]/100,m=cmyk[1]/100,y=cmyk[2]/100,k=cmyk[3]/100;return r=1-Math.min(1,c*(1-k)+k),g=1-Math.min(1,m*(1-k)+k),b=1-Math.min(1,y*(1-k)+k),[255*r,255*g,255*b]}function cmyk2hsl(args){return rgb2hsl(cmyk2rgb(args))}function cmyk2hsv(args){return rgb2hsv(cmyk2rgb(args))}function cmyk2hwb(args){return rgb2hwb(cmyk2rgb(args))}function cmyk2keyword(args){return rgb2keyword(cmyk2rgb(args))}function xyz2rgb(xyz){var r,g,b,x=xyz[0]/100,y=xyz[1]/100,z=xyz[2]/100;return r=3.2406*x+y*-1.5372+z*-.4986,g=x*-.9689+1.8758*y+.0415*z,b=.0557*x+y*-.204+1.057*z,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:r*=12.92,g=g>.0031308?1.055*Math.pow(g,1/2.4)-.055:g*=12.92,b=b>.0031308?1.055*Math.pow(b,1/2.4)-.055:b*=12.92,r=Math.min(Math.max(0,r),1),g=Math.min(Math.max(0,g),1),b=Math.min(Math.max(0,b),1),[255*r,255*g,255*b]}function xyz2lab(xyz){var l,a,b,x=xyz[0],y=xyz[1],z=xyz[2];return x/=95.047,y/=100,z/=108.883,x=x>.008856?Math.pow(x,1/3):7.787*x+16/116,y=y>.008856?Math.pow(y,1/3):7.787*y+16/116,z=z>.008856?Math.pow(z,1/3):7.787*z+16/116,l=116*y-16,a=500*(x-y),b=200*(y-z),[l,a,b]}function xyz2lch(args){return lab2lch(xyz2lab(args))}function lab2xyz(lab){var x,y,z,y2,l=lab[0],a=lab[1],b=lab[2];return l<=8?(y=100*l/903.3,y2=7.787*(y/100)+16/116):(y=100*Math.pow((l+16)/116,3),y2=Math.pow(y/100,1/3)),x=x/95.047<=.008856?x=95.047*(a/500+y2-16/116)/7.787:95.047*Math.pow(a/500+y2,3),z=z/108.883<=.008859?z=108.883*(y2-b/200-16/116)/7.787:108.883*Math.pow(y2-b/200,3),[x,y,z]}function lab2lch(lab){var hr,h,c,l=lab[0],a=lab[1],b=lab[2];return hr=Math.atan2(b,a),h=360*hr/2/Math.PI,h<0&&(h+=360),c=Math.sqrt(a*a+b*b),[l,c,h]}function lab2rgb(args){return xyz2rgb(lab2xyz(args))}function lch2lab(lch){var a,b,hr,l=lch[0],c=lch[1],h=lch[2];return hr=h/360*2*Math.PI,a=c*Math.cos(hr),b=c*Math.sin(hr),[l,a,b]}function lch2xyz(args){return lab2xyz(lch2lab(args))}function lch2rgb(args){return lab2rgb(lch2lab(args))}function keyword2rgb(keyword){return cssKeywords[keyword]}function keyword2hsl(args){return rgb2hsl(keyword2rgb(args))}function keyword2hsv(args){return rgb2hsv(keyword2rgb(args))}function keyword2hwb(args){return rgb2hwb(keyword2rgb(args))}function keyword2cmyk(args){return rgb2cmyk(keyword2rgb(args))}function keyword2lab(args){return rgb2lab(keyword2rgb(args))}function keyword2xyz(args){return rgb2xyz(keyword2rgb(args))}module.exports={rgb2hsl:rgb2hsl,rgb2hsv:rgb2hsv,rgb2hwb:rgb2hwb,rgb2cmyk:rgb2cmyk,rgb2keyword:rgb2keyword,rgb2xyz:rgb2xyz,rgb2lab:rgb2lab,rgb2lch:rgb2lch,hsl2rgb:hsl2rgb,hsl2hsv:hsl2hsv,hsl2hwb:hsl2hwb,hsl2cmyk:hsl2cmyk,hsl2keyword:hsl2keyword,hsv2rgb:hsv2rgb,hsv2hsl:hsv2hsl,hsv2hwb:hsv2hwb,hsv2cmyk:hsv2cmyk,hsv2keyword:hsv2keyword,hwb2rgb:hwb2rgb,hwb2hsl:hwb2hsl,hwb2hsv:hwb2hsv,hwb2cmyk:hwb2cmyk,hwb2keyword:hwb2keyword,cmyk2rgb:cmyk2rgb,cmyk2hsl:cmyk2hsl,cmyk2hsv:cmyk2hsv,cmyk2hwb:cmyk2hwb,cmyk2keyword:cmyk2keyword,keyword2rgb:keyword2rgb,keyword2hsl:keyword2hsl,keyword2hsv:keyword2hsv,keyword2hwb:keyword2hwb,keyword2cmyk:keyword2cmyk,keyword2lab:keyword2lab,keyword2xyz:keyword2xyz,xyz2rgb:xyz2rgb,xyz2lab:xyz2lab,xyz2lch:xyz2lch,lab2xyz:lab2xyz,lab2rgb:lab2rgb,lab2lch:lab2lch,lch2lab:lch2lab,lch2xyz:lch2xyz,lch2rgb:lch2rgb};var cssKeywords={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},reverseKeywords={};for(var key in cssKeywords)reverseKeywords[JSON.stringify(cssKeywords[key])]=key},{}],3:[function(require,module,exports){var conversions=require("./conversions"),convert=function(){return new Converter};for(var func in conversions){convert[func+"Raw"]=function(func){return function(arg){return"number"==typeof arg&&(arg=Array.prototype.slice.call(arguments)),conversions[func](arg)}}(func);var pair=/(\w+)2(\w+)/.exec(func),from=pair[1],to=pair[2];convert[from]=convert[from]||{},convert[from][to]=convert[func]=function(func){return function(arg){"number"==typeof arg&&(arg=Array.prototype.slice.call(arguments));var val=conversions[func](arg);if("string"==typeof val||void 0===val)return val;for(var i=0;i<val.length;i++)val[i]=Math.round(val[i]);return val}}(func)}var Converter=function(){this.convs={}};Converter.prototype.routeSpace=function(space,args){var values=args[0];return void 0===values?this.getValues(space):("number"==typeof values&&(values=Array.prototype.slice.call(args)),this.setValues(space,values))},Converter.prototype.setValues=function(space,values){return this.space=space,this.convs={},this.convs[space]=values,this},Converter.prototype.getValues=function(space){var vals=this.convs[space];if(!vals){var fspace=this.space,from=this.convs[fspace];vals=convert[fspace][space](from),this.convs[space]=vals}return vals},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(space){Converter.prototype[space]=function(vals){return this.routeSpace(space,arguments)}}),module.exports=convert},{"./conversions":2}],4:[function(require,module,exports){module.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],
olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],5:[function(require,module,exports){function getRgba(string){if(string){var abbr=/^#([a-fA-F0-9]{3})$/,hex=/^#([a-fA-F0-9]{6})$/,rgba=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,per=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,keyword=/(\D+)/,rgb=[0,0,0],a=1,match=string.match(abbr);if(match){match=match[1];for(var i=0;i<rgb.length;i++)rgb[i]=parseInt(match[i]+match[i],16)}else if(match=string.match(hex)){match=match[1];for(var i=0;i<rgb.length;i++)rgb[i]=parseInt(match.slice(2*i,2*i+2),16)}else if(match=string.match(rgba)){for(var i=0;i<rgb.length;i++)rgb[i]=parseInt(match[i+1]);a=parseFloat(match[4])}else if(match=string.match(per)){for(var i=0;i<rgb.length;i++)rgb[i]=Math.round(2.55*parseFloat(match[i+1]));a=parseFloat(match[4])}else if(match=string.match(keyword)){if("transparent"==match[1])return[0,0,0,0];if(rgb=colorNames[match[1]],!rgb)return}for(var i=0;i<rgb.length;i++)rgb[i]=scale(rgb[i],0,255);return a=a||0==a?scale(a,0,1):1,rgb[3]=a,rgb}}function getHsla(string){if(string){var hsl=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,match=string.match(hsl);if(match){var alpha=parseFloat(match[4]),h=scale(parseInt(match[1]),0,360),s=scale(parseFloat(match[2]),0,100),l=scale(parseFloat(match[3]),0,100),a=scale(isNaN(alpha)?1:alpha,0,1);return[h,s,l,a]}}}function getHwb(string){if(string){var hwb=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,match=string.match(hwb);if(match){var alpha=parseFloat(match[4]),h=scale(parseInt(match[1]),0,360),w=scale(parseFloat(match[2]),0,100),b=scale(parseFloat(match[3]),0,100),a=scale(isNaN(alpha)?1:alpha,0,1);return[h,w,b,a]}}}function getRgb(string){var rgba=getRgba(string);return rgba&&rgba.slice(0,3)}function getHsl(string){var hsla=getHsla(string);return hsla&&hsla.slice(0,3)}function getAlpha(string){var vals=getRgba(string);return vals?vals[3]:(vals=getHsla(string))?vals[3]:(vals=getHwb(string))?vals[3]:void 0}function hexString(rgb){return"#"+hexDouble(rgb[0])+hexDouble(rgb[1])+hexDouble(rgb[2])}function rgbString(rgba,alpha){return alpha<1||rgba[3]&&rgba[3]<1?rgbaString(rgba,alpha):"rgb("+rgba[0]+", "+rgba[1]+", "+rgba[2]+")"}function rgbaString(rgba,alpha){return void 0===alpha&&(alpha=void 0!==rgba[3]?rgba[3]:1),"rgba("+rgba[0]+", "+rgba[1]+", "+rgba[2]+", "+alpha+")"}function percentString(rgba,alpha){if(alpha<1||rgba[3]&&rgba[3]<1)return percentaString(rgba,alpha);var r=Math.round(rgba[0]/255*100),g=Math.round(rgba[1]/255*100),b=Math.round(rgba[2]/255*100);return"rgb("+r+"%, "+g+"%, "+b+"%)"}function percentaString(rgba,alpha){var r=Math.round(rgba[0]/255*100),g=Math.round(rgba[1]/255*100),b=Math.round(rgba[2]/255*100);return"rgba("+r+"%, "+g+"%, "+b+"%, "+(alpha||rgba[3]||1)+")"}function hslString(hsla,alpha){return alpha<1||hsla[3]&&hsla[3]<1?hslaString(hsla,alpha):"hsl("+hsla[0]+", "+hsla[1]+"%, "+hsla[2]+"%)"}function hslaString(hsla,alpha){return void 0===alpha&&(alpha=void 0!==hsla[3]?hsla[3]:1),"hsla("+hsla[0]+", "+hsla[1]+"%, "+hsla[2]+"%, "+alpha+")"}function hwbString(hwb,alpha){return void 0===alpha&&(alpha=void 0!==hwb[3]?hwb[3]:1),"hwb("+hwb[0]+", "+hwb[1]+"%, "+hwb[2]+"%"+(void 0!==alpha&&1!==alpha?", "+alpha:"")+")"}function keyword(rgb){return reverseNames[rgb.slice(0,3)]}function scale(num,min,max){return Math.min(Math.max(min,num),max)}function hexDouble(num){var str=num.toString(16).toUpperCase();return str.length<2?"0"+str:str}var colorNames=require("color-name");module.exports={getRgba:getRgba,getHsla:getHsla,getRgb:getRgb,getHsl:getHsl,getHwb:getHwb,getAlpha:getAlpha,hexString:hexString,rgbString:rgbString,rgbaString:rgbaString,percentString:percentString,percentaString:percentaString,hslString:hslString,hslaString:hslaString,hwbString:hwbString,keyword:keyword};var reverseNames={};for(var name in colorNames)reverseNames[colorNames[name]]=name},{"color-name":4}],6:[function(require,module,exports){var convert=require("color-convert"),string=require("color-string"),Color=function(obj){if(obj instanceof Color)return obj;if(!(this instanceof Color))return new Color(obj);if(this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},"string"==typeof obj){var vals=string.getRgba(obj);if(vals)this.setValues("rgb",vals);else if(vals=string.getHsla(obj))this.setValues("hsl",vals);else{if(!(vals=string.getHwb(obj)))throw new Error('Unable to parse color from string "'+obj+'"');this.setValues("hwb",vals)}}else if("object"==typeof obj){var vals=obj;if(void 0!==vals.r||void 0!==vals.red)this.setValues("rgb",vals);else if(void 0!==vals.l||void 0!==vals.lightness)this.setValues("hsl",vals);else if(void 0!==vals.v||void 0!==vals.value)this.setValues("hsv",vals);else if(void 0!==vals.w||void 0!==vals.whiteness)this.setValues("hwb",vals);else{if(void 0===vals.c&&void 0===vals.cyan)throw new Error("Unable to parse color from object "+JSON.stringify(obj));this.setValues("cmyk",vals)}}};Color.prototype={rgb:function(vals){return this.setSpace("rgb",arguments)},hsl:function(vals){return this.setSpace("hsl",arguments)},hsv:function(vals){return this.setSpace("hsv",arguments)},hwb:function(vals){return this.setSpace("hwb",arguments)},cmyk:function(vals){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){return 1!==this.values.alpha?this.values.hwb.concat([this.values.alpha]):this.values.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var rgb=this.values.rgb;return rgb.concat([this.values.alpha])},hslaArray:function(){var hsl=this.values.hsl;return hsl.concat([this.values.alpha])},alpha:function(val){return void 0===val?this.values.alpha:(this.setValues("alpha",val),this)},red:function(val){return this.setChannel("rgb",0,val)},green:function(val){return this.setChannel("rgb",1,val)},blue:function(val){return this.setChannel("rgb",2,val)},hue:function(val){return this.setChannel("hsl",0,val)},saturation:function(val){return this.setChannel("hsl",1,val)},lightness:function(val){return this.setChannel("hsl",2,val)},saturationv:function(val){return this.setChannel("hsv",1,val)},whiteness:function(val){return this.setChannel("hwb",1,val)},blackness:function(val){return this.setChannel("hwb",2,val)},value:function(val){return this.setChannel("hsv",2,val)},cyan:function(val){return this.setChannel("cmyk",0,val)},magenta:function(val){return this.setChannel("cmyk",1,val)},yellow:function(val){return this.setChannel("cmyk",2,val)},black:function(val){return this.setChannel("cmyk",3,val)},hexString:function(){return string.hexString(this.values.rgb)},rgbString:function(){return string.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return string.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return string.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return string.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return string.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return string.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return string.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){return this.values.rgb[0]<<16|this.values.rgb[1]<<8|this.values.rgb[2]},luminosity:function(){for(var rgb=this.values.rgb,lum=[],i=0;i<rgb.length;i++){var chan=rgb[i]/255;lum[i]=chan<=.03928?chan/12.92:Math.pow((chan+.055)/1.055,2.4)}return.2126*lum[0]+.7152*lum[1]+.0722*lum[2]},contrast:function(color2){var lum1=this.luminosity(),lum2=color2.luminosity();return lum1>lum2?(lum1+.05)/(lum2+.05):(lum2+.05)/(lum1+.05)},level:function(color2){var contrastRatio=this.contrast(color2);return contrastRatio>=7.1?"AAA":contrastRatio>=4.5?"AA":""},dark:function(){var rgb=this.values.rgb,yiq=(299*rgb[0]+587*rgb[1]+114*rgb[2])/1e3;return yiq<128},light:function(){return!this.dark()},negate:function(){for(var rgb=[],i=0;i<3;i++)rgb[i]=255-this.values.rgb[i];return this.setValues("rgb",rgb),this},lighten:function(ratio){return this.values.hsl[2]+=this.values.hsl[2]*ratio,this.setValues("hsl",this.values.hsl),this},darken:function(ratio){return this.values.hsl[2]-=this.values.hsl[2]*ratio,this.setValues("hsl",this.values.hsl),this},saturate:function(ratio){return this.values.hsl[1]+=this.values.hsl[1]*ratio,this.setValues("hsl",this.values.hsl),this},desaturate:function(ratio){return this.values.hsl[1]-=this.values.hsl[1]*ratio,this.setValues("hsl",this.values.hsl),this},whiten:function(ratio){return this.values.hwb[1]+=this.values.hwb[1]*ratio,this.setValues("hwb",this.values.hwb),this},blacken:function(ratio){return this.values.hwb[2]+=this.values.hwb[2]*ratio,this.setValues("hwb",this.values.hwb),this},greyscale:function(){var rgb=this.values.rgb,val=.3*rgb[0]+.59*rgb[1]+.11*rgb[2];return this.setValues("rgb",[val,val,val]),this},clearer:function(ratio){return this.setValues("alpha",this.values.alpha-this.values.alpha*ratio),this},opaquer:function(ratio){return this.setValues("alpha",this.values.alpha+this.values.alpha*ratio),this},rotate:function(degrees){var hue=this.values.hsl[0];return hue=(hue+degrees)%360,hue=hue<0?360+hue:hue,this.values.hsl[0]=hue,this.setValues("hsl",this.values.hsl),this},mix:function(color2,weight){weight=1-(null==weight?.5:weight);for(var t1=2*weight-1,d=this.alpha()-color2.alpha(),weight1=((t1*d==-1?t1:(t1+d)/(1+t1*d))+1)/2,weight2=1-weight1,rgb=this.rgbArray(),rgb2=color2.rgbArray(),i=0;i<rgb.length;i++)rgb[i]=rgb[i]*weight1+rgb2[i]*weight2;this.setValues("rgb",rgb);var alpha=this.alpha()*weight+color2.alpha()*(1-weight);return this.setValues("alpha",alpha),this},toJSON:function(){return this.rgb()},clone:function(){return new Color(this.rgb())}},Color.prototype.getValues=function(space){for(var vals={},i=0;i<space.length;i++)vals[space.charAt(i)]=this.values[space][i];return 1!=this.values.alpha&&(vals.a=this.values.alpha),vals},Color.prototype.setValues=function(space,vals){var spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},alpha=1;if("alpha"==space)alpha=vals;else if(vals.length)this.values[space]=vals.slice(0,space.length),alpha=vals[space.length];else if(void 0!==vals[space.charAt(0)]){for(var i=0;i<space.length;i++)this.values[space][i]=vals[space.charAt(i)];alpha=vals.a}else if(void 0!==vals[spaces[space][0]]){for(var chans=spaces[space],i=0;i<space.length;i++)this.values[space][i]=vals[chans[i]];alpha=vals.alpha}if(this.values.alpha=Math.max(0,Math.min(1,void 0!==alpha?alpha:this.values.alpha)),"alpha"!=space){for(var i=0;i<space.length;i++){var capped=Math.max(0,Math.min(maxes[space][i],this.values[space][i]));this.values[space][i]=Math.round(capped)}for(var sname in spaces){sname!=space&&(this.values[sname]=convert[space][sname](this.values[space]));for(var i=0;i<sname.length;i++){var capped=Math.max(0,Math.min(maxes[sname][i],this.values[sname][i]));this.values[sname][i]=Math.round(capped)}}return!0}},Color.prototype.setSpace=function(space,args){var vals=args[0];return void 0===vals?this.getValues(space):("number"==typeof vals&&(vals=Array.prototype.slice.call(args)),this.setValues(space,vals),this)},Color.prototype.setChannel=function(space,index,val){return void 0===val?this.values[space][index]:(this.values[space][index]=val,this.setValues(space,this.values[space]),this)},module.exports=Color},{"color-convert":3,"color-string":5}],7:[function(require,module,exports){module.exports=require("./lib/geocrunch")},{"./lib/geocrunch":12}],8:[function(require,module,exports){var _=require("underscore"),R=require("./constants").EARTHRADIUS,units=require("./units"),flipCoords=require("./flipcoords"),convertFuncs={sqmeters:function(a){return a},sqmiles:function(a){return units.sqMeters.toSqMiles(a)},acres:function(a){return units.sqMeters.toAcres(a)}},calcArea=function(coordArray){var i,l,c1,c2,area=0;for(i=0,l=coordArray.length;i<l;i+=1)c1=coordArray[i],c2=coordArray[(i+1)%coordArray.length],area+=units.degrees.toRadians(c2[0]-c1[0])*(2+Math.sin(units.degrees.toRadians(c1[1]))+Math.sin(units.degrees.toRadians(c2[1])));return Math.abs(area*R*R/2)},calcCenter=function(coordArray){var i,l,c1,c2,f,offset=coordArray[0],twiceArea=0,x=0,y=0;if(1===coordArray.length)return coordArray[0];for(i=0,l=coordArray.length;i<l;i+=1)c1=coordArray[i],c2=coordArray[(i+1)%coordArray.length],f=(c1[1]-offset[1])*(c2[0]-offset[0])-(c2[1]-offset[1])*(c1[0]-offset[0]),twiceArea+=f,x+=(c1[0]+c2[0]-2*offset[0])*f,y+=(c1[1]+c2[1]-2*offset[1])*f;return f=3*twiceArea,[x/f+offset[0],y/f+offset[1]]};module.exports={_internalAreaCalc:function(){this._calcedArea||(this._coords.length<3?this._calcedArea=0:this._calcedArea=calcArea(this._coords))},_internalCenterCalc:function(){!this._calcedCenter&&this._coords.length&&(this._calcedCenter=calcCenter(this._coords))},area:function(options){var opts=_.extend({units:"sqmeters"},options);if(this._internalAreaCalc(),_.isFunction(convertFuncs[opts.units]))return convertFuncs[opts.units](this._calcedArea)},center:function(){return this._internalCenterCalc(),this._options.imBackwards===!0?flipCoords(this._calcedCenter):this._calcedCenter}}},{"./constants":9,"./flipcoords":11,"./units":14,underscore:15}],9:[function(require,module,exports){module.exports={EARTHRADIUS:6371e3}},{}],10:[function(require,module,exports){var _=require("underscore"),R=require("./constants").EARTHRADIUS,units=require("./units"),convertFuncs={meters:function(d){return d},kilometers:function(d){return units.meters.toKilometers(d)},feet:function(d){return units.meters.toFeet(d)},miles:function(d){return units.meters.toMiles(d)}},calcDistance=function(coord1,coord2){var deltaLng=units.degrees.toRadians(coord1[0]-coord2[0]),deltaLat=units.degrees.toRadians(coord1[1]-coord2[1]),lat1=units.degrees.toRadians(coord1[1]),lat2=units.degrees.toRadians(coord2[1]),hvsLng=Math.sin(deltaLng/2),hvsLat=Math.sin(deltaLat/2),a=hvsLat*hvsLat+hvsLng*hvsLng*Math.cos(lat1)*Math.cos(lat2);return 2*R*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))};module.exports={_internalDistanceCalc:function(){var i,l,distance=0;if(!this._calcedDistance){for(i=0,l=this._coords.length;i<l;i+=1)i>0&&(distance+=calcDistance(this._coords[i-1],this._coords[i]));this._calcedDistance=distance}},distance:function(options){var opts=_.extend({units:"meters"},options);if(this._internalDistanceCalc(),_.isFunction(convertFuncs[opts.units]))return convertFuncs[opts.units](this._calcedDistance)}}},{"./constants":9,"./units":14,underscore:15}],11:[function(require,module,exports){var _=require("underscore");module.exports=function(backwardsCoordArray){return _.map(backwardsCoordArray,function(backwardsCoord){return[backwardsCoord[1],backwardsCoord[0]]})}},{underscore:15}],12:[function(require,module,exports){var _=require("underscore"),Path=require("./path"),distanceMixins=require("./distance"),areaMixins=require("./area");_.extend(Path.prototype,distanceMixins,areaMixins),exports.path=function(coords,options){return new Path(coords,options)}},{"./area":8,"./distance":10,"./path":13,underscore:15}],13:[function(require,module,exports){var flipCoords=require("./flipcoords"),Path=function(coords,options){this._options=options||{},coords=coords||[],this._coords=this._options.imBackwards===!0?flipCoords(coords):coords};module.exports=Path},{"./flipcoords":11}],14:[function(require,module,exports){exports.meters={toFeet:function(m){return 3.28084*m},toKilometers:function(m){return.001*m},toMiles:function(m){return 621371e-9*m}},exports.sqMeters={toSqMiles:function(m){return 3.86102e-7*m},toAcres:function(m){return 247105e-9*m}},exports.degrees={toRadians:function(d){return d*Math.PI/180}}},{}],15:[function(require,module,exports){(function(){var root=this,previousUnderscore=root._,breaker={},ArrayProto=Array.prototype,ObjProto=Object.prototype,FuncProto=Function.prototype,push=ArrayProto.push,slice=ArrayProto.slice,concat=ArrayProto.concat,toString=ObjProto.toString,hasOwnProperty=ObjProto.hasOwnProperty,nativeForEach=ArrayProto.forEach,nativeMap=ArrayProto.map,nativeReduce=ArrayProto.reduce,nativeReduceRight=ArrayProto.reduceRight,nativeFilter=ArrayProto.filter,nativeEvery=ArrayProto.every,nativeSome=ArrayProto.some,nativeIndexOf=ArrayProto.indexOf,nativeLastIndexOf=ArrayProto.lastIndexOf,nativeIsArray=Array.isArray,nativeKeys=Object.keys,nativeBind=FuncProto.bind,_=function(obj){return obj instanceof _?obj:this instanceof _?void(this._wrapped=obj):new _(obj)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=_),exports._=_):root._=_,_.VERSION="1.5.2";var each=_.each=_.forEach=function(obj,iterator,context){if(null!=obj)if(nativeForEach&&obj.forEach===nativeForEach)obj.forEach(iterator,context);else if(obj.length===+obj.length){for(var i=0,length=obj.length;i<length;i++)if(iterator.call(context,obj[i],i,obj)===breaker)return}else for(var keys=_.keys(obj),i=0,length=keys.length;i<length;i++)if(iterator.call(context,obj[keys[i]],keys[i],obj)===breaker)return};_.map=_.collect=function(obj,iterator,context){var results=[];return null==obj?results:nativeMap&&obj.map===nativeMap?obj.map(iterator,context):(each(obj,function(value,index,list){results.push(iterator.call(context,value,index,list))}),results)};var reduceError="Reduce of empty array with no initial value";_.reduce=_.foldl=_.inject=function(obj,iterator,memo,context){var initial=arguments.length>2;if(null==obj&&(obj=[]),nativeReduce&&obj.reduce===nativeReduce)return context&&(iterator=_.bind(iterator,context)),initial?obj.reduce(iterator,memo):obj.reduce(iterator);if(each(obj,function(value,index,list){initial?memo=iterator.call(context,memo,value,index,list):(memo=value,initial=!0)}),!initial)throw new TypeError(reduceError);return memo},_.reduceRight=_.foldr=function(obj,iterator,memo,context){var initial=arguments.length>2;if(null==obj&&(obj=[]),nativeReduceRight&&obj.reduceRight===nativeReduceRight)return context&&(iterator=_.bind(iterator,context)),initial?obj.reduceRight(iterator,memo):obj.reduceRight(iterator);var length=obj.length;if(length!==+length){var keys=_.keys(obj);length=keys.length}if(each(obj,function(value,index,list){index=keys?keys[--length]:--length,initial?memo=iterator.call(context,memo,obj[index],index,list):(memo=obj[index],initial=!0)}),!initial)throw new TypeError(reduceError);return memo},_.find=_.detect=function(obj,iterator,context){var result;return any(obj,function(value,index,list){if(iterator.call(context,value,index,list))return result=value,!0}),result},_.filter=_.select=function(obj,iterator,context){var results=[];return null==obj?results:nativeFilter&&obj.filter===nativeFilter?obj.filter(iterator,context):(each(obj,function(value,index,list){iterator.call(context,value,index,list)&&results.push(value)}),results)},_.reject=function(obj,iterator,context){return _.filter(obj,function(value,index,list){return!iterator.call(context,value,index,list)},context)},_.every=_.all=function(obj,iterator,context){iterator||(iterator=_.identity);var result=!0;return null==obj?result:nativeEvery&&obj.every===nativeEvery?obj.every(iterator,context):(each(obj,function(value,index,list){if(!(result=result&&iterator.call(context,value,index,list)))return breaker}),!!result)};var any=_.some=_.any=function(obj,iterator,context){iterator||(iterator=_.identity);var result=!1;return null==obj?result:nativeSome&&obj.some===nativeSome?obj.some(iterator,context):(each(obj,function(value,index,list){if(result||(result=iterator.call(context,value,index,list)))return breaker}),!!result)};_.contains=_.include=function(obj,target){return null!=obj&&(nativeIndexOf&&obj.indexOf===nativeIndexOf?obj.indexOf(target)!=-1:any(obj,function(value){return value===target}))},_.invoke=function(obj,method){var args=slice.call(arguments,2),isFunc=_.isFunction(method);return _.map(obj,function(value){return(isFunc?method:value[method]).apply(value,args)})},_.pluck=function(obj,key){return _.map(obj,function(value){return value[key]})},_.where=function(obj,attrs,first){return _.isEmpty(attrs)?first?void 0:[]:_[first?"find":"filter"](obj,function(value){for(var key in attrs)if(attrs[key]!==value[key])return!1;return!0})},_.findWhere=function(obj,attrs){return _.where(obj,attrs,!0)},_.max=function(obj,iterator,context){if(!iterator&&_.isArray(obj)&&obj[0]===+obj[0]&&obj.length<65535)return Math.max.apply(Math,obj);if(!iterator&&_.isEmpty(obj))return-(1/0);var result={computed:-(1/0),value:-(1/0)};return each(obj,function(value,index,list){var computed=iterator?iterator.call(context,value,index,list):value;computed>result.computed&&(result={value:value,computed:computed})}),result.value},_.min=function(obj,iterator,context){if(!iterator&&_.isArray(obj)&&obj[0]===+obj[0]&&obj.length<65535)return Math.min.apply(Math,obj);if(!iterator&&_.isEmpty(obj))return 1/0;var result={computed:1/0,value:1/0};return each(obj,function(value,index,list){var computed=iterator?iterator.call(context,value,index,list):value;computed<result.computed&&(result={value:value,computed:computed})}),result.value},_.shuffle=function(obj){var rand,index=0,shuffled=[];return each(obj,function(value){rand=_.random(index++),shuffled[index-1]=shuffled[rand],shuffled[rand]=value}),shuffled},_.sample=function(obj,n,guard){return arguments.length<2||guard?obj[_.random(obj.length-1)]:_.shuffle(obj).slice(0,Math.max(0,n))};var lookupIterator=function(value){return _.isFunction(value)?value:function(obj){return obj[value]}};_.sortBy=function(obj,value,context){var iterator=lookupIterator(value);return _.pluck(_.map(obj,function(value,index,list){return{value:value,index:index,criteria:iterator.call(context,value,index,list)}}).sort(function(left,right){var a=left.criteria,b=right.criteria;if(a!==b){if(a>b||void 0===a)return 1;if(a<b||void 0===b)return-1}return left.index-right.index}),"value")};var group=function(behavior){return function(obj,value,context){var result={},iterator=null==value?_.identity:lookupIterator(value);return each(obj,function(value,index){var key=iterator.call(context,value,index,obj);behavior(result,key,value)}),result}};_.groupBy=group(function(result,key,value){(_.has(result,key)?result[key]:result[key]=[]).push(value)}),_.indexBy=group(function(result,key,value){result[key]=value}),_.countBy=group(function(result,key){_.has(result,key)?result[key]++:result[key]=1}),_.sortedIndex=function(array,obj,iterator,context){iterator=null==iterator?_.identity:lookupIterator(iterator);for(var value=iterator.call(context,obj),low=0,high=array.length;low<high;){var mid=low+high>>>1;iterator.call(context,array[mid])<value?low=mid+1:high=mid}return low},_.toArray=function(obj){return obj?_.isArray(obj)?slice.call(obj):obj.length===+obj.length?_.map(obj,_.identity):_.values(obj):[]},_.size=function(obj){return null==obj?0:obj.length===+obj.length?obj.length:_.keys(obj).length},_.first=_.head=_.take=function(array,n,guard){if(null!=array)return null==n||guard?array[0]:slice.call(array,0,n)},_.initial=function(array,n,guard){return slice.call(array,0,array.length-(null==n||guard?1:n))},_.last=function(array,n,guard){if(null!=array)return null==n||guard?array[array.length-1]:slice.call(array,Math.max(array.length-n,0))},_.rest=_.tail=_.drop=function(array,n,guard){return slice.call(array,null==n||guard?1:n)},_.compact=function(array){return _.filter(array,_.identity)};var flatten=function(input,shallow,output){return shallow&&_.every(input,_.isArray)?concat.apply(output,input):(each(input,function(value){_.isArray(value)||_.isArguments(value)?shallow?push.apply(output,value):flatten(value,shallow,output):output.push(value)}),output)};_.flatten=function(array,shallow){return flatten(array,shallow,[])},_.without=function(array){return _.difference(array,slice.call(arguments,1))},_.uniq=_.unique=function(array,isSorted,iterator,context){_.isFunction(isSorted)&&(context=iterator,iterator=isSorted,isSorted=!1);var initial=iterator?_.map(array,iterator,context):array,results=[],seen=[];return each(initial,function(value,index){(isSorted?index&&seen[seen.length-1]===value:_.contains(seen,value))||(seen.push(value),results.push(array[index]))}),results},_.union=function(){return _.uniq(_.flatten(arguments,!0))},_.intersection=function(array){var rest=slice.call(arguments,1);return _.filter(_.uniq(array),function(item){return _.every(rest,function(other){return _.indexOf(other,item)>=0})})},_.difference=function(array){var rest=concat.apply(ArrayProto,slice.call(arguments,1));return _.filter(array,function(value){return!_.contains(rest,value)})},_.zip=function(){for(var length=_.max(_.pluck(arguments,"length").concat(0)),results=new Array(length),i=0;i<length;i++)results[i]=_.pluck(arguments,""+i);return results},_.object=function(list,values){if(null==list)return{};for(var result={},i=0,length=list.length;i<length;i++)values?result[list[i]]=values[i]:result[list[i][0]]=list[i][1];return result},_.indexOf=function(array,item,isSorted){if(null==array)return-1;var i=0,length=array.length;if(isSorted){if("number"!=typeof isSorted)return i=_.sortedIndex(array,item),array[i]===item?i:-1;i=isSorted<0?Math.max(0,length+isSorted):isSorted}if(nativeIndexOf&&array.indexOf===nativeIndexOf)return array.indexOf(item,isSorted);for(;i<length;i++)if(array[i]===item)return i;return-1},_.lastIndexOf=function(array,item,from){if(null==array)return-1;var hasIndex=null!=from;if(nativeLastIndexOf&&array.lastIndexOf===nativeLastIndexOf)return hasIndex?array.lastIndexOf(item,from):array.lastIndexOf(item);for(var i=hasIndex?from:array.length;i--;)if(array[i]===item)return i;return-1},_.range=function(start,stop,step){arguments.length<=1&&(stop=start||0,start=0),step=arguments[2]||1;for(var length=Math.max(Math.ceil((stop-start)/step),0),idx=0,range=new Array(length);idx<length;)range[idx++]=start,start+=step;return range};var ctor=function(){};_.bind=function(func,context){var args,bound;if(nativeBind&&func.bind===nativeBind)return nativeBind.apply(func,slice.call(arguments,1));if(!_.isFunction(func))throw new TypeError;return args=slice.call(arguments,2),bound=function(){if(!(this instanceof bound))return func.apply(context,args.concat(slice.call(arguments)));ctor.prototype=func.prototype;var self=new ctor;ctor.prototype=null;var result=func.apply(self,args.concat(slice.call(arguments)));return Object(result)===result?result:self}},_.partial=function(func){var args=slice.call(arguments,1);return function(){return func.apply(this,args.concat(slice.call(arguments)))}},_.bindAll=function(obj){var funcs=slice.call(arguments,1);if(0===funcs.length)throw new Error("bindAll must be passed function names");return each(funcs,function(f){obj[f]=_.bind(obj[f],obj)}),obj},_.memoize=function(func,hasher){var memo={};return hasher||(hasher=_.identity),function(){var key=hasher.apply(this,arguments);return _.has(memo,key)?memo[key]:memo[key]=func.apply(this,arguments)}},_.delay=function(func,wait){var args=slice.call(arguments,2);return setTimeout(function(){return func.apply(null,args)},wait)},_.defer=function(func){return _.delay.apply(_,[func,1].concat(slice.call(arguments,1)))},_.throttle=function(func,wait,options){var context,args,result,timeout=null,previous=0;options||(options={});var later=function(){previous=options.leading===!1?0:new Date,timeout=null,result=func.apply(context,args)};return function(){var now=new Date;previous||options.leading!==!1||(previous=now);var remaining=wait-(now-previous);return context=this,args=arguments,remaining<=0?(clearTimeout(timeout),timeout=null,previous=now,result=func.apply(context,args)):timeout||options.trailing===!1||(timeout=setTimeout(later,remaining)),result}},_.debounce=function(func,wait,immediate){var timeout,args,context,timestamp,result;return function(){context=this,args=arguments,timestamp=new Date;var later=function(){var last=new Date-timestamp;last<wait?timeout=setTimeout(later,wait-last):(timeout=null,immediate||(result=func.apply(context,args)))},callNow=immediate&&!timeout;return timeout||(timeout=setTimeout(later,wait)),callNow&&(result=func.apply(context,args)),result}},_.once=function(func){var memo,ran=!1;return function(){return ran?memo:(ran=!0,memo=func.apply(this,arguments),func=null,memo)}},_.wrap=function(func,wrapper){return function(){var args=[func];return push.apply(args,arguments),wrapper.apply(this,args)}},_.compose=function(){var funcs=arguments;return function(){for(var args=arguments,i=funcs.length-1;i>=0;i--)args=[funcs[i].apply(this,args)];return args[0]}},_.after=function(times,func){return function(){if(--times<1)return func.apply(this,arguments)}},_.keys=nativeKeys||function(obj){if(obj!==Object(obj))throw new TypeError("Invalid object");var keys=[];for(var key in obj)_.has(obj,key)&&keys.push(key);return keys},_.values=function(obj){for(var keys=_.keys(obj),length=keys.length,values=new Array(length),i=0;i<length;i++)values[i]=obj[keys[i]];return values},_.pairs=function(obj){for(var keys=_.keys(obj),length=keys.length,pairs=new Array(length),i=0;i<length;i++)pairs[i]=[keys[i],obj[keys[i]]];return pairs},_.invert=function(obj){for(var result={},keys=_.keys(obj),i=0,length=keys.length;i<length;i++)result[obj[keys[i]]]=keys[i];return result},_.functions=_.methods=function(obj){var names=[];for(var key in obj)_.isFunction(obj[key])&&names.push(key);return names.sort()},_.extend=function(obj){return each(slice.call(arguments,1),function(source){if(source)for(var prop in source)obj[prop]=source[prop]}),obj},_.pick=function(obj){var copy={},keys=concat.apply(ArrayProto,slice.call(arguments,1));return each(keys,function(key){key in obj&&(copy[key]=obj[key])}),copy},_.omit=function(obj){var copy={},keys=concat.apply(ArrayProto,slice.call(arguments,1));for(var key in obj)_.contains(keys,key)||(copy[key]=obj[key]);return copy},_.defaults=function(obj){return each(slice.call(arguments,1),function(source){if(source)for(var prop in source)void 0===obj[prop]&&(obj[prop]=source[prop])}),obj},_.clone=function(obj){return _.isObject(obj)?_.isArray(obj)?obj.slice():_.extend({},obj):obj},_.tap=function(obj,interceptor){return interceptor(obj),obj};var eq=function(a,b,aStack,bStack){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof _&&(a=a._wrapped),b instanceof _&&(b=b._wrapped);var className=toString.call(a);if(className!=toString.call(b))return!1;switch(className){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;
for(var length=aStack.length;length--;)if(aStack[length]==a)return bStack[length]==b;var aCtor=a.constructor,bCtor=b.constructor;if(aCtor!==bCtor&&!(_.isFunction(aCtor)&&aCtor instanceof aCtor&&_.isFunction(bCtor)&&bCtor instanceof bCtor))return!1;aStack.push(a),bStack.push(b);var size=0,result=!0;if("[object Array]"==className){if(size=a.length,result=size==b.length)for(;size--&&(result=eq(a[size],b[size],aStack,bStack)););}else{for(var key in a)if(_.has(a,key)&&(size++,!(result=_.has(b,key)&&eq(a[key],b[key],aStack,bStack))))break;if(result){for(key in b)if(_.has(b,key)&&!size--)break;result=!size}}return aStack.pop(),bStack.pop(),result};_.isEqual=function(a,b){return eq(a,b,[],[])},_.isEmpty=function(obj){if(null==obj)return!0;if(_.isArray(obj)||_.isString(obj))return 0===obj.length;for(var key in obj)if(_.has(obj,key))return!1;return!0},_.isElement=function(obj){return!(!obj||1!==obj.nodeType)},_.isArray=nativeIsArray||function(obj){return"[object Array]"==toString.call(obj)},_.isObject=function(obj){return obj===Object(obj)},each(["Arguments","Function","String","Number","Date","RegExp"],function(name){_["is"+name]=function(obj){return toString.call(obj)=="[object "+name+"]"}}),_.isArguments(arguments)||(_.isArguments=function(obj){return!(!obj||!_.has(obj,"callee"))}),_.isFunction=function(obj){return"function"==typeof obj},_.isFinite=function(obj){return isFinite(obj)&&!isNaN(parseFloat(obj))},_.isNaN=function(obj){return _.isNumber(obj)&&obj!=+obj},_.isBoolean=function(obj){return obj===!0||obj===!1||"[object Boolean]"==toString.call(obj)},_.isNull=function(obj){return null===obj},_.isUndefined=function(obj){return void 0===obj},_.has=function(obj,key){return hasOwnProperty.call(obj,key)},_.noConflict=function(){return root._=previousUnderscore,this},_.identity=function(value){return value},_.times=function(n,iterator,context){for(var accum=Array(Math.max(0,n)),i=0;i<n;i++)accum[i]=iterator.call(context,i);return accum},_.random=function(min,max){return null==max&&(max=min,min=0),min+Math.floor(Math.random()*(max-min+1))};var entityMap={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};entityMap.unescape=_.invert(entityMap.escape);var entityRegexes={escape:new RegExp("["+_.keys(entityMap.escape).join("")+"]","g"),unescape:new RegExp("("+_.keys(entityMap.unescape).join("|")+")","g")};_.each(["escape","unescape"],function(method){_[method]=function(string){return null==string?"":(""+string).replace(entityRegexes[method],function(match){return entityMap[method][match]})}}),_.result=function(object,property){if(null!=object){var value=object[property];return _.isFunction(value)?value.call(object):value}},_.mixin=function(obj){each(_.functions(obj),function(name){var func=_[name]=obj[name];_.prototype[name]=function(){var args=[this._wrapped];return push.apply(args,arguments),result.call(this,func.apply(_,args))}})};var idCounter=0;_.uniqueId=function(prefix){var id=++idCounter+"";return prefix?prefix+id:id},_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var noMatch=/(.)^/,escapes={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},escaper=/\\|'|\r|\n|\t|\u2028|\u2029/g;_.template=function(text,data,settings){var render;settings=_.defaults({},settings,_.templateSettings);var matcher=new RegExp([(settings.escape||noMatch).source,(settings.interpolate||noMatch).source,(settings.evaluate||noMatch).source].join("|")+"|$","g"),index=0,source="__p+='";text.replace(matcher,function(match,escape,interpolate,evaluate,offset){return source+=text.slice(index,offset).replace(escaper,function(match){return"\\"+escapes[match]}),escape&&(source+="'+\n((__t=("+escape+"))==null?'':_.escape(__t))+\n'"),interpolate&&(source+="'+\n((__t=("+interpolate+"))==null?'':__t)+\n'"),evaluate&&(source+="';\n"+evaluate+"\n__p+='"),index=offset+match.length,match}),source+="';\n",settings.variable||(source="with(obj||{}){\n"+source+"}\n"),source="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+source+"return __p;\n";try{render=new Function(settings.variable||"obj","_",source)}catch(e){throw e.source=source,e}if(data)return render(data,_);var template=function(data){return render.call(this,data,_)};return template.source="function("+(settings.variable||"obj")+"){\n"+source+"}",template},_.chain=function(obj){return _(obj).chain()};var result=function(obj){return this._chain?_(obj).chain():obj};_.mixin(_),each(["pop","push","reverse","shift","sort","splice","unshift"],function(name){var method=ArrayProto[name];_.prototype[name]=function(){var obj=this._wrapped;return method.apply(obj,arguments),"shift"!=name&&"splice"!=name||0!==obj.length||delete obj[0],result.call(this,obj)}}),each(["concat","join","slice"],function(name){var method=ArrayProto[name];_.prototype[name]=function(){return result.call(this,method.apply(this._wrapped,arguments))}}),_.extend(_.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this)},{}],16:[function(require,module,exports){(function(){var root=this,previousHumanize=root.humanize,humanize={};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=humanize),exports.humanize=humanize):(__WEBPACK_AMD_DEFINE_RESULT__=function(){return humanize}.call(exports,__webpack_require__,exports,module),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)),root.humanize=humanize),humanize.noConflict=function(){return root.humanize=previousHumanize,this},humanize.pad=function(str,count,padChar,type){if(str+="",padChar?padChar.length>1&&(padChar=padChar.charAt(0)):padChar=" ",type=void 0===type?"left":"right","right"===type)for(;str.length<count;)str+=padChar;else for(;str.length<count;)str=padChar+str;return str},humanize.time=function(){return(new Date).getTime()/1e3};var dayTableCommon=[0,0,31,59,90,120,151,181,212,243,273,304,334],dayTableLeap=[0,0,31,60,91,121,152,182,213,244,274,305,335];humanize.date=function(format,timestamp){var jsdate=void 0===timestamp?new Date:timestamp instanceof Date?new Date(timestamp):new Date(1e3*timestamp),formatChr=/\\?([a-z])/gi,formatChrCb=function(t,s){return f[t]?f[t]():s},shortDayTxt=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthTxt=["January","February","March","April","May","June","July","August","September","October","November","December"],f={d:function(){return humanize.pad(f.j(),2,"0")},D:function(){return f.l().slice(0,3)},j:function(){return jsdate.getDate()},l:function(){return shortDayTxt[f.w()]},N:function(){return f.w()||7},S:function(){var j=f.j();return j>4&&j<21?"th":{1:"st",2:"nd",3:"rd"}[j%10]||"th"},w:function(){return jsdate.getDay()},z:function(){return(f.L()?dayTableLeap[f.n()]:dayTableCommon[f.n()])+f.j()-1},W:function(){var midWeekDaysFromJan4=f.z()-f.N()+1.5;return humanize.pad(1+Math.floor(Math.abs(midWeekDaysFromJan4)/7)+(midWeekDaysFromJan4%7>3.5?1:0),2,"0")},F:function(){return monthTxt[jsdate.getMonth()]},m:function(){return humanize.pad(f.n(),2,"0")},M:function(){return f.F().slice(0,3)},n:function(){return jsdate.getMonth()+1},t:function(){return new Date(f.Y(),f.n(),0).getDate()},L:function(){return 1===new Date(f.Y(),1,29).getMonth()?1:0},o:function(){var n=f.n(),W=f.W();return f.Y()+(12===n&&W<9?-1:1===n&&W>9)},Y:function(){return jsdate.getFullYear()},y:function(){return String(f.Y()).slice(-2)},a:function(){return jsdate.getHours()>11?"pm":"am"},A:function(){return f.a().toUpperCase()},B:function(){var unixTime=jsdate.getTime()/1e3,secondsPassedToday=unixTime%86400+3600;secondsPassedToday<0&&(secondsPassedToday+=86400);var beats=secondsPassedToday/86.4%1e3;return unixTime<0?Math.ceil(beats):Math.floor(beats)},g:function(){return f.G()%12||12},G:function(){return jsdate.getHours()},h:function(){return humanize.pad(f.g(),2,"0")},H:function(){return humanize.pad(f.G(),2,"0")},i:function(){return humanize.pad(jsdate.getMinutes(),2,"0")},s:function(){return humanize.pad(jsdate.getSeconds(),2,"0")},u:function(){return humanize.pad(1e3*jsdate.getMilliseconds(),6,"0")},O:function(){var tzo=jsdate.getTimezoneOffset(),tzoNum=Math.abs(tzo);return(tzo>0?"-":"+")+humanize.pad(100*Math.floor(tzoNum/60)+tzoNum%60,4,"0")},P:function(){var O=f.O();return O.substr(0,3)+":"+O.substr(3,2)},Z:function(){return 60*-jsdate.getTimezoneOffset()},c:function(){return"Y-m-d\\TH:i:sP".replace(formatChr,formatChrCb)},r:function(){return"D, d M Y H:i:s O".replace(formatChr,formatChrCb)},U:function(){return jsdate.getTime()/1e3||0}};return format.replace(formatChr,formatChrCb)},humanize.numberFormat=function(number,decimals,decPoint,thousandsSep){decimals=isNaN(decimals)?2:Math.abs(decimals),decPoint=void 0===decPoint?".":decPoint,thousandsSep=void 0===thousandsSep?",":thousandsSep;var sign=number<0?"-":"";number=Math.abs(+number||0);var intPart=parseInt(number.toFixed(decimals),10)+"",j=intPart.length>3?intPart.length%3:0;return sign+(j?intPart.substr(0,j)+thousandsSep:"")+intPart.substr(j).replace(/(\d{3})(?=\d)/g,"$1"+thousandsSep)+(decimals?decPoint+Math.abs(number-intPart).toFixed(decimals).slice(2):"")},humanize.naturalDay=function(timestamp,format){timestamp=void 0===timestamp?humanize.time():timestamp,format=void 0===format?"Y-m-d":format;var oneDay=86400,d=new Date,today=new Date(d.getFullYear(),d.getMonth(),d.getDate()).getTime()/1e3;return timestamp<today&&timestamp>=today-oneDay?"yesterday":timestamp>=today&&timestamp<today+oneDay?"today":timestamp>=today+oneDay&&timestamp<today+2*oneDay?"tomorrow":humanize.date(format,timestamp)},humanize.relativeTime=function(timestamp){timestamp=void 0===timestamp?humanize.time():timestamp;var currTime=humanize.time(),timeDiff=currTime-timestamp;if(timeDiff<2&&timeDiff>-2)return(timeDiff>=0?"just ":"")+"now";if(timeDiff<60&&timeDiff>-60)return timeDiff>=0?Math.floor(timeDiff)+" seconds ago":"in "+Math.floor(-timeDiff)+" seconds";if(timeDiff<120&&timeDiff>-120)return timeDiff>=0?"about a minute ago":"in about a minute";if(timeDiff<3600&&timeDiff>-3600)return timeDiff>=0?Math.floor(timeDiff/60)+" minutes ago":"in "+Math.floor(-timeDiff/60)+" minutes";if(timeDiff<7200&&timeDiff>-7200)return timeDiff>=0?"about an hour ago":"in about an hour";if(timeDiff<86400&&timeDiff>-86400)return timeDiff>=0?Math.floor(timeDiff/3600)+" hours ago":"in "+Math.floor(-timeDiff/3600)+" hours";var days2=172800;if(timeDiff<days2&&timeDiff>-days2)return timeDiff>=0?"1 day ago":"in 1 day";var days29=2505600;if(timeDiff<days29&&timeDiff>-days29)return timeDiff>=0?Math.floor(timeDiff/86400)+" days ago":"in "+Math.floor(-timeDiff/86400)+" days";var days60=5184e3;if(timeDiff<days60&&timeDiff>-days60)return timeDiff>=0?"about a month ago":"in about a month";var currTimeYears=parseInt(humanize.date("Y",currTime),10),timestampYears=parseInt(humanize.date("Y",timestamp),10),currTimeMonths=12*currTimeYears+parseInt(humanize.date("n",currTime),10),timestampMonths=12*timestampYears+parseInt(humanize.date("n",timestamp),10),monthDiff=currTimeMonths-timestampMonths;if(monthDiff<12&&monthDiff>-12)return monthDiff>=0?monthDiff+" months ago":"in "+-monthDiff+" months";var yearDiff=currTimeYears-timestampYears;return yearDiff<2&&yearDiff>-2?yearDiff>=0?"a year ago":"in a year":yearDiff>=0?yearDiff+" years ago":"in "+-yearDiff+" years"},humanize.ordinal=function(number){number=parseInt(number,10),number=isNaN(number)?0:number;var sign=number<0?"-":"";number=Math.abs(number);var tens=number%100;return sign+number+(tens>4&&tens<21?"th":{1:"st",2:"nd",3:"rd"}[number%10]||"th")},humanize.filesize=function(filesize,kilo,decimals,decPoint,thousandsSep,suffixSep){return kilo=void 0===kilo?1024:kilo,filesize<=0?"0 bytes":(filesize<kilo&&void 0===decimals&&(decimals=0),void 0===suffixSep&&(suffixSep=" "),humanize.intword(filesize,["bytes","KB","MB","GB","TB","PB"],kilo,decimals,decPoint,thousandsSep,suffixSep))},humanize.intword=function(number,units,kilo,decimals,decPoint,thousandsSep,suffixSep){var humanized,unit;units=units||["","K","M","B","T"],unit=units.length-1,kilo=kilo||1e3,decimals=isNaN(decimals)?2:Math.abs(decimals),decPoint=decPoint||".",thousandsSep=thousandsSep||",",suffixSep=suffixSep||"";for(var i=0;i<units.length;i++)if(number<Math.pow(kilo,i+1)){unit=i;break}humanized=number/Math.pow(kilo,unit);var suffix=units[unit]?suffixSep+units[unit]:"";return humanize.numberFormat(humanized,decimals,decPoint,thousandsSep)+suffix},humanize.linebreaks=function(str){return str=str.replace(/^([\n|\r]*)/,""),str=str.replace(/([\n|\r]*)$/,""),str=str.replace(/(\r\n|\n|\r)/g,"\n"),str=str.replace(/(\n{2,})/g,"</p><p>"),str=str.replace(/\n/g,"<br />"),"<p>"+str+"</p>"},humanize.nl2br=function(str){return str.replace(/(\r\n|\n|\r)/g,"<br />")},humanize.truncatechars=function(string,length){return string.length<=length?string:string.substr(0,length)+""},humanize.truncatewords=function(string,numWords){var words=string.split(" ");return words.length<numWords?string:words.slice(0,numWords).join(" ")+""}}).call(this)},{}],17:[function(require,module,exports){(function(process){function dotNotation(obj,is,value){return obj.hasOwnProperty(is)?obj[is]:"string"==typeof is?dotNotation(obj,is.split("."),value):1===is.length&&void 0!==value?obj[is[0]]=value:0===is.length?obj:obj.hasOwnProperty(is[0])?dotNotation(obj[is[0]],is.slice(1),value):obj[is.join(".")]=is.join(".")}/**
 * @author  John Resig <jeresig@gmail.com>
 * @author  Originally by Marcus Spiegel <marcus.spiegel@gmail.com>
 * @link    https://github.com/jeresig/i18n-node
 * @license http://opensource.org/licenses/MIT
 *
 * @version 0.4.7
 */
var vsprintf=require("sprintf").vsprintf,fs=require("fs"),path=require("path"),i18n=module.exports=function(opt){var self=this;this.devMode="production"!==process.env.NODE_ENV;for(var prop in opt)this[prop]=opt[prop];"object"==typeof this.register&&i18n.resMethods.forEach(function(method){self.register[method]=self[method].bind(self)}),opt.locales&&opt.locales.forEach&&(this.locales={},opt.locales.forEach(function(locale){self.readFile(locale)}),this.defaultLocale=opt.locales[0]),this.setLocale(this.defaultLocale),this.locales[this.defaultLocale]||console.error("Not a valid default locale."),this.request&&(this.subdomain&&this.setLocaleFromSubdomain(this.request),this.query!==!1&&this.setLocaleFromQuery(this.request),this.session!==!1&&this.setLocaleFromSessionVar(this.request),this.prefLocale=this.preferredLocale(),this.prefLocale!==!1&&this.prefLocale!==this.locale&&this.setLocale(this.prefLocale))};i18n.version="0.4.7",i18n.localeCache={},i18n.resMethods=["__","__n","getLocale","isPreferredLocale"],i18n.expressBind=function(app,opt){app&&(app.use(function(req,res,next){opt.request=req,req.i18n=new i18n(opt),res.locals&&i18n.registerMethods(res.locals,req),next()}),app.dynamicHelpers&&app.dynamicHelpers(i18n.registerMethods({})))},i18n.registerMethods=function(helpers,req){return i18n.resMethods.forEach(function(method){req?helpers[method]=req.i18n[method].bind(req.i18n):helpers[method]=function(req){return req.i18n[method].bind(req.i18n)}}),helpers},i18n.prototype={defaultLocale:"en",extension:".js",directory:"./locales",cookieName:"lang",sessionVarName:"locale",indent:"\t",parse:JSON.parse,dump:function(data,indent){return JSON.stringify(data,null,indent)},__:function(){var msg=this.translate(this.locale,arguments[0]);return arguments.length>1&&(msg=vsprintf(msg,Array.prototype.slice.call(arguments,1))),msg},__n:function(pathOrSingular,countOrPlural,additionalOrCount){var msg;if("number"==typeof countOrPlural){var path=pathOrSingular,count=countOrPlural;msg=this.translate(this.locale,path),msg=vsprintf(parseInt(count,10)>1?msg.other:msg.one,Array.prototype.slice.call(arguments,1))}else{var singular=pathOrSingular,plural=countOrPlural,count=additionalOrCount;msg=this.translate(this.locale,singular,plural),msg=vsprintf(parseInt(count,10)>1?msg.other:msg.one,[count]),arguments.length>3&&(msg=vsprintf(msg,Array.prototype.slice.call(arguments,3)))}return msg},setLocale:function(locale){if(locale)return this.locales[locale]||(this.devMode&&console.warn("Locale ("+locale+") not found."),locale=this.defaultLocale),this.locale=locale},getLocale:function(){return this.locale},isPreferredLocale:function(){return!this.prefLocale||this.prefLocale===this.getLocale()},setLocaleFromSessionVar:function(req){if(req=req||this.request,req&&req.session&&req.session[this.sessionVarName]){var locale=req.session[this.sessionVarName];this.locales[locale]&&(this.devMode&&console.log("Overriding locale from query: "+locale),this.setLocale(locale))}},setLocaleFromQuery:function(req){if(req=req||this.request,req&&req.query&&req.query.lang){var locale=(req.query.lang+"").toLowerCase();this.locales[locale]&&(this.devMode&&console.log("Overriding locale from query: "+locale),this.setLocale(locale))}},setLocaleFromSubdomain:function(req){req=req||this.request,req&&req.headers&&req.headers.host&&/^([^.]+)/.test(req.headers.host)&&this.locales[RegExp.$1]&&(this.devMode&&console.log("Overriding locale from host: "+RegExp.$1),this.setLocale(RegExp.$1))},setLocaleFromCookie:function(req){if(req=req||this.request,req&&req.cookies&&this.cookieName&&req.cookies[this.cookieName]){var locale=req.cookies[this.cookieName].toLowerCase();this.locales[locale]&&(this.devMode&&console.log("Overriding locale from cookie: "+locale),this.setLocale(locale))}},setLocaleFromEnvironmentVariable:function(){if(process.env.LANG){var locale=process.env.LANG.split("_")[0];this.locales[locale]&&(this.devMode&&console.log("Overriding locale from environment variable: "+locale),this.setLocale(locale))}},preferredLocale:function(req){if(req=req||this.request,req&&req.headers){for(var prefLocale,accept=req.headers["accept-language"]||"",regExp=/(^|,\s*)([a-z0-9-]+)/gi,self=this;!prefLocale&&(match=regExp.exec(accept));){var locale=match[2].toLowerCase(),parts=locale.split("-");self.locales[locale]?prefLocale=locale:parts.length>1&&self.locales[parts[0]]&&(prefLocale=parts[0])}return prefLocale||this.defaultLocale}},translate:function(locale,singular,plural){return locale&&this.locales[locale]||(this.devMode&&console.warn("WARN: No locale found. Using the default ("+this.defaultLocale+") as current locale"),locale=this.defaultLocale,this.initLocale(locale,{})),this.locales[locale][singular]||this.devMode&&(dotNotation(this.locales[locale],singular,plural?{one:singular,other:plural}:void 0),this.writeFile(locale)),dotNotation(this.locales[locale],singular,plural?{one:singular,other:plural}:void 0)},readFile:function(locale){var file=this.locateFile(locale);if(!this.devMode&&i18n.localeCache[file])return void this.initLocale(locale,i18n.localeCache[file]);try{var base,localeFile=fs.readFileSync(file);if("function"==typeof this.base){var baseFilename;try{baseFilename=this.base(locale)}catch(e){console.error("base function threw exception for locale %s",locale,e)}if("string"==typeof baseFilename)try{base=this.parse(fs.readFileSync(this.locateFile(baseFilename)))}catch(e){console.error("unable to read or parse base file %s for locale %s",baseFilename,locale,e)}}try{var content=this.parse(localeFile);if(base){for(var prop in content)base[prop]=content[prop];content=base}this.initLocale(locale,content)}catch(e){console.error("unable to parse locales from file (maybe "+file+" is empty or invalid "+this.extension+"?): ",e)}}catch(e){fs.existsSync(file)||this.writeFile(locale)}},writeFile:function(locale){if(!this.devMode)return void this.initLocale(locale,{});try{fs.lstatSync(this.directory)}catch(e){this.devMode&&console.log("creating locales dir in: "+this.directory),fs.mkdirSync(this.directory,493)}this.initLocale(locale,{});try{var target=this.locateFile(locale),tmp=target+".tmp";fs.writeFileSync(tmp,this.dump(this.locales[locale],this.indent),"utf8"),fs.statSync(tmp).isFile()?fs.renameSync(tmp,target):console.error("unable to write locales to file (either "+tmp+" or "+target+" are not writeable?): ")}catch(e){console.error("unexpected error writing files (either "+tmp+" or "+target+" are not writeable?): ",e)}},locateFile:function(locale){return path.normalize(this.directory+"/"+locale+this.extension)},initLocale:function(locale,data){if(!this.locales[locale]&&(this.locales[locale]=data,!this.devMode)){var file=this.locateFile(locale);i18n.localeCache[file]||(i18n.localeCache[file]=data)}}}}).call(this,require("_process"))},{_process:20,fs:1,path:19,sprintf:21}],18:[function(require,module,exports){module.exports=require("./i18n")},{"./i18n":17}],19:[function(require,module,exports){(function(process){function normalizeArray(parts,allowAboveRoot){for(var up=0,i=parts.length-1;i>=0;i--){var last=parts[i];"."===last?parts.splice(i,1):".."===last?(parts.splice(i,1),up++):up&&(parts.splice(i,1),up--)}if(allowAboveRoot)for(;up--;up)parts.unshift("..");return parts}function filter(xs,f){if(xs.filter)return xs.filter(f);for(var res=[],i=0;i<xs.length;i++)f(xs[i],i,xs)&&res.push(xs[i]);return res}var splitPathRe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,splitPath=function(filename){return splitPathRe.exec(filename).slice(1)};exports.resolve=function(){for(var resolvedPath="",resolvedAbsolute=!1,i=arguments.length-1;i>=-1&&!resolvedAbsolute;i--){var path=i>=0?arguments[i]:process.cwd();if("string"!=typeof path)throw new TypeError("Arguments to path.resolve must be strings");path&&(resolvedPath=path+"/"+resolvedPath,resolvedAbsolute="/"===path.charAt(0))}return resolvedPath=normalizeArray(filter(resolvedPath.split("/"),function(p){return!!p}),!resolvedAbsolute).join("/"),(resolvedAbsolute?"/":"")+resolvedPath||"."},exports.normalize=function(path){var isAbsolute=exports.isAbsolute(path),trailingSlash="/"===substr(path,-1);return path=normalizeArray(filter(path.split("/"),function(p){return!!p}),!isAbsolute).join("/"),path||isAbsolute||(path="."),path&&trailingSlash&&(path+="/"),(isAbsolute?"/":"")+path},exports.isAbsolute=function(path){return"/"===path.charAt(0)},exports.join=function(){var paths=Array.prototype.slice.call(arguments,0);return exports.normalize(filter(paths,function(p,index){if("string"!=typeof p)throw new TypeError("Arguments to path.join must be strings");return p}).join("/"))},exports.relative=function(from,to){function trim(arr){for(var start=0;start<arr.length&&""===arr[start];start++);for(var end=arr.length-1;end>=0&&""===arr[end];end--);return start>end?[]:arr.slice(start,end-start+1)}from=exports.resolve(from).substr(1),to=exports.resolve(to).substr(1);for(var fromParts=trim(from.split("/")),toParts=trim(to.split("/")),length=Math.min(fromParts.length,toParts.length),samePartsLength=length,i=0;i<length;i++)if(fromParts[i]!==toParts[i]){samePartsLength=i;break}for(var outputParts=[],i=samePartsLength;i<fromParts.length;i++)outputParts.push("..");return outputParts=outputParts.concat(toParts.slice(samePartsLength)),outputParts.join("/")},exports.sep="/",exports.delimiter=":",exports.dirname=function(path){var result=splitPath(path),root=result[0],dir=result[1];return root||dir?(dir&&(dir=dir.substr(0,dir.length-1)),root+dir):"."},exports.basename=function(path,ext){var f=splitPath(path)[2];return ext&&f.substr(-1*ext.length)===ext&&(f=f.substr(0,f.length-ext.length)),f},exports.extname=function(path){return splitPath(path)[3]};var substr="b"==="ab".substr(-1)?function(str,start,len){return str.substr(start,len)}:function(str,start,len){return start<0&&(start=str.length+start),str.substr(start,len)}}).call(this,require("_process"))},{_process:20}],20:[function(require,module,exports){function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(fun){if(cachedSetTimeout===setTimeout)return setTimeout(fun,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(fun,0);try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout)return clearTimeout(marker);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(marker);try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var timeout=runTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,runClearTimeout(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}var cachedSetTimeout,cachedClearTimeout,process=module.exports={};!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},{}],21:[function(require,module,exports){var sprintf=function(){function get_type(variable){return Object.prototype.toString.call(variable).slice(8,-1).toLowerCase()}function str_repeat(input,multiplier){for(var output=[];multiplier>0;output[--multiplier]=input);return output.join("")}var str_format=function(){return str_format.cache.hasOwnProperty(arguments[0])||(str_format.cache[arguments[0]]=str_format.parse(arguments[0])),str_format.format.call(null,str_format.cache[arguments[0]],arguments)};return str_format.object_stringify=function(obj,depth,maxdepth,seen){var str="";if(null!=obj)switch(typeof obj){case"function":return"[Function"+(obj.name?": "+obj.name:"")+"]";case"object":if(obj instanceof Error)return"["+obj.toString()+"]";if(depth>=maxdepth)return"[Object]";if(seen&&(seen=seen.slice(0),seen.push(obj)),null!=obj.length){str+="[";var arr=[];for(var i in obj)seen&&seen.indexOf(obj[i])>=0?arr.push("[Circular]"):arr.push(str_format.object_stringify(obj[i],depth+1,maxdepth,seen));str+=arr.join(", ")+"]"}else{if("getMonth"in obj)return"Date("+obj+")";str+="{";var arr=[];for(var k in obj)obj.hasOwnProperty(k)&&(seen&&seen.indexOf(obj[k])>=0?arr.push(k+": [Circular]"):arr.push(k+": "+str_format.object_stringify(obj[k],depth+1,maxdepth,seen)));str+=arr.join(", ")+"}"}return str;case"string":return'"'+obj+'"'}return""+obj},str_format.format=function(parse_tree,argv){var arg,i,k,match,pad,pad_character,pad_length,cursor=1,tree_length=parse_tree.length,node_type="",output=[];for(i=0;i<tree_length;i++)if(node_type=get_type(parse_tree[i]),"string"===node_type)output.push(parse_tree[i]);else if("array"===node_type){if(match=parse_tree[i],match[2])for(arg=argv[cursor],k=0;k<match[2].length;k++){if(!arg.hasOwnProperty(match[2][k]))throw new Error(sprintf('[sprintf] property "%s" does not exist',match[2][k]));arg=arg[match[2][k]]}else arg=match[1]?argv[match[1]]:argv[cursor++];if(/[^sO]/.test(match[8])&&"number"!=get_type(arg))throw new Error(sprintf('[sprintf] expecting number but found %s "'+arg+'"',get_type(arg)));switch(match[8]){case"b":arg=arg.toString(2);break;case"c":arg=String.fromCharCode(arg);break;case"d":arg=parseInt(arg,10);break;case"e":arg=match[7]?arg.toExponential(match[7]):arg.toExponential();break;case"f":arg=match[7]?parseFloat(arg).toFixed(match[7]):parseFloat(arg);break;case"O":arg=str_format.object_stringify(arg,0,parseInt(match[7])||5);break;case"o":arg=arg.toString(8);break;case"s":arg=(arg=String(arg))&&match[7]?arg.substring(0,match[7]):arg;break;case"u":arg=Math.abs(arg);break;case"x":arg=arg.toString(16);break;case"X":arg=arg.toString(16).toUpperCase()}arg=/[def]/.test(match[8])&&match[3]&&arg>=0?"+"+arg:arg,pad_character=match[4]?"0"==match[4]?"0":match[4].charAt(1):" ",pad_length=match[6]-String(arg).length,pad=match[6]?str_repeat(pad_character,pad_length):"",output.push(match[5]?arg+pad:pad+arg)}return output.join("")},str_format.cache={},str_format.parse=function(fmt){for(var _fmt=fmt,match=[],parse_tree=[],arg_names=0;_fmt;){if(null!==(match=/^[^\x25]+/.exec(_fmt)))parse_tree.push(match[0]);else if(null!==(match=/^\x25{2}/.exec(_fmt)))parse_tree.push("%");else{if(null===(match=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosOuxX])/.exec(_fmt)))throw new Error("[sprintf] "+_fmt);if(match[2]){arg_names|=1;var field_list=[],replacement_field=match[2],field_match=[];if(null===(field_match=/^([a-z_][a-z_\d]*)/i.exec(replacement_field)))throw new Error("[sprintf] "+replacement_field);for(field_list.push(field_match[1]);""!==(replacement_field=replacement_field.substring(field_match[0].length));)if(null!==(field_match=/^\.([a-z_][a-z_\d]*)/i.exec(replacement_field)))field_list.push(field_match[1]);else{if(null===(field_match=/^\[(\d+)\]/.exec(replacement_field)))throw new Error("[sprintf] "+replacement_field);field_list.push(field_match[1])}match[2]=field_list}else arg_names|=2;if(3===arg_names)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");parse_tree.push(match)}_fmt=_fmt.substring(match[0].length)}return parse_tree},str_format}(),vsprintf=function(fmt,argv){var argvClone=argv.slice();return argvClone.unshift(fmt),sprintf.apply(null,argvClone)};module.exports=sprintf,sprintf.sprintf=sprintf,sprintf.vsprintf=vsprintf},{}],22:[function(require,module,exports){(function(){function createReduce(dir){function iterator(obj,iteratee,memo,keys,index,length){for(;index>=0&&index<length;index+=dir){var currentKey=keys?keys[index]:index;memo=iteratee(memo,obj[currentKey],currentKey,obj)}return memo}return function(obj,iteratee,memo,context){iteratee=optimizeCb(iteratee,context,4);var keys=!isArrayLike(obj)&&_.keys(obj),length=(keys||obj).length,index=dir>0?0:length-1;return arguments.length<3&&(memo=obj[keys?keys[index]:index],index+=dir),iterator(obj,iteratee,memo,keys,index,length)}}function createPredicateIndexFinder(dir){return function(array,predicate,context){predicate=cb(predicate,context);for(var length=getLength(array),index=dir>0?0:length-1;index>=0&&index<length;index+=dir)if(predicate(array[index],index,array))return index;return-1}}function createIndexFinder(dir,predicateFind,sortedIndex){return function(array,item,idx){var i=0,length=getLength(array);if("number"==typeof idx)dir>0?i=idx>=0?idx:Math.max(idx+length,i):length=idx>=0?Math.min(idx+1,length):idx+length+1;else if(sortedIndex&&idx&&length)return idx=sortedIndex(array,item),array[idx]===item?idx:-1;if(item!==item)return idx=predicateFind(slice.call(array,i,length),_.isNaN),idx>=0?idx+i:-1;for(idx=dir>0?i:length-1;idx>=0&&idx<length;idx+=dir)if(array[idx]===item)return idx;return-1}}function collectNonEnumProps(obj,keys){var nonEnumIdx=nonEnumerableProps.length,constructor=obj.constructor,proto=_.isFunction(constructor)&&constructor.prototype||ObjProto,prop="constructor";for(_.has(obj,prop)&&!_.contains(keys,prop)&&keys.push(prop);nonEnumIdx--;)prop=nonEnumerableProps[nonEnumIdx],prop in obj&&obj[prop]!==proto[prop]&&!_.contains(keys,prop)&&keys.push(prop)}var root=this,previousUnderscore=root._,ArrayProto=Array.prototype,ObjProto=Object.prototype,FuncProto=Function.prototype,push=ArrayProto.push,slice=ArrayProto.slice,toString=ObjProto.toString,hasOwnProperty=ObjProto.hasOwnProperty,nativeIsArray=Array.isArray,nativeKeys=Object.keys,nativeBind=FuncProto.bind,nativeCreate=Object.create,Ctor=function(){},_=function(obj){return obj instanceof _?obj:this instanceof _?void(this._wrapped=obj):new _(obj)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=_),exports._=_):root._=_,_.VERSION="1.8.3";var optimizeCb=function(func,context,argCount){if(void 0===context)return func;switch(null==argCount?3:argCount){case 1:return function(value){return func.call(context,value)};case 2:return function(value,other){return func.call(context,value,other)};case 3:return function(value,index,collection){return func.call(context,value,index,collection)};case 4:return function(accumulator,value,index,collection){return func.call(context,accumulator,value,index,collection)}}return function(){return func.apply(context,arguments)}},cb=function(value,context,argCount){return null==value?_.identity:_.isFunction(value)?optimizeCb(value,context,argCount):_.isObject(value)?_.matcher(value):_.property(value)};_.iteratee=function(value,context){return cb(value,context,1/0)};var createAssigner=function(keysFunc,undefinedOnly){return function(obj){var length=arguments.length;if(length<2||null==obj)return obj;for(var index=1;index<length;index++)for(var source=arguments[index],keys=keysFunc(source),l=keys.length,i=0;i<l;i++){var key=keys[i];undefinedOnly&&void 0!==obj[key]||(obj[key]=source[key])}return obj}},baseCreate=function(prototype){if(!_.isObject(prototype))return{};if(nativeCreate)return nativeCreate(prototype);Ctor.prototype=prototype;var result=new Ctor;return Ctor.prototype=null,result},property=function(key){return function(obj){return null==obj?void 0:obj[key]}},MAX_ARRAY_INDEX=Math.pow(2,53)-1,getLength=property("length"),isArrayLike=function(collection){var length=getLength(collection);return"number"==typeof length&&length>=0&&length<=MAX_ARRAY_INDEX};_.each=_.forEach=function(obj,iteratee,context){iteratee=optimizeCb(iteratee,context);var i,length;if(isArrayLike(obj))for(i=0,length=obj.length;i<length;i++)iteratee(obj[i],i,obj);else{var keys=_.keys(obj);for(i=0,length=keys.length;i<length;i++)iteratee(obj[keys[i]],keys[i],obj)}return obj},_.map=_.collect=function(obj,iteratee,context){iteratee=cb(iteratee,context);for(var keys=!isArrayLike(obj)&&_.keys(obj),length=(keys||obj).length,results=Array(length),index=0;index<length;index++){var currentKey=keys?keys[index]:index;results[index]=iteratee(obj[currentKey],currentKey,obj)}return results},_.reduce=_.foldl=_.inject=createReduce(1),_.reduceRight=_.foldr=createReduce(-1),_.find=_.detect=function(obj,predicate,context){var key;if(key=isArrayLike(obj)?_.findIndex(obj,predicate,context):_.findKey(obj,predicate,context),void 0!==key&&key!==-1)return obj[key]},_.filter=_.select=function(obj,predicate,context){var results=[];return predicate=cb(predicate,context),_.each(obj,function(value,index,list){predicate(value,index,list)&&results.push(value)}),results},_.reject=function(obj,predicate,context){return _.filter(obj,_.negate(cb(predicate)),context)},_.every=_.all=function(obj,predicate,context){predicate=cb(predicate,context);for(var keys=!isArrayLike(obj)&&_.keys(obj),length=(keys||obj).length,index=0;index<length;index++){var currentKey=keys?keys[index]:index;if(!predicate(obj[currentKey],currentKey,obj))return!1}return!0},_.some=_.any=function(obj,predicate,context){predicate=cb(predicate,context);for(var keys=!isArrayLike(obj)&&_.keys(obj),length=(keys||obj).length,index=0;index<length;index++){var currentKey=keys?keys[index]:index;if(predicate(obj[currentKey],currentKey,obj))return!0}return!1},_.contains=_.includes=_.include=function(obj,item,fromIndex,guard){return isArrayLike(obj)||(obj=_.values(obj)),("number"!=typeof fromIndex||guard)&&(fromIndex=0),_.indexOf(obj,item,fromIndex)>=0},_.invoke=function(obj,method){var args=slice.call(arguments,2),isFunc=_.isFunction(method);return _.map(obj,function(value){var func=isFunc?method:value[method];return null==func?func:func.apply(value,args)})},_.pluck=function(obj,key){return _.map(obj,_.property(key))},_.where=function(obj,attrs){return _.filter(obj,_.matcher(attrs))},_.findWhere=function(obj,attrs){return _.find(obj,_.matcher(attrs))},_.max=function(obj,iteratee,context){var value,computed,result=-(1/0),lastComputed=-(1/0);if(null==iteratee&&null!=obj){obj=isArrayLike(obj)?obj:_.values(obj);for(var i=0,length=obj.length;i<length;i++)value=obj[i],value>result&&(result=value)}else iteratee=cb(iteratee,context),_.each(obj,function(value,index,list){computed=iteratee(value,index,list),(computed>lastComputed||computed===-(1/0)&&result===-(1/0))&&(result=value,lastComputed=computed)});return result},_.min=function(obj,iteratee,context){var value,computed,result=1/0,lastComputed=1/0;if(null==iteratee&&null!=obj){obj=isArrayLike(obj)?obj:_.values(obj);for(var i=0,length=obj.length;i<length;i++)value=obj[i],value<result&&(result=value)}else iteratee=cb(iteratee,context),_.each(obj,function(value,index,list){computed=iteratee(value,index,list),(computed<lastComputed||computed===1/0&&result===1/0)&&(result=value,lastComputed=computed)});return result},_.shuffle=function(obj){for(var rand,set=isArrayLike(obj)?obj:_.values(obj),length=set.length,shuffled=Array(length),index=0;index<length;index++)rand=_.random(0,index),rand!==index&&(shuffled[index]=shuffled[rand]),shuffled[rand]=set[index];return shuffled},_.sample=function(obj,n,guard){return null==n||guard?(isArrayLike(obj)||(obj=_.values(obj)),obj[_.random(obj.length-1)]):_.shuffle(obj).slice(0,Math.max(0,n))},_.sortBy=function(obj,iteratee,context){return iteratee=cb(iteratee,context),_.pluck(_.map(obj,function(value,index,list){return{value:value,index:index,criteria:iteratee(value,index,list)}}).sort(function(left,right){var a=left.criteria,b=right.criteria;if(a!==b){if(a>b||void 0===a)return 1;if(a<b||void 0===b)return-1}return left.index-right.index}),"value")};var group=function(behavior){return function(obj,iteratee,context){var result={};return iteratee=cb(iteratee,context),_.each(obj,function(value,index){var key=iteratee(value,index,obj);behavior(result,value,key)}),result}};_.groupBy=group(function(result,value,key){_.has(result,key)?result[key].push(value):result[key]=[value]}),_.indexBy=group(function(result,value,key){result[key]=value}),_.countBy=group(function(result,value,key){_.has(result,key)?result[key]++:result[key]=1}),_.toArray=function(obj){return obj?_.isArray(obj)?slice.call(obj):isArrayLike(obj)?_.map(obj,_.identity):_.values(obj):[]},_.size=function(obj){return null==obj?0:isArrayLike(obj)?obj.length:_.keys(obj).length},_.partition=function(obj,predicate,context){predicate=cb(predicate,context);var pass=[],fail=[];return _.each(obj,function(value,key,obj){(predicate(value,key,obj)?pass:fail).push(value)}),[pass,fail]},_.first=_.head=_.take=function(array,n,guard){if(null!=array)return null==n||guard?array[0]:_.initial(array,array.length-n)},_.initial=function(array,n,guard){return slice.call(array,0,Math.max(0,array.length-(null==n||guard?1:n)))},_.last=function(array,n,guard){if(null!=array)return null==n||guard?array[array.length-1]:_.rest(array,Math.max(0,array.length-n))},_.rest=_.tail=_.drop=function(array,n,guard){return slice.call(array,null==n||guard?1:n)},_.compact=function(array){return _.filter(array,_.identity)};var flatten=function(input,shallow,strict,startIndex){for(var output=[],idx=0,i=startIndex||0,length=getLength(input);i<length;i++){var value=input[i];if(isArrayLike(value)&&(_.isArray(value)||_.isArguments(value))){shallow||(value=flatten(value,shallow,strict));var j=0,len=value.length;for(output.length+=len;j<len;)output[idx++]=value[j++]}else strict||(output[idx++]=value)}return output};_.flatten=function(array,shallow){return flatten(array,shallow,!1)},_.without=function(array){return _.difference(array,slice.call(arguments,1))},_.uniq=_.unique=function(array,isSorted,iteratee,context){_.isBoolean(isSorted)||(context=iteratee,iteratee=isSorted,isSorted=!1),null!=iteratee&&(iteratee=cb(iteratee,context));for(var result=[],seen=[],i=0,length=getLength(array);i<length;i++){var value=array[i],computed=iteratee?iteratee(value,i,array):value;isSorted?(i&&seen===computed||result.push(value),seen=computed):iteratee?_.contains(seen,computed)||(seen.push(computed),result.push(value)):_.contains(result,value)||result.push(value)}return result},_.union=function(){return _.uniq(flatten(arguments,!0,!0))},_.intersection=function(array){for(var result=[],argsLength=arguments.length,i=0,length=getLength(array);i<length;i++){var item=array[i];if(!_.contains(result,item)){for(var j=1;j<argsLength&&_.contains(arguments[j],item);j++);j===argsLength&&result.push(item)}}return result},_.difference=function(array){var rest=flatten(arguments,!0,!0,1);return _.filter(array,function(value){return!_.contains(rest,value)})},_.zip=function(){return _.unzip(arguments)},_.unzip=function(array){for(var length=array&&_.max(array,getLength).length||0,result=Array(length),index=0;index<length;index++)result[index]=_.pluck(array,index);return result},_.object=function(list,values){for(var result={},i=0,length=getLength(list);i<length;i++)values?result[list[i]]=values[i]:result[list[i][0]]=list[i][1];return result},_.findIndex=createPredicateIndexFinder(1),_.findLastIndex=createPredicateIndexFinder(-1),_.sortedIndex=function(array,obj,iteratee,context){iteratee=cb(iteratee,context,1);for(var value=iteratee(obj),low=0,high=getLength(array);low<high;){var mid=Math.floor((low+high)/2);iteratee(array[mid])<value?low=mid+1:high=mid}return low},_.indexOf=createIndexFinder(1,_.findIndex,_.sortedIndex),_.lastIndexOf=createIndexFinder(-1,_.findLastIndex),_.range=function(start,stop,step){null==stop&&(stop=start||0,start=0),step=step||1;for(var length=Math.max(Math.ceil((stop-start)/step),0),range=Array(length),idx=0;idx<length;idx++,start+=step)range[idx]=start;return range};var executeBound=function(sourceFunc,boundFunc,context,callingContext,args){if(!(callingContext instanceof boundFunc))return sourceFunc.apply(context,args);var self=baseCreate(sourceFunc.prototype),result=sourceFunc.apply(self,args);return _.isObject(result)?result:self};_.bind=function(func,context){if(nativeBind&&func.bind===nativeBind)return nativeBind.apply(func,slice.call(arguments,1));if(!_.isFunction(func))throw new TypeError("Bind must be called on a function");var args=slice.call(arguments,2),bound=function(){return executeBound(func,bound,context,this,args.concat(slice.call(arguments)))};return bound},_.partial=function(func){var boundArgs=slice.call(arguments,1),bound=function(){for(var position=0,length=boundArgs.length,args=Array(length),i=0;i<length;i++)args[i]=boundArgs[i]===_?arguments[position++]:boundArgs[i];for(;position<arguments.length;)args.push(arguments[position++]);return executeBound(func,bound,this,this,args)};return bound},_.bindAll=function(obj){var i,key,length=arguments.length;if(length<=1)throw new Error("bindAll must be passed function names");for(i=1;i<length;i++)key=arguments[i],obj[key]=_.bind(obj[key],obj);return obj},_.memoize=function(func,hasher){var memoize=function(key){var cache=memoize.cache,address=""+(hasher?hasher.apply(this,arguments):key);return _.has(cache,address)||(cache[address]=func.apply(this,arguments)),cache[address]};return memoize.cache={},memoize},_.delay=function(func,wait){var args=slice.call(arguments,2);return setTimeout(function(){return func.apply(null,args)},wait)},_.defer=_.partial(_.delay,_,1),_.throttle=function(func,wait,options){var context,args,result,timeout=null,previous=0;options||(options={});var later=function(){previous=options.leading===!1?0:_.now(),timeout=null,result=func.apply(context,args),timeout||(context=args=null)};return function(){var now=_.now();previous||options.leading!==!1||(previous=now);var remaining=wait-(now-previous);return context=this,args=arguments,remaining<=0||remaining>wait?(timeout&&(clearTimeout(timeout),timeout=null),previous=now,result=func.apply(context,args),timeout||(context=args=null)):timeout||options.trailing===!1||(timeout=setTimeout(later,remaining)),result}},_.debounce=function(func,wait,immediate){var timeout,args,context,timestamp,result,later=function(){var last=_.now()-timestamp;last<wait&&last>=0?timeout=setTimeout(later,wait-last):(timeout=null,immediate||(result=func.apply(context,args),timeout||(context=args=null)))};return function(){context=this,args=arguments,timestamp=_.now();var callNow=immediate&&!timeout;return timeout||(timeout=setTimeout(later,wait)),callNow&&(result=func.apply(context,args),context=args=null),result}},_.wrap=function(func,wrapper){return _.partial(wrapper,func)},_.negate=function(predicate){return function(){return!predicate.apply(this,arguments)}},_.compose=function(){var args=arguments,start=args.length-1;return function(){for(var i=start,result=args[start].apply(this,arguments);i--;)result=args[i].call(this,result);return result}},_.after=function(times,func){return function(){if(--times<1)return func.apply(this,arguments)}},_.before=function(times,func){var memo;return function(){return--times>0&&(memo=func.apply(this,arguments)),
times<=1&&(func=null),memo}},_.once=_.partial(_.before,2);var hasEnumBug=!{toString:null}.propertyIsEnumerable("toString"),nonEnumerableProps=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];_.keys=function(obj){if(!_.isObject(obj))return[];if(nativeKeys)return nativeKeys(obj);var keys=[];for(var key in obj)_.has(obj,key)&&keys.push(key);return hasEnumBug&&collectNonEnumProps(obj,keys),keys},_.allKeys=function(obj){if(!_.isObject(obj))return[];var keys=[];for(var key in obj)keys.push(key);return hasEnumBug&&collectNonEnumProps(obj,keys),keys},_.values=function(obj){for(var keys=_.keys(obj),length=keys.length,values=Array(length),i=0;i<length;i++)values[i]=obj[keys[i]];return values},_.mapObject=function(obj,iteratee,context){iteratee=cb(iteratee,context);for(var currentKey,keys=_.keys(obj),length=keys.length,results={},index=0;index<length;index++)currentKey=keys[index],results[currentKey]=iteratee(obj[currentKey],currentKey,obj);return results},_.pairs=function(obj){for(var keys=_.keys(obj),length=keys.length,pairs=Array(length),i=0;i<length;i++)pairs[i]=[keys[i],obj[keys[i]]];return pairs},_.invert=function(obj){for(var result={},keys=_.keys(obj),i=0,length=keys.length;i<length;i++)result[obj[keys[i]]]=keys[i];return result},_.functions=_.methods=function(obj){var names=[];for(var key in obj)_.isFunction(obj[key])&&names.push(key);return names.sort()},_.extend=createAssigner(_.allKeys),_.extendOwn=_.assign=createAssigner(_.keys),_.findKey=function(obj,predicate,context){predicate=cb(predicate,context);for(var key,keys=_.keys(obj),i=0,length=keys.length;i<length;i++)if(key=keys[i],predicate(obj[key],key,obj))return key},_.pick=function(object,oiteratee,context){var iteratee,keys,result={},obj=object;if(null==obj)return result;_.isFunction(oiteratee)?(keys=_.allKeys(obj),iteratee=optimizeCb(oiteratee,context)):(keys=flatten(arguments,!1,!1,1),iteratee=function(value,key,obj){return key in obj},obj=Object(obj));for(var i=0,length=keys.length;i<length;i++){var key=keys[i],value=obj[key];iteratee(value,key,obj)&&(result[key]=value)}return result},_.omit=function(obj,iteratee,context){if(_.isFunction(iteratee))iteratee=_.negate(iteratee);else{var keys=_.map(flatten(arguments,!1,!1,1),String);iteratee=function(value,key){return!_.contains(keys,key)}}return _.pick(obj,iteratee,context)},_.defaults=createAssigner(_.allKeys,!0),_.create=function(prototype,props){var result=baseCreate(prototype);return props&&_.extendOwn(result,props),result},_.clone=function(obj){return _.isObject(obj)?_.isArray(obj)?obj.slice():_.extend({},obj):obj},_.tap=function(obj,interceptor){return interceptor(obj),obj},_.isMatch=function(object,attrs){var keys=_.keys(attrs),length=keys.length;if(null==object)return!length;for(var obj=Object(object),i=0;i<length;i++){var key=keys[i];if(attrs[key]!==obj[key]||!(key in obj))return!1}return!0};var eq=function(a,b,aStack,bStack){if(a===b)return 0!==a||1/a===1/b;if(null==a||null==b)return a===b;a instanceof _&&(a=a._wrapped),b instanceof _&&(b=b._wrapped);var className=toString.call(a);if(className!==toString.call(b))return!1;switch(className){case"[object RegExp]":case"[object String]":return""+a==""+b;case"[object Number]":return+a!==+a?+b!==+b:0===+a?1/+a===1/b:+a===+b;case"[object Date]":case"[object Boolean]":return+a===+b}var areArrays="[object Array]"===className;if(!areArrays){if("object"!=typeof a||"object"!=typeof b)return!1;var aCtor=a.constructor,bCtor=b.constructor;if(aCtor!==bCtor&&!(_.isFunction(aCtor)&&aCtor instanceof aCtor&&_.isFunction(bCtor)&&bCtor instanceof bCtor)&&"constructor"in a&&"constructor"in b)return!1}aStack=aStack||[],bStack=bStack||[];for(var length=aStack.length;length--;)if(aStack[length]===a)return bStack[length]===b;if(aStack.push(a),bStack.push(b),areArrays){if(length=a.length,length!==b.length)return!1;for(;length--;)if(!eq(a[length],b[length],aStack,bStack))return!1}else{var key,keys=_.keys(a);if(length=keys.length,_.keys(b).length!==length)return!1;for(;length--;)if(key=keys[length],!_.has(b,key)||!eq(a[key],b[key],aStack,bStack))return!1}return aStack.pop(),bStack.pop(),!0};_.isEqual=function(a,b){return eq(a,b)},_.isEmpty=function(obj){return null==obj||(isArrayLike(obj)&&(_.isArray(obj)||_.isString(obj)||_.isArguments(obj))?0===obj.length:0===_.keys(obj).length)},_.isElement=function(obj){return!(!obj||1!==obj.nodeType)},_.isArray=nativeIsArray||function(obj){return"[object Array]"===toString.call(obj)},_.isObject=function(obj){var type=typeof obj;return"function"===type||"object"===type&&!!obj},_.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(name){_["is"+name]=function(obj){return toString.call(obj)==="[object "+name+"]"}}),_.isArguments(arguments)||(_.isArguments=function(obj){return _.has(obj,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(_.isFunction=function(obj){return"function"==typeof obj||!1}),_.isFinite=function(obj){return isFinite(obj)&&!isNaN(parseFloat(obj))},_.isNaN=function(obj){return _.isNumber(obj)&&obj!==+obj},_.isBoolean=function(obj){return obj===!0||obj===!1||"[object Boolean]"===toString.call(obj)},_.isNull=function(obj){return null===obj},_.isUndefined=function(obj){return void 0===obj},_.has=function(obj,key){return null!=obj&&hasOwnProperty.call(obj,key)},_.noConflict=function(){return root._=previousUnderscore,this},_.identity=function(value){return value},_.constant=function(value){return function(){return value}},_.noop=function(){},_.property=property,_.propertyOf=function(obj){return null==obj?function(){}:function(key){return obj[key]}},_.matcher=_.matches=function(attrs){return attrs=_.extendOwn({},attrs),function(obj){return _.isMatch(obj,attrs)}},_.times=function(n,iteratee,context){var accum=Array(Math.max(0,n));iteratee=optimizeCb(iteratee,context,1);for(var i=0;i<n;i++)accum[i]=iteratee(i);return accum},_.random=function(min,max){return null==max&&(max=min,min=0),min+Math.floor(Math.random()*(max-min+1))},_.now=Date.now||function(){return(new Date).getTime()};var escapeMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},unescapeMap=_.invert(escapeMap),createEscaper=function(map){var escaper=function(match){return map[match]},source="(?:"+_.keys(map).join("|")+")",testRegexp=RegExp(source),replaceRegexp=RegExp(source,"g");return function(string){return string=null==string?"":""+string,testRegexp.test(string)?string.replace(replaceRegexp,escaper):string}};_.escape=createEscaper(escapeMap),_.unescape=createEscaper(unescapeMap),_.result=function(object,property,fallback){var value=null==object?void 0:object[property];return void 0===value&&(value=fallback),_.isFunction(value)?value.call(object):value};var idCounter=0;_.uniqueId=function(prefix){var id=++idCounter+"";return prefix?prefix+id:id},_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var noMatch=/(.)^/,escapes={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},escaper=/\\|'|\r|\n|\u2028|\u2029/g,escapeChar=function(match){return"\\"+escapes[match]};_.template=function(text,settings,oldSettings){!settings&&oldSettings&&(settings=oldSettings),settings=_.defaults({},settings,_.templateSettings);var matcher=RegExp([(settings.escape||noMatch).source,(settings.interpolate||noMatch).source,(settings.evaluate||noMatch).source].join("|")+"|$","g"),index=0,source="__p+='";text.replace(matcher,function(match,escape,interpolate,evaluate,offset){return source+=text.slice(index,offset).replace(escaper,escapeChar),index=offset+match.length,escape?source+="'+\n((__t=("+escape+"))==null?'':_.escape(__t))+\n'":interpolate?source+="'+\n((__t=("+interpolate+"))==null?'':__t)+\n'":evaluate&&(source+="';\n"+evaluate+"\n__p+='"),match}),source+="';\n",settings.variable||(source="with(obj||{}){\n"+source+"}\n"),source="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+source+"return __p;\n";try{var render=new Function(settings.variable||"obj","_",source)}catch(e){throw e.source=source,e}var template=function(data){return render.call(this,data,_)},argument=settings.variable||"obj";return template.source="function("+argument+"){\n"+source+"}",template},_.chain=function(obj){var instance=_(obj);return instance._chain=!0,instance};var result=function(instance,obj){return instance._chain?_(obj).chain():obj};_.mixin=function(obj){_.each(_.functions(obj),function(name){var func=_[name]=obj[name];_.prototype[name]=function(){var args=[this._wrapped];return push.apply(args,arguments),result(this,func.apply(_,args))}})},_.mixin(_),_.each(["pop","push","reverse","shift","sort","splice","unshift"],function(name){var method=ArrayProto[name];_.prototype[name]=function(){var obj=this._wrapped;return method.apply(obj,arguments),"shift"!==name&&"splice"!==name||0!==obj.length||delete obj[0],result(this,obj)}}),_.each(["concat","join","slice"],function(name){var method=ArrayProto[name];_.prototype[name]=function(){return result(this,method.apply(this._wrapped,arguments))}}),_.prototype.value=function(){return this._wrapped},_.prototype.valueOf=_.prototype.toJSON=_.prototype.value,_.prototype.toString=function(){return""+this._wrapped},__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return _}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}).call(this)},{}],23:[function(require,module,exports){var _=require("underscore"),geocrunch=require("geocrunch"),pad=function(num){return num<10?"0"+num.toString():num.toString()},ddToDms=function(coordinate,posSymbol,negSymbol){var dd=Math.abs(coordinate),d=Math.floor(dd),m=Math.floor(60*(dd-d)),s=Math.round(3600*(dd-d-m/60)*100)/100,directionSymbol=dd===coordinate?posSymbol:negSymbol;return pad(d)+"&deg; "+pad(m)+"' "+pad(s)+'" '+directionSymbol},measure=function(latlngs){var last=_.last(latlngs),path=geocrunch.path(_.map(latlngs,function(latlng){return[latlng.lng,latlng.lat]})),meters=path.distance({units:"meters"}),sqMeters=path.area({units:"sqmeters"});return{lastCoord:{dd:{x:last.lng,y:last.lat},dms:{x:ddToDms(last.lng,"E","W"),y:ddToDms(last.lat,"N","S")}},length:meters,area:sqMeters}};module.exports={measure:measure}},{geocrunch:7,underscore:22}],24:[function(require,module,exports){var selectOne=function(selector,el){return el||(el=document),el.querySelector(selector)},selectAll=function(selector,el){return el||(el=document),Array.prototype.slice.call(el.querySelectorAll(selector))},hide=function(el){if(el)return el.setAttribute("style","display:none;"),el},show=function(el){if(el)return el.removeAttribute("style"),el};module.exports={$:selectOne,$$:selectAll,hide:hide,show:show}},{}],25:[function(require,module,exports){module.exports={measure:"Medir",measureDistancesAndAreas:"Medeix distancies i reas",createNewMeasurement:"Crear nova medicio",startCreating:"Comeni a crear la medicio afegint punts al mapa",finishMeasurement:"Acabar la medici",lastPoint:"ltim punt",area:"rea",perimeter:"Permetre",pointLocation:"Localizaci del punt",areaMeasurement:"Medici d'rea",linearMeasurement:"Medici lineal",pathDistance:"Distancia de ruta",centerOnArea:"Centrar en aquesta rea",centerOnLine:"Centrar en aquesta lnia",centerOnLocation:"Centrar en aquesta localizaci",cancel:"Cancellar",delete:"Eliminar",acres:"Acres",feet:"Peus",kilometers:"Quilmetres",hectares:"Hectreas",meters:"Metros",miles:"Milles",sqfeet:"Peus cuadrats",sqmeters:"Metres cuadrats",sqmiles:"Milles cuadrades",decPoint:".",thousandsSep:" "}},{}],26:[function(require,module,exports){module.exports={measure:"",measureDistancesAndAreas:"",createNewMeasurement:"",startCreating:"",finishMeasurement:"",lastPoint:"",area:"",perimeter:"",pointLocation:"",areaMeasurement:"",linearMeasurement:"",pathDistance:"",centerOnArea:"",centerOnLine:"",centerOnLocation:"",cancel:"",delete:"",acres:"",feet:"",kilometers:"",hectares:"",meters:"",miles:"",sqfeet:"",sqmeters:"",sqmiles:"",decPoint:".",thousandsSep:","}},{}],27:[function(require,module,exports){module.exports={measure:"Ml",measureDistancesAndAreas:"Ml afstande og arealer",createNewMeasurement:"Lav en ny mling",startCreating:"Begynd mlingen ved at tilfje punkter p kortet",finishMeasurement:"Afslut mling",lastPoint:"Sidste punkt",area:"Areal",perimeter:"Omkreds",pointLocation:"Punkt",areaMeasurement:"Areal",linearMeasurement:"Linje",pathDistance:"Sti afstand",centerOnArea:"Centrr dette omrde",centerOnLine:"Centrr denne linje",centerOnLocation:"Centrr dette punkt",cancel:"Annuller",delete:"Slet",acres:"acre",feet:"fod",kilometers:"km",hectares:"ha",meters:"m",miles:"mil",sqfeet:"kvadratfod",sqmeters:"m",sqmiles:"kvadratmil",decPoint:",",thousandsSep:"."}},{}],28:[function(require,module,exports){module.exports={measure:"Messung",measureDistancesAndAreas:"Messung von Abstnden und Flchen",createNewMeasurement:"Eine neue Messung durchfhren",startCreating:"Fhren Sie die Messung durch, indem Sie der Karte Punkte hinzufgen.",finishMeasurement:"Messung beenden",lastPoint:"Letzter Punkt",area:"Flche",perimeter:"Rand",pointLocation:"Lage des Punkts",areaMeasurement:"Gemessene Flche",linearMeasurement:"Gemessener Abstand",pathDistance:"Abstand entlang des Pfads",centerOnArea:"Auf diese Flche zentrieren",centerOnLine:"Auf diesen Linienzug zentrieren",centerOnLocation:"Auf diesen Ort zentrieren",cancel:"Abbrechen",delete:"Lschen",acres:"Morgen",feet:"Fu",kilometers:"Kilometer",hectares:"Hektar",meters:"Meter",miles:"Meilen",sqfeet:"Quadratfu",sqmeters:"Quadratmeter",sqmiles:"Quadratmeilen",decPoint:",",thousandsSep:"."}},{}],29:[function(require,module,exports){module.exports={measure:"Messung",measureDistancesAndAreas:"Abstnde und Flchen messen",createNewMeasurement:"Eine neue Messung durchfhren",startCreating:"Messen sie, indem Sie der Karte Punkte hinzufgen",finishMeasurement:"Messung beenden",lastPoint:"Letzter Punkt",area:"Flche",perimeter:"Umfang",pointLocation:"Lage des Punkts",areaMeasurement:"Flche",linearMeasurement:"Abstand",pathDistance:"Umfang",centerOnArea:"Auf diese Flche zentrieren",centerOnLine:"Auf diese Linie zentrieren",centerOnLocation:"Auf diesen Ort zentrieren",cancel:"Abbrechen",delete:"Lschen",acres:"Morgen",feet:"Fu",kilometers:"Kilometer",hectares:"Hektar",meters:"Meter",miles:"Meilen",sqfeet:"Quadratfu",sqmeters:"Quadratmeter",sqmiles:"Quadratmeilen",decPoint:".",thousandsSep:"'"}},{}],30:[function(require,module,exports){module.exports={measure:"Measure",measureDistancesAndAreas:"Measure distances and areas",createNewMeasurement:"Create a new measurement",startCreating:"Start creating a measurement by adding points to the map",finishMeasurement:"Finish measurement",lastPoint:"Last point",area:"Area",perimeter:"Perimeter",pointLocation:"Point location",areaMeasurement:"Area measurement",linearMeasurement:"Linear measurement",pathDistance:"Path distance",centerOnArea:"Center on this area",centerOnLine:"Center on this line",centerOnLocation:"Center on this location",cancel:"Cancel",delete:"Delete",acres:"Acres",feet:"Feet",kilometers:"Kilometers",hectares:"Hectares",meters:"Meters",miles:"Miles",sqfeet:"Sq Feet",sqmeters:"Sq Meters",sqmiles:"Sq Miles",decPoint:".",thousandsSep:","}},{}],31:[function(require,module,exports){module.exports={measure:"Measure",measureDistancesAndAreas:"Measure distances and areas",createNewMeasurement:"Create a new measurement",startCreating:"Start creating a measurement by adding points to the map",finishMeasurement:"Finish measurement",lastPoint:"Last point",area:"Area",perimeter:"Perimeter",pointLocation:"Point location",areaMeasurement:"Area measurement",linearMeasurement:"Linear measurement",pathDistance:"Path distance",centerOnArea:"Centre on this area",centerOnLine:"Centre on this line",centerOnLocation:"Centre on this location",cancel:"Cancel",delete:"Delete",acres:"Acres",feet:"Feet",kilometers:"Kilometres",hectares:"Hectares",meters:"Meters",miles:"Miles",sqfeet:"Sq Feet",sqmeters:"Sq Meters",sqmiles:"Sq Miles",decPoint:".",thousandsSep:","}},{}],32:[function(require,module,exports){module.exports={measure:"Medicin",measureDistancesAndAreas:"Mida distancias y reas",createNewMeasurement:"Crear nueva medicin",startCreating:"Empiece a crear la medicin aadiendo puntos al mapa",finishMeasurement:"Terminar medicin",lastPoint:"ltimo punto",area:"rea",perimeter:"Permetro",pointLocation:"Localizacin del punto",areaMeasurement:"Medicin de rea",linearMeasurement:"Medicin linear",pathDistance:"Distancia de ruta",centerOnArea:"Centrar en este rea",centerOnLine:"Centrar en esta lnea",centerOnLocation:"Centrar en esta localizacin",cancel:"Cancelar",delete:"Eliminar",acres:"Acres",feet:"Pies",kilometers:"Kilmetros",hectares:"Hectreas",meters:"Metros",miles:"Millas",sqfeet:"Pies cuadrados",sqmeters:"Metros cuadrados",sqmiles:"Millas cuadradas",decPoint:".",thousandsSep:" "}},{}],33:[function(require,module,exports){module.exports={measure:" ",measureDistancesAndAreas:"    ",createNewMeasurement:"   ",startCreating:"          .",finishMeasurement:"  ",lastPoint:" ",area:"",perimeter:"",pointLocation:" ",areaMeasurement:"  ",linearMeasurement:"  ",pathDistance:" ",centerOnArea:"  ",centerOnLine:"  ",centerOnLocation:"  ",cancel:"",delete:"",acres:"",feet:"",kilometers:"",hectares:"",meters:"",miles:"",sqfeet:" ",sqmeters:" ",sqmiles:" ",decPoint:"/",thousandsSep:","}},{}],34:[function(require,module,exports){module.exports={measure:"Sukat",measureDistancesAndAreas:"Kalkulahin ang tamang distansya at sukat",createNewMeasurement:"Lumikha ng isang bagong pagsukat",startCreating:"Simulan ang paglikha ng isang pagsukat sa pamamagitan ng pagdaragdag ng mga puntos sa mapa",finishMeasurement:"Tapusin ang pagsukat",lastPoint:"Huling punto sa mapa",area:"Sukat",perimeter:"Palibot",pointLocation:"Lokasyon ng punto",areaMeasurement:"Kabuuang sukat",linearMeasurement:"Pagsukat ng guhit",pathDistance:"Distansya ng daanan",centerOnArea:"I-sentro sa lugar na ito",centerOnLine:"I-sentro sa linya na ito",centerOnLocation:"I-sentro sa lokasyong ito",cancel:"Kanselahin",delete:"Tanggalin",acres:"Acres",feet:"Talampakan",kilometers:"Kilometro",hectares:"Hektarya",meters:"Metro",miles:"Milya",sqfeet:"Talampakang Kwadrado",sqmeters:"Metro Kwadrado",sqmiles:"Milya Kwadrado",decPoint:".",thousandsSep:","}},{}],35:[function(require,module,exports){module.exports={measure:"Mesure",measureDistancesAndAreas:"Mesurer les distances et superficies",createNewMeasurement:"Crer une nouvelle mesure",startCreating:"Dbuter la cration d'une nouvelle mesure en ajoutant des points sur la carte",finishMeasurement:"Finir la mesure",lastPoint:"Dernier point",area:"Superficie",perimeter:"Primtre",pointLocation:"Placement du point",areaMeasurement:"Mesure de superficie",linearMeasurement:"Mesure linaire",pathDistance:"Distance du chemin",centerOnArea:"Centrer sur cette zone",centerOnLine:"Centrer sur cette ligne",centerOnLocation:"Centrer  cet endroit",cancel:"Annuler",delete:"Supprimer",acres:"Acres",feet:"Pieds",kilometers:"Kilomtres",hectares:"Hectares",meters:"Mtres",miles:"Miles",sqfeet:"Pieds carrs",sqmeters:"Mtres carrs",sqmiles:"Miles carrs",decPoint:",",thousandsSep:" "}},{}],36:[function(require,module,exports){module.exports={measure:"Misura",measureDistancesAndAreas:"Misura distanze e aree",createNewMeasurement:"Crea una nuova misurazione",startCreating:"Comincia a creare una misurazione aggiungendo punti alla mappa",finishMeasurement:"Misurazione conclusa",lastPoint:"Ultimo punto",area:"Area",perimeter:"Perimetro",pointLocation:"Posizione punto",areaMeasurement:"Misura area",linearMeasurement:"Misura lineare",pathDistance:"Distanza percorso",centerOnArea:"Centra su questa area",centerOnLine:"Centra su questa linea",centerOnLocation:"Centra su questa posizione",cancel:"Annulla",delete:"Cancella",acres:"Acri",feet:"Piedi",kilometers:"Chilometri",hectares:"Ettari",meters:"Metri",miles:"Miglia",sqfeet:"Piedi quadri",sqmeters:"Metri quadri",sqmiles:"Miglia quadre",decPoint:".",thousandsSep:","}},{}],37:[function(require,module,exports){module.exports={measure:"Meet",measureDistancesAndAreas:"Meet afstanden en oppervlakten",createNewMeasurement:"Maak een nieuwe meting",startCreating:"Begin een meting door punten toe te voegen aan de kaart",finishMeasurement:"Beindig meting",lastPoint:"Laatste punt",area:"Oppervlakte",perimeter:"Omtrek",pointLocation:"Locatie punt",areaMeasurement:"Oppervlakte meting",linearMeasurement:"Gemeten afstand",pathDistance:"Afstand over de lijn",centerOnArea:"Centreer op dit gebied",centerOnLine:"Centreer op deze lijn",centerOnLocation:"Centreer op deze locatie",cancel:"Annuleer",delete:"Wis",acres:"are",feet:"Voet",kilometers:"km",hectares:"ha",meters:"m",miles:"Mijl",sqfeet:"Vierkante Feet",sqmeters:"m2",sqmiles:"Vierkante Mijl",decPoint:",",thousandsSep:"."}},{}],38:[function(require,module,exports){module.exports={measure:"Pomiar",measureDistancesAndAreas:"Pomiar odlegoci i powierzchni",createNewMeasurement:"Utwrz nowy pomiar",startCreating:"Rozpocznij tworzenie nowego pomiaru poprzez dodanie punktw na mapie",finishMeasurement:"Zakocz pomiar",lastPoint:"Ostatni punkt",area:"Powierzchnia",perimeter:"Obwd",pointLocation:"Punkt lokalizacji",areaMeasurement:"Pomiar powierzchni",linearMeasurement:"Pomiar liniowy",pathDistance:"Dugo cieki",centerOnArea:"rodek tego obszaru",centerOnLine:"rodek tej linii",centerOnLocation:"rodek w tej lokalizacji",cancel:"Anuluj",delete:"Skasuj",acres:"akrw",feet:"stp",kilometers:"kilometrw",hectares:"hektarw",meters:"metrw",miles:"mil",sqfeet:"stp kwadratowych",sqmeters:"metrw kwadratowych",sqmiles:"mil kwadratowych",decPoint:",",thousandsSep:"."}},{}],39:[function(require,module,exports){module.exports={measure:"Medidas",measureDistancesAndAreas:"Mede distncias e reas",createNewMeasurement:"Criar nova medida",startCreating:"Comece criando uma medida, adicionando pontos no mapa",finishMeasurement:"Finalizar medida",lastPoint:"ltimo ponto",area:"rea",perimeter:"Permetro",pointLocation:"Localizao do ponto",areaMeasurement:"Medida de rea",linearMeasurement:"Medida linear",pathDistance:"Distncia",centerOnArea:"Centralizar nesta rea",centerOnLine:"Centralizar nesta linha",centerOnLocation:"Centralizar nesta localizao",cancel:"Cancelar",delete:"Excluir",acres:"Acres",feet:"Ps",kilometers:"Quilmetros",hectares:"Hectares",meters:"Metros",miles:"Milhas",sqfeet:"Ps",sqmeters:"Metros",sqmiles:"Milhas",decPoint:",",thousandsSep:"."}},{}],40:[function(require,module,exports){module.exports={measure:"Medies",measureDistancesAndAreas:"Medir distncias e reas",createNewMeasurement:"Criar uma nova medio",startCreating:"Adicione pontos no mapa, para criar uma nova medio",finishMeasurement:"Finalizar medio",lastPoint:"ltimo ponto",area:"rea",perimeter:"Permetro",pointLocation:"Localizao do ponto",areaMeasurement:"Medio da rea",linearMeasurement:"Medio linear",pathDistance:"Distncia",centerOnArea:"Centrar nesta rea",centerOnLine:"Centrar nesta linha",centerOnLocation:"Centrar nesta localizao",cancel:"Cancelar",delete:"Eliminar",acres:"Acres",feet:"Ps",kilometers:"Kilmetros",hectares:"Hectares",meters:"Metros",miles:"Milhas",sqfeet:"Ps",sqmeters:"Metros",sqmiles:"Milhas",decPoint:",",thousandsSep:"."}},{}],41:[function(require,module,exports){module.exports={measure:"",measureDistancesAndAreas:"   ",createNewMeasurement:"  ",startCreating:"      ",finishMeasurement:" ",lastPoint:" ",area:"",perimeter:"",pointLocation:" ",areaMeasurement:" ",linearMeasurement:" ",pathDistance:"",centerOnArea:"   ",centerOnLine:"   ",centerOnLocation:"   ",cancel:"",delete:"",acres:"",feet:"",kilometers:"",hectares:"",meters:"",miles:"",sqfeet:"",sqmeters:"",sqmiles:"",decPoint:".",thousandsSep:","}},{}],42:[function(require,module,exports){module.exports={measure:"Hesapla",measureDistancesAndAreas:"Uzaklk ve alan hesapla",createNewMeasurement:"Yeni hesaplama",startCreating:"Yeni nokta ekleyerek hesaplamaya bala",finishMeasurement:"Hesaplamay bitir",lastPoint:"Son nokta",area:"Alan",perimeter:"evre uzunluu",pointLocation:"Nokta yeri",areaMeasurement:"Alan hesaplamas",linearMeasurement:"Dorusal hesaplama",pathDistance:"Yol uzunluu",centerOnArea:"Bu alana odaklan",centerOnLine:"Bu dotuya odaklan",centerOnLocation:"Bu yere odaklan",cancel:"k",delete:"Sil",acres:"Dnm",feet:"Feet",kilometers:"Kilometre",hectares:"Hektar",meters:"Metre",miles:"Mil",sqfeet:"Feet kare",sqmeters:"Metre kare",sqmiles:"Mil kare",decPoint:".",thousandsSep:","}},{}],43:[function(require,module,exports){(function(global){var _=require("underscore"),L="undefined"!=typeof window?window.L:"undefined"!=typeof global?global.L:null,humanize=require("humanize"),units=require("./units"),calc=require("./calc"),dom=require("./dom"),$=dom.$,Symbology=require("./mapsymbology"),controlTemplate=_.template('<a class="<%= model.className %>-toggle js-toggle" href="#" title="<%= i18n.__(\'measureDistancesAndAreas\') %>"><%= i18n.__(\'measure\') %></a>\n<div class="<%= model.className %>-interaction js-interaction">\n  <div class="js-startprompt startprompt">\n    <h3><%= i18n.__(\'measureDistancesAndAreas\') %></h3>\n    <ul class="tasks">\n      <a href="#" class="js-start start"><%= i18n.__(\'createNewMeasurement\') %></a>\n    </ul>\n  </div>\n  <div class="js-measuringprompt">\n    <h3><%= i18n.__(\'measureDistancesAndAreas\') %></h3>\n    <p class="js-starthelp"><%= i18n.__(\'startCreating\') %></p>\n    <div class="js-results results"></div>\n    <ul class="js-measuretasks tasks">\n      <li><a href="#" class="js-cancel cancel"><%= i18n.__(\'cancel\') %></a></li>\n      <li><a href="#" class="js-finish finish"><%= i18n.__(\'finishMeasurement\') %></a></li>\n    </ul>\n  </div>\n</div>'),resultsTemplate=_.template('<div class="group">\n<p class="lastpoint heading"><%= i18n.__(\'lastPoint\') %></p>\n<p><%= model.lastCoord.dms.y %> <span class="coorddivider">/</span> <%= model.lastCoord.dms.x %></p>\n<p><%= humanize.numberFormat(model.lastCoord.dd.y, 6) %> <span class="coorddivider">/</span> <%= humanize.numberFormat(model.lastCoord.dd.x, 6) %></p>\n</div>\n<% if (model.pointCount > 1) { %>\n<div class="group">\n<p><span class="heading"><%= i18n.__(\'pathDistance\') %></span> <%= model.lengthDisplay %></p>\n</div>\n<% } %>\n<% if (model.pointCount > 2) { %>\n<div class="group">\n<p><span class="heading"><%= i18n.__(\'area\') %></span> <%= model.areaDisplay %></p>\n</div>\n<% } %>'),pointPopupTemplate=_.template('<h3><%= i18n.__(\'pointLocation\') %></h3>\n<p><%= model.lastCoord.dms.y %> <span class="coorddivider">/</span> <%= model.lastCoord.dms.x %></p>\n<p><%= humanize.numberFormat(model.lastCoord.dd.y, 6) %> <span class="coorddivider">/</span> <%= humanize.numberFormat(model.lastCoord.dd.x, 6) %></p>\n<ul class="tasks">\n  <li><a href="#" class="js-zoomto zoomto"><%= i18n.__(\'centerOnLocation\') %></a></li>\n  <li><a href="#" class="js-deletemarkup deletemarkup"><%= i18n.__(\'delete\') %></a></li>\n</ul>'),linePopupTemplate=_.template('<h3><%= i18n.__(\'linearMeasurement\') %></h3>\n<p><%= model.lengthDisplay %></p>\n<ul class="tasks">\n  <li><a href="#" class="js-zoomto zoomto"><%= i18n.__(\'centerOnLine\') %></a></li>\n  <li><a href="#" class="js-deletemarkup deletemarkup"><%= i18n.__(\'delete\') %></a></li>\n</ul>'),areaPopupTemplate=_.template('<h3><%= i18n.__(\'areaMeasurement\') %></h3>\n<p><%= model.areaDisplay %></p>\n<p><%= model.lengthDisplay %> <%= i18n.__(\'perimeter\') %></p>\n<ul class="tasks">\n  <li><a href="#" class="js-zoomto zoomto"><%= i18n.__(\'centerOnArea\') %></a></li>\n  <li><a href="#" class="js-deletemarkup deletemarkup"><%= i18n.__(\'delete\') %></a></li>\n</ul>'),i18n=new(require("i18n-2"))({devMode:!1,locales:{ca:require("./i18n/ca"),cn:require("./i18n/cn"),da:require("./i18n/da"),de:require("./i18n/de"),de_CH:require("./i18n/de_CH"),en:require("./i18n/en"),en_UK:require("./i18n/en_UK"),es:require("./i18n/es"),fa:require("./i18n/fa"),fil_PH:require("./i18n/fil_PH"),fr:require("./i18n/fr"),it:require("./i18n/it"),nl:require("./i18n/nl"),pl:require("./i18n/pl"),pt_BR:require("./i18n/pt_BR"),pt_PT:require("./i18n/pt_PT"),ru:require("./i18n/ru"),tr:require("./i18n/tr")}});L.Control.Measure=L.Control.extend({_className:"leaflet-control-measure",options:{units:{},position:"topright",primaryLengthUnit:"feet",secondaryLengthUnit:"miles",primaryAreaUnit:"acres",activeColor:"#ABE67E",completedColor:"#C8F2BE",captureZIndex:1e4,popupOptions:{className:"leaflet-measure-resultpopup",autoPanPadding:[10,10]}},initialize:function(options){L.setOptions(this,options),this.options.units=L.extend({},units,this.options.units),this._symbols=new Symbology(_.pick(this.options,"activeColor","completedColor")),i18n.setLocale(this.options.localization)},onAdd:function(map){return this._map=map,this._latlngs=[],this._initLayout(),map.on("click",this._collapse,this),this._layer=L.layerGroup().addTo(map),this._container},onRemove:function(map){map.off("click",this._collapse,this),map.removeLayer(this._layer)},_initLayout:function(){var $toggle,$start,$cancel,$finish,className=this._className,container=this._container=L.DomUtil.create("div",className);container.innerHTML=controlTemplate({model:{className:className},i18n:i18n}),container.setAttribute("aria-haspopup",!0),L.Browser.touch?L.DomEvent.on(container,"click",L.DomEvent.stopPropagation):(L.DomEvent.disableClickPropagation(container),L.DomEvent.disableScrollPropagation(container)),$toggle=this.$toggle=$(".js-toggle",container),this.$interaction=$(".js-interaction",container),$start=$(".js-start",container),$cancel=$(".js-cancel",container),$finish=$(".js-finish",container),this.$startPrompt=$(".js-startprompt",container),this.$measuringPrompt=$(".js-measuringprompt",container),this.$startHelp=$(".js-starthelp",container),this.$results=$(".js-results",container),this.$measureTasks=$(".js-measuretasks",container),this._collapse(),this._updateMeasureNotStarted(),L.Browser.android||(L.DomEvent.on(container,"mouseenter",this._expand,this),L.DomEvent.on(container,"mouseleave",this._collapse,this)),L.DomEvent.on($toggle,"click",L.DomEvent.stop),L.Browser.touch?L.DomEvent.on($toggle,"click",this._expand,this):L.DomEvent.on($toggle,"focus",this._expand,this),L.DomEvent.on($start,"click",L.DomEvent.stop),L.DomEvent.on($start,"click",this._startMeasure,this),L.DomEvent.on($cancel,"click",L.DomEvent.stop),L.DomEvent.on($cancel,"click",this._finishMeasure,this),L.DomEvent.on($finish,"click",L.DomEvent.stop),L.DomEvent.on($finish,"click",this._handleMeasureDoubleClick,this)},_expand:function(){dom.hide(this.$toggle),dom.show(this.$interaction)},_collapse:function(){this._locked||(dom.hide(this.$interaction),dom.show(this.$toggle))},_updateMeasureNotStarted:function(){dom.hide(this.$startHelp),dom.hide(this.$results),dom.hide(this.$measureTasks),dom.hide(this.$measuringPrompt),dom.show(this.$startPrompt)},_updateMeasureStartedNoPoints:function(){dom.hide(this.$results),dom.show(this.$startHelp),dom.show(this.$measureTasks),dom.hide(this.$startPrompt),dom.show(this.$measuringPrompt)},_updateMeasureStartedWithPoints:function(){dom.hide(this.$startHelp),
dom.show(this.$results),dom.show(this.$measureTasks),dom.hide(this.$startPrompt),dom.show(this.$measuringPrompt)},_startMeasure:function(){this._locked=!0,this._measureVertexes=L.featureGroup().addTo(this._layer),this._captureMarker=L.marker(this._map.getCenter(),{clickable:!0,zIndexOffset:this.options.captureZIndex,opacity:0}).addTo(this._layer),this._setCaptureMarkerIcon(),this._captureMarker.on("mouseout",this._handleMapMouseOut,this).on("dblclick",this._handleMeasureDoubleClick,this).on("click",this._handleMeasureClick,this),this._map.on("mousemove",this._handleMeasureMove,this).on("mouseout",this._handleMapMouseOut,this).on("move",this._centerCaptureMarker,this).on("resize",this._setCaptureMarkerIcon,this),L.DomEvent.on(this._container,"mouseenter",this._handleMapMouseOut,this),this._updateMeasureStartedNoPoints(),this._map.fire("measurestart",null,!1)},_finishMeasure:function(){var model=_.extend({},this._resultsModel,{points:this._latlngs});this._locked=!1,L.DomEvent.off(this._container,"mouseover",this._handleMapMouseOut,this),this._clearMeasure(),this._captureMarker.off("mouseout",this._handleMapMouseOut,this).off("dblclick",this._handleMeasureDoubleClick,this).off("click",this._handleMeasureClick,this),this._map.off("mousemove",this._handleMeasureMove,this).off("mouseout",this._handleMapMouseOut,this).off("move",this._centerCaptureMarker,this).off("resize",this._setCaptureMarkerIcon,this),this._layer.removeLayer(this._measureVertexes).removeLayer(this._captureMarker),this._measureVertexes=null,this._updateMeasureNotStarted(),this._collapse(),this._map.fire("measurefinish",model,!1)},_clearMeasure:function(){this._latlngs=[],this._resultsModel=null,this._measureVertexes.clearLayers(),this._measureDrag&&this._layer.removeLayer(this._measureDrag),this._measureArea&&this._layer.removeLayer(this._measureArea),this._measureBoundary&&this._layer.removeLayer(this._measureBoundary),this._measureDrag=null,this._measureArea=null,this._measureBoundary=null},_centerCaptureMarker:function(){this._captureMarker.setLatLng(this._map.getCenter())},_setCaptureMarkerIcon:function(){this._captureMarker.setIcon(L.divIcon({iconSize:this._map.getSize().multiplyBy(2)}))},_getMeasurementDisplayStrings:function(measurement){function buildDisplay(val,primaryUnit,secondaryUnit,decPoint,thousandsSep){var display;return primaryUnit&&unitDefinitions[primaryUnit]?(display=formatMeasure(val,unitDefinitions[primaryUnit],decPoint,thousandsSep),secondaryUnit&&unitDefinitions[secondaryUnit]&&(display=display+" ("+formatMeasure(val,unitDefinitions[secondaryUnit],decPoint,thousandsSep)+")")):display=formatMeasure(val,null,decPoint,thousandsSep),display}function formatMeasure(val,unit,decPoint,thousandsSep){return unit&&unit.factor&&unit.display?humanize.numberFormat(val*unit.factor,unit.decimals||0,decPoint||i18n.__("decPoint"),thousandsSep||i18n.__("thousandsSep"))+" "+i18n.__([unit.display])||unit.display:humanize.numberFormat(val,0,decPoint||i18n.__("decPoint"),thousandsSep||i18n.__("thousandsSep"))}var unitDefinitions=this.options.units;return{lengthDisplay:buildDisplay(measurement.length,this.options.primaryLengthUnit,this.options.secondaryLengthUnit,this.options.decPoint,this.options.thousandsSep),areaDisplay:buildDisplay(measurement.area,this.options.primaryAreaUnit,this.options.secondaryAreaUnit,this.options.decPoint,this.options.thousandsSep)}},_updateResults:function(){var calced=calc.measure(this._latlngs),resultsModel=this._resultsModel=_.extend({},calced,this._getMeasurementDisplayStrings(calced),{pointCount:this._latlngs.length});this.$results.innerHTML=resultsTemplate({model:resultsModel,humanize:humanize,i18n:i18n})},_handleMeasureMove:function(evt){this._measureDrag?this._measureDrag.setLatLng(evt.latlng):this._measureDrag=L.circleMarker(evt.latlng,this._symbols.getSymbol("measureDrag")).addTo(this._layer),this._measureDrag.bringToFront()},_handleMeasureDoubleClick:function(){var calced,resultFeature,popupContainer,popupContent,zoomLink,deleteLink,latlngs=this._latlngs;this._finishMeasure(),latlngs.length&&(latlngs.length>2&&latlngs.push(_.first(latlngs)),calced=calc.measure(latlngs),1===latlngs.length?(resultFeature=L.circleMarker(latlngs[0],this._symbols.getSymbol("resultPoint")),popupContent=pointPopupTemplate({model:calced,humanize:humanize,i18n:i18n})):2===latlngs.length?(resultFeature=L.polyline(latlngs,this._symbols.getSymbol("resultLine")),popupContent=linePopupTemplate({model:_.extend({},calced,this._getMeasurementDisplayStrings(calced)),humanize:humanize,i18n:i18n})):(resultFeature=L.polygon(latlngs,this._symbols.getSymbol("resultArea")),popupContent=areaPopupTemplate({model:_.extend({},calced,this._getMeasurementDisplayStrings(calced)),humanize:humanize,i18n:i18n})),popupContainer=L.DomUtil.create("div",""),popupContainer.innerHTML=popupContent,zoomLink=$(".js-zoomto",popupContainer),zoomLink&&(L.DomEvent.on(zoomLink,"click",L.DomEvent.stop),L.DomEvent.on(zoomLink,"click",function(){this._map.fitBounds(resultFeature.getBounds(),{padding:[20,20],maxZoom:17})},this)),deleteLink=$(".js-deletemarkup",popupContainer),deleteLink&&(L.DomEvent.on(deleteLink,"click",L.DomEvent.stop),L.DomEvent.on(deleteLink,"click",function(){this._layer.removeLayer(resultFeature)},this)),resultFeature.addTo(this._layer),resultFeature.bindPopup(popupContainer,this.options.popupOptions),resultFeature.openPopup(resultFeature.getBounds().getCenter()))},_handleMeasureClick:function(evt){var latlng=this._map.mouseEventToLatLng(evt.originalEvent),lastClick=_.last(this._latlngs),vertexSymbol=this._symbols.getSymbol("measureVertex");lastClick&&latlng.equals(lastClick)||(this._latlngs.push(latlng),this._addMeasureArea(this._latlngs),this._addMeasureBoundary(this._latlngs),this._measureVertexes.eachLayer(function(layer){layer.setStyle(vertexSymbol),layer._path.setAttribute("class",vertexSymbol.className)}),this._addNewVertex(latlng),this._measureBoundary&&this._measureBoundary.bringToFront(),this._measureVertexes.bringToFront()),this._updateResults(),this._updateMeasureStartedWithPoints()},_handleMapMouseOut:function(){this._measureDrag&&(this._layer.removeLayer(this._measureDrag),this._measureDrag=null)},_addNewVertex:function(latlng){L.circleMarker(latlng,this._symbols.getSymbol("measureVertexActive")).addTo(this._measureVertexes)},_addMeasureArea:function(latlngs){return latlngs.length<3?void(this._measureArea&&(this._layer.removeLayer(this._measureArea),this._measureArea=null)):void(this._measureArea?this._measureArea.setLatLngs(latlngs):this._measureArea=L.polygon(latlngs,this._symbols.getSymbol("measureArea")).addTo(this._layer))},_addMeasureBoundary:function(latlngs){return latlngs.length<2?void(this._measureBoundary&&(this._layer.removeLayer(this._measureBoundary),this._measureBoundary=null)):void(this._measureBoundary?this._measureBoundary.setLatLngs(latlngs):this._measureBoundary=L.polyline(latlngs,this._symbols.getSymbol("measureBoundary")).addTo(this._layer))}}),L.Map.mergeOptions({measureControl:!1}),L.Map.addInitHook(function(){this.options.measureControl&&(this.measureControl=(new L.Control.Measure).addTo(this))}),L.control.measure=function(options){return new L.Control.Measure(options)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./calc":23,"./dom":24,"./i18n/ca":25,"./i18n/cn":26,"./i18n/da":27,"./i18n/de":28,"./i18n/de_CH":29,"./i18n/en":30,"./i18n/en_UK":31,"./i18n/es":32,"./i18n/fa":33,"./i18n/fil_PH":34,"./i18n/fr":35,"./i18n/it":36,"./i18n/nl":37,"./i18n/pl":38,"./i18n/pt_BR":39,"./i18n/pt_PT":40,"./i18n/ru":41,"./i18n/tr":42,"./mapsymbology":44,"./units":45,humanize:16,"i18n-2":18,underscore:22}],44:[function(require,module,exports){var _=require("underscore"),color=require("color"),Symbology=function(options){this.setOptions(options)};Symbology.DEFAULTS={activeColor:"#ABE67E",completedColor:"#C8F2BE"},_.extend(Symbology.prototype,{setOptions:function(options){return this._options=_.extend({},Symbology.DEFAULTS,this._options,options),this},getSymbol:function(name){var symbols={measureDrag:{clickable:!1,radius:4,color:this._options.activeColor,weight:2,opacity:.7,fillColor:this._options.activeColor,fillOpacity:.5,className:"layer-measuredrag"},measureArea:{clickable:!1,stroke:!1,fillColor:this._options.activeColor,fillOpacity:.2,className:"layer-measurearea"},measureBoundary:{clickable:!1,color:this._options.activeColor,weight:2,opacity:.9,fill:!1,className:"layer-measureboundary"},measureVertex:{clickable:!1,radius:4,color:this._options.activeColor,weight:2,opacity:1,fillColor:this._options.activeColor,fillOpacity:.7,className:"layer-measurevertex"},measureVertexActive:{clickable:!1,radius:4,color:this._options.activeColor,weight:2,opacity:1,fillColor:color(this._options.activeColor).darken(.15),fillOpacity:.7,className:"layer-measurevertex active"},resultArea:{clickable:!0,color:this._options.completedColor,weight:2,opacity:.9,fillColor:this._options.completedColor,fillOpacity:.2,className:"layer-measure-resultarea"},resultLine:{clickable:!0,color:this._options.completedColor,weight:3,opacity:.9,fill:!1,className:"layer-measure-resultline"},resultPoint:{clickable:!0,radius:4,color:this._options.completedColor,weight:2,opacity:1,fillColor:this._options.completedColor,fillOpacity:.7,className:"layer-measure-resultpoint"}};return symbols[name]}}),module.exports=Symbology},{color:6,underscore:22}],45:[function(require,module,exports){module.exports={acres:{factor:24711e-8,display:"acres",decimals:2},feet:{factor:3.2808,display:"feet",decimals:0},kilometers:{factor:.001,display:"kilometers",decimals:2},hectares:{factor:1e-4,display:"hectares",decimals:2},meters:{factor:1,display:"meters",decimals:0},miles:{factor:3.2808/5280,display:"miles",decimals:2},sqfeet:{factor:10.7639,display:"sqfeet",decimals:0},sqmeters:{factor:1,display:"sqmeters",decimals:0},sqmiles:{factor:3.86102e-7,display:"sqmiles",decimals:2}}},{}]},{},[43])}).call(exports,__webpack_require__(19))},function(module,exports){L.GridLayer.GoogleMutant=L.GridLayer.extend({includes:L.Mixin.Events,options:{minZoom:0,maxZoom:18,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",opacity:1,continuousWorld:!1,noWrap:!1,type:"roadmap",maxNativeZoom:21},initialize:function(options){L.GridLayer.prototype.initialize.call(this,options),this._ready=!!window.google&&!!window.google.maps&&!!window.google.maps.Map,this._GAPIPromise=this._ready?Promise.resolve(window.google):new Promise(function(resolve,reject){var checkCounter=0,intervalId=null;intervalId=setInterval(function(){return checkCounter>=10?(clearInterval(intervalId),reject(new Error("window.google not found after 10 attempts"))):window.google&&window.google.maps&&window.google.maps.Map?(clearInterval(intervalId),resolve(window.google)):void checkCounter++},500)}),this._tileCallbacks={},this._freshTiles={},this._imagesPerTile="hybrid"===this.options.type?2:1,this.createTile="hybrid"===this.options.type?this._createMultiTile:this._createSingleTile},onAdd:function(map){L.GridLayer.prototype.onAdd.call(this,map),this._initMutantContainer(),this._GAPIPromise.then(function(){this._ready=!0,this._map=map,this._initMutant(),map.on("viewreset",this._reset,this),map.on("move",this._update,this),map.on("zoomend",this._handleZoomAnim,this),map.on("resize",this._resize,this),map._controlCorners.bottomright.style.marginBottom="20px",this._reset(),this._update()}.bind(this))},onRemove:function(map){L.GridLayer.prototype.onRemove.call(this,map),map._container.removeChild(this._mutantContainer),this._mutantContainer=void 0,map.off("viewreset",this._reset,this),map.off("move",this._update,this),map.off("zoomend",this._handleZoomAnim,this),map.off("resize",this._resize,this),map._controlCorners.bottomright.style.marginBottom="0em"},getAttribution:function(){return this.options.attribution},setOpacity:function(opacity){this.options.opacity=opacity,opacity<1&&L.DomUtil.setOpacity(this._mutantContainer,opacity)},setElementSize:function(e,size){e.style.width=size.x+"px",e.style.height=size.y+"px"},_initMutantContainer:function(){this._mutantContainer||(this._mutantContainer=L.DomUtil.create("div","leaflet-google-mutant leaflet-top leaflet-left"),this._mutantContainer.id="_MutantContainer_"+L.Util.stamp(this._mutantContainer),this._mutantContainer.style.pointerEvents="none",this._map.getContainer().appendChild(this._mutantContainer)),this.setOpacity(this.options.opacity),this.setElementSize(this._mutantContainer,this._map.getSize()),this._attachObserver(this._mutantContainer)},_initMutant:function(){if(this._ready&&this._mutantContainer){this._mutantCenter=new google.maps.LatLng(0,0);var map=new google.maps.Map(this._mutantContainer,{center:this._mutantCenter,zoom:0,tilt:0,mapTypeId:this.options.type,disableDefaultUI:!0,keyboardShortcuts:!1,draggable:!1,disableDoubleClickZoom:!0,scrollwheel:!1,streetViewControl:!1,styles:this.options.styles||{},backgroundColor:"transparent"});this._mutant=map,this.fire("spawned",{mapObject:map})}},_attachObserver:function(node){var observer=new MutationObserver(this._onMutations.bind(this));observer.observe(node,{childList:!0,subtree:!0})},_onMutations:function(mutations){for(var i=0;i<mutations.length;++i)for(var mutation=mutations[i],j=0;j<mutation.addedNodes.length;++j){var node=mutation.addedNodes[j];node instanceof HTMLImageElement?this._onMutatedImage(node):node instanceof HTMLElement&&Array.prototype.forEach.call(node.querySelectorAll("img"),this._onMutatedImage.bind(this))}},_roadRegexp:/!1i(\d+)!2i(\d+)!3i(\d+)!/,_satRegexp:/x=(\d+)&y=(\d+)&z=(\d+)/,_staticRegExp:/StaticMapService\.GetMapImage/,_onMutatedImage:function(imgNode){var coords,sublayer,parent,match=imgNode.src.match(this._roadRegexp);if(match?(coords={z:match[1],x:match[2],y:match[3]},this._imagesPerTile>1&&(imgNode.style.zIndex=1),sublayer=1):(match=imgNode.src.match(this._satRegexp),match&&(coords={x:match[1],y:match[2],z:match[3]}),sublayer=0),coords){var key=this._tileCoordsToKey(coords);imgNode.style.position="absolute",this._imagesPerTile>1&&(key+="/"+sublayer),key in this._tileCallbacks&&this._tileCallbacks[key]?(this._tileCallbacks[key].pop()(imgNode),this._tileCallbacks[key].length||delete this._tileCallbacks[key]):(parent=imgNode.parentNode,parent&&(parent.removeChild(imgNode),parent.removeChild=L.Util.falseFn),key in this._freshTiles?this._freshTiles[key].push(imgNode):this._freshTiles[key]=[imgNode])}else imgNode.src.match(this._staticRegExp)&&(parent=imgNode.parentNode,parent&&imgNode.parentNode.replaceChild(L.DomUtil.create("img"),imgNode))},_createSingleTile:function(coords,done){var key=this._tileCoordsToKey(coords),tileContainer=L.DomUtil.create("div");if(done=done.bind(this,null,tileContainer),key in this._freshTiles){var tile=this._freshTiles[key].pop();this._freshTiles[key].length||delete this._freshTiles[key],tileContainer.appendChild(tile),L.Util.requestAnimFrame(done)}else this._tileCallbacks[key]=this._tileCallbacks[key]||[],this._tileCallbacks[key].push(function(c){return function(imgNode){var parent=imgNode.parentNode;parent&&(parent.removeChild(imgNode),parent.removeChild=L.Util.falseFn),c.appendChild(imgNode),done()}.bind(this)}.bind(this)(tileContainer));return tileContainer},_createMultiTile:function(coords,done){var key=this._tileCoordsToKey(coords),tileContainer=L.DomUtil.create("div");tileContainer.dataset.pending=this._imagesPerTile,done=done.bind(this,null,tileContainer);for(var i=0;i<this._imagesPerTile;i++){var key2=key+"/"+i;key2 in this._freshTiles?(tileContainer.appendChild(this._freshTiles[key2].pop()),this._freshTiles[key2].length||delete this._freshTiles[key2],tileContainer.dataset.pending--):(this._tileCallbacks[key2]=this._tileCallbacks[key2]||[],this._tileCallbacks[key2].push(function(c){return function(imgNode){var parent=imgNode.parentNode;parent&&(parent.removeChild(imgNode),parent.removeChild=L.Util.falseFn),c.appendChild(imgNode),c.dataset.pending--,parseInt(c.dataset.pending)||done()}.bind(this)}.bind(this)(tileContainer)))}return parseInt(tileContainer.dataset.pending)||L.Util.requestAnimFrame(done),tileContainer},_checkZoomLevels:function(){void 0!==this._map.getZoom()&&this._mutant.getZoom()!==this._map.getZoom()&&this._map.setZoom(this._mutant.getZoom())},_reset:function(){this._initContainer()},_update:function(){if(L.GridLayer.prototype._update.call(this),this._mutant){var center=this._map.getCenter(),_center=new google.maps.LatLng(center.lat,center.lng);this._mutant.setCenter(_center);var zoom=this._map.getZoom();void 0!==zoom&&this._mutant.setZoom(Math.round(this._map.getZoom()))}},_resize:function(){var size=this._map.getSize();this._mutantContainer.style.width===size.x&&this._mutantContainer.style.height===size.y||(this.setElementSize(this._mutantContainer,size),this._mutant&&google.maps.event.trigger(this._mutant,"resize"))},_handleZoomAnim:function(){var center=this._map.getCenter(),_center=new google.maps.LatLng(center.lat,center.lng);this._mutant.setCenter(_center),this._mutant.setZoom(Math.round(this._map.getZoom()))},_removeTile:function(key){if(this._imagesPerTile>1)for(var i=0;i<this._imagesPerTile;i++){var key2=key+"/"+i;key2 in this._freshTiles&&delete this._freshTiles[key2]}else key in this._freshTiles&&delete this._freshTiles[key];return L.GridLayer.prototype._removeTile.call(this,key)}}),L.gridLayer.googleMutant=function(options){return new L.GridLayer.GoogleMutant(options)}},function(module,exports){function extensions(parentClass){return{initialize:function(options){parentClass.prototype.initialize.call(this,options),this._originalLayers=[],this._visibleLayers=[],this._staticLayers=[],this._rbush=[],this._cachedRelativeBoxes=[],this._margin=options.margin||0,this._rbush=null},addLayer:function(layer){return"options"in layer&&"icon"in layer.options?(this._originalLayers.push(layer),void(this._map&&this._maybeAddLayerToRBush(layer))):(this._staticLayers.push(layer),void parentClass.prototype.addLayer.call(this,layer))},removeLayer:function(layer){this._rbush.remove(this._cachedRelativeBoxes[layer._leaflet_id]),delete this._cachedRelativeBoxes[layer._leaflet_id],parentClass.prototype.removeLayer.call(this,layer);var i;i=this._originalLayers.indexOf(layer),i!==-1&&this._originalLayers.splice(i,1),i=this._visibleLayers.indexOf(layer),i!==-1&&this._visibleLayers.splice(i,1),i=this._staticLayers.indexOf(layer),i!==-1&&this._staticLayers.splice(i,1)},clearLayers:function(){this._rbush=rbush(),this._originalLayers=[],this._visibleLayers=[],this._staticLayers=[],this._cachedRelativeBoxes=[],parentClass.prototype.clearLayers.call(this)},onAdd:function(map){this._map=map;for(var i in this._staticLayers)map.addLayer(this._staticLayers[i]);this._onZoomEnd(),map.on("zoomend",this._onZoomEnd,this)},onRemove:function(map){for(var i in this._staticLayers)map.removeLayer(this._staticLayers[i]);map.off("zoomend",this._onZoomEnd,this),parentClass.prototype.onRemove.call(this,map)},_maybeAddLayerToRBush:function(layer){var bush=(this._map.getZoom(),this._rbush),boxes=this._cachedRelativeBoxes[layer._leaflet_id],visible=!1;if(!boxes){parentClass.prototype.addLayer.call(this,layer);var visible=!0,box=this._getIconBox(layer._icon);boxes=this._getRelativeBoxes(layer._icon.children,box),boxes.push(box),this._cachedRelativeBoxes[layer._leaflet_id]=boxes}boxes=this._positionBoxes(this._map.latLngToLayerPoint(layer.getLatLng()),boxes);for(var collision=!1,i=0;i<boxes.length&&!collision;i++)collision=bush.search(boxes[i]).length>0;collision?parentClass.prototype.removeLayer.call(this,layer):(visible||parentClass.prototype.addLayer.call(this,layer),this._visibleLayers.push(layer),bush.load(boxes))},_getIconBox:function(el){if(isMSIE8)return[0,0,el.offsetWidth,el.offsetHeight];var styles=window.getComputedStyle(el);return[parseInt(styles.marginLeft),parseInt(styles.marginTop),parseInt(styles.marginLeft)+parseInt(styles.width),parseInt(styles.marginTop)+parseInt(styles.height)]},_getRelativeBoxes:function(els,baseBox){for(var boxes=[],i=0;i<els.length;i++){var el=els[i],box=[el.offsetLeft,el.offsetTop,el.offsetLeft+el.offsetWidth,el.offsetTop+el.offsetHeight];if(box=this._offsetBoxes(box,baseBox),boxes.push(box),el.children.length){var parentBox=baseBox;if(!isMSIE8){var positionStyle=window.getComputedStyle(el).position;"absolute"!==positionStyle&&"relative"!==positionStyle||(parentBox=box)}boxes=boxes.concat(this._getRelativeBoxes(el.children,parentBox))}}return boxes},_offsetBoxes:function(a,b){return[a[0]+b[0],a[1]+b[1],a[2]+b[0],a[3]+b[1]]},_positionBoxes:function(offset,boxes){for(var newBoxes=[],i=0;i<boxes.length;i++)newBoxes.push(this._positionBox(offset,boxes[i]));return newBoxes},_positionBox:function(offset,box){return[box[0]+offset.x-this._margin,box[1]+offset.y-this._margin,box[2]+offset.x+this._margin,box[3]+offset.y+this._margin]},_onZoomEnd:function(){for(var i=0;i<this._visibleLayers.length;i++)parentClass.prototype.removeLayer.call(this,this._visibleLayers[i]);this._rbush=rbush();for(var i=0;i<this._originalLayers.length;i++)this._maybeAddLayerToRBush(this._originalLayers[i])}}}var isMSIE8=!("getComputedStyle"in window&&"function"==typeof window.getComputedStyle);L.LayerGroup.Collision=L.LayerGroup.extend(extensions(L.LayerGroup)),L.FeatureGroup.Collision=L.FeatureGroup.extend(extensions(L.FeatureGroup)),L.GeoJSON.Collision=L.GeoJSON.extend(extensions(L.GeoJSON)),L.LayerGroup.collision=function(options){return new L.LayerGroup.Collision(options||{})},L.FeatureGroup.collision=function(options){return new L.FeatureGroup.Collision(options||{})},L.GeoJSON.collision=function(options){return new L.GeoJSON.Collision(options||{})},L.layerGroup.collision=function(options){return new L.LayerGroup.Collision(options||{})},L.featureGroup.collision=function(options){return new L.FeatureGroup.Collision(options||{})},L.geoJson.collision=function(options){return new L.GeoJSON.Collision(options||{})}},function(module,exports){!function(window,document,undefined){L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(options){L.Util.setOptions(this,options),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var animate=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,animate?this._withAnimation:this._noAnimation),this._markerCluster=animate?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(layer){if(layer instanceof L.LayerGroup)return this.addLayers([layer]);if(!layer.getLatLng)return this._nonPointGroup.addLayer(layer),this.fire("layeradd",{layer:layer}),this;if(!this._map)return this._needsClustering.push(layer),this.fire("layeradd",{layer:layer}),this;if(this.hasLayer(layer))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(layer,this._maxZoom),this.fire("layeradd",{layer:layer}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var visibleLayer=layer,currentZoom=this._zoom;if(layer.__parent)for(;visibleLayer.__parent._zoom>=currentZoom;)visibleLayer=visibleLayer.__parent;return this._currentShownBounds.contains(visibleLayer.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(layer,visibleLayer):this._animationAddLayerNonAnimated(layer,visibleLayer)),this},removeLayer:function(layer){return layer instanceof L.LayerGroup?this.removeLayers([layer]):layer.getLatLng?this._map?layer.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(layer)),this._removeLayer(layer,!0),this.fire("layerremove",{layer:layer}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),layer.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(layer)&&(this._featureGroup.removeLayer(layer),layer.clusterShow&&layer.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,layer)&&this.hasLayer(layer)&&this._needsRemoving.push({layer:layer,latlng:layer._latlng}),this.fire("layerremove",{layer:layer}),this):(this._nonPointGroup.removeLayer(layer),this.fire("layerremove",{layer:layer}),this)},addLayers:function(layersArray,skipLayerAddEvent){if(!L.Util.isArray(layersArray))return this.addLayer(layersArray);var m,fg=this._featureGroup,npg=this._nonPointGroup,chunked=this.options.chunkedLoading,chunkInterval=this.options.chunkInterval,chunkProgress=this.options.chunkProgress,l=layersArray.length,offset=0,originalArray=!0;if(this._map){var started=(new Date).getTime(),process=L.bind(function(){for(var start=(new Date).getTime();offset<l;offset++){if(chunked&&offset%200===0){var elapsed=(new Date).getTime()-start;if(elapsed>chunkInterval)break}if(m=layersArray[offset],m instanceof L.LayerGroup)originalArray&&(layersArray=layersArray.slice(),originalArray=!1),this._extractNonGroupLayers(m,layersArray),l=layersArray.length;else if(m.getLatLng){if(!this.hasLayer(m)&&(this._addLayer(m,this._maxZoom),skipLayerAddEvent||this.fire("layeradd",{layer:m}),m.__parent&&2===m.__parent.getChildCount())){var markers=m.__parent.getAllChildMarkers(),otherMarker=markers[0]===m?markers[1]:markers[0];fg.removeLayer(otherMarker)}}else npg.addLayer(m),skipLayerAddEvent||this.fire("layeradd",{layer:m})}chunkProgress&&chunkProgress(offset,l,(new Date).getTime()-started),offset===l?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(process,this.options.chunkDelay)},this);process()}else for(var needsClustering=this._needsClustering;offset<l;offset++)m=layersArray[offset],m instanceof L.LayerGroup?(originalArray&&(layersArray=layersArray.slice(),originalArray=!1),this._extractNonGroupLayers(m,layersArray),l=layersArray.length):m.getLatLng?this.hasLayer(m)||needsClustering.push(m):npg.addLayer(m);return this},removeLayers:function(layersArray){var i,m,l=layersArray.length,fg=this._featureGroup,npg=this._nonPointGroup,originalArray=!0;if(!this._map){for(i=0;i<l;i++)m=layersArray[i],m instanceof L.LayerGroup?(originalArray&&(layersArray=layersArray.slice(),originalArray=!1),this._extractNonGroupLayers(m,layersArray),l=layersArray.length):(this._arraySplice(this._needsClustering,m),npg.removeLayer(m),this.hasLayer(m)&&this._needsRemoving.push({layer:m,latlng:m._latlng}),this.fire("layerremove",{layer:m}));return this}if(this._unspiderfy){this._unspiderfy();var layersArray2=layersArray.slice(),l2=l;for(i=0;i<l2;i++)m=layersArray2[i],m instanceof L.LayerGroup?(this._extractNonGroupLayers(m,layersArray2),l2=layersArray2.length):this._unspiderfyLayer(m)}for(i=0;i<l;i++)m=layersArray[i],m instanceof L.LayerGroup?(originalArray&&(layersArray=layersArray.slice(),originalArray=!1),this._extractNonGroupLayers(m,layersArray),l=layersArray.length):m.__parent?(this._removeLayer(m,!0,!0),this.fire("layerremove",{layer:m}),fg.hasLayer(m)&&(fg.removeLayer(m),m.clusterShow&&m.clusterShow())):(npg.removeLayer(m),this.fire("layerremove",{layer:m}));return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(marker){marker.off(this._childMarkerEventHandlers,this),delete marker.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var bounds=new L.LatLngBounds;this._topClusterLevel&&bounds.extend(this._topClusterLevel._bounds);for(var i=this._needsClustering.length-1;i>=0;i--)bounds.extend(this._needsClustering[i].getLatLng());return bounds.extend(this._nonPointGroup.getBounds()),bounds},eachLayer:function(method,context){var thisNeedsRemoving,i,j,markers=this._needsClustering.slice(),needsRemoving=this._needsRemoving;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(markers),i=markers.length-1;i>=0;i--){for(thisNeedsRemoving=!0,j=needsRemoving.length-1;j>=0;j--)if(needsRemoving[j].layer===markers[i]){thisNeedsRemoving=!1;break}thisNeedsRemoving&&method.call(context,markers[i])}this._nonPointGroup.eachLayer(method,context)},getLayers:function(){var layers=[];return this.eachLayer(function(l){layers.push(l)}),layers},getLayer:function(id){var result=null;return id=parseInt(id,10),this.eachLayer(function(l){L.stamp(l)===id&&(result=l)}),result},hasLayer:function(layer){if(!layer)return!1;var i,anArray=this._needsClustering;for(i=anArray.length-1;i>=0;i--)if(anArray[i]===layer)return!0;for(anArray=this._needsRemoving,i=anArray.length-1;i>=0;i--)if(anArray[i].layer===layer)return!1;return!(!layer.__parent||layer.__parent._group!==this)||this._nonPointGroup.hasLayer(layer)},zoomToShowLayer:function(layer,callback){"function"!=typeof callback&&(callback=function(){});var showMarker=function(){!layer._icon&&!layer.__parent._icon||this._inZoomAnimation||(this._map.off("moveend",showMarker,this),this.off("animationend",showMarker,this),layer._icon?callback():layer.__parent._icon&&(this.once("spiderfied",callback,this),layer.__parent.spiderfy()))};layer._icon&&this._map.getBounds().contains(layer.getLatLng())?callback():layer.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",showMarker,this),this._map.panTo(layer.getLatLng())):(this._map.on("moveend",showMarker,this),this.on("animationend",showMarker,this),layer.__parent.zoomToBounds())},onAdd:function(map){this._map=map;var i,l,layer;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(map),this._nonPointGroup.addTo(map),this._gridClusters||this._generateInitialClusters(),this._maxLat=map.options.crs.projection.MAX_LATITUDE,i=0,l=this._needsRemoving.length;i<l;i++)layer=this._needsRemoving[i],layer.newlatlng=layer.layer._latlng,layer.layer._latlng=layer.latlng;for(i=0,l=this._needsRemoving.length;i<l;i++)layer=this._needsRemoving[i],this._removeLayer(layer.layer,!0),layer.layer._latlng=layer.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),l=this._needsClustering,this._needsClustering=[],this.addLayers(l,!0)},onRemove:function(map){map.off("zoomend",this._zoomEnd,this),map.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(marker){for(var vMarker=marker;vMarker&&!vMarker._icon;)vMarker=vMarker.__parent;return vMarker||null},_arraySplice:function(anArray,obj){for(var i=anArray.length-1;i>=0;i--)if(anArray[i]===obj)return anArray.splice(i,1),!0},_removeFromGridUnclustered:function(marker,z){for(var map=this._map,gridUnclustered=this._gridUnclustered,minZoom=this._map.getMinZoom();z>=minZoom&&gridUnclustered[z].removeObject(marker,map.project(marker.getLatLng(),z));z--);
},_childMarkerDragStart:function(e){e.target.__dragStart=e.target._latlng},_childMarkerMoved:function(e){if(!this._ignoreMove&&!e.target.__dragStart){var isPopupOpen=e.target._popup&&e.target._popup.isOpen();this._moveChild(e.target,e.oldLatLng,e.latlng),isPopupOpen&&e.target.openPopup()}},_moveChild:function(layer,from,to){layer._latlng=from,this.removeLayer(layer),layer._latlng=to,this.addLayer(layer)},_childMarkerDragEnd:function(e){e.target.__dragStart&&this._moveChild(e.target,e.target.__dragStart,e.target._latlng),delete e.target.__dragStart},_removeLayer:function(marker,removeFromDistanceGrid,dontUpdateMap){var gridClusters=this._gridClusters,gridUnclustered=this._gridUnclustered,fg=this._featureGroup,map=this._map,minZoom=this._map.getMinZoom();removeFromDistanceGrid&&this._removeFromGridUnclustered(marker,this._maxZoom);var otherMarker,cluster=marker.__parent,markers=cluster._markers;for(this._arraySplice(markers,marker);cluster&&(cluster._childCount--,cluster._boundsNeedUpdate=!0,!(cluster._zoom<minZoom));)removeFromDistanceGrid&&cluster._childCount<=1?(otherMarker=cluster._markers[0]===marker?cluster._markers[1]:cluster._markers[0],gridClusters[cluster._zoom].removeObject(cluster,map.project(cluster._cLatLng,cluster._zoom)),gridUnclustered[cluster._zoom].addObject(otherMarker,map.project(otherMarker.getLatLng(),cluster._zoom)),this._arraySplice(cluster.__parent._childClusters,cluster),cluster.__parent._markers.push(otherMarker),otherMarker.__parent=cluster.__parent,cluster._icon&&(fg.removeLayer(cluster),dontUpdateMap||fg.addLayer(otherMarker))):cluster._iconNeedsUpdate=!0,cluster=cluster.__parent;delete marker.__parent},_isOrIsParent:function(el,oel){for(;oel;){if(el===oel)return!0;oel=oel.parentNode}return!1},fire:function(type,data,propagate){if(data&&data.layer instanceof L.MarkerCluster){if(data.originalEvent&&this._isOrIsParent(data.layer._icon,data.originalEvent.relatedTarget))return;type="cluster"+type}L.FeatureGroup.prototype.fire.call(this,type,data,propagate)},listens:function(type,propagate){return L.FeatureGroup.prototype.listens.call(this,type,propagate)||L.FeatureGroup.prototype.listens.call(this,"cluster"+type,propagate)},_defaultIconCreateFunction:function(cluster){var childCount=cluster.getChildCount(),c=" marker-cluster-";return c+=childCount<10?"small":childCount<100?"medium":"large",new L.DivIcon({html:"<div><span>"+childCount+"</span></div>",className:"marker-cluster"+c,iconSize:new L.Point(40,40)})},_bindEvents:function(){var map=this._map,spiderfyOnMaxZoom=this.options.spiderfyOnMaxZoom,showCoverageOnHover=this.options.showCoverageOnHover,zoomToBoundsOnClick=this.options.zoomToBoundsOnClick;(spiderfyOnMaxZoom||zoomToBoundsOnClick)&&this.on("clusterclick",this._zoomOrSpiderfy,this),showCoverageOnHover&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),map.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(e){for(var cluster=e.layer,bottomCluster=cluster;1===bottomCluster._childClusters.length;)bottomCluster=bottomCluster._childClusters[0];bottomCluster._zoom===this._maxZoom&&bottomCluster._childCount===cluster._childCount&&this.options.spiderfyOnMaxZoom?cluster.spiderfy():this.options.zoomToBoundsOnClick&&cluster.zoomToBounds(),e.originalEvent&&13===e.originalEvent.keyCode&&this._map._container.focus()},_showCoverage:function(e){var map=this._map;this._inZoomAnimation||(this._shownPolygon&&map.removeLayer(this._shownPolygon),e.layer.getChildCount()>2&&e.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(e.layer.getConvexHull(),this.options.polygonOptions),map.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var spiderfyOnMaxZoom=this.options.spiderfyOnMaxZoom,showCoverageOnHover=this.options.showCoverageOnHover,zoomToBoundsOnClick=this.options.zoomToBoundsOnClick,map=this._map;(spiderfyOnMaxZoom||zoomToBoundsOnClick)&&this.off("clusterclick",this._zoomOrSpiderfy,this),showCoverageOnHover&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),map.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var newBounds=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._zoom,newBounds),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),newBounds),this._currentShownBounds=newBounds}},_generateInitialClusters:function(){var maxZoom=this._map.getMaxZoom(),minZoom=this._map.getMinZoom(),radius=this.options.maxClusterRadius,radiusFn=radius;"function"!=typeof radius&&(radiusFn=function(){return radius}),this.options.disableClusteringAtZoom&&(maxZoom=this.options.disableClusteringAtZoom-1),this._maxZoom=maxZoom,this._gridClusters={},this._gridUnclustered={};for(var zoom=maxZoom;zoom>=minZoom;zoom--)this._gridClusters[zoom]=new L.DistanceGrid(radiusFn(zoom)),this._gridUnclustered[zoom]=new L.DistanceGrid(radiusFn(zoom));this._topClusterLevel=new this._markerCluster(this,minZoom-1)},_addLayer:function(layer,zoom){var markerPoint,z,gridClusters=this._gridClusters,gridUnclustered=this._gridUnclustered,minZoom=this._map.getMinZoom();for(this.options.singleMarkerMode&&this._overrideMarkerIcon(layer),layer.on(this._childMarkerEventHandlers,this);zoom>=minZoom;zoom--){markerPoint=this._map.project(layer.getLatLng(),zoom);var closest=gridClusters[zoom].getNearObject(markerPoint);if(closest)return closest._addChild(layer),void(layer.__parent=closest);if(closest=gridUnclustered[zoom].getNearObject(markerPoint)){var parent=closest.__parent;parent&&this._removeLayer(closest,!1);var newCluster=new this._markerCluster(this,zoom,closest,layer);gridClusters[zoom].addObject(newCluster,this._map.project(newCluster._cLatLng,zoom)),closest.__parent=newCluster,layer.__parent=newCluster;var lastParent=newCluster;for(z=zoom-1;z>parent._zoom;z--)lastParent=new this._markerCluster(this,z,lastParent),gridClusters[z].addObject(lastParent,this._map.project(closest.getLatLng(),z));return parent._addChild(lastParent),void this._removeFromGridUnclustered(closest,zoom)}gridUnclustered[zoom].addObject(layer,markerPoint)}this._topClusterLevel._addChild(layer),layer.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(c){c instanceof L.MarkerCluster&&c._iconNeedsUpdate&&c._updateIcon()})},_enqueue:function(fn){this._queue.push(fn),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var i=0;i<this._queue.length;i++)this._queue[i].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var mapZoom=Math.round(this._map._zoom);this._processQueue(),this._zoom<mapZoom&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,mapZoom)):this._zoom>mapZoom?(this._animationStart(),this._animationZoomOut(this._zoom,mapZoom)):this._moveEnd()},_getExpandedVisibleBounds:function(){return this.options.removeOutsideVisibleBounds?L.Browser.mobile?this._checkBoundsMaxLat(this._map.getBounds()):this._checkBoundsMaxLat(this._map.getBounds().pad(1)):this._mapBoundsInfinite},_checkBoundsMaxLat:function(bounds){var maxLat=this._maxLat;return maxLat!==undefined&&(bounds.getNorth()>=maxLat&&(bounds._northEast.lat=1/0),bounds.getSouth()<=-maxLat&&(bounds._southWest.lat=-(1/0))),bounds},_animationAddLayerNonAnimated:function(layer,newCluster){if(newCluster===layer)this._featureGroup.addLayer(layer);else if(2===newCluster._childCount){newCluster._addToMap();var markers=newCluster.getAllChildMarkers();this._featureGroup.removeLayer(markers[0]),this._featureGroup.removeLayer(markers[1])}else newCluster._updateIcon()},_extractNonGroupLayers:function(group,output){var layer,layers=group.getLayers(),i=0;for(output=output||[];i<layers.length;i++)layer=layers[i],layer instanceof L.LayerGroup?this._extractNonGroupLayers(layer,output):output.push(layer);return output},_overrideMarkerIcon:function(layer){var icon=layer.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[layer]}});return icon}}),L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-(1/0),-(1/0)),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(previousZoomLevel,newZoomLevel){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,previousZoomLevel),this._topClusterLevel._recursivelyAddChildrenToMap(null,newZoomLevel,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(previousZoomLevel,newZoomLevel){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,previousZoomLevel),this._topClusterLevel._recursivelyAddChildrenToMap(null,newZoomLevel,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(layer,newCluster){this._animationAddLayerNonAnimated(layer,newCluster)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(previousZoomLevel,newZoomLevel){var i,bounds=this._getExpandedVisibleBounds(),fg=this._featureGroup,minZoom=this._map.getMinZoom();this._ignoreMove=!0,this._topClusterLevel._recursively(bounds,previousZoomLevel,minZoom,function(c){var m,startPos=c._latlng,markers=c._markers;for(bounds.contains(startPos)||(startPos=null),c._isSingleParent()&&previousZoomLevel+1===newZoomLevel?(fg.removeLayer(c),c._recursivelyAddChildrenToMap(null,newZoomLevel,bounds)):(c.clusterHide(),c._recursivelyAddChildrenToMap(startPos,newZoomLevel,bounds)),i=markers.length-1;i>=0;i--)m=markers[i],bounds.contains(m._latlng)||fg.removeLayer(m)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(bounds,newZoomLevel),fg.eachLayer(function(n){n instanceof L.MarkerCluster||!n._icon||n.clusterShow()}),this._topClusterLevel._recursively(bounds,previousZoomLevel,newZoomLevel,function(c){c._recursivelyRestoreChildPositions(newZoomLevel)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(bounds,previousZoomLevel,minZoom,function(c){fg.removeLayer(c),c.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(previousZoomLevel,newZoomLevel){this._animationZoomOutSingle(this._topClusterLevel,previousZoomLevel-1,newZoomLevel),this._topClusterLevel._recursivelyAddChildrenToMap(null,newZoomLevel,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,previousZoomLevel,this._getExpandedVisibleBounds())},_animationAddLayer:function(layer,newCluster){var me=this,fg=this._featureGroup;fg.addLayer(layer),newCluster!==layer&&(newCluster._childCount>2?(newCluster._updateIcon(),this._forceLayout(),this._animationStart(),layer._setPos(this._map.latLngToLayerPoint(newCluster.getLatLng())),layer.clusterHide(),this._enqueue(function(){fg.removeLayer(layer),layer.clusterShow(),me._animationEnd()})):(this._forceLayout(),me._animationStart(),me._animationZoomOutSingle(newCluster,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(cluster,previousZoomLevel,newZoomLevel){var bounds=this._getExpandedVisibleBounds(),minZoom=this._map.getMinZoom();cluster._recursivelyAnimateChildrenInAndAddSelfToMap(bounds,previousZoomLevel+1,newZoomLevel);var me=this;this._forceLayout(),cluster._recursivelyBecomeVisible(bounds,newZoomLevel),this._enqueue(function(){if(1===cluster._childCount){var m=cluster._markers[0];this._ignoreMove=!0,m.setLatLng(m.getLatLng()),this._ignoreMove=!1,m.clusterShow&&m.clusterShow()}else cluster._recursively(bounds,newZoomLevel,minZoom,function(c){c._recursivelyRemoveChildrenFromMap(bounds,previousZoomLevel+1)});me._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(options){return new L.MarkerClusterGroup(options)},L.MarkerCluster=L.Marker.extend({initialize:function(group,zoom,a,b){L.Marker.prototype.initialize.call(this,a?a._cLatLng||a.getLatLng():new L.LatLng(0,0),{icon:this}),this._group=group,this._zoom=zoom,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,a&&this._addChild(a),b&&this._addChild(b)},getAllChildMarkers:function(storageArray){storageArray=storageArray||[];for(var i=this._childClusters.length-1;i>=0;i--)this._childClusters[i].getAllChildMarkers(storageArray);for(var j=this._markers.length-1;j>=0;j--)storageArray.push(this._markers[j]);return storageArray},getChildCount:function(){return this._childCount},zoomToBounds:function(){for(var i,childClusters=this._childClusters.slice(),map=this._group._map,boundsZoom=map.getBoundsZoom(this._bounds),zoom=this._zoom+1,mapZoom=map.getZoom();childClusters.length>0&&boundsZoom>zoom;){zoom++;var newClusters=[];for(i=0;i<childClusters.length;i++)newClusters=newClusters.concat(childClusters[i]._childClusters);childClusters=newClusters}boundsZoom>zoom?this._group._map.setView(this._latlng,zoom):boundsZoom<=mapZoom?this._group._map.setView(this._latlng,mapZoom+1):this._group._map.fitBounds(this._bounds)},getBounds:function(){var bounds=new L.LatLngBounds;return bounds.extend(this._bounds),bounds},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(new1,isNotificationFromChild){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(new1),new1 instanceof L.MarkerCluster?(isNotificationFromChild||(this._childClusters.push(new1),new1.__parent=this),this._childCount+=new1._childCount):(isNotificationFromChild||this._markers.push(new1),this._childCount++),this.__parent&&this.__parent._addChild(new1,!0)},_setClusterCenter:function(child){this._cLatLng||(this._cLatLng=child._cLatLng||child._latlng)},_resetBounds:function(){var bounds=this._bounds;bounds._southWest&&(bounds._southWest.lat=1/0,bounds._southWest.lng=1/0),bounds._northEast&&(bounds._northEast.lat=-(1/0),bounds._northEast.lng=-(1/0))},_recalculateBounds:function(){var i,child,childLatLng,childCount,markers=this._markers,childClusters=this._childClusters,latSum=0,lngSum=0,totalCount=this._childCount;if(0!==totalCount){for(this._resetBounds(),i=0;i<markers.length;i++)childLatLng=markers[i]._latlng,this._bounds.extend(childLatLng),latSum+=childLatLng.lat,lngSum+=childLatLng.lng;for(i=0;i<childClusters.length;i++)child=childClusters[i],child._boundsNeedUpdate&&child._recalculateBounds(),this._bounds.extend(child._bounds),childLatLng=child._wLatLng,childCount=child._childCount,latSum+=childLatLng.lat*childCount,lngSum+=childLatLng.lng*childCount;this._latlng=this._wLatLng=new L.LatLng(latSum/totalCount,lngSum/totalCount),this._boundsNeedUpdate=!1}},_addToMap:function(startPos){startPos&&(this._backupLatlng=this._latlng,this.setLatLng(startPos)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(bounds,center,maxZoom){this._recursively(bounds,this._group._map.getMinZoom(),maxZoom-1,function(c){var i,m,markers=c._markers;for(i=markers.length-1;i>=0;i--)m=markers[i],m._icon&&(m._setPos(center),m.clusterHide())},function(c){var j,cm,childClusters=c._childClusters;for(j=childClusters.length-1;j>=0;j--)cm=childClusters[j],cm._icon&&(cm._setPos(center),cm.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(bounds,previousZoomLevel,newZoomLevel){this._recursively(bounds,newZoomLevel,this._group._map.getMinZoom(),function(c){c._recursivelyAnimateChildrenIn(bounds,c._group._map.latLngToLayerPoint(c.getLatLng()).round(),previousZoomLevel),c._isSingleParent()&&previousZoomLevel-1===newZoomLevel?(c.clusterShow(),c._recursivelyRemoveChildrenFromMap(bounds,previousZoomLevel)):c.clusterHide(),c._addToMap()})},_recursivelyBecomeVisible:function(bounds,zoomLevel){this._recursively(bounds,this._group._map.getMinZoom(),zoomLevel,null,function(c){c.clusterShow()})},_recursivelyAddChildrenToMap:function(startPos,zoomLevel,bounds){this._recursively(bounds,this._group._map.getMinZoom()-1,zoomLevel,function(c){if(zoomLevel!==c._zoom)for(var i=c._markers.length-1;i>=0;i--){var nm=c._markers[i];bounds.contains(nm._latlng)&&(startPos&&(nm._backupLatlng=nm.getLatLng(),nm.setLatLng(startPos),nm.clusterHide&&nm.clusterHide()),c._group._featureGroup.addLayer(nm))}},function(c){c._addToMap(startPos)})},_recursivelyRestoreChildPositions:function(zoomLevel){for(var i=this._markers.length-1;i>=0;i--){var nm=this._markers[i];nm._backupLatlng&&(nm.setLatLng(nm._backupLatlng),delete nm._backupLatlng)}if(zoomLevel-1===this._zoom)for(var j=this._childClusters.length-1;j>=0;j--)this._childClusters[j]._restorePosition();else for(var k=this._childClusters.length-1;k>=0;k--)this._childClusters[k]._recursivelyRestoreChildPositions(zoomLevel)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(previousBounds,zoomLevel,exceptBounds){var m,i;this._recursively(previousBounds,this._group._map.getMinZoom()-1,zoomLevel-1,function(c){for(i=c._markers.length-1;i>=0;i--)m=c._markers[i],exceptBounds&&exceptBounds.contains(m._latlng)||(c._group._featureGroup.removeLayer(m),m.clusterShow&&m.clusterShow())},function(c){for(i=c._childClusters.length-1;i>=0;i--)m=c._childClusters[i],exceptBounds&&exceptBounds.contains(m._latlng)||(c._group._featureGroup.removeLayer(m),m.clusterShow&&m.clusterShow())})},_recursively:function(boundsToApplyTo,zoomLevelToStart,zoomLevelToStop,runAtEveryLevel,runAtBottomLevel){var i,c,childClusters=this._childClusters,zoom=this._zoom;if(zoomLevelToStart<=zoom&&(runAtEveryLevel&&runAtEveryLevel(this),runAtBottomLevel&&zoom===zoomLevelToStop&&runAtBottomLevel(this)),zoom<zoomLevelToStart||zoom<zoomLevelToStop)for(i=childClusters.length-1;i>=0;i--)c=childClusters[i],boundsToApplyTo.intersects(c._bounds)&&c._recursively(boundsToApplyTo,zoomLevelToStart,zoomLevelToStop,runAtEveryLevel,runAtBottomLevel)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}}),L.Marker.include({clusterHide:function(){return this.options.opacityWhenUnclustered=this.options.opacity||1,this.setOpacity(0)},clusterShow:function(){var ret=this.setOpacity(this.options.opacity||this.options.opacityWhenUnclustered);return delete this.options.opacityWhenUnclustered,ret}}),L.DistanceGrid=function(cellSize){this._cellSize=cellSize,this._sqCellSize=cellSize*cellSize,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(obj,point){var x=this._getCoord(point.x),y=this._getCoord(point.y),grid=this._grid,row=grid[y]=grid[y]||{},cell=row[x]=row[x]||[],stamp=L.Util.stamp(obj);this._objectPoint[stamp]=point,cell.push(obj)},updateObject:function(obj,point){this.removeObject(obj),this.addObject(obj,point)},removeObject:function(obj,point){var i,len,x=this._getCoord(point.x),y=this._getCoord(point.y),grid=this._grid,row=grid[y]=grid[y]||{},cell=row[x]=row[x]||[];for(delete this._objectPoint[L.Util.stamp(obj)],i=0,len=cell.length;i<len;i++)if(cell[i]===obj)return cell.splice(i,1),1===len&&delete row[x],!0},eachObject:function(fn,context){var i,j,k,len,row,cell,removed,grid=this._grid;for(i in grid){row=grid[i];for(j in row)for(cell=row[j],k=0,len=cell.length;k<len;k++)removed=fn.call(context,cell[k]),removed&&(k--,len--)}},getNearObject:function(point){var i,j,k,row,cell,len,obj,dist,x=this._getCoord(point.x),y=this._getCoord(point.y),objectPoint=this._objectPoint,closestDistSq=this._sqCellSize,closest=null;for(i=y-1;i<=y+1;i++)if(row=this._grid[i])for(j=x-1;j<=x+1;j++)if(cell=row[j])for(k=0,len=cell.length;k<len;k++)obj=cell[k],dist=this._sqDist(objectPoint[L.Util.stamp(obj)],point),dist<closestDistSq&&(closestDistSq=dist,closest=obj);return closest},_getCoord:function(x){return Math.floor(x/this._cellSize)},_sqDist:function(p,p2){var dx=p2.x-p.x,dy=p2.y-p.y;return dx*dx+dy*dy}},function(){L.QuickHull={getDistant:function(cpt,bl){var vY=bl[1].lat-bl[0].lat,vX=bl[0].lng-bl[1].lng;return vX*(cpt.lat-bl[0].lat)+vY*(cpt.lng-bl[0].lng)},findMostDistantPointFromBaseLine:function(baseLine,latLngs){var i,pt,d,maxD=0,maxPt=null,newPoints=[];for(i=latLngs.length-1;i>=0;i--)pt=latLngs[i],d=this.getDistant(pt,baseLine),d>0&&(newPoints.push(pt),d>maxD&&(maxD=d,maxPt=pt));return{maxPoint:maxPt,newPoints:newPoints}},buildConvexHull:function(baseLine,latLngs){var convexHullBaseLines=[],t=this.findMostDistantPointFromBaseLine(baseLine,latLngs);return t.maxPoint?(convexHullBaseLines=convexHullBaseLines.concat(this.buildConvexHull([baseLine[0],t.maxPoint],t.newPoints)),convexHullBaseLines=convexHullBaseLines.concat(this.buildConvexHull([t.maxPoint,baseLine[1]],t.newPoints))):[baseLine[0]]},getConvexHull:function(latLngs){var i,maxLat=!1,minLat=!1,maxLng=!1,minLng=!1,maxLatPt=null,minLatPt=null,maxLngPt=null,minLngPt=null,maxPt=null,minPt=null;for(i=latLngs.length-1;i>=0;i--){var pt=latLngs[i];(maxLat===!1||pt.lat>maxLat)&&(maxLatPt=pt,maxLat=pt.lat),(minLat===!1||pt.lat<minLat)&&(minLatPt=pt,minLat=pt.lat),(maxLng===!1||pt.lng>maxLng)&&(maxLngPt=pt,maxLng=pt.lng),(minLng===!1||pt.lng<minLng)&&(minLngPt=pt,minLng=pt.lng)}minLat!==maxLat?(minPt=minLatPt,maxPt=maxLatPt):(minPt=minLngPt,maxPt=maxLngPt);var ch=[].concat(this.buildConvexHull([minPt,maxPt],latLngs),this.buildConvexHull([maxPt,minPt],latLngs));return ch}}}(),L.MarkerCluster.include({getConvexHull:function(){var p,i,childMarkers=this.getAllChildMarkers(),points=[];for(i=childMarkers.length-1;i>=0;i--)p=childMarkers[i].getLatLng(),points.push(p);return L.QuickHull.getConvexHull(points)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:Math.PI/6,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var positions,childMarkers=this.getAllChildMarkers(),group=this._group,map=group._map,center=map.latLngToLayerPoint(this._latlng);this._group._unspiderfy(),this._group._spiderfied=this,childMarkers.length>=this._circleSpiralSwitchover?positions=this._generatePointsSpiral(childMarkers.length,center):(center.y+=10,positions=this._generatePointsCircle(childMarkers.length,center)),this._animationSpiderfy(childMarkers,positions)}},unspiderfy:function(zoomDetails){this._group._inZoomAnimation||(this._animationUnspiderfy(zoomDetails),this._group._spiderfied=null)},_generatePointsCircle:function(count,centerPt){var i,angle,circumference=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+count),legLength=circumference/this._2PI,angleStep=this._2PI/count,res=[];for(res.length=count,i=count-1;i>=0;i--)angle=this._circleStartAngle+i*angleStep,res[i]=new L.Point(centerPt.x+legLength*Math.cos(angle),centerPt.y+legLength*Math.sin(angle))._round();return res},_generatePointsSpiral:function(count,centerPt){var i,spiderfyDistanceMultiplier=this._group.options.spiderfyDistanceMultiplier,legLength=spiderfyDistanceMultiplier*this._spiralLengthStart,separation=spiderfyDistanceMultiplier*this._spiralFootSeparation,lengthFactor=spiderfyDistanceMultiplier*this._spiralLengthFactor*this._2PI,angle=0,res=[];for(res.length=count,i=count-1;i>=0;i--)angle+=separation/legLength+5e-4*i,res[i]=new L.Point(centerPt.x+legLength*Math.cos(angle),centerPt.y+legLength*Math.sin(angle))._round(),legLength+=lengthFactor/angle;return res},_noanimationUnspiderfy:function(){var m,i,group=this._group,map=group._map,fg=group._featureGroup,childMarkers=this.getAllChildMarkers();for(group._ignoreMove=!0,this.setOpacity(1),i=childMarkers.length-1;i>=0;i--)m=childMarkers[i],fg.removeLayer(m),m._preSpiderfyLatlng&&(m.setLatLng(m._preSpiderfyLatlng),delete m._preSpiderfyLatlng),m.setZIndexOffset&&m.setZIndexOffset(0),m._spiderLeg&&(map.removeLayer(m._spiderLeg),delete m._spiderLeg);group.fire("unspiderfied",{cluster:this,markers:childMarkers}),group._ignoreMove=!1,group._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(childMarkers,positions){var i,m,leg,newPos,group=this._group,map=group._map,fg=group._featureGroup,legOptions=this._group.options.spiderLegPolylineOptions;for(group._ignoreMove=!0,i=0;i<childMarkers.length;i++)newPos=map.layerPointToLatLng(positions[i]),m=childMarkers[i],leg=new L.Polyline([this._latlng,newPos],legOptions),map.addLayer(leg),m._spiderLeg=leg,m._preSpiderfyLatlng=m._latlng,m.setLatLng(newPos),m.setZIndexOffset&&m.setZIndexOffset(1e6),fg.addLayer(m);this.setOpacity(.3),group._ignoreMove=!1,group.fire("spiderfied",{cluster:this,markers:childMarkers})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(childMarkers,positions){var i,m,leg,legPath,legLength,newPos,me=this,group=this._group,map=group._map,fg=group._featureGroup,thisLayerLatLng=this._latlng,thisLayerPos=map.latLngToLayerPoint(thisLayerLatLng),svg=L.Path.SVG,legOptions=L.extend({},this._group.options.spiderLegPolylineOptions),finalLegOpacity=legOptions.opacity;for(finalLegOpacity===undefined&&(finalLegOpacity=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),svg?(legOptions.opacity=0,legOptions.className=(legOptions.className||"")+" leaflet-cluster-spider-leg"):legOptions.opacity=finalLegOpacity,group._ignoreMove=!0,i=0;i<childMarkers.length;i++)m=childMarkers[i],newPos=map.layerPointToLatLng(positions[i]),leg=new L.Polyline([thisLayerLatLng,newPos],legOptions),map.addLayer(leg),m._spiderLeg=leg,svg&&(legPath=leg._path,legLength=legPath.getTotalLength()+.1,legPath.style.strokeDasharray=legLength,legPath.style.strokeDashoffset=legLength),m.setZIndexOffset&&m.setZIndexOffset(1e6),m.clusterHide&&m.clusterHide(),fg.addLayer(m),m._setPos&&m._setPos(thisLayerPos);for(group._forceLayout(),group._animationStart(),i=childMarkers.length-1;i>=0;i--)newPos=map.layerPointToLatLng(positions[i]),m=childMarkers[i],m._preSpiderfyLatlng=m._latlng,m.setLatLng(newPos),m.clusterShow&&m.clusterShow(),svg&&(leg=m._spiderLeg,legPath=leg._path,legPath.style.strokeDashoffset=0,leg.setStyle({opacity:finalLegOpacity}));this.setOpacity(.3),group._ignoreMove=!1,setTimeout(function(){group._animationEnd(),group.fire("spiderfied",{cluster:me,markers:childMarkers})},200)},_animationUnspiderfy:function(zoomDetails){var m,i,leg,legPath,legLength,nonAnimatable,me=this,group=this._group,map=group._map,fg=group._featureGroup,thisLayerPos=zoomDetails?map._latLngToNewLayerPoint(this._latlng,zoomDetails.zoom,zoomDetails.center):map.latLngToLayerPoint(this._latlng),childMarkers=this.getAllChildMarkers(),svg=L.Path.SVG;for(group._ignoreMove=!0,group._animationStart(),this.setOpacity(1),i=childMarkers.length-1;i>=0;i--)m=childMarkers[i],m._preSpiderfyLatlng&&(m.closePopup(),m.setLatLng(m._preSpiderfyLatlng),delete m._preSpiderfyLatlng,nonAnimatable=!0,m._setPos&&(m._setPos(thisLayerPos),nonAnimatable=!1),m.clusterHide&&(m.clusterHide(),nonAnimatable=!1),nonAnimatable&&fg.removeLayer(m),svg&&(leg=m._spiderLeg,legPath=leg._path,legLength=legPath.getTotalLength()+.1,legPath.style.strokeDashoffset=legLength,leg.setStyle({opacity:0})));group._ignoreMove=!1,setTimeout(function(){var stillThereChildCount=0;for(i=childMarkers.length-1;i>=0;i--)m=childMarkers[i],m._spiderLeg&&stillThereChildCount++;for(i=childMarkers.length-1;i>=0;i--)m=childMarkers[i],m._spiderLeg&&(m.clusterShow&&m.clusterShow(),m.setZIndexOffset&&m.setZIndexOffset(0),stillThereChildCount>1&&fg.removeLayer(m),map.removeLayer(m._spiderLeg),delete m._spiderLeg);group._animationEnd(),group.fire("unspiderfied",{cluster:me,markers:childMarkers})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(zoomDetails){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(zoomDetails))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(zoomDetails){this._spiderfied&&this._spiderfied.unspiderfy(zoomDetails)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(layer){layer._spiderLeg&&(this._featureGroup.removeLayer(layer),layer.clusterShow&&layer.clusterShow(),layer.setZIndexOffset&&layer.setZIndexOffset(0),this._map.removeLayer(layer._spiderLeg),delete layer._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(layers){return layers?layers instanceof L.MarkerClusterGroup?layers=layers._topClusterLevel.getAllChildMarkers():layers instanceof L.LayerGroup?layers=layers._layers:layers instanceof L.MarkerCluster?layers=layers.getAllChildMarkers():layers instanceof L.Marker&&(layers=[layers]):layers=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(layers),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(layers),this},_flagParentsIconsNeedUpdate:function(layers){var id,parent;for(id in layers)for(parent=layers[id].__parent;parent;)parent._iconNeedsUpdate=!0,parent=parent.__parent},_refreshSingleMarkerModeMarkers:function(layers){var id,layer;for(id in layers)layer=layers[id],this.hasLayer(layer)&&layer.setIcon(this._overrideMarkerIcon(layer))}}),L.Marker.include({refreshIconOptions:function(options,directlyRefreshClusters){var icon=this.options.icon;return L.setOptions(icon,options),this.setIcon(icon),directlyRefreshClusters&&this.__parent&&this.__parent._group.refreshClusters(this),this}})}(window,document)},function(module,exports,__webpack_require__){"use strict";function polylabel(polygon,precision,debug){precision=precision||1;for(var minX,minY,maxX,maxY,i=0;i<polygon[0].length;i++){var p=polygon[0][i];(!i||p[0]<minX)&&(minX=p[0]),(!i||p[1]<minY)&&(minY=p[1]),(!i||p[0]>maxX)&&(maxX=p[0]),(!i||p[1]>maxY)&&(maxY=p[1])}var width=maxX-minX,height=maxY-minY,cellSize=Math.min(width,height),h=cellSize/2,cellQueue=new Queue(null,compareMax);if(0===cellSize)return[minX,minY];for(var x=minX;x<maxX;x+=cellSize)for(var y=minY;y<maxY;y+=cellSize)cellQueue.push(new Cell(x+h,y+h,h,polygon));var bestCell=getCentroidCell(polygon),bboxCell=new Cell(minX+width/2,minY+height/2,0,polygon);bboxCell.d>bestCell.d&&(bestCell=bboxCell);for(var numProbes=cellQueue.length;cellQueue.length;){
var cell=cellQueue.pop();cell.d>bestCell.d&&(bestCell=cell,debug&&console.log("found best %d after %d probes",Math.round(1e4*cell.d)/1e4,numProbes)),cell.max-bestCell.d<=precision||(h=cell.h/2,cellQueue.push(new Cell(cell.x-h,cell.y-h,h,polygon)),cellQueue.push(new Cell(cell.x+h,cell.y-h,h,polygon)),cellQueue.push(new Cell(cell.x-h,cell.y+h,h,polygon)),cellQueue.push(new Cell(cell.x+h,cell.y+h,h,polygon)),numProbes+=4)}return debug&&(console.log("num probes: "+numProbes),console.log("best distance: "+bestCell.d)),[bestCell.x,bestCell.y]}function compareMax(a,b){return b.max-a.max}function Cell(x,y,h,polygon){this.x=x,this.y=y,this.h=h,this.d=pointToPolygonDist(x,y,polygon),this.max=this.d+this.h*Math.SQRT2}function pointToPolygonDist(x,y,polygon){for(var inside=!1,minDistSq=1/0,k=0;k<polygon.length;k++)for(var ring=polygon[k],i=0,len=ring.length,j=len-1;i<len;j=i++){var a=ring[i],b=ring[j];a[1]>y!=b[1]>y&&x<(b[0]-a[0])*(y-a[1])/(b[1]-a[1])+a[0]&&(inside=!inside),minDistSq=Math.min(minDistSq,getSegDistSq(x,y,a,b))}return(inside?1:-1)*Math.sqrt(minDistSq)}function getCentroidCell(polygon){for(var area=0,x=0,y=0,points=polygon[0],i=0,len=points.length,j=len-1;i<len;j=i++){var a=points[i],b=points[j],f=a[0]*b[1]-b[0]*a[1];x+=(a[0]+b[0])*f,y+=(a[1]+b[1])*f,area+=3*f}return 0===area?new Cell(points[0][0],points[0][1],0,polygon):new Cell(x/area,y/area,0,polygon)}function getSegDistSq(px,py,a,b){var x=a[0],y=a[1],dx=b[0]-x,dy=b[1]-y;if(0!==dx||0!==dy){var t=((px-x)*dx+(py-y)*dy)/(dx*dx+dy*dy);t>1?(x=b[0],y=b[1]):t>0&&(x+=dx*t,y+=dy*t)}return dx=px-x,dy=py-y,dx*dx+dy*dy}var Queue=__webpack_require__(166);module.exports=polylabel,module.exports.default=polylabel},function(module,exports){module.exports='var goog = goog || {};\ngoog.global = window;\ngoog.isDef = function(val) {\n    return void 0 !== val;\n};\ngoog.exportPath_ = function(name, opt_object, opt_objectToExportTo) {\n    var parts = name.split("."), cur = opt_objectToExportTo || goog.global;\n    parts[0] in cur || !cur.execScript || cur.execScript("var " + parts[0]);\n    for (var part;parts.length && (part = parts.shift());) {\n        !parts.length && goog.isDef(opt_object) ? cur[part] = opt_object : cur = cur[part] ? cur[part] : cur[part] = {};\n    }\n};\ngoog.define = function(name, defaultValue) {\n    goog.exportPath_(name, defaultValue);\n};\ngoog.DEBUG = !0;\ngoog.LOCALE = "en";\ngoog.TRUSTED_SITE = !0;\ngoog.STRICT_MODE_COMPATIBLE = !1;\ngoog.DISALLOW_TEST_ONLY_CODE = !goog.DEBUG;\ngoog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING = !1;\ngoog.provide = function(name) {\n    if (goog.isInModuleLoader_()) {\n        throw Error("goog.provide can not be used within a goog.module.");\n    }\n    goog.constructNamespace_(name);\n};\ngoog.constructNamespace_ = function(name, opt_obj) {\n    var namespace;\n    goog.exportPath_(name, opt_obj);\n};\ngoog.VALID_MODULE_RE_ = /^[a-zA-Z_$][a-zA-Z0-9._$]*$/;\ngoog.module = function(name) {\n    if (!goog.isString(name) || !name || -1 == name.search(goog.VALID_MODULE_RE_)) {\n        throw Error("Invalid module identifier");\n    }\n    if (!goog.isInModuleLoader_()) {\n        throw Error("Module " + name + " has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You\'re likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");\n    }\n    if (goog.moduleLoaderState_.moduleName) {\n        throw Error("goog.module may only be called once per module.");\n    }\n    goog.moduleLoaderState_.moduleName = name;\n};\ngoog.module.get = function(name) {\n    return goog.module.getInternal_(name);\n};\ngoog.module.getInternal_ = function(name) {\n};\ngoog.moduleLoaderState_ = null;\ngoog.isInModuleLoader_ = function() {\n    return null != goog.moduleLoaderState_;\n};\ngoog.module.declareLegacyNamespace = function() {\n    goog.moduleLoaderState_.declareLegacyNamespace = !0;\n};\ngoog.setTestOnly = function(opt_message) {\n    if (goog.DISALLOW_TEST_ONLY_CODE) {\n        throw opt_message = opt_message || "", Error("Importing test-only code into non-debug environment" + (opt_message ? ": " + opt_message : "."));\n    }\n};\ngoog.forwardDeclare = function(name) {\n};\ngoog.getObjectByName = function(name, opt_obj) {\n    for (var parts = name.split("."), cur = opt_obj || goog.global, part;part = parts.shift();) {\n        if (goog.isDefAndNotNull(cur[part])) {\n            cur = cur[part];\n        } else {\n            return null;\n        }\n    }\n    return cur;\n};\ngoog.globalize = function(obj, opt_global) {\n    var global = opt_global || goog.global, x;\n    for (x in obj) {\n        global[x] = obj[x];\n    }\n};\ngoog.addDependency = function(relPath, provides, requires, opt_loadFlags) {\n    if (goog.DEPENDENCIES_ENABLED) {\n        var provide, require, path = relPath.replace(/\\\\/g, "/"), deps = goog.dependencies_;\n        opt_loadFlags && "boolean" !== typeof opt_loadFlags || (opt_loadFlags = opt_loadFlags ? {module:"goog"} : {});\n        for (var i = 0;provide = provides[i];i++) {\n            deps.nameToPath[provide] = path, deps.loadFlags[path] = opt_loadFlags;\n        }\n        for (var j = 0;require = requires[j];j++) {\n            path in deps.requires || (deps.requires[path] = {}), deps.requires[path][require] = !0;\n        }\n    }\n};\ngoog.useStrictRequires = !1;\ngoog.ENABLE_DEBUG_LOADER = !0;\ngoog.logToConsole_ = function(msg) {\n    goog.global.console && goog.global.console.error(msg);\n};\ngoog.require = function(name) {\n    var errorMessage, path;\n};\ngoog.basePath = "";\ngoog.nullFunction = function() {\n};\ngoog.abstractMethod = function() {\n    throw Error("unimplemented abstract method");\n};\ngoog.addSingletonGetter = function(ctor) {\n    ctor.getInstance = function() {\n        if (ctor.instance_) {\n            return ctor.instance_;\n        }\n        goog.DEBUG && (goog.instantiatedSingletons_[goog.instantiatedSingletons_.length] = ctor);\n        return ctor.instance_ = new ctor;\n    };\n};\ngoog.instantiatedSingletons_ = [];\ngoog.LOAD_MODULE_USING_EVAL = !0;\ngoog.SEAL_MODULE_EXPORTS = goog.DEBUG;\ngoog.loadedModules_ = {};\ngoog.DEPENDENCIES_ENABLED = !1;\ngoog.TRANSPILE = "detect";\ngoog.TRANSPILER = "transpile.js";\ngoog.DEPENDENCIES_ENABLED && (goog.dependencies_ = {loadFlags:{}, nameToPath:{}, requires:{}, visited:{}, written:{}, deferred:{}}, goog.inHtmlDocument_ = function() {\n    var doc = goog.global.document;\n    return null != doc && "write" in doc;\n}, goog.findBasePath_ = function() {\n    if (goog.isDef(goog.global.CLOSURE_BASE_PATH)) {\n        goog.basePath = goog.global.CLOSURE_BASE_PATH;\n    } else {\n        if (goog.inHtmlDocument_()) {\n            for (var scripts = goog.global.document.getElementsByTagName("SCRIPT"), i = scripts.length - 1;0 <= i;--i) {\n                var src = scripts[i].src, qmark = src.lastIndexOf("?"), l = -1 == qmark ? src.length : qmark;\n                if ("base.js" == src.substr(l - 7, 7)) {\n                    goog.basePath = src.substr(0, l - 7);\n                    break;\n                }\n            }\n        }\n    }\n}, goog.importScript_ = function(src, opt_sourceText) {\n    (goog.global.CLOSURE_IMPORT_SCRIPT || goog.writeScriptTag_)(src, opt_sourceText) && (goog.dependencies_.written[src] = !0);\n}, goog.IS_OLD_IE_ = !(goog.global.atob || !goog.global.document || !goog.global.document.all), goog.importProcessedScript_ = function(src, isModule, needsTranspile) {\n    goog.importScript_("", \'goog.retrieveAndExec_("\' + src + \'", \' + isModule + ", " + needsTranspile + ");");\n}, goog.queuedModules_ = [], goog.wrapModule_ = function(srcUrl, scriptText) {\n    return goog.LOAD_MODULE_USING_EVAL && goog.isDef(goog.global.JSON) ? "goog.loadModule(" + goog.global.JSON.stringify(scriptText + "\\n//# sourceURL=" + srcUrl + "\\n") + ");" : \'goog.loadModule(function(exports) {"use strict";\' + scriptText + "\\n;return exports});\\n//# sourceURL=" + srcUrl + "\\n";\n}, goog.loadQueuedModules_ = function() {\n    var count = goog.queuedModules_.length;\n    if (0 < count) {\n        var queue = goog.queuedModules_;\n        goog.queuedModules_ = [];\n        for (var i = 0;i < count;i++) {\n            goog.maybeProcessDeferredPath_(queue[i]);\n        }\n    }\n}, goog.maybeProcessDeferredDep_ = function(name) {\n    goog.isDeferredModule_(name) && goog.allDepsAreAvailable_(name) && goog.maybeProcessDeferredPath_(goog.basePath + goog.getPathFromDeps_(name));\n}, goog.isDeferredModule_ = function(name) {\n    var path = goog.getPathFromDeps_(name), loadFlags = path && goog.dependencies_.loadFlags[path] || {}, languageLevel = loadFlags.lang || "es3";\n    return path && ("goog" == loadFlags.module || goog.needsTranspile_(languageLevel)) ? goog.basePath + path in goog.dependencies_.deferred : !1;\n}, goog.allDepsAreAvailable_ = function(name) {\n    var path = goog.getPathFromDeps_(name);\n    if (path && path in goog.dependencies_.requires) {\n        for (var requireName in goog.dependencies_.requires[path]) {\n            if (!goog.isProvided_(requireName) && !goog.isDeferredModule_(requireName)) {\n                return !1;\n            }\n        }\n    }\n    return !0;\n}, goog.maybeProcessDeferredPath_ = function(abspath) {\n    if (abspath in goog.dependencies_.deferred) {\n        var src = goog.dependencies_.deferred[abspath];\n        delete goog.dependencies_.deferred[abspath];\n        goog.globalEval(src);\n    }\n}, goog.loadModuleFromUrl = function(url) {\n}, goog.writeScriptSrcNode_ = function(src) {\n    goog.global.document.write(\'<script type="text/javascript" src="\' + src + \'">\\x3c/script>\');\n}, goog.appendScriptSrcNode_ = function(src) {\n    var doc = goog.global.document, scriptEl = doc.createElement("script");\n    scriptEl.type = "text/javascript";\n    scriptEl.src = src;\n    scriptEl.defer = !1;\n    scriptEl.async = !1;\n    doc.head.appendChild(scriptEl);\n}, goog.writeScriptTag_ = function(src, opt_sourceText) {\n    if (goog.inHtmlDocument_()) {\n        var doc = goog.global.document;\n        if (!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING && "complete" == doc.readyState) {\n            if (/\\bdeps.js$/.test(src)) {\n                return !1;\n            }\n            throw Error(\'Cannot write "\' + src + \'" after document load\');\n        }\n        if (void 0 === opt_sourceText) {\n            if (goog.IS_OLD_IE_) {\n                var state = " onreadystatechange=\'goog.onScriptLoad_(this, " + ++goog.lastNonModuleScriptIndex_ + ")\' ";\n                doc.write(\'<script type="text/javascript" src="\' + src + \'"\' + state + ">\\x3c/script>");\n            } else {\n                goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING ? goog.appendScriptSrcNode_(src) : goog.writeScriptSrcNode_(src);\n            }\n        } else {\n            doc.write(\'<script type="text/javascript">\' + goog.protectScriptTag_(opt_sourceText) + "\\x3c/script>");\n        }\n        return !0;\n    }\n    return !1;\n}, goog.protectScriptTag_ = function(str) {\n    return str.replace(/<\\/(SCRIPT)/ig, "\\\\x3c\\\\$1");\n}, goog.needsTranspile_ = function(lang) {\n    if ("always" == goog.TRANSPILE) {\n        return !0;\n    }\n    if ("never" == goog.TRANSPILE) {\n        return !1;\n    }\n    goog.requiresTranspilation_ || (goog.requiresTranspilation_ = goog.createRequiresTranspilation_());\n    if (lang in goog.requiresTranspilation_) {\n        return goog.requiresTranspilation_[lang];\n    }\n    throw Error("Unknown language mode: " + lang);\n}, goog.requiresTranspilation_ = null, goog.lastNonModuleScriptIndex_ = 0, goog.onScriptLoad_ = function(script, scriptIndex) {\n    "complete" == script.readyState && goog.lastNonModuleScriptIndex_ == scriptIndex && goog.loadQueuedModules_();\n    return !0;\n}, goog.writeScripts_ = function(pathToLoad) {\n    function visitNode(path) {\n        if (!(path in deps.written || path in deps.visited)) {\n            deps.visited[path] = !0;\n            if (path in deps.requires) {\n                for (var requireName in deps.requires[path]) {\n                    if (!goog.isProvided_(requireName)) {\n                        if (requireName in deps.nameToPath) {\n                            visitNode(deps.nameToPath[requireName]);\n                        } else {\n                            throw Error("Undefined nameToPath for " + requireName);\n                        }\n                    }\n                }\n            }\n            path in seenScript || (seenScript[path] = !0, scripts.push(path));\n        }\n    }\n    var scripts = [], seenScript = {}, deps = goog.dependencies_;\n    visitNode(pathToLoad);\n    for (var i = 0;i < scripts.length;i++) {\n        var path$jscomp$0 = scripts[i];\n        goog.dependencies_.written[path$jscomp$0] = !0;\n    }\n    var moduleState = goog.moduleLoaderState_;\n    goog.moduleLoaderState_ = null;\n    for (i = 0;i < scripts.length;i++) {\n        if (path$jscomp$0 = scripts[i]) {\n            var loadFlags = deps.loadFlags[path$jscomp$0] || {}, needsTranspile = goog.needsTranspile_(loadFlags.lang || "es3");\n            "goog" == loadFlags.module || needsTranspile ? goog.importProcessedScript_(goog.basePath + path$jscomp$0, "goog" == loadFlags.module, needsTranspile) : goog.importScript_(goog.basePath + path$jscomp$0);\n        } else {\n            throw goog.moduleLoaderState_ = moduleState, Error("Undefined script input");\n        }\n    }\n    goog.moduleLoaderState_ = moduleState;\n}, goog.getPathFromDeps_ = function(rule) {\n    return rule in goog.dependencies_.nameToPath ? goog.dependencies_.nameToPath[rule] : null;\n}, goog.findBasePath_(), goog.global.CLOSURE_NO_DEPS || goog.importScript_(goog.basePath + "deps.js"));\ngoog.loadModule = function(moduleDef) {\n    var previousState = goog.moduleLoaderState_;\n    try {\n        goog.moduleLoaderState_ = {moduleName:void 0, declareLegacyNamespace:!1};\n        var exports;\n        if (goog.isFunction(moduleDef)) {\n            exports = moduleDef.call(void 0, {});\n        } else {\n            if (goog.isString(moduleDef)) {\n                exports = goog.loadModuleFromSource_.call(void 0, moduleDef);\n            } else {\n                throw Error("Invalid module definition");\n            }\n        }\n        var moduleName = goog.moduleLoaderState_.moduleName;\n        if (!goog.isString(moduleName) || !moduleName) {\n            throw Error(\'Invalid module name "\' + moduleName + \'"\');\n        }\n        goog.moduleLoaderState_.declareLegacyNamespace ? goog.constructNamespace_(moduleName, exports) : goog.SEAL_MODULE_EXPORTS && Object.seal && goog.isObject(exports) && Object.seal(exports);\n        goog.loadedModules_[moduleName] = exports;\n    } finally {\n        goog.moduleLoaderState_ = previousState;\n    }\n};\ngoog.loadModuleFromSource_ = function(JSCompiler_OptimizeArgumentsArray_p0) {\n    eval(JSCompiler_OptimizeArgumentsArray_p0);\n    return {};\n};\ngoog.normalizePath_ = function(path) {\n    for (var components = path.split("/"), i = 0;i < components.length;) {\n        "." == components[i] ? components.splice(i, 1) : i && ".." == components[i] && components[i - 1] && ".." != components[i - 1] ? components.splice(--i, 2) : i++;\n    }\n    return components.join("/");\n};\ngoog.loadFileSync_ = function(src) {\n    if (goog.global.CLOSURE_LOAD_FILE_SYNC) {\n        return goog.global.CLOSURE_LOAD_FILE_SYNC(src);\n    }\n    try {\n        var xhr = new goog.global.XMLHttpRequest;\n        xhr.open("get", src, !1);\n        xhr.send();\n        return 0 == xhr.status || 200 == xhr.status ? xhr.responseText : null;\n    } catch (err) {\n        return null;\n    }\n};\ngoog.retrieveAndExec_ = function(src, isModule, needsTranspile) {\n    var scriptText, importScript, originalPath;\n};\ngoog.transpile_ = function(code$jscomp$0, path$jscomp$0) {\n    var jscomp = goog.global.$jscomp;\n    jscomp || (goog.global.$jscomp = jscomp = {});\n    var transpile = jscomp.transpile;\n    if (!transpile) {\n        var transpilerPath = goog.basePath + goog.TRANSPILER, transpilerCode = goog.loadFileSync_(transpilerPath);\n        if (transpilerCode) {\n            eval(transpilerCode + "\\n//# sourceURL=" + transpilerPath);\n            if (goog.global.$gwtExport && goog.global.$gwtExport.$jscomp && !goog.global.$gwtExport.$jscomp.transpile) {\n                throw Error(\'The transpiler did not properly export the "transpile" method. $gwtExport: \' + JSON.stringify(goog.global.$gwtExport));\n            }\n            goog.global.$jscomp.transpile = goog.global.$gwtExport.$jscomp.transpile;\n            jscomp = goog.global.$jscomp;\n            transpile = jscomp.transpile;\n        }\n    }\n    if (!transpile) {\n        var suffix = " requires transpilation but no transpiler was found.", suffix = suffix + \' Please add "//javascript/closure:transpiler" as a data dependency to ensure it is included.\', transpile = jscomp.transpile = function(code, path) {\n            goog.logToConsole_(path + suffix);\n            return code;\n        };\n    }\n    return transpile(code$jscomp$0, path$jscomp$0);\n};\ngoog.typeOf = function(value) {\n    var s = typeof value;\n    if ("object" == s) {\n        if (value) {\n            if (value instanceof Array) {\n                return "array";\n            }\n            if (value instanceof Object) {\n                return s;\n            }\n            var className = Object.prototype.toString.call(value);\n            if ("[object Window]" == className) {\n                return "object";\n            }\n            if ("[object Array]" == className || "number" == typeof value.length && "undefined" != typeof value.splice && "undefined" != typeof value.propertyIsEnumerable && !value.propertyIsEnumerable("splice")) {\n                return "array";\n            }\n            if ("[object Function]" == className || "undefined" != typeof value.call && "undefined" != typeof value.propertyIsEnumerable && !value.propertyIsEnumerable("call")) {\n                return "function";\n            }\n        } else {\n            return "null";\n        }\n    } else {\n        if ("function" == s && "undefined" == typeof value.call) {\n            return "object";\n        }\n    }\n    return s;\n};\ngoog.isNull = function(val) {\n    return null === val;\n};\ngoog.isDefAndNotNull = function(val) {\n    return null != val;\n};\ngoog.isArray = function(val) {\n    return "array" == goog.typeOf(val);\n};\ngoog.isArrayLike = function(val) {\n    var type = goog.typeOf(val);\n    return "array" == type || "object" == type && "number" == typeof val.length;\n};\ngoog.isDateLike = function(val) {\n    return goog.isObject(val) && "function" == typeof val.getFullYear;\n};\ngoog.isString = function(val) {\n    return "string" == typeof val;\n};\ngoog.isBoolean = function(val) {\n    return "boolean" == typeof val;\n};\ngoog.isNumber = function(val) {\n    return "number" == typeof val;\n};\ngoog.isFunction = function(val) {\n    return "function" == goog.typeOf(val);\n};\ngoog.isObject = function(val) {\n    var type = typeof val;\n    return "object" == type && null != val || "function" == type;\n};\ngoog.getUid = function(obj) {\n    return obj[goog.UID_PROPERTY_] || (obj[goog.UID_PROPERTY_] = ++goog.uidCounter_);\n};\ngoog.hasUid = function(obj) {\n    return !!obj[goog.UID_PROPERTY_];\n};\ngoog.removeUid = function(obj) {\n    null !== obj && "removeAttribute" in obj && obj.removeAttribute(goog.UID_PROPERTY_);\n    try {\n        delete obj[goog.UID_PROPERTY_];\n    } catch (ex) {\n    }\n};\ngoog.UID_PROPERTY_ = "closure_uid_" + (1E9 * Math.random() >>> 0);\ngoog.uidCounter_ = 0;\ngoog.getHashCode = goog.getUid;\ngoog.removeHashCode = goog.removeUid;\ngoog.cloneObject = function(obj) {\n    var type = goog.typeOf(obj);\n    if ("object" == type || "array" == type) {\n        if (obj.clone) {\n            return obj.clone();\n        }\n        var clone = "array" == type ? [] : {}, key;\n        for (key in obj) {\n            clone[key] = goog.cloneObject(obj[key]);\n        }\n        return clone;\n    }\n    return obj;\n};\ngoog.bindNative_ = function(fn, selfObj, var_args) {\n    return fn.call.apply(fn.bind, arguments);\n};\ngoog.bindJs_ = function(fn, selfObj, var_args) {\n    if (!fn) {\n        throw Error();\n    }\n    if (2 < arguments.length) {\n        var boundArgs = Array.prototype.slice.call(arguments, 2);\n        return function() {\n            var newArgs = Array.prototype.slice.call(arguments);\n            Array.prototype.unshift.apply(newArgs, boundArgs);\n            return fn.apply(selfObj, newArgs);\n        };\n    }\n    return function() {\n        return fn.apply(selfObj, arguments);\n    };\n};\ngoog.bind = function(fn, selfObj, var_args) {\n    Function.prototype.bind && -1 != Function.prototype.bind.toString().indexOf("native code") ? goog.bind = goog.bindNative_ : goog.bind = goog.bindJs_;\n    return goog.bind.apply(null, arguments);\n};\ngoog.partial = function(fn, var_args) {\n    var args = Array.prototype.slice.call(arguments, 1);\n    return function() {\n        var newArgs = args.slice();\n        newArgs.push.apply(newArgs, arguments);\n        return fn.apply(this, newArgs);\n    };\n};\ngoog.mixin = function(target, source) {\n    for (var x in source) {\n        target[x] = source[x];\n    }\n};\ngoog.now = goog.TRUSTED_SITE && Date.now || function() {\n        return +new Date;\n    };\ngoog.globalEval = function(script) {\n    if (goog.global.execScript) {\n        goog.global.execScript(script, "JavaScript");\n    } else {\n        if (goog.global.eval) {\n            if (null == goog.evalWorksForGlobals_) {\n                if (goog.global.eval("var _evalTest_ = 1;"), "undefined" != typeof goog.global._evalTest_) {\n                    try {\n                        delete goog.global._evalTest_;\n                    } catch (ignore) {\n                    }\n                    goog.evalWorksForGlobals_ = !0;\n                } else {\n                    goog.evalWorksForGlobals_ = !1;\n                }\n            }\n            if (goog.evalWorksForGlobals_) {\n                goog.global.eval(script);\n            } else {\n                var doc = goog.global.document, scriptElt = doc.createElement("SCRIPT");\n                scriptElt.type = "text/javascript";\n                scriptElt.defer = !1;\n                scriptElt.appendChild(doc.createTextNode(script));\n                doc.body.appendChild(scriptElt);\n                doc.body.removeChild(scriptElt);\n            }\n        } else {\n            throw Error("goog.globalEval not available");\n        }\n    }\n};\ngoog.evalWorksForGlobals_ = null;\ngoog.getCssName = function(className, opt_modifier) {\n    if ("." == String(className).charAt(0)) {\n        throw Error(\'className passed in goog.getCssName must not start with ".". You passed: \' + className);\n    }\n    var getMapping = function(cssName) {\n        return goog.cssNameMapping_[cssName] || cssName;\n    }, renameByParts = function(cssName) {\n        for (var parts = cssName.split("-"), mapped = [], i = 0;i < parts.length;i++) {\n            mapped.push(getMapping(parts[i]));\n        }\n        return mapped.join("-");\n    }, rename;\n    rename = goog.cssNameMapping_ ? "BY_WHOLE" == goog.cssNameMappingStyle_ ? getMapping : renameByParts : function(a) {\n        return a;\n    };\n    var result = opt_modifier ? className + "-" + rename(opt_modifier) : rename(className);\n    return goog.global.CLOSURE_CSS_NAME_MAP_FN ? goog.global.CLOSURE_CSS_NAME_MAP_FN(result) : result;\n};\ngoog.setCssNameMapping = function(mapping, opt_style) {\n    goog.cssNameMapping_ = mapping;\n    goog.cssNameMappingStyle_ = opt_style;\n};\ngoog.getMsg = function(str, opt_values) {\n    opt_values && (str = str.replace(/\\{\\$([^}]+)}/g, function(match, key) {\n        return null != opt_values && key in opt_values ? opt_values[key] : match;\n    }));\n    return str;\n};\ngoog.getMsgWithFallback = function(a, b) {\n    return a;\n};\ngoog.exportSymbol = function(publicPath, object, opt_objectToExportTo) {\n    goog.exportPath_(publicPath, object, opt_objectToExportTo);\n};\ngoog.exportProperty = function(object, publicName, symbol) {\n    object[publicName] = symbol;\n};\ngoog.inherits = function(childCtor, parentCtor) {\n    function tempCtor() {\n    }\n    tempCtor.prototype = parentCtor.prototype;\n    childCtor.superClass_ = parentCtor.prototype;\n    childCtor.prototype = new tempCtor;\n    childCtor.prototype.constructor = childCtor;\n    childCtor.base = function(me, methodName, var_args) {\n        for (var args = Array(arguments.length - 2), i = 2;i < arguments.length;i++) {\n            args[i - 2] = arguments[i];\n        }\n        return parentCtor.prototype[methodName].apply(me, args);\n    };\n};\ngoog.base = function(me, opt_methodName, var_args) {\n    var caller = arguments.callee.caller;\n    if (goog.STRICT_MODE_COMPATIBLE || goog.DEBUG && !caller) {\n        throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");\n    }\n    if (caller.superClass_) {\n        for (var ctorArgs = Array(arguments.length - 1), i = 1;i < arguments.length;i++) {\n            ctorArgs[i - 1] = arguments[i];\n        }\n        return caller.superClass_.constructor.apply(me, ctorArgs);\n    }\n    for (var args = Array(arguments.length - 2), i = 2;i < arguments.length;i++) {\n        args[i - 2] = arguments[i];\n    }\n    for (var foundCaller = !1, ctor = me.constructor;ctor;ctor = ctor.superClass_ && ctor.superClass_.constructor) {\n        if (ctor.prototype[opt_methodName] === caller) {\n            foundCaller = !0;\n        } else {\n            if (foundCaller) {\n                return ctor.prototype[opt_methodName].apply(me, args);\n            }\n        }\n    }\n    if (me[opt_methodName] === caller) {\n        return me.constructor.prototype[opt_methodName].apply(me, args);\n    }\n    throw Error("goog.base called from a method of one name to a method of a different name");\n};\ngoog.scope = function(fn) {\n    if (goog.isInModuleLoader_()) {\n        throw Error("goog.scope is not supported within a goog.module.");\n    }\n    fn.call(goog.global);\n};\ngoog.defineClass = function(superClass, def) {\n    var constructor = def.constructor, statics = def.statics;\n    constructor && constructor != Object.prototype.constructor || (constructor = function() {\n        throw Error("cannot instantiate an interface (no constructor defined).");\n    });\n    var cls = goog.defineClass.createSealingConstructor_(constructor, superClass);\n    superClass && goog.inherits(cls, superClass);\n    delete def.constructor;\n    delete def.statics;\n    goog.defineClass.applyProperties_(cls.prototype, def);\n    null != statics && (statics instanceof Function ? statics(cls) : goog.defineClass.applyProperties_(cls, statics));\n    return cls;\n};\ngoog.defineClass.SEAL_CLASS_INSTANCES = goog.DEBUG;\ngoog.defineClass.createSealingConstructor_ = function(ctr, superClass) {\n    if (!goog.defineClass.SEAL_CLASS_INSTANCES) {\n        return ctr;\n    }\n    var superclassSealable = !goog.defineClass.isUnsealable_(superClass), wrappedCtr = function() {\n        var instance = ctr.apply(this, arguments) || this;\n        instance[goog.UID_PROPERTY_] = instance[goog.UID_PROPERTY_];\n        this.constructor === wrappedCtr && superclassSealable && Object.seal instanceof Function && Object.seal(instance);\n        return instance;\n    };\n    return wrappedCtr;\n};\ngoog.defineClass.isUnsealable_ = function(ctr) {\n    return ctr && ctr.prototype && ctr.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_];\n};\ngoog.defineClass.OBJECT_PROTOTYPE_FIELDS_ = "constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");\ngoog.defineClass.applyProperties_ = function(target, source) {\n    for (var key in source) {\n        Object.prototype.hasOwnProperty.call(source, key) && (target[key] = source[key]);\n    }\n    for (var i = 0;i < goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;i++) {\n        key = goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[i], Object.prototype.hasOwnProperty.call(source, key) && (target[key] = source[key]);\n    }\n};\ngoog.tagUnsealableClass = function(ctr) {\n};\ngoog.UNSEALABLE_CONSTRUCTOR_PROPERTY_ = "goog_defineClass_legacy_unsealable";\ngoog.createRequiresTranspilation_ = function() {\n    function addNewerLanguageTranspilationCheck(modeName, isSupported) {\n        transpilationRequiredForAllLaterModes ? requiresTranspilation[modeName] = !0 : isSupported() ? requiresTranspilation[modeName] = !1 : transpilationRequiredForAllLaterModes = requiresTranspilation[modeName] = !0;\n    }\n    function evalCheck(code) {\n        try {\n            return !!eval(code);\n        } catch (ignored) {\n            return !1;\n        }\n    }\n    var requiresTranspilation = {es3:!1}, transpilationRequiredForAllLaterModes = !1;\n    addNewerLanguageTranspilationCheck("es5", function() {\n        return evalCheck("[1,].length==1");\n    });\n    addNewerLanguageTranspilationCheck("es6", function() {\n        return evalCheck(\'(()=>{"use strict";class X{constructor(){if(new.target!=String)throw 1;this.x=42}}let q=Reflect.construct(X,[],String);if(q.x!=42||!(q instanceof String))throw 1;for(const a of[2,3]){if(a==2)continue;function f(z={a}){let a=0;return z.a}{function f(){return 0;}}return f()==3}})()\');\n    });\n    addNewerLanguageTranspilationCheck("es6-impl", function() {\n        return !0;\n    });\n    addNewerLanguageTranspilationCheck("es7", function() {\n        return evalCheck("2 ** 2 == 4");\n    });\n    addNewerLanguageTranspilationCheck("es8", function() {\n        return evalCheck("async () => 1, true");\n    });\n    return requiresTranspilation;\n};\ngoog.debug = {};\ngoog.debug.Error = function(opt_msg) {\n    if (Error.captureStackTrace) {\n        Error.captureStackTrace(this, goog.debug.Error);\n    } else {\n        var stack = Error().stack;\n        stack && (this.stack = stack);\n    }\n    opt_msg && (this.message = String(opt_msg));\n    this.reportErrorToServer = !0;\n};\ngoog.inherits(goog.debug.Error, Error);\ngoog.debug.Error.prototype.name = "CustomError";\ngoog.dom = {};\ngoog.dom.NodeType = {ELEMENT:1, ATTRIBUTE:2, TEXT:3, CDATA_SECTION:4, ENTITY_REFERENCE:5, ENTITY:6, PROCESSING_INSTRUCTION:7, COMMENT:8, DOCUMENT:9, DOCUMENT_TYPE:10, DOCUMENT_FRAGMENT:11, NOTATION:12};\ngoog.string = {};\ngoog.string.DETECT_DOUBLE_ESCAPING = !1;\ngoog.string.FORCE_NON_DOM_HTML_UNESCAPING = !1;\ngoog.string.Unicode = {NBSP:"\\u00a0"};\ngoog.string.startsWith = function(str, prefix) {\n    return 0 == str.lastIndexOf(prefix, 0);\n};\ngoog.string.endsWith = function(str, suffix) {\n    var l = str.length - suffix.length;\n    return 0 <= l && str.indexOf(suffix, l) == l;\n};\ngoog.string.caseInsensitiveStartsWith = function(str, prefix) {\n    return 0 == goog.string.caseInsensitiveCompare(prefix, str.substr(0, prefix.length));\n};\ngoog.string.caseInsensitiveEndsWith = function(str, suffix) {\n    return 0 == goog.string.caseInsensitiveCompare(suffix, str.substr(str.length - suffix.length, suffix.length));\n};\ngoog.string.caseInsensitiveEquals = function(str1, str2) {\n    return str1.toLowerCase() == str2.toLowerCase();\n};\ngoog.string.subs = function(str, var_args) {\n    for (var splitParts = str.split("%s"), returnString = "", subsArguments = Array.prototype.slice.call(arguments, 1);subsArguments.length && 1 < splitParts.length;) {\n        returnString += splitParts.shift() + subsArguments.shift();\n    }\n    return returnString + splitParts.join("%s");\n};\ngoog.string.collapseWhitespace = function(str) {\n    return str.replace(/[\\s\\xa0]+/g, " ").replace(/^\\s+|\\s+$/g, "");\n};\ngoog.string.isEmptyOrWhitespace = function(str) {\n    return /^[\\s\\xa0]*$/.test(str);\n};\ngoog.string.isEmptyString = function(str) {\n    return 0 == str.length;\n};\ngoog.string.isEmpty = goog.string.isEmptyOrWhitespace;\ngoog.string.isEmptyOrWhitespaceSafe = function(str) {\n    return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(str));\n};\ngoog.string.isEmptySafe = goog.string.isEmptyOrWhitespaceSafe;\ngoog.string.isBreakingWhitespace = function(str) {\n    return !/[^\\t\\n\\r ]/.test(str);\n};\ngoog.string.isAlpha = function(str) {\n    return !/[^a-zA-Z]/.test(str);\n};\ngoog.string.isNumeric = function(str) {\n    return !/[^0-9]/.test(str);\n};\ngoog.string.isAlphaNumeric = function(str) {\n    return !/[^a-zA-Z0-9]/.test(str);\n};\ngoog.string.isSpace = function(ch) {\n    return " " == ch;\n};\ngoog.string.isUnicodeChar = function(ch) {\n    return 1 == ch.length && " " <= ch && "~" >= ch || "\\u0080" <= ch && "\\ufffd" >= ch;\n};\ngoog.string.stripNewlines = function(str) {\n    return str.replace(/(\\r\\n|\\r|\\n)+/g, " ");\n};\ngoog.string.canonicalizeNewlines = function(str) {\n    return str.replace(/(\\r\\n|\\r|\\n)/g, "\\n");\n};\ngoog.string.normalizeWhitespace = function(str) {\n    return str.replace(/\\xa0|\\s/g, " ");\n};\ngoog.string.normalizeSpaces = function(str) {\n    return str.replace(/\\xa0|[ \\t]+/g, " ");\n};\ngoog.string.collapseBreakingSpaces = function(str) {\n    return str.replace(/[\\t\\r\\n ]+/g, " ").replace(/^[\\t\\r\\n ]+|[\\t\\r\\n ]+$/g, "");\n};\ngoog.string.trim = goog.TRUSTED_SITE && String.prototype.trim ? function(str) {\n    return str.trim();\n} : function(str) {\n    return str.replace(/^[\\s\\xa0]+|[\\s\\xa0]+$/g, "");\n};\ngoog.string.trimLeft = function(str) {\n    return str.replace(/^[\\s\\xa0]+/, "");\n};\ngoog.string.trimRight = function(str) {\n    return str.replace(/[\\s\\xa0]+$/, "");\n};\ngoog.string.caseInsensitiveCompare = function(str1, str2) {\n    var test1 = String(str1).toLowerCase(), test2 = String(str2).toLowerCase();\n    return test1 < test2 ? -1 : test1 == test2 ? 0 : 1;\n};\ngoog.string.numberAwareCompare_ = function(str1, str2, tokenizerRegExp) {\n    if (str1 == str2) {\n        return 0;\n    }\n    if (!str1) {\n        return -1;\n    }\n    if (!str2) {\n        return 1;\n    }\n    for (var tokens1 = str1.toLowerCase().match(tokenizerRegExp), tokens2 = str2.toLowerCase().match(tokenizerRegExp), count = Math.min(tokens1.length, tokens2.length), i = 0;i < count;i++) {\n        var a = tokens1[i], b = tokens2[i];\n        if (a != b) {\n            var num1 = parseInt(a, 10);\n            if (!isNaN(num1)) {\n                var num2 = parseInt(b, 10);\n                if (!isNaN(num2) && num1 - num2) {\n                    return num1 - num2;\n                }\n            }\n            return a < b ? -1 : 1;\n        }\n    }\n    return tokens1.length != tokens2.length ? tokens1.length - tokens2.length : str1 < str2 ? -1 : 1;\n};\ngoog.string.intAwareCompare = function(str1, str2) {\n    return goog.string.numberAwareCompare_(str1, str2, /\\d+|\\D+/g);\n};\ngoog.string.floatAwareCompare = function(str1, str2) {\n    return goog.string.numberAwareCompare_(str1, str2, /\\d+|\\.\\d+|\\D+/g);\n};\ngoog.string.numerateCompare = goog.string.floatAwareCompare;\ngoog.string.urlEncode = function(str) {\n    return encodeURIComponent(String(str));\n};\ngoog.string.urlDecode = function(str) {\n    return decodeURIComponent(str.replace(/\\+/g, " "));\n};\ngoog.string.newLineToBr = function(str, opt_xml) {\n    return str.replace(/(\\r\\n|\\r|\\n)/g, opt_xml ? "<br />" : "<br>");\n};\ngoog.string.htmlEscape = function(str, opt_isLikelyToContainHtmlChars) {\n    if (opt_isLikelyToContainHtmlChars) {\n        str = str.replace(goog.string.AMP_RE_, "&amp;").replace(goog.string.LT_RE_, "&lt;").replace(goog.string.GT_RE_, "&gt;").replace(goog.string.QUOT_RE_, "&quot;").replace(goog.string.SINGLE_QUOTE_RE_, "&#39;").replace(goog.string.NULL_RE_, "&#0;"), goog.string.DETECT_DOUBLE_ESCAPING && (str = str.replace(goog.string.E_RE_, "&#101;"));\n    } else {\n        if (!goog.string.ALL_RE_.test(str)) {\n            return str;\n        }\n        -1 != str.indexOf("&") && (str = str.replace(goog.string.AMP_RE_, "&amp;"));\n        -1 != str.indexOf("<") && (str = str.replace(goog.string.LT_RE_, "&lt;"));\n        -1 != str.indexOf(">") && (str = str.replace(goog.string.GT_RE_, "&gt;"));\n        -1 != str.indexOf(\'"\') && (str = str.replace(goog.string.QUOT_RE_, "&quot;"));\n        -1 != str.indexOf("\'") && (str = str.replace(goog.string.SINGLE_QUOTE_RE_, "&#39;"));\n        -1 != str.indexOf("\\x00") && (str = str.replace(goog.string.NULL_RE_, "&#0;"));\n        goog.string.DETECT_DOUBLE_ESCAPING && -1 != str.indexOf("e") && (str = str.replace(goog.string.E_RE_, "&#101;"));\n    }\n    return str;\n};\ngoog.string.AMP_RE_ = /&/g;\ngoog.string.LT_RE_ = /</g;\ngoog.string.GT_RE_ = />/g;\ngoog.string.QUOT_RE_ = /"/g;\ngoog.string.SINGLE_QUOTE_RE_ = /\'/g;\ngoog.string.NULL_RE_ = /\\x00/g;\ngoog.string.E_RE_ = /e/g;\ngoog.string.ALL_RE_ = goog.string.DETECT_DOUBLE_ESCAPING ? /[\\x00&<>"\'e]/ : /[\\x00&<>"\']/;\ngoog.string.unescapeEntities = function(str) {\n    return goog.string.contains(str, "&") ? !goog.string.FORCE_NON_DOM_HTML_UNESCAPING && "document" in goog.global ? goog.string.unescapeEntitiesUsingDom_(str) : goog.string.unescapePureXmlEntities_(str) : str;\n};\ngoog.string.unescapeEntitiesWithDocument = function(str, document) {\n    return goog.string.contains(str, "&") ? goog.string.unescapeEntitiesUsingDom_(str, document) : str;\n};\ngoog.string.unescapeEntitiesUsingDom_ = function(str, opt_document) {\n    var seen = {"&amp;":"&", "&lt;":"<", "&gt;":">", "&quot;":\'"\'}, div;\n    div = opt_document ? opt_document.createElement("div") : goog.global.document.createElement("div");\n    return str.replace(goog.string.HTML_ENTITY_PATTERN_, function(s, entity) {\n        var value = seen[s];\n        if (value) {\n            return value;\n        }\n        if ("#" == entity.charAt(0)) {\n            var n = Number("0" + entity.substr(1));\n            isNaN(n) || (value = String.fromCharCode(n));\n        }\n        value || (div.innerHTML = s + " ", value = div.firstChild.nodeValue.slice(0, -1));\n        return seen[s] = value;\n    });\n};\ngoog.string.unescapePureXmlEntities_ = function(str) {\n    return str.replace(/&([^;]+);/g, function(s, entity) {\n        switch(entity) {\n            case "amp":\n                return "&";\n            case "lt":\n                return "<";\n            case "gt":\n                return ">";\n            case "quot":\n                return \'"\';\n            default:\n                if ("#" == entity.charAt(0)) {\n                    var n = Number("0" + entity.substr(1));\n                    if (!isNaN(n)) {\n                        return String.fromCharCode(n);\n                    }\n                }\n                return s;\n        }\n    });\n};\ngoog.string.HTML_ENTITY_PATTERN_ = /&([^;\\s<&]+);?/g;\ngoog.string.whitespaceEscape = function(str, opt_xml) {\n    return goog.string.newLineToBr(str.replace(/  /g, " &#160;"), opt_xml);\n};\ngoog.string.preserveSpaces = function(str) {\n    return str.replace(/(^|[\\n ]) /g, "$1" + goog.string.Unicode.NBSP);\n};\ngoog.string.stripQuotes = function(str, quoteChars) {\n    for (var length = quoteChars.length, i = 0;i < length;i++) {\n        var quoteChar = 1 == length ? quoteChars : quoteChars.charAt(i);\n        if (str.charAt(0) == quoteChar && str.charAt(str.length - 1) == quoteChar) {\n            return str.substring(1, str.length - 1);\n        }\n    }\n    return str;\n};\ngoog.string.truncate = function(str, chars, opt_protectEscapedCharacters) {\n    opt_protectEscapedCharacters && (str = goog.string.unescapeEntities(str));\n    str.length > chars && (str = str.substring(0, chars - 3) + "...");\n    opt_protectEscapedCharacters && (str = goog.string.htmlEscape(str));\n    return str;\n};\ngoog.string.truncateMiddle = function(str, chars, opt_protectEscapedCharacters, opt_trailingChars) {\n    opt_protectEscapedCharacters && (str = goog.string.unescapeEntities(str));\n    if (opt_trailingChars && str.length > chars) {\n        opt_trailingChars > chars && (opt_trailingChars = chars), str = str.substring(0, chars - opt_trailingChars) + "..." + str.substring(str.length - opt_trailingChars);\n    } else {\n        if (str.length > chars) {\n            var half = Math.floor(chars / 2);\n            str = str.substring(0, half + chars % 2) + "..." + str.substring(str.length - half);\n        }\n    }\n    opt_protectEscapedCharacters && (str = goog.string.htmlEscape(str));\n    return str;\n};\ngoog.string.specialEscapeChars_ = {"\\x00":"\\\\0", "\\b":"\\\\b", "\\f":"\\\\f", "\\n":"\\\\n", "\\r":"\\\\r", "\\t":"\\\\t", "\\x0B":"\\\\x0B", \'"\':\'\\\\"\', "\\\\":"\\\\\\\\", "<":"<"};\ngoog.string.jsEscapeCache_ = {"\'":"\\\\\'"};\ngoog.string.quote = function(s) {\n    s = String(s);\n    for (var sb = [\'"\'], i = 0;i < s.length;i++) {\n        var ch = s.charAt(i), cc = ch.charCodeAt(0);\n        sb[i + 1] = goog.string.specialEscapeChars_[ch] || (31 < cc && 127 > cc ? ch : goog.string.escapeChar(ch));\n    }\n    sb.push(\'"\');\n    return sb.join("");\n};\ngoog.string.escapeString = function(str) {\n    for (var sb = [], i = 0;i < str.length;i++) {\n        sb[i] = goog.string.escapeChar(str.charAt(i));\n    }\n    return sb.join("");\n};\ngoog.string.escapeChar = function(c) {\n    if (c in goog.string.jsEscapeCache_) {\n        return goog.string.jsEscapeCache_[c];\n    }\n    if (c in goog.string.specialEscapeChars_) {\n        return goog.string.jsEscapeCache_[c] = goog.string.specialEscapeChars_[c];\n    }\n    var rv = c, cc = c.charCodeAt(0);\n    if (31 < cc && 127 > cc) {\n        rv = c;\n    } else {\n        if (256 > cc) {\n            if (rv = "\\\\x", 16 > cc || 256 < cc) {\n                rv += "0";\n            }\n        } else {\n            rv = "\\\\u", 4096 > cc && (rv += "0");\n        }\n        rv += cc.toString(16).toUpperCase();\n    }\n    return goog.string.jsEscapeCache_[c] = rv;\n};\ngoog.string.contains = function(str, subString) {\n    return -1 != str.indexOf(subString);\n};\ngoog.string.caseInsensitiveContains = function(str, subString) {\n    return goog.string.contains(str.toLowerCase(), subString.toLowerCase());\n};\ngoog.string.countOf = function(s, ss) {\n    return s && ss ? s.split(ss).length - 1 : 0;\n};\ngoog.string.removeAt = function(s, index, stringLength) {\n    var resultStr = s;\n    0 <= index && index < s.length && 0 < stringLength && (resultStr = s.substr(0, index) + s.substr(index + stringLength, s.length - index - stringLength));\n    return resultStr;\n};\ngoog.string.remove = function(str, substr) {\n    return str.replace(substr, "");\n};\ngoog.string.removeAll = function(s, ss) {\n    var re = new RegExp(goog.string.regExpEscape(ss), "g");\n    return s.replace(re, "");\n};\ngoog.string.replaceAll = function(s, ss, replacement) {\n    var re = new RegExp(goog.string.regExpEscape(ss), "g");\n    return s.replace(re, replacement.replace(/\\$/g, "$$$$"));\n};\ngoog.string.regExpEscape = function(s) {\n    return String(s).replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g, "\\\\$1").replace(/\\x08/g, "\\\\x08");\n};\ngoog.string.repeat = String.prototype.repeat ? function(string, length) {\n    return string.repeat(length);\n} : function(string, length) {\n    return Array(length + 1).join(string);\n};\ngoog.string.padNumber = function(num, length, opt_precision) {\n    var s = goog.isDef(opt_precision) ? num.toFixed(opt_precision) : String(num), index = s.indexOf(".");\n    -1 == index && (index = s.length);\n    return goog.string.repeat("0", Math.max(0, length - index)) + s;\n};\ngoog.string.makeSafe = function(obj) {\n    return null == obj ? "" : String(obj);\n};\ngoog.string.buildString = function(var_args) {\n    return Array.prototype.join.call(arguments, "");\n};\ngoog.string.getRandomString = function() {\n    return Math.floor(2147483648 * Math.random()).toString(36) + Math.abs(Math.floor(2147483648 * Math.random()) ^ goog.now()).toString(36);\n};\ngoog.string.compareVersions = function(version1, version2) {\n    for (var order = 0, v1Subs = goog.string.trim(String(version1)).split("."), v2Subs = goog.string.trim(String(version2)).split("."), subCount = Math.max(v1Subs.length, v2Subs.length), subIdx = 0;0 == order && subIdx < subCount;subIdx++) {\n        var v1Sub = v1Subs[subIdx] || "", v2Sub = v2Subs[subIdx] || "";\n        do {\n            var v1Comp = /(\\d*)(\\D*)(.*)/.exec(v1Sub) || ["", "", "", ""], v2Comp = /(\\d*)(\\D*)(.*)/.exec(v2Sub) || ["", "", "", ""];\n            if (0 == v1Comp[0].length && 0 == v2Comp[0].length) {\n                break;\n            }\n            order = goog.string.compareElements_(0 == v1Comp[1].length ? 0 : parseInt(v1Comp[1], 10), 0 == v2Comp[1].length ? 0 : parseInt(v2Comp[1], 10)) || goog.string.compareElements_(0 == v1Comp[2].length, 0 == v2Comp[2].length) || goog.string.compareElements_(v1Comp[2], v2Comp[2]);\n            v1Sub = v1Comp[3];\n            v2Sub = v2Comp[3];\n        } while (0 == order);\n    }\n    return order;\n};\ngoog.string.compareElements_ = function(left, right) {\n    return left < right ? -1 : left > right ? 1 : 0;\n};\ngoog.string.hashCode = function(str) {\n    for (var result = 0, i = 0;i < str.length;++i) {\n        result = 31 * result + str.charCodeAt(i) >>> 0;\n    }\n    return result;\n};\ngoog.string.uniqueStringCounter_ = 2147483648 * Math.random() | 0;\ngoog.string.createUniqueString = function() {\n    return "goog_" + goog.string.uniqueStringCounter_++;\n};\ngoog.string.toNumber = function(str) {\n    var num = Number(str);\n    return 0 == num && goog.string.isEmptyOrWhitespace(str) ? NaN : num;\n};\ngoog.string.isLowerCamelCase = function(str) {\n    return /^[a-z]+([A-Z][a-z]*)*$/.test(str);\n};\ngoog.string.isUpperCamelCase = function(str) {\n    return /^([A-Z][a-z]*)+$/.test(str);\n};\ngoog.string.toCamelCase = function(str) {\n    return String(str).replace(/\\-([a-z])/g, function(all, match) {\n        return match.toUpperCase();\n    });\n};\ngoog.string.toSelectorCase = function(str) {\n    return String(str).replace(/([A-Z])/g, "-$1").toLowerCase();\n};\ngoog.string.toTitleCase = function(str, opt_delimiters) {\n    var delimiters = goog.isString(opt_delimiters) ? goog.string.regExpEscape(opt_delimiters) : "\\\\s";\n    return str.replace(new RegExp("(^" + (delimiters ? "|[" + delimiters + "]+" : "") + ")([a-z])", "g"), function(all, p1, p2) {\n        return p1 + p2.toUpperCase();\n    });\n};\ngoog.string.capitalize = function(str) {\n    return String(str.charAt(0)).toUpperCase() + String(str.substr(1)).toLowerCase();\n};\ngoog.string.parseInt = function(value) {\n    isFinite(value) && (value = String(value));\n    return goog.isString(value) ? /^\\s*-?0x/i.test(value) ? parseInt(value, 16) : parseInt(value, 10) : NaN;\n};\ngoog.string.splitLimit = function(str, separator, limit) {\n    for (var parts = str.split(separator), returnVal = [];0 < limit && parts.length;) {\n        returnVal.push(parts.shift()), limit--;\n    }\n    parts.length && returnVal.push(parts.join(separator));\n    return returnVal;\n};\ngoog.string.lastComponent = function(str, separators) {\n    if (separators) {\n        "string" == typeof separators && (separators = [separators]);\n    } else {\n        return str;\n    }\n    for (var lastSeparatorIndex = -1, i = 0;i < separators.length;i++) {\n        if ("" != separators[i]) {\n            var currentSeparatorIndex = str.lastIndexOf(separators[i]);\n            currentSeparatorIndex > lastSeparatorIndex && (lastSeparatorIndex = currentSeparatorIndex);\n        }\n    }\n    return -1 == lastSeparatorIndex ? str : str.slice(lastSeparatorIndex + 1);\n};\ngoog.string.editDistance = function(a, b) {\n    var v0 = [], v1 = [];\n    if (a == b) {\n        return 0;\n    }\n    if (!a.length || !b.length) {\n        return Math.max(a.length, b.length);\n    }\n    for (var i = 0;i < b.length + 1;i++) {\n        v0[i] = i;\n    }\n    for (i = 0;i < a.length;i++) {\n        v1[0] = i + 1;\n        for (var j = 0;j < b.length;j++) {\n            v1[j + 1] = Math.min(v1[j] + 1, v0[j + 1] + 1, v0[j] + Number(a[i] != b[j]));\n        }\n        for (j = 0;j < v0.length;j++) {\n            v0[j] = v1[j];\n        }\n    }\n    return v1[b.length];\n};\ngoog.asserts = {};\ngoog.asserts.ENABLE_ASSERTS = goog.DEBUG;\ngoog.asserts.AssertionError = function(messagePattern, messageArgs) {\n    messageArgs.unshift(messagePattern);\n    goog.debug.Error.call(this, goog.string.subs.apply(null, messageArgs));\n    messageArgs.shift();\n    this.messagePattern = messagePattern;\n};\ngoog.inherits(goog.asserts.AssertionError, goog.debug.Error);\ngoog.asserts.AssertionError.prototype.name = "AssertionError";\ngoog.asserts.DEFAULT_ERROR_HANDLER = function(e) {\n    throw e;\n};\ngoog.asserts.errorHandler_ = goog.asserts.DEFAULT_ERROR_HANDLER;\ngoog.asserts.doAssertFailure_ = function(defaultMessage, defaultArgs, givenMessage, givenArgs) {\n    var message = "Assertion failed";\n    if (givenMessage) {\n        var message = message + (": " + givenMessage), args = givenArgs;\n    } else {\n        defaultMessage && (message += ": " + defaultMessage, args = defaultArgs);\n    }\n    var e = new goog.asserts.AssertionError("" + message, args || []);\n    goog.asserts.errorHandler_(e);\n};\ngoog.asserts.setErrorHandler = function(errorHandler) {\n    goog.asserts.ENABLE_ASSERTS && (goog.asserts.errorHandler_ = errorHandler);\n};\ngoog.asserts.assert = function(condition, opt_message, var_args) {\n    goog.asserts.ENABLE_ASSERTS && !condition && goog.asserts.doAssertFailure_("", null, opt_message, Array.prototype.slice.call(arguments, 2));\n    return condition;\n};\ngoog.asserts.fail = function(opt_message, var_args) {\n    goog.asserts.ENABLE_ASSERTS && goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure" + (opt_message ? ": " + opt_message : ""), Array.prototype.slice.call(arguments, 1)));\n};\ngoog.asserts.assertNumber = function(value, opt_message, var_args) {\n    goog.asserts.ENABLE_ASSERTS && !goog.isNumber(value) && goog.asserts.doAssertFailure_("Expected number but got %s: %s.", [goog.typeOf(value), value], opt_message, Array.prototype.slice.call(arguments, 2));\n    return value;\n};\ngoog.asserts.assertString = function(value, opt_message, var_args) {\n    goog.asserts.ENABLE_ASSERTS && !goog.isString(value) && goog.asserts.doAssertFailure_("Expected string but got %s: %s.", [goog.typeOf(value), value], opt_message, Array.prototype.slice.call(arguments, 2));\n    return value;\n};\ngoog.asserts.assertFunction = function(value, opt_message, var_args) {\n    goog.asserts.ENABLE_ASSERTS && !goog.isFunction(value) && goog.asserts.doAssertFailure_("Expected function but got %s: %s.", [goog.typeOf(value), value], opt_message, Array.prototype.slice.call(arguments, 2));\n    return value;\n};\ngoog.asserts.assertObject = function(value, opt_message, var_args) {\n    goog.asserts.ENABLE_ASSERTS && !goog.isObject(value) && goog.asserts.doAssertFailure_("Expected object but got %s: %s.", [goog.typeOf(value), value], opt_message, Array.prototype.slice.call(arguments, 2));\n    return value;\n};\ngoog.asserts.assertArray = function(value, opt_message, var_args) {\n    goog.asserts.ENABLE_ASSERTS && !goog.isArray(value) && goog.asserts.doAssertFailure_("Expected array but got %s: %s.", [goog.typeOf(value), value], opt_message, Array.prototype.slice.call(arguments, 2));\n    return value;\n};\ngoog.asserts.assertBoolean = function(value, opt_message, var_args) {\n    goog.asserts.ENABLE_ASSERTS && !goog.isBoolean(value) && goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.", [goog.typeOf(value), value], opt_message, Array.prototype.slice.call(arguments, 2));\n    return value;\n};\ngoog.asserts.assertElement = function(value, opt_message, var_args) {\n    !goog.asserts.ENABLE_ASSERTS || goog.isObject(value) && value.nodeType == goog.dom.NodeType.ELEMENT || goog.asserts.doAssertFailure_("Expected Element but got %s: %s.", [goog.typeOf(value), value], opt_message, Array.prototype.slice.call(arguments, 2));\n    return value;\n};\ngoog.asserts.assertInstanceof = function(value, type, opt_message, var_args) {\n    !goog.asserts.ENABLE_ASSERTS || value instanceof type || goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.", [goog.asserts.getType_(type), goog.asserts.getType_(value)], opt_message, Array.prototype.slice.call(arguments, 3));\n    return value;\n};\ngoog.asserts.assertObjectPrototypeIsIntact = function() {\n    for (var key in Object.prototype) {\n        goog.asserts.fail(key + " should not be enumerable in Object.prototype.");\n    }\n};\ngoog.asserts.getType_ = function(value) {\n    return value instanceof Function ? value.displayName || value.name || "unknown type name" : value instanceof Object ? value.constructor.displayName || value.constructor.name || Object.prototype.toString.call(value) : null === value ? "null" : typeof value;\n};\ngoog.array = {};\ngoog.NATIVE_ARRAY_PROTOTYPES = goog.TRUSTED_SITE;\ngoog.array.ASSUME_NATIVE_FUNCTIONS = !1;\ngoog.array.peek = function(array) {\n    return array[array.length - 1];\n};\ngoog.array.last = goog.array.peek;\ngoog.array.indexOf = goog.NATIVE_ARRAY_PROTOTYPES && (goog.array.ASSUME_NATIVE_FUNCTIONS || Array.prototype.indexOf) ? function(arr, obj, opt_fromIndex) {\n    goog.asserts.assert(null != arr.length);\n    return Array.prototype.indexOf.call(arr, obj, opt_fromIndex);\n} : function(arr, obj, opt_fromIndex) {\n    var fromIndex = null == opt_fromIndex ? 0 : 0 > opt_fromIndex ? Math.max(0, arr.length + opt_fromIndex) : opt_fromIndex;\n    if (goog.isString(arr)) {\n        return goog.isString(obj) && 1 == obj.length ? arr.indexOf(obj, fromIndex) : -1;\n    }\n    for (var i = fromIndex;i < arr.length;i++) {\n        if (i in arr && arr[i] === obj) {\n            return i;\n        }\n    }\n    return -1;\n};\ngoog.array.lastIndexOf = goog.NATIVE_ARRAY_PROTOTYPES && (goog.array.ASSUME_NATIVE_FUNCTIONS || Array.prototype.lastIndexOf) ? function(arr, obj, opt_fromIndex) {\n    goog.asserts.assert(null != arr.length);\n    return Array.prototype.lastIndexOf.call(arr, obj, null == opt_fromIndex ? arr.length - 1 : opt_fromIndex);\n} : function(arr, obj, opt_fromIndex) {\n    var fromIndex = null == opt_fromIndex ? arr.length - 1 : opt_fromIndex;\n    0 > fromIndex && (fromIndex = Math.max(0, arr.length + fromIndex));\n    if (goog.isString(arr)) {\n        return goog.isString(obj) && 1 == obj.length ? arr.lastIndexOf(obj, fromIndex) : -1;\n    }\n    for (var i = fromIndex;0 <= i;i--) {\n        if (i in arr && arr[i] === obj) {\n            return i;\n        }\n    }\n    return -1;\n};\ngoog.array.forEach = goog.NATIVE_ARRAY_PROTOTYPES && (goog.array.ASSUME_NATIVE_FUNCTIONS || Array.prototype.forEach) ? function(arr, f, opt_obj) {\n    goog.asserts.assert(null != arr.length);\n    Array.prototype.forEach.call(arr, f, opt_obj);\n} : function(arr, f, opt_obj) {\n    for (var l = arr.length, arr2 = goog.isString(arr) ? arr.split("") : arr, i = 0;i < l;i++) {\n        i in arr2 && f.call(opt_obj, arr2[i], i, arr);\n    }\n};\ngoog.array.forEachRight = function(arr, f, opt_obj) {\n    for (var l = arr.length, arr2 = goog.isString(arr) ? arr.split("") : arr, i = l - 1;0 <= i;--i) {\n        i in arr2 && f.call(opt_obj, arr2[i], i, arr);\n    }\n};\ngoog.array.filter = goog.NATIVE_ARRAY_PROTOTYPES && (goog.array.ASSUME_NATIVE_FUNCTIONS || Array.prototype.filter) ? function(arr, f, opt_obj) {\n    goog.asserts.assert(null != arr.length);\n    return Array.prototype.filter.call(arr, f, opt_obj);\n} : function(arr, f, opt_obj) {\n    for (var l = arr.length, res = [], resLength = 0, arr2 = goog.isString(arr) ? arr.split("") : arr, i = 0;i < l;i++) {\n        if (i in arr2) {\n            var val = arr2[i];\n            f.call(opt_obj, val, i, arr) && (res[resLength++] = val);\n        }\n    }\n    return res;\n};\ngoog.array.map = goog.NATIVE_ARRAY_PROTOTYPES && (goog.array.ASSUME_NATIVE_FUNCTIONS || Array.prototype.map) ? function(arr, f, opt_obj) {\n    goog.asserts.assert(null != arr.length);\n    return Array.prototype.map.call(arr, f, opt_obj);\n} : function(arr, f, opt_obj) {\n    for (var l = arr.length, res = Array(l), arr2 = goog.isString(arr) ? arr.split("") : arr, i = 0;i < l;i++) {\n        i in arr2 && (res[i] = f.call(opt_obj, arr2[i], i, arr));\n    }\n    return res;\n};\ngoog.array.reduce = goog.NATIVE_ARRAY_PROTOTYPES && (goog.array.ASSUME_NATIVE_FUNCTIONS || Array.prototype.reduce) ? function(arr, f, val, opt_obj) {\n    goog.asserts.assert(null != arr.length);\n    opt_obj && (f = goog.bind(f, opt_obj));\n    return Array.prototype.reduce.call(arr, f, val);\n} : function(arr, f, val$jscomp$0, opt_obj) {\n    var rval = val$jscomp$0;\n    goog.array.forEach(arr, function(val, index) {\n        rval = f.call(opt_obj, rval, val, index, arr);\n    });\n    return rval;\n};\ngoog.array.reduceRight = goog.NATIVE_ARRAY_PROTOTYPES && (goog.array.ASSUME_NATIVE_FUNCTIONS || Array.prototype.reduceRight) ? function(arr, f, val, opt_obj) {\n    goog.asserts.assert(null != arr.length);\n    goog.asserts.assert(null != f);\n    opt_obj && (f = goog.bind(f, opt_obj));\n    return Array.prototype.reduceRight.call(arr, f, val);\n} : function(arr, f, val$jscomp$0, opt_obj) {\n    var rval = val$jscomp$0;\n    goog.array.forEachRight(arr, function(val, index) {\n        rval = f.call(opt_obj, rval, val, index, arr);\n    });\n    return rval;\n};\ngoog.array.some = goog.NATIVE_ARRAY_PROTOTYPES && (goog.array.ASSUME_NATIVE_FUNCTIONS || Array.prototype.some) ? function(arr, f, opt_obj) {\n    goog.asserts.assert(null != arr.length);\n    return Array.prototype.some.call(arr, f, opt_obj);\n} : function(arr, f, opt_obj) {\n    for (var l = arr.length, arr2 = goog.isString(arr) ? arr.split("") : arr, i = 0;i < l;i++) {\n        if (i in arr2 && f.call(opt_obj, arr2[i], i, arr)) {\n            return !0;\n        }\n    }\n    return !1;\n};\ngoog.array.every = goog.NATIVE_ARRAY_PROTOTYPES && (goog.array.ASSUME_NATIVE_FUNCTIONS || Array.prototype.every) ? function(arr, f, opt_obj) {\n    goog.asserts.assert(null != arr.length);\n    return Array.prototype.every.call(arr, f, opt_obj);\n} : function(arr, f, opt_obj) {\n    for (var l = arr.length, arr2 = goog.isString(arr) ? arr.split("") : arr, i = 0;i < l;i++) {\n        if (i in arr2 && !f.call(opt_obj, arr2[i], i, arr)) {\n            return !1;\n        }\n    }\n    return !0;\n};\ngoog.array.count = function(arr$jscomp$0, f, opt_obj) {\n    var count = 0;\n    goog.array.forEach(arr$jscomp$0, function(element, index, arr) {\n        f.call(opt_obj, element, index, arr) && ++count;\n    }, opt_obj);\n    return count;\n};\ngoog.array.find = function(arr, f, opt_obj) {\n    var i = goog.array.findIndex(arr, f, opt_obj);\n    return 0 > i ? null : goog.isString(arr) ? arr.charAt(i) : arr[i];\n};\ngoog.array.findIndex = function(arr, f, opt_obj) {\n    for (var l = arr.length, arr2 = goog.isString(arr) ? arr.split("") : arr, i = 0;i < l;i++) {\n        if (i in arr2 && f.call(opt_obj, arr2[i], i, arr)) {\n            return i;\n        }\n    }\n    return -1;\n};\ngoog.array.findRight = function(arr, f, opt_obj) {\n    var i = goog.array.findIndexRight(arr, f, opt_obj);\n    return 0 > i ? null : goog.isString(arr) ? arr.charAt(i) : arr[i];\n};\ngoog.array.findIndexRight = function(arr, f, opt_obj) {\n    for (var l = arr.length, arr2 = goog.isString(arr) ? arr.split("") : arr, i = l - 1;0 <= i;i--) {\n        if (i in arr2 && f.call(opt_obj, arr2[i], i, arr)) {\n            return i;\n        }\n    }\n    return -1;\n};\ngoog.array.contains = function(arr, obj) {\n    return 0 <= goog.array.indexOf(arr, obj);\n};\ngoog.array.isEmpty = function(arr) {\n    return 0 == arr.length;\n};\ngoog.array.clear = function(arr) {\n    if (!goog.isArray(arr)) {\n        for (var i = arr.length - 1;0 <= i;i--) {\n            delete arr[i];\n        }\n    }\n    arr.length = 0;\n};\ngoog.array.insert = function(arr, obj) {\n    goog.array.contains(arr, obj) || arr.push(obj);\n};\ngoog.array.insertAt = function(arr, obj, opt_i) {\n    goog.array.splice(arr, opt_i, 0, obj);\n};\ngoog.array.insertArrayAt = function(arr, elementsToAdd, opt_i) {\n    goog.partial(goog.array.splice, arr, opt_i, 0).apply(null, elementsToAdd);\n};\ngoog.array.insertBefore = function(arr, obj, opt_obj2) {\n    var i;\n    2 == arguments.length || 0 > (i = goog.array.indexOf(arr, opt_obj2)) ? arr.push(obj) : goog.array.insertAt(arr, obj, i);\n};\ngoog.array.remove = function(arr, obj) {\n    var i = goog.array.indexOf(arr, obj), rv;\n    (rv = 0 <= i) && goog.array.removeAt(arr, i);\n    return rv;\n};\ngoog.array.removeLast = function(arr, obj) {\n    var i = goog.array.lastIndexOf(arr, obj);\n    return 0 <= i ? (goog.array.removeAt(arr, i), !0) : !1;\n};\ngoog.array.removeAt = function(arr, i) {\n    goog.asserts.assert(null != arr.length);\n    return 1 == Array.prototype.splice.call(arr, i, 1).length;\n};\ngoog.array.removeIf = function(arr, f, opt_obj) {\n    var i = goog.array.findIndex(arr, f, opt_obj);\n    return 0 <= i ? (goog.array.removeAt(arr, i), !0) : !1;\n};\ngoog.array.removeAllIf = function(arr, f, opt_obj) {\n    var removedCount = 0;\n    goog.array.forEachRight(arr, function(val, index) {\n        f.call(opt_obj, val, index, arr) && goog.array.removeAt(arr, index) && removedCount++;\n    });\n    return removedCount;\n};\ngoog.array.concat = function(var_args) {\n    return Array.prototype.concat.apply(Array.prototype, arguments);\n};\ngoog.array.join = function(var_args) {\n    return Array.prototype.concat.apply(Array.prototype, arguments);\n};\ngoog.array.toArray = function(object) {\n    var length = object.length;\n    if (0 < length) {\n        for (var rv = Array(length), i = 0;i < length;i++) {\n            rv[i] = object[i];\n        }\n        return rv;\n    }\n    return [];\n};\ngoog.array.clone = goog.array.toArray;\ngoog.array.extend = function(arr1, var_args) {\n    for (var i = 1;i < arguments.length;i++) {\n        var arr2 = arguments[i];\n        if (goog.isArrayLike(arr2)) {\n            var len1 = arr1.length || 0, len2 = arr2.length || 0;\n            arr1.length = len1 + len2;\n            for (var j = 0;j < len2;j++) {\n                arr1[len1 + j] = arr2[j];\n            }\n        } else {\n            arr1.push(arr2);\n        }\n    }\n};\ngoog.array.splice = function(arr, index, howMany, var_args) {\n    goog.asserts.assert(null != arr.length);\n    return Array.prototype.splice.apply(arr, goog.array.slice(arguments, 1));\n};\ngoog.array.slice = function(arr, start, opt_end) {\n    goog.asserts.assert(null != arr.length);\n    return 2 >= arguments.length ? Array.prototype.slice.call(arr, start) : Array.prototype.slice.call(arr, start, opt_end);\n};\ngoog.array.removeDuplicates = function(arr, opt_rv, opt_hashFn) {\n    for (var returnArray = opt_rv || arr, defaultHashFn = function(item) {\n        return goog.isObject(item) ? "o" + goog.getUid(item) : (typeof item).charAt(0) + item;\n    }, hashFn = opt_hashFn || defaultHashFn, seen = {}, cursorInsert = 0, cursorRead = 0;cursorRead < arr.length;) {\n        var current = arr[cursorRead++], key = hashFn(current);\n        Object.prototype.hasOwnProperty.call(seen, key) || (seen[key] = !0, returnArray[cursorInsert++] = current);\n    }\n    returnArray.length = cursorInsert;\n};\ngoog.array.binarySearch = function(arr, target, opt_compareFn) {\n    return goog.array.binarySearch_(arr, opt_compareFn || goog.array.defaultCompare, !1, target);\n};\ngoog.array.binarySelect = function(arr, evaluator, opt_obj) {\n    return goog.array.binarySearch_(arr, evaluator, !0, void 0, opt_obj);\n};\ngoog.array.binarySearch_ = function(arr, compareFn, isEvaluator, opt_target, opt_selfObj) {\n    for (var left = 0, right = arr.length, found;left < right;) {\n        var middle = left + right >> 1, compareResult;\n        compareResult = isEvaluator ? compareFn.call(opt_selfObj, arr[middle], middle, arr) : compareFn(opt_target, arr[middle]);\n        0 < compareResult ? left = middle + 1 : (right = middle, found = !compareResult);\n    }\n    return found ? left : ~left;\n};\ngoog.array.sort = function(arr, opt_compareFn) {\n    arr.sort(opt_compareFn || goog.array.defaultCompare);\n};\ngoog.array.stableSort = function(arr, opt_compareFn) {\n    for (var compArr = Array(arr.length), i = 0;i < arr.length;i++) {\n        compArr[i] = {index:i, value:arr[i]};\n    }\n    var valueCompareFn = opt_compareFn || goog.array.defaultCompare;\n    goog.array.sort(compArr, function stableCompareFn(obj1, obj2) {\n        return valueCompareFn(obj1.value, obj2.value) || obj1.index - obj2.index;\n    });\n    for (i = 0;i < arr.length;i++) {\n        arr[i] = compArr[i].value;\n    }\n};\ngoog.array.sortByKey = function(arr, keyFn, opt_compareFn) {\n    var keyCompareFn = opt_compareFn || goog.array.defaultCompare;\n    goog.array.sort(arr, function(a, b) {\n        return keyCompareFn(keyFn(a), keyFn(b));\n    });\n};\ngoog.array.sortObjectsByKey = function(arr, key, opt_compareFn) {\n    goog.array.sortByKey(arr, function(obj) {\n        return obj[key];\n    }, opt_compareFn);\n};\ngoog.array.isSorted = function(arr, opt_compareFn, opt_strict) {\n    for (var compare = opt_compareFn || goog.array.defaultCompare, i = 1;i < arr.length;i++) {\n        var compareResult = compare(arr[i - 1], arr[i]);\n        if (0 < compareResult || 0 == compareResult && opt_strict) {\n            return !1;\n        }\n    }\n    return !0;\n};\ngoog.array.equals = function(arr1, arr2, opt_equalsFn) {\n    if (!goog.isArrayLike(arr1) || !goog.isArrayLike(arr2) || arr1.length != arr2.length) {\n        return !1;\n    }\n    for (var l = arr1.length, equalsFn = opt_equalsFn || goog.array.defaultCompareEquality, i = 0;i < l;i++) {\n        if (!equalsFn(arr1[i], arr2[i])) {\n            return !1;\n        }\n    }\n    return !0;\n};\ngoog.array.compare3 = function(arr1, arr2, opt_compareFn) {\n    for (var compare = opt_compareFn || goog.array.defaultCompare, l = Math.min(arr1.length, arr2.length), i = 0;i < l;i++) {\n        var result = compare(arr1[i], arr2[i]);\n        if (0 != result) {\n            return result;\n        }\n    }\n    return goog.array.defaultCompare(arr1.length, arr2.length);\n};\ngoog.array.defaultCompare = function(a, b) {\n    return a > b ? 1 : a < b ? -1 : 0;\n};\ngoog.array.inverseDefaultCompare = function(a, b) {\n    return -goog.array.defaultCompare(a, b);\n};\ngoog.array.defaultCompareEquality = function(a, b) {\n    return a === b;\n};\ngoog.array.binaryInsert = function(array, value, opt_compareFn) {\n    var index = goog.array.binarySearch(array, value, opt_compareFn);\n    return 0 > index ? (goog.array.insertAt(array, value, -(index + 1)), !0) : !1;\n};\ngoog.array.binaryRemove = function(array, value, opt_compareFn) {\n    var index = goog.array.binarySearch(array, value, opt_compareFn);\n    return 0 <= index ? goog.array.removeAt(array, index) : !1;\n};\ngoog.array.bucket = function(array, sorter, opt_obj) {\n    for (var buckets = {}, i = 0;i < array.length;i++) {\n        var value = array[i], key = sorter.call(opt_obj, value, i, array);\n        goog.isDef(key) && (buckets[key] || (buckets[key] = [])).push(value);\n    }\n    return buckets;\n};\ngoog.array.toObject = function(arr, keyFunc, opt_obj) {\n    var ret = {};\n    goog.array.forEach(arr, function(element, index) {\n        ret[keyFunc.call(opt_obj, element, index, arr)] = element;\n    });\n    return ret;\n};\ngoog.array.range = function(startOrEnd, opt_end, opt_step) {\n    var array = [], start = 0, end = startOrEnd, step = opt_step || 1;\n    void 0 !== opt_end && (start = startOrEnd, end = opt_end);\n    if (0 > step * (end - start)) {\n        return [];\n    }\n    if (0 < step) {\n        for (var i = start;i < end;i += step) {\n            array.push(i);\n        }\n    } else {\n        for (i = start;i > end;i += step) {\n            array.push(i);\n        }\n    }\n    return array;\n};\ngoog.array.repeat = function(value, n) {\n    for (var array = [], i = 0;i < n;i++) {\n        array[i] = value;\n    }\n    return array;\n};\ngoog.array.flatten = function(var_args) {\n    for (var result = [], i = 0;i < arguments.length;i++) {\n        var element = arguments[i];\n        if (goog.isArray(element)) {\n            for (var c = 0;c < element.length;c += 8192) {\n                for (var chunk = goog.array.slice(element, c, c + 8192), recurseResult = goog.array.flatten.apply(null, chunk), r = 0;r < recurseResult.length;r++) {\n                    result.push(recurseResult[r]);\n                }\n            }\n        } else {\n            result.push(element);\n        }\n    }\n    return result;\n};\ngoog.array.rotate = function(array, n) {\n    goog.asserts.assert(null != array.length);\n    array.length && (n %= array.length, 0 < n ? Array.prototype.unshift.apply(array, array.splice(-n, n)) : 0 > n && Array.prototype.push.apply(array, array.splice(0, -n)));\n    return array;\n};\ngoog.array.moveItem = function(arr, fromIndex, toIndex) {\n    goog.asserts.assert(0 <= fromIndex && fromIndex < arr.length);\n    goog.asserts.assert(0 <= toIndex && toIndex < arr.length);\n    var removedItems = Array.prototype.splice.call(arr, fromIndex, 1);\n    Array.prototype.splice.call(arr, toIndex, 0, removedItems[0]);\n};\ngoog.array.zip = function(var_args) {\n    if (!arguments.length) {\n        return [];\n    }\n    for (var result = [], minLen = arguments[0].length, i = 1;i < arguments.length;i++) {\n        arguments[i].length < minLen && (minLen = arguments[i].length);\n    }\n    for (i = 0;i < minLen;i++) {\n        for (var value = [], j = 0;j < arguments.length;j++) {\n            value.push(arguments[j][i]);\n        }\n        result.push(value);\n    }\n    return result;\n};\ngoog.array.shuffle = function(arr, opt_randFn) {\n    for (var randFn = opt_randFn || Math.random, i = arr.length - 1;0 < i;i--) {\n        var j = Math.floor(randFn() * (i + 1)), tmp = arr[i];\n        arr[i] = arr[j];\n        arr[j] = tmp;\n    }\n};\ngoog.array.copyByIndex = function(arr, index_arr) {\n    var result = [];\n    goog.array.forEach(index_arr, function(index) {\n        result.push(arr[index]);\n    });\n    return result;\n};\ngoog.array.concatMap = function(arr, f, opt_obj) {\n    return goog.array.concat.apply([], goog.array.map(arr, f, opt_obj));\n};\ngoog.disposable = {};\ngoog.disposable.IDisposable = function() {\n};\ngoog.Disposable = function() {\n    goog.Disposable.MONITORING_MODE != goog.Disposable.MonitoringMode.OFF && (goog.Disposable.INCLUDE_STACK_ON_CREATION && (this.creationStack = Error().stack), goog.Disposable.instances_[goog.getUid(this)] = this);\n    this.disposed_ = this.disposed_;\n    this.onDisposeCallbacks_ = this.onDisposeCallbacks_;\n};\ngoog.Disposable.MonitoringMode = {OFF:0, PERMANENT:1, INTERACTIVE:2};\ngoog.Disposable.MONITORING_MODE = 0;\ngoog.Disposable.INCLUDE_STACK_ON_CREATION = !0;\ngoog.Disposable.instances_ = {};\ngoog.Disposable.getUndisposedObjects = function() {\n    var ret = [], id;\n    for (id in goog.Disposable.instances_) {\n        goog.Disposable.instances_.hasOwnProperty(id) && ret.push(goog.Disposable.instances_[Number(id)]);\n    }\n    return ret;\n};\ngoog.Disposable.clearUndisposedObjects = function() {\n    goog.Disposable.instances_ = {};\n};\ngoog.Disposable.prototype.disposed_ = !1;\ngoog.Disposable.prototype.isDisposed = function() {\n    return this.disposed_;\n};\ngoog.Disposable.prototype.getDisposed = goog.Disposable.prototype.isDisposed;\ngoog.Disposable.prototype.dispose = function() {\n    if (!this.disposed_ && (this.disposed_ = !0, this.disposeInternal(), goog.Disposable.MONITORING_MODE != goog.Disposable.MonitoringMode.OFF)) {\n        var uid = goog.getUid(this);\n        if (goog.Disposable.MONITORING_MODE == goog.Disposable.MonitoringMode.PERMANENT && !goog.Disposable.instances_.hasOwnProperty(uid)) {\n            throw Error(this + " did not call the goog.Disposable base constructor or was disposed of after a clearUndisposedObjects call");\n        }\n        delete goog.Disposable.instances_[uid];\n    }\n};\ngoog.Disposable.prototype.registerDisposable = function(disposable) {\n    this.addOnDisposeCallback(goog.partial(goog.dispose, disposable));\n};\ngoog.Disposable.prototype.addOnDisposeCallback = function(callback, opt_scope) {\n    this.disposed_ ? goog.isDef(opt_scope) ? callback.call(opt_scope) : callback() : (this.onDisposeCallbacks_ || (this.onDisposeCallbacks_ = []), this.onDisposeCallbacks_.push(goog.isDef(opt_scope) ? goog.bind(callback, opt_scope) : callback));\n};\ngoog.Disposable.prototype.disposeInternal = function() {\n    if (this.onDisposeCallbacks_) {\n        for (;this.onDisposeCallbacks_.length;) {\n            this.onDisposeCallbacks_.shift()();\n        }\n    }\n};\ngoog.Disposable.isDisposed = function(obj) {\n    return obj && "function" == typeof obj.isDisposed ? obj.isDisposed() : !1;\n};\ngoog.dispose = function(obj) {\n    obj && "function" == typeof obj.dispose && obj.dispose();\n};\ngoog.disposeAll = function(var_args) {\n    for (var i = 0, len = arguments.length;i < len;++i) {\n        var disposable = arguments[i];\n        goog.isArrayLike(disposable) ? goog.disposeAll.apply(null, disposable) : goog.dispose(disposable);\n    }\n};\ngoog.events = {};\ngoog.events.EventId = function(eventId) {\n    this.id = eventId;\n};\ngoog.events.EventId.prototype.toString = function() {\n    return this.id;\n};\ngoog.events.Event = function(type, opt_target) {\n    this.type = type instanceof goog.events.EventId ? String(type) : type;\n    this.currentTarget = this.target = opt_target;\n    this.defaultPrevented = this.propagationStopped_ = !1;\n    this.returnValue_ = !0;\n};\ngoog.events.Event.prototype.stopPropagation = function() {\n    this.propagationStopped_ = !0;\n};\ngoog.events.Event.prototype.preventDefault = function() {\n    this.defaultPrevented = !0;\n    this.returnValue_ = !1;\n};\ngoog.events.Event.stopPropagation = function(e) {\n    e.stopPropagation();\n};\ngoog.events.Event.preventDefault = function(e) {\n    e.preventDefault();\n};\ngoog.object = {};\ngoog.object.is = function(v, v2) {\n    return v === v2 ? 0 !== v || 1 / v === 1 / v2 : v !== v && v2 !== v2;\n};\ngoog.object.forEach = function(obj, f, opt_obj) {\n    for (var key in obj) {\n        f.call(opt_obj, obj[key], key, obj);\n    }\n};\ngoog.object.filter = function(obj, f, opt_obj) {\n    var res = {}, key;\n    for (key in obj) {\n        f.call(opt_obj, obj[key], key, obj) && (res[key] = obj[key]);\n    }\n    return res;\n};\ngoog.object.map = function(obj, f, opt_obj) {\n    var res = {}, key;\n    for (key in obj) {\n        res[key] = f.call(opt_obj, obj[key], key, obj);\n    }\n    return res;\n};\ngoog.object.some = function(obj, f, opt_obj) {\n    for (var key in obj) {\n        if (f.call(opt_obj, obj[key], key, obj)) {\n            return !0;\n        }\n    }\n    return !1;\n};\ngoog.object.every = function(obj, f, opt_obj) {\n    for (var key in obj) {\n        if (!f.call(opt_obj, obj[key], key, obj)) {\n            return !1;\n        }\n    }\n    return !0;\n};\ngoog.object.getCount = function(obj) {\n    var rv = 0, key;\n    for (key in obj) {\n        rv++;\n    }\n    return rv;\n};\ngoog.object.getAnyKey = function(obj) {\n    for (var key in obj) {\n        return key;\n    }\n};\ngoog.object.getAnyValue = function(obj) {\n    for (var key in obj) {\n        return obj[key];\n    }\n};\ngoog.object.contains = function(obj, val) {\n    return goog.object.containsValue(obj, val);\n};\ngoog.object.getValues = function(obj) {\n    var res = [], i = 0, key;\n    for (key in obj) {\n        res[i++] = obj[key];\n    }\n    return res;\n};\ngoog.object.getKeys = function(obj) {\n    var res = [], i = 0, key;\n    for (key in obj) {\n        res[i++] = key;\n    }\n    return res;\n};\ngoog.object.getValueByKeys = function(obj, var_args) {\n    for (var isArrayLike = goog.isArrayLike(var_args), keys = isArrayLike ? var_args : arguments, i = isArrayLike ? 0 : 1;i < keys.length && (obj = obj[keys[i]], goog.isDef(obj));i++) {\n    }\n    return obj;\n};\ngoog.object.containsKey = function(obj, key) {\n    return null !== obj && key in obj;\n};\ngoog.object.containsValue = function(obj, val) {\n    for (var key in obj) {\n        if (obj[key] == val) {\n            return !0;\n        }\n    }\n    return !1;\n};\ngoog.object.findKey = function(obj, f, opt_this) {\n    for (var key in obj) {\n        if (f.call(opt_this, obj[key], key, obj)) {\n            return key;\n        }\n    }\n};\ngoog.object.findValue = function(obj, f, opt_this) {\n    var key = goog.object.findKey(obj, f, opt_this);\n    return key && obj[key];\n};\ngoog.object.isEmpty = function(obj) {\n    for (var key in obj) {\n        return !1;\n    }\n    return !0;\n};\ngoog.object.clear = function(obj) {\n    for (var i in obj) {\n        delete obj[i];\n    }\n};\ngoog.object.remove = function(obj, key) {\n    var rv;\n    (rv = key in obj) && delete obj[key];\n    return rv;\n};\ngoog.object.add = function(obj, key, val) {\n    if (null !== obj && key in obj) {\n        throw Error(\'The object already contains the key "\' + key + \'"\');\n    }\n    goog.object.set(obj, key, val);\n};\ngoog.object.get = function(obj, key, opt_val) {\n    return null !== obj && key in obj ? obj[key] : opt_val;\n};\ngoog.object.set = function(obj, key, value) {\n    obj[key] = value;\n};\ngoog.object.setIfUndefined = function(obj, key, value) {\n    return key in obj ? obj[key] : obj[key] = value;\n};\ngoog.object.setWithReturnValueIfNotSet = function(obj, key, f) {\n    if (key in obj) {\n        return obj[key];\n    }\n    var val = f();\n    return obj[key] = val;\n};\ngoog.object.equals = function(a, b) {\n    for (var k in a) {\n        if (!(k in b) || a[k] !== b[k]) {\n            return !1;\n        }\n    }\n    for (k in b) {\n        if (!(k in a)) {\n            return !1;\n        }\n    }\n    return !0;\n};\ngoog.object.clone = function(obj) {\n    var res = {}, key;\n    for (key in obj) {\n        res[key] = obj[key];\n    }\n    return res;\n};\ngoog.object.unsafeClone = function(obj) {\n    var type = goog.typeOf(obj);\n    if ("object" == type || "array" == type) {\n        if (goog.isFunction(obj.clone)) {\n            return obj.clone();\n        }\n        var clone = "array" == type ? [] : {}, key;\n        for (key in obj) {\n            clone[key] = goog.object.unsafeClone(obj[key]);\n        }\n        return clone;\n    }\n    return obj;\n};\ngoog.object.transpose = function(obj) {\n    var transposed = {}, key;\n    for (key in obj) {\n        transposed[obj[key]] = key;\n    }\n    return transposed;\n};\ngoog.object.PROTOTYPE_FIELDS_ = "constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");\ngoog.object.extend = function(target, var_args) {\n    for (var key, source, i = 1;i < arguments.length;i++) {\n        source = arguments[i];\n        for (key in source) {\n            target[key] = source[key];\n        }\n        for (var j = 0;j < goog.object.PROTOTYPE_FIELDS_.length;j++) {\n            key = goog.object.PROTOTYPE_FIELDS_[j], Object.prototype.hasOwnProperty.call(source, key) && (target[key] = source[key]);\n        }\n    }\n};\ngoog.object.create = function(var_args) {\n    var argLength = arguments.length;\n    if (1 == argLength && goog.isArray(arguments[0])) {\n        return goog.object.create.apply(null, arguments[0]);\n    }\n    if (argLength % 2) {\n        throw Error("Uneven number of arguments");\n    }\n    for (var rv = {}, i = 0;i < argLength;i += 2) {\n        rv[arguments[i]] = arguments[i + 1];\n    }\n    return rv;\n};\ngoog.object.createSet = function(var_args) {\n    var argLength = arguments.length;\n    if (1 == argLength && goog.isArray(arguments[0])) {\n        return goog.object.createSet.apply(null, arguments[0]);\n    }\n    for (var rv = {}, i = 0;i < argLength;i++) {\n        rv[arguments[i]] = !0;\n    }\n    return rv;\n};\ngoog.object.createImmutableView = function(obj) {\n    var result = obj;\n    Object.isFrozen && !Object.isFrozen(obj) && (result = Object.create(obj), Object.freeze(result));\n    return result;\n};\ngoog.object.isImmutableView = function(obj) {\n    return !!Object.isFrozen && Object.isFrozen(obj);\n};\ngoog.object.getAllPropertyNames = function(obj, opt_includeObjectPrototype) {\n    if (!obj) {\n        return [];\n    }\n    if (!Object.getOwnPropertyNames || !Object.getPrototypeOf) {\n        return goog.object.getKeys(obj);\n    }\n    for (var visitedSet = {}, proto = obj;proto && (proto !== Object.prototype || opt_includeObjectPrototype);) {\n        for (var names = Object.getOwnPropertyNames(proto), i = 0;i < names.length;i++) {\n            visitedSet[names[i]] = !0;\n        }\n        proto = Object.getPrototypeOf(proto);\n    }\n    return goog.object.getKeys(visitedSet);\n};\ngoog.debug.entryPointRegistry = {};\ngoog.debug.EntryPointMonitor = function() {\n};\ngoog.debug.entryPointRegistry.refList_ = [];\ngoog.debug.entryPointRegistry.monitors_ = [];\ngoog.debug.entryPointRegistry.monitorsMayExist_ = !1;\ngoog.debug.entryPointRegistry.register = function(callback) {\n    goog.debug.entryPointRegistry.refList_[goog.debug.entryPointRegistry.refList_.length] = callback;\n    if (goog.debug.entryPointRegistry.monitorsMayExist_) {\n        for (var monitors = goog.debug.entryPointRegistry.monitors_, i = 0;i < monitors.length;i++) {\n            callback(goog.bind(monitors[i].wrap, monitors[i]));\n        }\n    }\n};\ngoog.debug.entryPointRegistry.monitorAll = function(monitor) {\n    goog.debug.entryPointRegistry.monitorsMayExist_ = !0;\n    for (var transformer = goog.bind(monitor.wrap, monitor), i = 0;i < goog.debug.entryPointRegistry.refList_.length;i++) {\n        goog.debug.entryPointRegistry.refList_[i](transformer);\n    }\n    goog.debug.entryPointRegistry.monitors_.push(monitor);\n};\ngoog.debug.entryPointRegistry.unmonitorAllIfPossible = function(monitor) {\n    var monitors = goog.debug.entryPointRegistry.monitors_;\n    goog.asserts.assert(monitor == monitors[monitors.length - 1], "Only the most recent monitor can be unwrapped.");\n    for (var transformer = goog.bind(monitor.unwrap, monitor), i = 0;i < goog.debug.entryPointRegistry.refList_.length;i++) {\n        goog.debug.entryPointRegistry.refList_[i](transformer);\n    }\n    monitors.length--;\n};\ngoog.reflect = {};\ngoog.reflect.object = function(type, object) {\n    return object;\n};\ngoog.reflect.objectProperty = function(prop, object) {\n    return prop;\n};\ngoog.reflect.sinkValue = function(x) {\n    goog.reflect.sinkValue[" "](x);\n    return x;\n};\ngoog.reflect.sinkValue[" "] = goog.nullFunction;\ngoog.reflect.canAccessProperty = function(obj, prop) {\n    try {\n        return goog.reflect.sinkValue(obj[prop]), !0;\n    } catch (e) {\n    }\n    return !1;\n};\ngoog.reflect.cache = function(cacheObj, key, valueFn, opt_keyFn) {\n    var storedKey = opt_keyFn ? opt_keyFn(key) : key;\n    return Object.prototype.hasOwnProperty.call(cacheObj, storedKey) ? cacheObj[storedKey] : cacheObj[storedKey] = valueFn(key);\n};\ngoog.labs = {};\ngoog.labs.userAgent = {};\ngoog.labs.userAgent.util = {};\ngoog.labs.userAgent.util.getNativeUserAgentString_ = function() {\n    var navigator = goog.labs.userAgent.util.getNavigator_();\n    if (navigator) {\n        var userAgent = navigator.userAgent;\n        if (userAgent) {\n            return userAgent;\n        }\n    }\n    return "";\n};\ngoog.labs.userAgent.util.getNavigator_ = function() {\n    return goog.global.navigator;\n};\ngoog.labs.userAgent.util.userAgent_ = goog.labs.userAgent.util.getNativeUserAgentString_();\ngoog.labs.userAgent.util.setUserAgent = function(opt_userAgent) {\n    goog.labs.userAgent.util.userAgent_ = opt_userAgent || goog.labs.userAgent.util.getNativeUserAgentString_();\n};\ngoog.labs.userAgent.util.getUserAgent = function() {\n    return goog.labs.userAgent.util.userAgent_;\n};\ngoog.labs.userAgent.util.matchUserAgent = function(str) {\n    return goog.string.contains(goog.labs.userAgent.util.getUserAgent(), str);\n};\ngoog.labs.userAgent.util.matchUserAgentIgnoreCase = function(str) {\n    return goog.string.caseInsensitiveContains(goog.labs.userAgent.util.getUserAgent(), str);\n};\ngoog.labs.userAgent.util.extractVersionTuples = function(userAgent) {\n    for (var versionRegExp = /(\\w[\\w ]+)\\/([^\\s]+)\\s*(?:\\((.*?)\\))?/g, data = [], match;match = versionRegExp.exec(userAgent);) {\n        data.push([match[1], match[2], match[3] || void 0]);\n    }\n    return data;\n};\ngoog.labs.userAgent.browser = {};\ngoog.labs.userAgent.browser.matchOpera_ = function() {\n    return goog.labs.userAgent.util.matchUserAgent("Opera");\n};\ngoog.labs.userAgent.browser.matchIE_ = function() {\n    return goog.labs.userAgent.util.matchUserAgent("Trident") || goog.labs.userAgent.util.matchUserAgent("MSIE");\n};\ngoog.labs.userAgent.browser.matchEdge_ = function() {\n    return goog.labs.userAgent.util.matchUserAgent("Edge");\n};\ngoog.labs.userAgent.browser.matchFirefox_ = function() {\n    return goog.labs.userAgent.util.matchUserAgent("Firefox");\n};\ngoog.labs.userAgent.browser.matchSafari_ = function() {\n    return goog.labs.userAgent.util.matchUserAgent("Safari") && !(goog.labs.userAgent.browser.matchChrome_() || goog.labs.userAgent.browser.matchCoast_() || goog.labs.userAgent.browser.matchOpera_() || goog.labs.userAgent.browser.matchEdge_() || goog.labs.userAgent.browser.isSilk() || goog.labs.userAgent.util.matchUserAgent("Android"));\n};\ngoog.labs.userAgent.browser.matchCoast_ = function() {\n    return goog.labs.userAgent.util.matchUserAgent("Coast");\n};\ngoog.labs.userAgent.browser.matchIosWebview_ = function() {\n    return (goog.labs.userAgent.util.matchUserAgent("iPad") || goog.labs.userAgent.util.matchUserAgent("iPhone")) && !goog.labs.userAgent.browser.matchSafari_() && !goog.labs.userAgent.browser.matchChrome_() && !goog.labs.userAgent.browser.matchCoast_() && goog.labs.userAgent.util.matchUserAgent("AppleWebKit");\n};\ngoog.labs.userAgent.browser.matchChrome_ = function() {\n    return (goog.labs.userAgent.util.matchUserAgent("Chrome") || goog.labs.userAgent.util.matchUserAgent("CriOS")) && !goog.labs.userAgent.browser.matchEdge_();\n};\ngoog.labs.userAgent.browser.matchAndroidBrowser_ = function() {\n    return goog.labs.userAgent.util.matchUserAgent("Android") && !(goog.labs.userAgent.browser.isChrome() || goog.labs.userAgent.browser.isFirefox() || goog.labs.userAgent.browser.isOpera() || goog.labs.userAgent.browser.isSilk());\n};\ngoog.labs.userAgent.browser.isOpera = goog.labs.userAgent.browser.matchOpera_;\ngoog.labs.userAgent.browser.isIE = goog.labs.userAgent.browser.matchIE_;\ngoog.labs.userAgent.browser.isEdge = goog.labs.userAgent.browser.matchEdge_;\ngoog.labs.userAgent.browser.isFirefox = goog.labs.userAgent.browser.matchFirefox_;\ngoog.labs.userAgent.browser.isSafari = goog.labs.userAgent.browser.matchSafari_;\ngoog.labs.userAgent.browser.isCoast = goog.labs.userAgent.browser.matchCoast_;\ngoog.labs.userAgent.browser.isIosWebview = goog.labs.userAgent.browser.matchIosWebview_;\ngoog.labs.userAgent.browser.isChrome = goog.labs.userAgent.browser.matchChrome_;\ngoog.labs.userAgent.browser.isAndroidBrowser = goog.labs.userAgent.browser.matchAndroidBrowser_;\ngoog.labs.userAgent.browser.isSilk = function() {\n    return goog.labs.userAgent.util.matchUserAgent("Silk");\n};\ngoog.labs.userAgent.browser.getVersion = function() {\n    function lookUpValueWithKeys(keys) {\n        var key = goog.array.find(keys, versionMapHasKey);\n        return versionMap[key] || "";\n    }\n    var userAgentString = goog.labs.userAgent.util.getUserAgent();\n    if (goog.labs.userAgent.browser.isIE()) {\n        return goog.labs.userAgent.browser.getIEVersion_(userAgentString);\n    }\n    var versionTuples = goog.labs.userAgent.util.extractVersionTuples(userAgentString), versionMap = {};\n    goog.array.forEach(versionTuples, function(tuple) {\n        versionMap[tuple[0]] = tuple[1];\n    });\n    var versionMapHasKey = goog.partial(goog.object.containsKey, versionMap);\n    if (goog.labs.userAgent.browser.isOpera()) {\n        return lookUpValueWithKeys(["Version", "Opera"]);\n    }\n    if (goog.labs.userAgent.browser.isEdge()) {\n        return lookUpValueWithKeys(["Edge"]);\n    }\n    if (goog.labs.userAgent.browser.isChrome()) {\n        return lookUpValueWithKeys(["Chrome", "CriOS"]);\n    }\n    var tuple = versionTuples[2];\n    return tuple && tuple[1] || "";\n};\ngoog.labs.userAgent.browser.isVersionOrHigher = function(version) {\n    return 0 <= goog.string.compareVersions(goog.labs.userAgent.browser.getVersion(), version);\n};\ngoog.labs.userAgent.browser.getIEVersion_ = function(userAgent) {\n    var rv = /rv: *([\\d\\.]*)/.exec(userAgent);\n    if (rv && rv[1]) {\n        return rv[1];\n    }\n    var version = "", msie = /MSIE +([\\d\\.]+)/.exec(userAgent);\n    if (msie && msie[1]) {\n        var tridentVersion = /Trident\\/(\\d.\\d)/.exec(userAgent);\n        if ("7.0" == msie[1]) {\n            if (tridentVersion && tridentVersion[1]) {\n                switch(tridentVersion[1]) {\n                    case "4.0":\n                        version = "8.0";\n                        break;\n                    case "5.0":\n                        version = "9.0";\n                        break;\n                    case "6.0":\n                        version = "10.0";\n                        break;\n                    case "7.0":\n                        version = "11.0";\n                }\n            } else {\n                version = "7.0";\n            }\n        } else {\n            version = msie[1];\n        }\n    }\n    return version;\n};\ngoog.labs.userAgent.engine = {};\ngoog.labs.userAgent.engine.isPresto = function() {\n    return goog.labs.userAgent.util.matchUserAgent("Presto");\n};\ngoog.labs.userAgent.engine.isTrident = function() {\n    return goog.labs.userAgent.util.matchUserAgent("Trident") || goog.labs.userAgent.util.matchUserAgent("MSIE");\n};\ngoog.labs.userAgent.engine.isEdge = function() {\n    return goog.labs.userAgent.util.matchUserAgent("Edge");\n};\ngoog.labs.userAgent.engine.isWebKit = function() {\n    return goog.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit") && !goog.labs.userAgent.engine.isEdge();\n};\ngoog.labs.userAgent.engine.isGecko = function() {\n    return goog.labs.userAgent.util.matchUserAgent("Gecko") && !goog.labs.userAgent.engine.isWebKit() && !goog.labs.userAgent.engine.isTrident() && !goog.labs.userAgent.engine.isEdge();\n};\ngoog.labs.userAgent.engine.getVersion = function() {\n    var userAgentString = goog.labs.userAgent.util.getUserAgent();\n    if (userAgentString) {\n        var tuples = goog.labs.userAgent.util.extractVersionTuples(userAgentString), engineTuple = goog.labs.userAgent.engine.getEngineTuple_(tuples);\n        if (engineTuple) {\n            return "Gecko" == engineTuple[0] ? goog.labs.userAgent.engine.getVersionForKey_(tuples, "Firefox") : engineTuple[1];\n        }\n        var browserTuple = tuples[0], info;\n        if (browserTuple && (info = browserTuple[2])) {\n            var match = /Trident\\/([^\\s;]+)/.exec(info);\n            if (match) {\n                return match[1];\n            }\n        }\n    }\n    return "";\n};\ngoog.labs.userAgent.engine.getEngineTuple_ = function(tuples) {\n    if (!goog.labs.userAgent.engine.isEdge()) {\n        return tuples[1];\n    }\n    for (var i = 0;i < tuples.length;i++) {\n        var tuple = tuples[i];\n        if ("Edge" == tuple[0]) {\n            return tuple;\n        }\n    }\n};\ngoog.labs.userAgent.engine.isVersionOrHigher = function(version) {\n    return 0 <= goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(), version);\n};\ngoog.labs.userAgent.engine.getVersionForKey_ = function(tuples, key) {\n    var pair = goog.array.find(tuples, function(pair) {\n        return key == pair[0];\n    });\n    return pair && pair[1] || "";\n};\ngoog.labs.userAgent.platform = {};\ngoog.labs.userAgent.platform.isAndroid = function() {\n    return goog.labs.userAgent.util.matchUserAgent("Android");\n};\ngoog.labs.userAgent.platform.isIpod = function() {\n    return goog.labs.userAgent.util.matchUserAgent("iPod");\n};\ngoog.labs.userAgent.platform.isIphone = function() {\n    return goog.labs.userAgent.util.matchUserAgent("iPhone") && !goog.labs.userAgent.util.matchUserAgent("iPod") && !goog.labs.userAgent.util.matchUserAgent("iPad");\n};\ngoog.labs.userAgent.platform.isIpad = function() {\n    return goog.labs.userAgent.util.matchUserAgent("iPad");\n};\ngoog.labs.userAgent.platform.isIos = function() {\n    return goog.labs.userAgent.platform.isIphone() || goog.labs.userAgent.platform.isIpad() || goog.labs.userAgent.platform.isIpod();\n};\ngoog.labs.userAgent.platform.isMacintosh = function() {\n    return goog.labs.userAgent.util.matchUserAgent("Macintosh");\n};\ngoog.labs.userAgent.platform.isLinux = function() {\n    return goog.labs.userAgent.util.matchUserAgent("Linux");\n};\ngoog.labs.userAgent.platform.isWindows = function() {\n    return goog.labs.userAgent.util.matchUserAgent("Windows");\n};\ngoog.labs.userAgent.platform.isChromeOS = function() {\n    return goog.labs.userAgent.util.matchUserAgent("CrOS");\n};\ngoog.labs.userAgent.platform.getVersion = function() {\n    var userAgentString = goog.labs.userAgent.util.getUserAgent(), version = "", re;\n    if (goog.labs.userAgent.platform.isWindows()) {\n        re = /Windows (?:NT|Phone) ([0-9.]+)/;\n        var match = re.exec(userAgentString), version = match ? match[1] : "0.0";\n    } else {\n        goog.labs.userAgent.platform.isIos() ? (re = /(?:iPhone|iPod|iPad|CPU)\\s+OS\\s+(\\S+)/, version = (match = re.exec(userAgentString)) && match[1].replace(/_/g, ".")) : goog.labs.userAgent.platform.isMacintosh() ? (re = /Mac OS X ([0-9_.]+)/, version = (match = re.exec(userAgentString)) ? match[1].replace(/_/g, ".") : "10") : goog.labs.userAgent.platform.isAndroid() ? (re = /Android\\s+([^\\);]+)(\\)|;)/, version = (match = re.exec(userAgentString)) && match[1]) : goog.labs.userAgent.platform.isChromeOS() &&\n        (re = /(?:CrOS\\s+(?:i686|x86_64)\\s+([0-9.]+))/, version = (match = re.exec(userAgentString)) && match[1]);\n    }\n    return version || "";\n};\ngoog.labs.userAgent.platform.isVersionOrHigher = function(version) {\n    return 0 <= goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(), version);\n};\ngoog.userAgent = {};\ngoog.userAgent.ASSUME_IE = !1;\ngoog.userAgent.ASSUME_EDGE = !1;\ngoog.userAgent.ASSUME_GECKO = !1;\ngoog.userAgent.ASSUME_WEBKIT = !1;\ngoog.userAgent.ASSUME_MOBILE_WEBKIT = !1;\ngoog.userAgent.ASSUME_OPERA = !1;\ngoog.userAgent.ASSUME_ANY_VERSION = !1;\ngoog.userAgent.BROWSER_KNOWN_ = goog.userAgent.ASSUME_IE || goog.userAgent.ASSUME_EDGE || goog.userAgent.ASSUME_GECKO || goog.userAgent.ASSUME_MOBILE_WEBKIT || goog.userAgent.ASSUME_WEBKIT || goog.userAgent.ASSUME_OPERA;\ngoog.userAgent.getUserAgentString = function() {\n    return goog.labs.userAgent.util.getUserAgent();\n};\ngoog.userAgent.getNavigator = function() {\n    return goog.global.navigator || null;\n};\ngoog.userAgent.OPERA = goog.userAgent.BROWSER_KNOWN_ ? goog.userAgent.ASSUME_OPERA : goog.labs.userAgent.browser.isOpera();\ngoog.userAgent.IE = goog.userAgent.BROWSER_KNOWN_ ? goog.userAgent.ASSUME_IE : goog.labs.userAgent.browser.isIE();\ngoog.userAgent.EDGE = goog.userAgent.BROWSER_KNOWN_ ? goog.userAgent.ASSUME_EDGE : goog.labs.userAgent.engine.isEdge();\ngoog.userAgent.EDGE_OR_IE = goog.userAgent.EDGE || goog.userAgent.IE;\ngoog.userAgent.GECKO = goog.userAgent.BROWSER_KNOWN_ ? goog.userAgent.ASSUME_GECKO : goog.labs.userAgent.engine.isGecko();\ngoog.userAgent.WEBKIT = goog.userAgent.BROWSER_KNOWN_ ? goog.userAgent.ASSUME_WEBKIT || goog.userAgent.ASSUME_MOBILE_WEBKIT : goog.labs.userAgent.engine.isWebKit();\ngoog.userAgent.isMobile_ = function() {\n    return goog.userAgent.WEBKIT && goog.labs.userAgent.util.matchUserAgent("Mobile");\n};\ngoog.userAgent.MOBILE = goog.userAgent.ASSUME_MOBILE_WEBKIT || goog.userAgent.isMobile_();\ngoog.userAgent.SAFARI = goog.userAgent.WEBKIT;\ngoog.userAgent.determinePlatform_ = function() {\n    var navigator = goog.userAgent.getNavigator();\n    return navigator && navigator.platform || "";\n};\ngoog.userAgent.PLATFORM = goog.userAgent.determinePlatform_();\ngoog.userAgent.ASSUME_MAC = !1;\ngoog.userAgent.ASSUME_WINDOWS = !1;\ngoog.userAgent.ASSUME_LINUX = !1;\ngoog.userAgent.ASSUME_X11 = !1;\ngoog.userAgent.ASSUME_ANDROID = !1;\ngoog.userAgent.ASSUME_IPHONE = !1;\ngoog.userAgent.ASSUME_IPAD = !1;\ngoog.userAgent.ASSUME_IPOD = !1;\ngoog.userAgent.PLATFORM_KNOWN_ = goog.userAgent.ASSUME_MAC || goog.userAgent.ASSUME_WINDOWS || goog.userAgent.ASSUME_LINUX || goog.userAgent.ASSUME_X11 || goog.userAgent.ASSUME_ANDROID || goog.userAgent.ASSUME_IPHONE || goog.userAgent.ASSUME_IPAD || goog.userAgent.ASSUME_IPOD;\ngoog.userAgent.MAC = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_MAC : goog.labs.userAgent.platform.isMacintosh();\ngoog.userAgent.WINDOWS = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_WINDOWS : goog.labs.userAgent.platform.isWindows();\ngoog.userAgent.isLegacyLinux_ = function() {\n    return goog.labs.userAgent.platform.isLinux() || goog.labs.userAgent.platform.isChromeOS();\n};\ngoog.userAgent.LINUX = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_LINUX : goog.userAgent.isLegacyLinux_();\ngoog.userAgent.isX11_ = function() {\n    var navigator = goog.userAgent.getNavigator();\n    return !!navigator && goog.string.contains(navigator.appVersion || "", "X11");\n};\ngoog.userAgent.X11 = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_X11 : goog.userAgent.isX11_();\ngoog.userAgent.ANDROID = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_ANDROID : goog.labs.userAgent.platform.isAndroid();\ngoog.userAgent.IPHONE = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_IPHONE : goog.labs.userAgent.platform.isIphone();\ngoog.userAgent.IPAD = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_IPAD : goog.labs.userAgent.platform.isIpad();\ngoog.userAgent.IPOD = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_IPOD : goog.labs.userAgent.platform.isIpod();\ngoog.userAgent.IOS = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_IPHONE || goog.userAgent.ASSUME_IPAD || goog.userAgent.ASSUME_IPOD : goog.labs.userAgent.platform.isIos();\ngoog.userAgent.determineVersion_ = function() {\n    var version = "", arr = goog.userAgent.getVersionRegexResult_();\n    arr && (version = arr ? arr[1] : "");\n    if (goog.userAgent.IE) {\n        var docMode = goog.userAgent.getDocumentMode_();\n        if (null != docMode && docMode > parseFloat(version)) {\n            return String(docMode);\n        }\n    }\n    return version;\n};\ngoog.userAgent.getVersionRegexResult_ = function() {\n    var userAgent = goog.userAgent.getUserAgentString();\n    if (goog.userAgent.GECKO) {\n        return /rv\\:([^\\);]+)(\\)|;)/.exec(userAgent);\n    }\n    if (goog.userAgent.EDGE) {\n        return /Edge\\/([\\d\\.]+)/.exec(userAgent);\n    }\n    if (goog.userAgent.IE) {\n        return /\\b(?:MSIE|rv)[: ]([^\\);]+)(\\)|;)/.exec(userAgent);\n    }\n    if (goog.userAgent.WEBKIT) {\n        return /WebKit\\/(\\S+)/.exec(userAgent);\n    }\n    if (goog.userAgent.OPERA) {\n        return /(?:Version)[ \\/]?(\\S+)/.exec(userAgent);\n    }\n};\ngoog.userAgent.getDocumentMode_ = function() {\n    var doc = goog.global.document;\n    return doc ? doc.documentMode : void 0;\n};\ngoog.userAgent.VERSION = goog.userAgent.determineVersion_();\ngoog.userAgent.compare = function(v1, v2) {\n    return goog.string.compareVersions(v1, v2);\n};\ngoog.userAgent.isVersionOrHigherCache_ = {};\ngoog.userAgent.isVersionOrHigher = function(version) {\n    return goog.userAgent.ASSUME_ANY_VERSION || goog.reflect.cache(goog.userAgent.isVersionOrHigherCache_, version, function() {\n            return 0 <= goog.string.compareVersions(goog.userAgent.VERSION, version);\n        });\n};\ngoog.userAgent.isVersion = goog.userAgent.isVersionOrHigher;\ngoog.userAgent.isDocumentModeOrHigher = function(documentMode) {\n    return Number(goog.userAgent.DOCUMENT_MODE) >= documentMode;\n};\ngoog.userAgent.isDocumentMode = goog.userAgent.isDocumentModeOrHigher;\ngoog.userAgent.DOCUMENT_MODE = function() {\n    var doc = goog.global.document;\n    if (doc && goog.userAgent.IE) {\n        return goog.userAgent.getDocumentMode_() || ("CSS1Compat" == doc.compatMode ? parseInt(goog.userAgent.VERSION, 10) : 5);\n    }\n}();\ngoog.events.BrowserFeature = {HAS_W3C_BUTTON:!goog.userAgent.IE || goog.userAgent.isDocumentModeOrHigher(9), HAS_W3C_EVENT_SUPPORT:!goog.userAgent.IE || goog.userAgent.isDocumentModeOrHigher(9), SET_KEY_CODE_TO_PREVENT_DEFAULT:goog.userAgent.IE && !goog.userAgent.isVersionOrHigher("9"), HAS_NAVIGATOR_ONLINE_PROPERTY:!goog.userAgent.WEBKIT || goog.userAgent.isVersionOrHigher("528"), HAS_HTML5_NETWORK_EVENT_SUPPORT:goog.userAgent.GECKO && goog.userAgent.isVersionOrHigher("1.9b") || goog.userAgent.IE &&\ngoog.userAgent.isVersionOrHigher("8") || goog.userAgent.OPERA && goog.userAgent.isVersionOrHigher("9.5") || goog.userAgent.WEBKIT && goog.userAgent.isVersionOrHigher("528"), HTML5_NETWORK_EVENTS_FIRE_ON_BODY:goog.userAgent.GECKO && !goog.userAgent.isVersionOrHigher("8") || goog.userAgent.IE && !goog.userAgent.isVersionOrHigher("9"), TOUCH_ENABLED:"ontouchstart" in goog.global || !!(goog.global.document && document.documentElement && "ontouchstart" in document.documentElement) || !(!goog.global.navigator ||\n!goog.global.navigator.msMaxTouchPoints)};\ngoog.events.getVendorPrefixedName_ = function(eventName) {\n    return goog.userAgent.WEBKIT ? "webkit" + eventName : goog.userAgent.OPERA ? "o" + eventName.toLowerCase() : eventName.toLowerCase();\n};\ngoog.events.EventType = {CLICK:"click", RIGHTCLICK:"rightclick", DBLCLICK:"dblclick", MOUSEDOWN:"mousedown", MOUSEUP:"mouseup", MOUSEOVER:"mouseover", MOUSEOUT:"mouseout", MOUSEMOVE:"mousemove", MOUSEENTER:"mouseenter", MOUSELEAVE:"mouseleave", SELECTIONCHANGE:"selectionchange", SELECTSTART:"selectstart", WHEEL:"wheel", KEYPRESS:"keypress", KEYDOWN:"keydown", KEYUP:"keyup", BLUR:"blur", FOCUS:"focus", DEACTIVATE:"deactivate", FOCUSIN:goog.userAgent.IE ? "focusin" : "DOMFocusIn", FOCUSOUT:goog.userAgent.IE ?\n    "focusout" : "DOMFocusOut", CHANGE:"change", RESET:"reset", SELECT:"select", SUBMIT:"submit", INPUT:"input", PROPERTYCHANGE:"propertychange", DRAGSTART:"dragstart", DRAG:"drag", DRAGENTER:"dragenter", DRAGOVER:"dragover", DRAGLEAVE:"dragleave", DROP:"drop", DRAGEND:"dragend", TOUCHSTART:"touchstart", TOUCHMOVE:"touchmove", TOUCHEND:"touchend", TOUCHCANCEL:"touchcancel", BEFOREUNLOAD:"beforeunload", CONSOLEMESSAGE:"consolemessage", CONTEXTMENU:"contextmenu", DEVICEORIENTATION:"deviceorientation",\n    DOMCONTENTLOADED:"DOMContentLoaded", ERROR:"error", HELP:"help", LOAD:"load", LOSECAPTURE:"losecapture", ORIENTATIONCHANGE:"orientationchange", READYSTATECHANGE:"readystatechange", RESIZE:"resize", SCROLL:"scroll", UNLOAD:"unload", CANPLAY:"canplay", CANPLAYTHROUGH:"canplaythrough", DURATIONCHANGE:"durationchange", EMPTIED:"emptied", ENDED:"ended", LOADEDDATA:"loadeddata", LOADEDMETADATA:"loadedmetadata", PAUSE:"pause", PLAY:"play", PLAYING:"playing", RATECHANGE:"ratechange", SEEKED:"seeked", SEEKING:"seeking",\n    STALLED:"stalled", SUSPEND:"suspend", TIMEUPDATE:"timeupdate", VOLUMECHANGE:"volumechange", WAITING:"waiting", HASHCHANGE:"hashchange", PAGEHIDE:"pagehide", PAGESHOW:"pageshow", POPSTATE:"popstate", COPY:"copy", PASTE:"paste", CUT:"cut", BEFORECOPY:"beforecopy", BEFORECUT:"beforecut", BEFOREPASTE:"beforepaste", ONLINE:"online", OFFLINE:"offline", MESSAGE:"message", CONNECT:"connect", ANIMATIONSTART:goog.events.getVendorPrefixedName_("AnimationStart"), ANIMATIONEND:goog.events.getVendorPrefixedName_("AnimationEnd"),\n    ANIMATIONITERATION:goog.events.getVendorPrefixedName_("AnimationIteration"), TRANSITIONEND:goog.events.getVendorPrefixedName_("TransitionEnd"), POINTERDOWN:"pointerdown", POINTERUP:"pointerup", POINTERCANCEL:"pointercancel", POINTERMOVE:"pointermove", POINTEROVER:"pointerover", POINTEROUT:"pointerout", POINTERENTER:"pointerenter", POINTERLEAVE:"pointerleave", GOTPOINTERCAPTURE:"gotpointercapture", LOSTPOINTERCAPTURE:"lostpointercapture", MSGESTURECHANGE:"MSGestureChange", MSGESTUREEND:"MSGestureEnd",\n    MSGESTUREHOLD:"MSGestureHold", MSGESTURESTART:"MSGestureStart", MSGESTURETAP:"MSGestureTap", MSGOTPOINTERCAPTURE:"MSGotPointerCapture", MSINERTIASTART:"MSInertiaStart", MSLOSTPOINTERCAPTURE:"MSLostPointerCapture", MSPOINTERCANCEL:"MSPointerCancel", MSPOINTERDOWN:"MSPointerDown", MSPOINTERENTER:"MSPointerEnter", MSPOINTERHOVER:"MSPointerHover", MSPOINTERLEAVE:"MSPointerLeave", MSPOINTERMOVE:"MSPointerMove", MSPOINTEROUT:"MSPointerOut", MSPOINTEROVER:"MSPointerOver", MSPOINTERUP:"MSPointerUp", TEXT:"text",\n    TEXTINPUT:"textInput", COMPOSITIONSTART:"compositionstart", COMPOSITIONUPDATE:"compositionupdate", COMPOSITIONEND:"compositionend", EXIT:"exit", LOADABORT:"loadabort", LOADCOMMIT:"loadcommit", LOADREDIRECT:"loadredirect", LOADSTART:"loadstart", LOADSTOP:"loadstop", RESPONSIVE:"responsive", SIZECHANGED:"sizechanged", UNRESPONSIVE:"unresponsive", VISIBILITYCHANGE:"visibilitychange", STORAGE:"storage", DOMSUBTREEMODIFIED:"DOMSubtreeModified", DOMNODEINSERTED:"DOMNodeInserted", DOMNODEREMOVED:"DOMNodeRemoved",\n    DOMNODEREMOVEDFROMDOCUMENT:"DOMNodeRemovedFromDocument", DOMNODEINSERTEDINTODOCUMENT:"DOMNodeInsertedIntoDocument", DOMATTRMODIFIED:"DOMAttrModified", DOMCHARACTERDATAMODIFIED:"DOMCharacterDataModified", BEFOREPRINT:"beforeprint", AFTERPRINT:"afterprint"};\ngoog.events.BrowserEvent = function(opt_e, opt_currentTarget) {\n    goog.events.Event.call(this, opt_e ? opt_e.type : "");\n    this.relatedTarget = this.currentTarget = this.target = null;\n    this.charCode = this.keyCode = this.button = this.screenY = this.screenX = this.clientY = this.clientX = this.offsetY = this.offsetX = 0;\n    this.metaKey = this.shiftKey = this.altKey = this.ctrlKey = !1;\n    this.state = null;\n    this.platformModifierKey = !1;\n    this.event_ = null;\n    opt_e && this.init(opt_e, opt_currentTarget);\n};\ngoog.inherits(goog.events.BrowserEvent, goog.events.Event);\ngoog.events.BrowserEvent.MouseButton = {LEFT:0, MIDDLE:1, RIGHT:2};\ngoog.events.BrowserEvent.IEButtonMap = [1, 4, 2];\ngoog.events.BrowserEvent.prototype.init = function(e, opt_currentTarget) {\n    var type = this.type = e.type, relevantTouch = e.changedTouches ? e.changedTouches[0] : null;\n    this.target = e.target || e.srcElement;\n    this.currentTarget = opt_currentTarget;\n    var relatedTarget = e.relatedTarget;\n    relatedTarget ? goog.userAgent.GECKO && (goog.reflect.canAccessProperty(relatedTarget, "nodeName") || (relatedTarget = null)) : type == goog.events.EventType.MOUSEOVER ? relatedTarget = e.fromElement : type == goog.events.EventType.MOUSEOUT && (relatedTarget = e.toElement);\n    this.relatedTarget = relatedTarget;\n    goog.isNull(relevantTouch) ? (this.offsetX = goog.userAgent.WEBKIT || void 0 !== e.offsetX ? e.offsetX : e.layerX, this.offsetY = goog.userAgent.WEBKIT || void 0 !== e.offsetY ? e.offsetY : e.layerY, this.clientX = void 0 !== e.clientX ? e.clientX : e.pageX, this.clientY = void 0 !== e.clientY ? e.clientY : e.pageY, this.screenX = e.screenX || 0, this.screenY = e.screenY || 0) : (this.clientX = void 0 !== relevantTouch.clientX ? relevantTouch.clientX : relevantTouch.pageX, this.clientY = void 0 !==\n    relevantTouch.clientY ? relevantTouch.clientY : relevantTouch.pageY, this.screenX = relevantTouch.screenX || 0, this.screenY = relevantTouch.screenY || 0);\n    this.button = e.button;\n    this.keyCode = e.keyCode || 0;\n    this.charCode = e.charCode || ("keypress" == type ? e.keyCode : 0);\n    this.ctrlKey = e.ctrlKey;\n    this.altKey = e.altKey;\n    this.shiftKey = e.shiftKey;\n    this.metaKey = e.metaKey;\n    this.platformModifierKey = goog.userAgent.MAC ? e.metaKey : e.ctrlKey;\n    this.state = e.state;\n    this.event_ = e;\n    e.defaultPrevented && this.preventDefault();\n};\ngoog.events.BrowserEvent.prototype.isButton = function(button) {\n    return goog.events.BrowserFeature.HAS_W3C_BUTTON ? this.event_.button == button : "click" == this.type ? button == goog.events.BrowserEvent.MouseButton.LEFT : !!(this.event_.button & goog.events.BrowserEvent.IEButtonMap[button]);\n};\ngoog.events.BrowserEvent.prototype.isMouseActionButton = function() {\n    return this.isButton(goog.events.BrowserEvent.MouseButton.LEFT) && !(goog.userAgent.WEBKIT && goog.userAgent.MAC && this.ctrlKey);\n};\ngoog.events.BrowserEvent.prototype.stopPropagation = function() {\n    goog.events.BrowserEvent.superClass_.stopPropagation.call(this);\n    this.event_.stopPropagation ? this.event_.stopPropagation() : this.event_.cancelBubble = !0;\n};\ngoog.events.BrowserEvent.prototype.preventDefault = function() {\n    goog.events.BrowserEvent.superClass_.preventDefault.call(this);\n    var be = this.event_;\n    if (be.preventDefault) {\n        be.preventDefault();\n    } else {\n        if (be.returnValue = !1, goog.events.BrowserFeature.SET_KEY_CODE_TO_PREVENT_DEFAULT) {\n            try {\n                if (be.ctrlKey || 112 <= be.keyCode && 123 >= be.keyCode) {\n                    be.keyCode = -1;\n                }\n            } catch (ex) {\n            }\n        }\n    }\n};\ngoog.events.BrowserEvent.prototype.getBrowserEvent = function() {\n    return this.event_;\n};\ngoog.events.Listenable = function() {\n};\ngoog.events.Listenable.IMPLEMENTED_BY_PROP = "closure_listenable_" + (1E6 * Math.random() | 0);\ngoog.events.Listenable.addImplementation = function(cls) {\n    cls.prototype[goog.events.Listenable.IMPLEMENTED_BY_PROP] = !0;\n};\ngoog.events.Listenable.isImplementedBy = function(obj) {\n    return !(!obj || !obj[goog.events.Listenable.IMPLEMENTED_BY_PROP]);\n};\ngoog.events.ListenableKey = function() {\n};\ngoog.events.ListenableKey.counter_ = 0;\ngoog.events.ListenableKey.reserveKey = function() {\n    return ++goog.events.ListenableKey.counter_;\n};\ngoog.events.Listener = function(listener, proxy, src, type, capture, opt_handler) {\n    goog.events.Listener.ENABLE_MONITORING && (this.creationStack = Error().stack);\n    this.listener = listener;\n    this.proxy = proxy;\n    this.src = src;\n    this.type = type;\n    this.capture = !!capture;\n    this.handler = opt_handler;\n    this.key = goog.events.ListenableKey.reserveKey();\n    this.removed = this.callOnce = !1;\n};\ngoog.events.Listener.ENABLE_MONITORING = !1;\ngoog.events.Listener.prototype.markAsRemoved = function() {\n    this.removed = !0;\n    this.handler = this.src = this.proxy = this.listener = null;\n};\ngoog.events.ListenerMap = function(src) {\n    this.src = src;\n    this.listeners = {};\n    this.typeCount_ = 0;\n};\ngoog.events.ListenerMap.prototype.getTypeCount = function() {\n    return this.typeCount_;\n};\ngoog.events.ListenerMap.prototype.getListenerCount = function() {\n    var count = 0, type;\n    for (type in this.listeners) {\n        count += this.listeners[type].length;\n    }\n    return count;\n};\ngoog.events.ListenerMap.prototype.add = function(type, listener, callOnce, opt_useCapture, opt_listenerScope) {\n    var typeStr = type.toString(), listenerArray = this.listeners[typeStr];\n    listenerArray || (listenerArray = this.listeners[typeStr] = [], this.typeCount_++);\n    var listenerObj, index = goog.events.ListenerMap.findListenerIndex_(listenerArray, listener, opt_useCapture, opt_listenerScope);\n    -1 < index ? (listenerObj = listenerArray[index], callOnce || (listenerObj.callOnce = !1)) : (listenerObj = new goog.events.Listener(listener, null, this.src, typeStr, !!opt_useCapture, opt_listenerScope), listenerObj.callOnce = callOnce, listenerArray.push(listenerObj));\n    return listenerObj;\n};\ngoog.events.ListenerMap.prototype.remove = function(type, listener, opt_useCapture, opt_listenerScope) {\n    var typeStr = type.toString();\n    if (!(typeStr in this.listeners)) {\n        return !1;\n    }\n    var listenerArray = this.listeners[typeStr], index = goog.events.ListenerMap.findListenerIndex_(listenerArray, listener, opt_useCapture, opt_listenerScope);\n    return -1 < index ? (listenerArray[index].markAsRemoved(), goog.array.removeAt(listenerArray, index), 0 == listenerArray.length && (delete this.listeners[typeStr], this.typeCount_--), !0) : !1;\n};\ngoog.events.ListenerMap.prototype.removeByKey = function(listener) {\n    var type = listener.type;\n    if (!(type in this.listeners)) {\n        return !1;\n    }\n    var removed = goog.array.remove(this.listeners[type], listener);\n    removed && (listener.markAsRemoved(), 0 == this.listeners[type].length && (delete this.listeners[type], this.typeCount_--));\n    return removed;\n};\ngoog.events.ListenerMap.prototype.removeAll = function(opt_type) {\n    var typeStr = opt_type && opt_type.toString(), count = 0, type;\n    for (type in this.listeners) {\n        if (!typeStr || type == typeStr) {\n            for (var listenerArray = this.listeners[type], i = 0;i < listenerArray.length;i++) {\n                ++count, listenerArray[i].markAsRemoved();\n            }\n            delete this.listeners[type];\n            this.typeCount_--;\n        }\n    }\n    return count;\n};\ngoog.events.ListenerMap.prototype.getListeners = function(type, capture) {\n    var listenerArray = this.listeners[type.toString()], rv = [];\n    if (listenerArray) {\n        for (var i = 0;i < listenerArray.length;++i) {\n            var listenerObj = listenerArray[i];\n            listenerObj.capture == capture && rv.push(listenerObj);\n        }\n    }\n    return rv;\n};\ngoog.events.ListenerMap.prototype.getListener = function(type, listener, capture, opt_listenerScope) {\n    var listenerArray = this.listeners[type.toString()], i = -1;\n    listenerArray && (i = goog.events.ListenerMap.findListenerIndex_(listenerArray, listener, capture, opt_listenerScope));\n    return -1 < i ? listenerArray[i] : null;\n};\ngoog.events.ListenerMap.prototype.hasListener = function(opt_type, opt_capture) {\n    var hasType = goog.isDef(opt_type), typeStr = hasType ? opt_type.toString() : "", hasCapture = goog.isDef(opt_capture);\n    return goog.object.some(this.listeners, function(listenerArray, type) {\n        for (var i = 0;i < listenerArray.length;++i) {\n            if (!(hasType && listenerArray[i].type != typeStr || hasCapture && listenerArray[i].capture != opt_capture)) {\n                return !0;\n            }\n        }\n        return !1;\n    });\n};\ngoog.events.ListenerMap.findListenerIndex_ = function(listenerArray, listener, opt_useCapture, opt_listenerScope) {\n    for (var i = 0;i < listenerArray.length;++i) {\n        var listenerObj = listenerArray[i];\n        if (!listenerObj.removed && listenerObj.listener == listener && listenerObj.capture == !!opt_useCapture && listenerObj.handler == opt_listenerScope) {\n            return i;\n        }\n    }\n    return -1;\n};\ngoog.events.LISTENER_MAP_PROP_ = "closure_lm_" + (1E6 * Math.random() | 0);\ngoog.events.onString_ = "on";\ngoog.events.onStringMap_ = {};\ngoog.events.CaptureSimulationMode = {OFF_AND_FAIL:0, OFF_AND_SILENT:1, ON:2};\ngoog.events.CAPTURE_SIMULATION_MODE = 2;\ngoog.events.listenerCountEstimate_ = 0;\ngoog.events.listen = function(src, type, listener, opt_capt, opt_handler) {\n    if (goog.isArray(type)) {\n        for (var i = 0;i < type.length;i++) {\n            goog.events.listen(src, type[i], listener, opt_capt, opt_handler);\n        }\n        return null;\n    }\n    listener = goog.events.wrapListener(listener);\n    return goog.events.Listenable.isImplementedBy(src) ? src.listen(type, listener, opt_capt, opt_handler) : goog.events.listen_(src, type, listener, !1, opt_capt, opt_handler);\n};\ngoog.events.listen_ = function(src, type, listener, callOnce, opt_capt, opt_handler) {\n    if (!type) {\n        throw Error("Invalid event type");\n    }\n    var capture = !!opt_capt;\n    if (capture && !goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT) {\n        if (goog.events.CAPTURE_SIMULATION_MODE == goog.events.CaptureSimulationMode.OFF_AND_FAIL) {\n            return goog.asserts.fail("Can not register capture listener in IE8-."), null;\n        }\n        if (goog.events.CAPTURE_SIMULATION_MODE == goog.events.CaptureSimulationMode.OFF_AND_SILENT) {\n            return null;\n        }\n    }\n    var listenerMap = goog.events.getListenerMap_(src);\n    listenerMap || (src[goog.events.LISTENER_MAP_PROP_] = listenerMap = new goog.events.ListenerMap(src));\n    var listenerObj = listenerMap.add(type, listener, callOnce, opt_capt, opt_handler);\n    if (listenerObj.proxy) {\n        return listenerObj;\n    }\n    var proxy = goog.events.getProxy();\n    listenerObj.proxy = proxy;\n    proxy.src = src;\n    proxy.listener = listenerObj;\n    if (src.addEventListener) {\n        src.addEventListener(type.toString(), proxy, capture);\n    } else {\n        if (src.attachEvent) {\n            src.attachEvent(goog.events.getOnString_(type.toString()), proxy);\n        } else {\n            throw Error("addEventListener and attachEvent are unavailable.");\n        }\n    }\n    goog.events.listenerCountEstimate_++;\n    return listenerObj;\n};\ngoog.events.getProxy = function() {\n    var proxyCallbackFunction = goog.events.handleBrowserEvent_, f = goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT ? function(eventObject) {\n        return proxyCallbackFunction.call(f.src, f.listener, eventObject);\n    } : function(eventObject) {\n        var v = proxyCallbackFunction.call(f.src, f.listener, eventObject);\n        if (!v) {\n            return v;\n        }\n    };\n    return f;\n};\ngoog.events.listenOnce = function(src, type, listener, opt_capt, opt_handler) {\n    if (goog.isArray(type)) {\n        for (var i = 0;i < type.length;i++) {\n            goog.events.listenOnce(src, type[i], listener, opt_capt, opt_handler);\n        }\n        return null;\n    }\n    listener = goog.events.wrapListener(listener);\n    return goog.events.Listenable.isImplementedBy(src) ? src.listenOnce(type, listener, opt_capt, opt_handler) : goog.events.listen_(src, type, listener, !0, opt_capt, opt_handler);\n};\ngoog.events.listenWithWrapper = function(src, wrapper, listener, opt_capt, opt_handler) {\n    wrapper.listen(src, listener, opt_capt, opt_handler);\n};\ngoog.events.unlisten = function(src, type, listener, opt_capt, opt_handler) {\n    if (goog.isArray(type)) {\n        for (var i = 0;i < type.length;i++) {\n            goog.events.unlisten(src, type[i], listener, opt_capt, opt_handler);\n        }\n        return null;\n    }\n    listener = goog.events.wrapListener(listener);\n    if (goog.events.Listenable.isImplementedBy(src)) {\n        return src.unlisten(type, listener, opt_capt, opt_handler);\n    }\n    if (!src) {\n        return !1;\n    }\n    var capture, listenerMap = goog.events.getListenerMap_(src);\n    if (listenerMap) {\n        var listenerObj = listenerMap.getListener(type, listener, !!opt_capt, opt_handler);\n        if (listenerObj) {\n            return goog.events.unlistenByKey(listenerObj);\n        }\n    }\n    return !1;\n};\ngoog.events.unlistenByKey = function(key) {\n    if (goog.isNumber(key) || !key || key.removed) {\n        return !1;\n    }\n    var src = key.src;\n    if (goog.events.Listenable.isImplementedBy(src)) {\n        return src.unlistenByKey(key);\n    }\n    var type = key.type, proxy = key.proxy;\n    src.removeEventListener ? src.removeEventListener(type, proxy, key.capture) : src.detachEvent && src.detachEvent(goog.events.getOnString_(type), proxy);\n    goog.events.listenerCountEstimate_--;\n    var listenerMap = goog.events.getListenerMap_(src);\n    listenerMap ? (listenerMap.removeByKey(key), 0 == listenerMap.getTypeCount() && (listenerMap.src = null, src[goog.events.LISTENER_MAP_PROP_] = null)) : key.markAsRemoved();\n    return !0;\n};\ngoog.events.unlistenWithWrapper = function(src, wrapper, listener, opt_capt, opt_handler) {\n    wrapper.unlisten(src, listener, opt_capt, opt_handler);\n};\ngoog.events.removeAll = function(obj, opt_type) {\n    if (!obj) {\n        return 0;\n    }\n    if (goog.events.Listenable.isImplementedBy(obj)) {\n        return obj.removeAllListeners(opt_type);\n    }\n    var listenerMap = goog.events.getListenerMap_(obj);\n    if (!listenerMap) {\n        return 0;\n    }\n    var count = 0, typeStr = opt_type && opt_type.toString(), type;\n    for (type in listenerMap.listeners) {\n        if (!typeStr || type == typeStr) {\n            for (var listeners = listenerMap.listeners[type].concat(), i = 0;i < listeners.length;++i) {\n                goog.events.unlistenByKey(listeners[i]) && ++count;\n            }\n        }\n    }\n    return count;\n};\ngoog.events.getListeners = function(obj, type, capture) {\n    if (goog.events.Listenable.isImplementedBy(obj)) {\n        return obj.getListeners(type, capture);\n    }\n    if (!obj) {\n        return [];\n    }\n    var listenerMap = goog.events.getListenerMap_(obj);\n    return listenerMap ? listenerMap.getListeners(type, capture) : [];\n};\ngoog.events.getListener = function(src, type, listener, opt_capt, opt_handler) {\n    listener = goog.events.wrapListener(listener);\n    var capture = !!opt_capt;\n    if (goog.events.Listenable.isImplementedBy(src)) {\n        return src.getListener(type, listener, capture, opt_handler);\n    }\n    if (!src) {\n        return null;\n    }\n    var listenerMap = goog.events.getListenerMap_(src);\n    return listenerMap ? listenerMap.getListener(type, listener, capture, opt_handler) : null;\n};\ngoog.events.hasListener = function(obj, opt_type, opt_capture) {\n    if (goog.events.Listenable.isImplementedBy(obj)) {\n        return obj.hasListener(opt_type, opt_capture);\n    }\n    var listenerMap = goog.events.getListenerMap_(obj);\n    return !!listenerMap && listenerMap.hasListener(opt_type, opt_capture);\n};\ngoog.events.expose = function(e) {\n    var str = [], key;\n    for (key in e) {\n        e[key] && e[key].id ? str.push(key + " = " + e[key] + " (" + e[key].id + ")") : str.push(key + " = " + e[key]);\n    }\n    return str.join("\\n");\n};\ngoog.events.getOnString_ = function(type) {\n    return type in goog.events.onStringMap_ ? goog.events.onStringMap_[type] : goog.events.onStringMap_[type] = goog.events.onString_ + type;\n};\ngoog.events.fireListeners = function(obj, type, capture, eventObject) {\n    return goog.events.Listenable.isImplementedBy(obj) ? obj.fireListeners(type, capture, eventObject) : goog.events.fireListeners_(obj, type, capture, eventObject);\n};\ngoog.events.fireListeners_ = function(obj, type, capture, eventObject) {\n    var retval = !0, listenerMap = goog.events.getListenerMap_(obj);\n    if (listenerMap) {\n        var listenerArray = listenerMap.listeners[type.toString()];\n        if (listenerArray) {\n            for (var listenerArray = listenerArray.concat(), i = 0;i < listenerArray.length;i++) {\n                var listener = listenerArray[i];\n                if (listener && listener.capture == capture && !listener.removed) {\n                    var result = goog.events.fireListener(listener, eventObject), retval = retval && !1 !== result;\n                }\n            }\n        }\n    }\n    return retval;\n};\ngoog.events.fireListener = function(listener, eventObject) {\n    var listenerFn = listener.listener, listenerHandler = listener.handler || listener.src;\n    listener.callOnce && goog.events.unlistenByKey(listener);\n    return listenerFn.call(listenerHandler, eventObject);\n};\ngoog.events.getTotalListenerCount = function() {\n    return goog.events.listenerCountEstimate_;\n};\ngoog.events.dispatchEvent = function(src, e) {\n    goog.asserts.assert(goog.events.Listenable.isImplementedBy(src), "Can not use goog.events.dispatchEvent with non-goog.events.Listenable instance.");\n    return src.dispatchEvent(e);\n};\ngoog.events.protectBrowserEventEntryPoint = function(errorHandler) {\n    goog.events.handleBrowserEvent_ = errorHandler.protectEntryPoint(goog.events.handleBrowserEvent_);\n};\ngoog.events.handleBrowserEvent_ = function(listener, opt_evt) {\n    if (listener.removed) {\n        return !0;\n    }\n    if (!goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT) {\n        var ieEvent = opt_evt || goog.getObjectByName("window.event"), evt = new goog.events.BrowserEvent(ieEvent, this), retval = !0;\n        if (goog.events.CAPTURE_SIMULATION_MODE == goog.events.CaptureSimulationMode.ON) {\n            if (!goog.events.isMarkedIeEvent_(ieEvent)) {\n                goog.events.markIeEvent_(ieEvent);\n                for (var ancestors = [], parent = evt.currentTarget;parent;parent = parent.parentNode) {\n                    ancestors.push(parent);\n                }\n                for (var type = listener.type, i = ancestors.length - 1;!evt.propagationStopped_ && 0 <= i;i--) {\n                    evt.currentTarget = ancestors[i];\n                    var result = goog.events.fireListeners_(ancestors[i], type, !0, evt), retval = retval && result;\n                }\n                for (i = 0;!evt.propagationStopped_ && i < ancestors.length;i++) {\n                    evt.currentTarget = ancestors[i], result = goog.events.fireListeners_(ancestors[i], type, !1, evt), retval = retval && result;\n                }\n            }\n        } else {\n            retval = goog.events.fireListener(listener, evt);\n        }\n        return retval;\n    }\n    return goog.events.fireListener(listener, new goog.events.BrowserEvent(opt_evt, this));\n};\ngoog.events.markIeEvent_ = function(e) {\n    var useReturnValue = !1;\n    if (0 == e.keyCode) {\n        try {\n            e.keyCode = -1;\n            return;\n        } catch (ex) {\n            useReturnValue = !0;\n        }\n    }\n    if (useReturnValue || void 0 == e.returnValue) {\n        e.returnValue = !0;\n    }\n};\ngoog.events.isMarkedIeEvent_ = function(e) {\n    return 0 > e.keyCode || void 0 != e.returnValue;\n};\ngoog.events.uniqueIdCounter_ = 0;\ngoog.events.getUniqueId = function(identifier) {\n    return identifier + "_" + goog.events.uniqueIdCounter_++;\n};\ngoog.events.getListenerMap_ = function(src) {\n    var listenerMap = src[goog.events.LISTENER_MAP_PROP_];\n    return listenerMap instanceof goog.events.ListenerMap ? listenerMap : null;\n};\ngoog.events.LISTENER_WRAPPER_PROP_ = "__closure_events_fn_" + (1E9 * Math.random() >>> 0);\ngoog.events.wrapListener = function(listener) {\n    goog.asserts.assert(listener, "Listener can not be null.");\n    if (goog.isFunction(listener)) {\n        return listener;\n    }\n    goog.asserts.assert(listener.handleEvent, "An object listener must have handleEvent method.");\n    listener[goog.events.LISTENER_WRAPPER_PROP_] || (listener[goog.events.LISTENER_WRAPPER_PROP_] = function(e) {\n        return listener.handleEvent(e);\n    });\n    return listener[goog.events.LISTENER_WRAPPER_PROP_];\n};\ngoog.debug.entryPointRegistry.register(function(transformer) {\n    goog.events.handleBrowserEvent_ = transformer(goog.events.handleBrowserEvent_);\n});\ngoog.events.EventHandler = function(opt_scope) {\n    goog.Disposable.call(this);\n    this.handler_ = opt_scope;\n    this.keys_ = {};\n};\ngoog.inherits(goog.events.EventHandler, goog.Disposable);\ngoog.events.EventHandler.typeArray_ = [];\ngoog.events.EventHandler.prototype.listen = function(src, type, opt_fn, opt_capture) {\n    return this.listen_(src, type, opt_fn, opt_capture);\n};\ngoog.events.EventHandler.prototype.listenWithScope = function(src, type, fn, capture, scope) {\n    return this.listen_(src, type, fn, capture, scope);\n};\ngoog.events.EventHandler.prototype.listen_ = function(src, type, opt_fn, opt_capture, opt_scope) {\n    goog.isArray(type) || (type && (goog.events.EventHandler.typeArray_[0] = type.toString()), type = goog.events.EventHandler.typeArray_);\n    for (var i = 0;i < type.length;i++) {\n        var listenerObj = goog.events.listen(src, type[i], opt_fn || this.handleEvent, opt_capture || !1, opt_scope || this.handler_ || this);\n        if (!listenerObj) {\n            break;\n        }\n        this.keys_[listenerObj.key] = listenerObj;\n    }\n    return this;\n};\ngoog.events.EventHandler.prototype.listenOnce = function(src, type, opt_fn, opt_capture) {\n    return this.listenOnce_(src, type, opt_fn, opt_capture);\n};\ngoog.events.EventHandler.prototype.listenOnceWithScope = function(src, type, fn, capture, scope) {\n    return this.listenOnce_(src, type, fn, capture, scope);\n};\ngoog.events.EventHandler.prototype.listenOnce_ = function(src, type, opt_fn, opt_capture, opt_scope) {\n    if (goog.isArray(type)) {\n        for (var i = 0;i < type.length;i++) {\n            this.listenOnce_(src, type[i], opt_fn, opt_capture, opt_scope);\n        }\n    } else {\n        var listenerObj = goog.events.listenOnce(src, type, opt_fn || this.handleEvent, opt_capture, opt_scope || this.handler_ || this);\n        if (!listenerObj) {\n            return this;\n        }\n        this.keys_[listenerObj.key] = listenerObj;\n    }\n    return this;\n};\ngoog.events.EventHandler.prototype.listenWithWrapper = function(src, wrapper, listener, opt_capt) {\n    return this.listenWithWrapper_(src, wrapper, listener, opt_capt);\n};\ngoog.events.EventHandler.prototype.listenWithWrapperAndScope = function(src, wrapper, listener, capture, scope) {\n    return this.listenWithWrapper_(src, wrapper, listener, capture, scope);\n};\ngoog.events.EventHandler.prototype.listenWithWrapper_ = function(src, wrapper, listener, opt_capt, opt_scope) {\n    wrapper.listen(src, listener, opt_capt, opt_scope || this.handler_ || this, this);\n    return this;\n};\ngoog.events.EventHandler.prototype.getListenerCount = function() {\n    var count = 0, key;\n    for (key in this.keys_) {\n        Object.prototype.hasOwnProperty.call(this.keys_, key) && count++;\n    }\n    return count;\n};\ngoog.events.EventHandler.prototype.unlisten = function(src, type, opt_fn, opt_capture, opt_scope) {\n    if (goog.isArray(type)) {\n        for (var i = 0;i < type.length;i++) {\n            this.unlisten(src, type[i], opt_fn, opt_capture, opt_scope);\n        }\n    } else {\n        var listener = goog.events.getListener(src, type, opt_fn || this.handleEvent, opt_capture, opt_scope || this.handler_ || this);\n        listener && (goog.events.unlistenByKey(listener), delete this.keys_[listener.key]);\n    }\n    return this;\n};\ngoog.events.EventHandler.prototype.unlistenWithWrapper = function(src, wrapper, listener, opt_capt, opt_scope) {\n    wrapper.unlisten(src, listener, opt_capt, opt_scope || this.handler_ || this, this);\n    return this;\n};\ngoog.events.EventHandler.prototype.removeAll = function() {\n    goog.object.forEach(this.keys_, function(listenerObj, key) {\n        this.keys_.hasOwnProperty(key) && goog.events.unlistenByKey(listenerObj);\n    }, this);\n    this.keys_ = {};\n};\ngoog.events.EventHandler.prototype.disposeInternal = function() {\n    goog.events.EventHandler.superClass_.disposeInternal.call(this);\n    this.removeAll();\n};\ngoog.events.EventHandler.prototype.handleEvent = function(e) {\n    throw Error("EventHandler.handleEvent not implemented");\n};\ngoog.events.EventTarget = function() {\n    goog.Disposable.call(this);\n    this.eventTargetListeners_ = new goog.events.ListenerMap(this);\n    this.actualEventTarget_ = this;\n    this.parentEventTarget_ = null;\n};\ngoog.inherits(goog.events.EventTarget, goog.Disposable);\ngoog.events.Listenable.addImplementation(goog.events.EventTarget);\ngoog.events.EventTarget.MAX_ANCESTORS_ = 1E3;\ngoog.events.EventTarget.prototype.getParentEventTarget = function() {\n    return this.parentEventTarget_;\n};\ngoog.events.EventTarget.prototype.setParentEventTarget = function(parent) {\n    this.parentEventTarget_ = parent;\n};\ngoog.events.EventTarget.prototype.addEventListener = function(type, handler, opt_capture, opt_handlerScope) {\n    goog.events.listen(this, type, handler, opt_capture, opt_handlerScope);\n};\ngoog.events.EventTarget.prototype.removeEventListener = function(type, handler, opt_capture, opt_handlerScope) {\n    goog.events.unlisten(this, type, handler, opt_capture, opt_handlerScope);\n};\ngoog.events.EventTarget.prototype.dispatchEvent = function(e) {\n    this.assertInitialized_();\n    var ancestorsTree, ancestor = this.getParentEventTarget();\n    if (ancestor) {\n        ancestorsTree = [];\n        for (var ancestorCount = 1;ancestor;ancestor = ancestor.getParentEventTarget()) {\n            ancestorsTree.push(ancestor), goog.asserts.assert(++ancestorCount < goog.events.EventTarget.MAX_ANCESTORS_, "infinite loop");\n        }\n    }\n    return goog.events.EventTarget.dispatchEventInternal_(this.actualEventTarget_, e, ancestorsTree);\n};\ngoog.events.EventTarget.prototype.disposeInternal = function() {\n    goog.events.EventTarget.superClass_.disposeInternal.call(this);\n    this.removeAllListeners();\n    this.parentEventTarget_ = null;\n};\ngoog.events.EventTarget.prototype.listen = function(type, listener, opt_useCapture, opt_listenerScope) {\n    this.assertInitialized_();\n    return this.eventTargetListeners_.add(String(type), listener, !1, opt_useCapture, opt_listenerScope);\n};\ngoog.events.EventTarget.prototype.listenOnce = function(type, listener, opt_useCapture, opt_listenerScope) {\n    return this.eventTargetListeners_.add(String(type), listener, !0, opt_useCapture, opt_listenerScope);\n};\ngoog.events.EventTarget.prototype.unlisten = function(type, listener, opt_useCapture, opt_listenerScope) {\n    return this.eventTargetListeners_.remove(String(type), listener, opt_useCapture, opt_listenerScope);\n};\ngoog.events.EventTarget.prototype.unlistenByKey = function(key) {\n    return this.eventTargetListeners_.removeByKey(key);\n};\ngoog.events.EventTarget.prototype.removeAllListeners = function(opt_type) {\n    return this.eventTargetListeners_ ? this.eventTargetListeners_.removeAll(opt_type) : 0;\n};\ngoog.events.EventTarget.prototype.fireListeners = function(type, capture, eventObject) {\n    var listenerArray = this.eventTargetListeners_.listeners[String(type)];\n    if (!listenerArray) {\n        return !0;\n    }\n    for (var listenerArray = listenerArray.concat(), rv = !0, i = 0;i < listenerArray.length;++i) {\n        var listener = listenerArray[i];\n        if (listener && !listener.removed && listener.capture == capture) {\n            var listenerFn = listener.listener, listenerHandler = listener.handler || listener.src;\n            listener.callOnce && this.unlistenByKey(listener);\n            rv = !1 !== listenerFn.call(listenerHandler, eventObject) && rv;\n        }\n    }\n    return rv && 0 != eventObject.returnValue_;\n};\ngoog.events.EventTarget.prototype.getListeners = function(type, capture) {\n    return this.eventTargetListeners_.getListeners(String(type), capture);\n};\ngoog.events.EventTarget.prototype.getListener = function(type, listener, capture, opt_listenerScope) {\n    return this.eventTargetListeners_.getListener(String(type), listener, capture, opt_listenerScope);\n};\ngoog.events.EventTarget.prototype.hasListener = function(opt_type, opt_capture) {\n    return this.eventTargetListeners_.hasListener(goog.isDef(opt_type) ? String(opt_type) : void 0, opt_capture);\n};\ngoog.events.EventTarget.prototype.setTargetForTesting = function(target) {\n    this.actualEventTarget_ = target;\n};\ngoog.events.EventTarget.prototype.assertInitialized_ = function() {\n    goog.asserts.assert(this.eventTargetListeners_, "Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?");\n};\ngoog.events.EventTarget.dispatchEventInternal_ = function(target, e, opt_ancestorsTree) {\n    var type = e.type || e;\n    if (goog.isString(e)) {\n        e = new goog.events.Event(e, target);\n    } else {\n        if (e instanceof goog.events.Event) {\n            e.target = e.target || target;\n        } else {\n            var oldEvent = e;\n            e = new goog.events.Event(type, target);\n            goog.object.extend(e, oldEvent);\n        }\n    }\n    var rv = !0, currentTarget;\n    if (opt_ancestorsTree) {\n        for (var i = opt_ancestorsTree.length - 1;!e.propagationStopped_ && 0 <= i;i--) {\n            currentTarget = e.currentTarget = opt_ancestorsTree[i], rv = currentTarget.fireListeners(type, !0, e) && rv;\n        }\n    }\n    e.propagationStopped_ || (currentTarget = e.currentTarget = target, rv = currentTarget.fireListeners(type, !0, e) && rv, e.propagationStopped_ || (rv = currentTarget.fireListeners(type, !1, e) && rv));\n    if (opt_ancestorsTree) {\n        for (i = 0;!e.propagationStopped_ && i < opt_ancestorsTree.length;i++) {\n            currentTarget = e.currentTarget = opt_ancestorsTree[i], rv = currentTarget.fireListeners(type, !1, e) && rv;\n        }\n    }\n    return rv;\n};\ngoog.async = {};\ngoog.async.FreeList = function(create, reset, limit) {\n    this.limit_ = limit;\n    this.create_ = create;\n    this.reset_ = reset;\n    this.occupants_ = 0;\n    this.head_ = null;\n};\ngoog.async.FreeList.prototype.get = function() {\n    var item;\n    0 < this.occupants_ ? (this.occupants_--, item = this.head_, this.head_ = item.next, item.next = null) : item = this.create_();\n    return item;\n};\ngoog.async.FreeList.prototype.put = function(item) {\n    this.reset_(item);\n    this.occupants_ < this.limit_ && (this.occupants_++, item.next = this.head_, this.head_ = item);\n};\ngoog.async.FreeList.prototype.occupants = function() {\n    return this.occupants_;\n};\ngoog.dom.TagName = function(tagName) {\n    this.tagName_ = tagName;\n};\ngoog.dom.TagName.prototype.toString = function() {\n    return this.tagName_;\n};\ngoog.dom.TagName.A = new goog.dom.TagName("A");\ngoog.dom.TagName.ABBR = new goog.dom.TagName("ABBR");\ngoog.dom.TagName.ACRONYM = new goog.dom.TagName("ACRONYM");\ngoog.dom.TagName.ADDRESS = new goog.dom.TagName("ADDRESS");\ngoog.dom.TagName.APPLET = new goog.dom.TagName("APPLET");\ngoog.dom.TagName.AREA = new goog.dom.TagName("AREA");\ngoog.dom.TagName.ARTICLE = new goog.dom.TagName("ARTICLE");\ngoog.dom.TagName.ASIDE = new goog.dom.TagName("ASIDE");\ngoog.dom.TagName.AUDIO = new goog.dom.TagName("AUDIO");\ngoog.dom.TagName.B = new goog.dom.TagName("B");\ngoog.dom.TagName.BASE = new goog.dom.TagName("BASE");\ngoog.dom.TagName.BASEFONT = new goog.dom.TagName("BASEFONT");\ngoog.dom.TagName.BDI = new goog.dom.TagName("BDI");\ngoog.dom.TagName.BDO = new goog.dom.TagName("BDO");\ngoog.dom.TagName.BIG = new goog.dom.TagName("BIG");\ngoog.dom.TagName.BLOCKQUOTE = new goog.dom.TagName("BLOCKQUOTE");\ngoog.dom.TagName.BODY = new goog.dom.TagName("BODY");\ngoog.dom.TagName.BR = new goog.dom.TagName("BR");\ngoog.dom.TagName.BUTTON = new goog.dom.TagName("BUTTON");\ngoog.dom.TagName.CANVAS = new goog.dom.TagName("CANVAS");\ngoog.dom.TagName.CAPTION = new goog.dom.TagName("CAPTION");\ngoog.dom.TagName.CENTER = new goog.dom.TagName("CENTER");\ngoog.dom.TagName.CITE = new goog.dom.TagName("CITE");\ngoog.dom.TagName.CODE = new goog.dom.TagName("CODE");\ngoog.dom.TagName.COL = new goog.dom.TagName("COL");\ngoog.dom.TagName.COLGROUP = new goog.dom.TagName("COLGROUP");\ngoog.dom.TagName.COMMAND = new goog.dom.TagName("COMMAND");\ngoog.dom.TagName.DATA = new goog.dom.TagName("DATA");\ngoog.dom.TagName.DATALIST = new goog.dom.TagName("DATALIST");\ngoog.dom.TagName.DD = new goog.dom.TagName("DD");\ngoog.dom.TagName.DEL = new goog.dom.TagName("DEL");\ngoog.dom.TagName.DETAILS = new goog.dom.TagName("DETAILS");\ngoog.dom.TagName.DFN = new goog.dom.TagName("DFN");\ngoog.dom.TagName.DIALOG = new goog.dom.TagName("DIALOG");\ngoog.dom.TagName.DIR = new goog.dom.TagName("DIR");\ngoog.dom.TagName.DIV = new goog.dom.TagName("DIV");\ngoog.dom.TagName.DL = new goog.dom.TagName("DL");\ngoog.dom.TagName.DT = new goog.dom.TagName("DT");\ngoog.dom.TagName.EM = new goog.dom.TagName("EM");\ngoog.dom.TagName.EMBED = new goog.dom.TagName("EMBED");\ngoog.dom.TagName.FIELDSET = new goog.dom.TagName("FIELDSET");\ngoog.dom.TagName.FIGCAPTION = new goog.dom.TagName("FIGCAPTION");\ngoog.dom.TagName.FIGURE = new goog.dom.TagName("FIGURE");\ngoog.dom.TagName.FONT = new goog.dom.TagName("FONT");\ngoog.dom.TagName.FOOTER = new goog.dom.TagName("FOOTER");\ngoog.dom.TagName.FORM = new goog.dom.TagName("FORM");\ngoog.dom.TagName.FRAME = new goog.dom.TagName("FRAME");\ngoog.dom.TagName.FRAMESET = new goog.dom.TagName("FRAMESET");\ngoog.dom.TagName.H1 = new goog.dom.TagName("H1");\ngoog.dom.TagName.H2 = new goog.dom.TagName("H2");\ngoog.dom.TagName.H3 = new goog.dom.TagName("H3");\ngoog.dom.TagName.H4 = new goog.dom.TagName("H4");\ngoog.dom.TagName.H5 = new goog.dom.TagName("H5");\ngoog.dom.TagName.H6 = new goog.dom.TagName("H6");\ngoog.dom.TagName.HEAD = new goog.dom.TagName("HEAD");\ngoog.dom.TagName.HEADER = new goog.dom.TagName("HEADER");\ngoog.dom.TagName.HGROUP = new goog.dom.TagName("HGROUP");\ngoog.dom.TagName.HR = new goog.dom.TagName("HR");\ngoog.dom.TagName.HTML = new goog.dom.TagName("HTML");\ngoog.dom.TagName.I = new goog.dom.TagName("I");\ngoog.dom.TagName.IFRAME = new goog.dom.TagName("IFRAME");\ngoog.dom.TagName.IMG = new goog.dom.TagName("IMG");\ngoog.dom.TagName.INPUT = new goog.dom.TagName("INPUT");\ngoog.dom.TagName.INS = new goog.dom.TagName("INS");\ngoog.dom.TagName.ISINDEX = new goog.dom.TagName("ISINDEX");\ngoog.dom.TagName.KBD = new goog.dom.TagName("KBD");\ngoog.dom.TagName.KEYGEN = new goog.dom.TagName("KEYGEN");\ngoog.dom.TagName.LABEL = new goog.dom.TagName("LABEL");\ngoog.dom.TagName.LEGEND = new goog.dom.TagName("LEGEND");\ngoog.dom.TagName.LI = new goog.dom.TagName("LI");\ngoog.dom.TagName.LINK = new goog.dom.TagName("LINK");\ngoog.dom.TagName.MAP = new goog.dom.TagName("MAP");\ngoog.dom.TagName.MARK = new goog.dom.TagName("MARK");\ngoog.dom.TagName.MATH = new goog.dom.TagName("MATH");\ngoog.dom.TagName.MENU = new goog.dom.TagName("MENU");\ngoog.dom.TagName.META = new goog.dom.TagName("META");\ngoog.dom.TagName.METER = new goog.dom.TagName("METER");\ngoog.dom.TagName.NAV = new goog.dom.TagName("NAV");\ngoog.dom.TagName.NOFRAMES = new goog.dom.TagName("NOFRAMES");\ngoog.dom.TagName.NOSCRIPT = new goog.dom.TagName("NOSCRIPT");\ngoog.dom.TagName.OBJECT = new goog.dom.TagName("OBJECT");\ngoog.dom.TagName.OL = new goog.dom.TagName("OL");\ngoog.dom.TagName.OPTGROUP = new goog.dom.TagName("OPTGROUP");\ngoog.dom.TagName.OPTION = new goog.dom.TagName("OPTION");\ngoog.dom.TagName.OUTPUT = new goog.dom.TagName("OUTPUT");\ngoog.dom.TagName.P = new goog.dom.TagName("P");\ngoog.dom.TagName.PARAM = new goog.dom.TagName("PARAM");\ngoog.dom.TagName.PRE = new goog.dom.TagName("PRE");\ngoog.dom.TagName.PROGRESS = new goog.dom.TagName("PROGRESS");\ngoog.dom.TagName.Q = new goog.dom.TagName("Q");\ngoog.dom.TagName.RP = new goog.dom.TagName("RP");\ngoog.dom.TagName.RT = new goog.dom.TagName("RT");\ngoog.dom.TagName.RUBY = new goog.dom.TagName("RUBY");\ngoog.dom.TagName.S = new goog.dom.TagName("S");\ngoog.dom.TagName.SAMP = new goog.dom.TagName("SAMP");\ngoog.dom.TagName.SCRIPT = new goog.dom.TagName("SCRIPT");\ngoog.dom.TagName.SECTION = new goog.dom.TagName("SECTION");\ngoog.dom.TagName.SELECT = new goog.dom.TagName("SELECT");\ngoog.dom.TagName.SMALL = new goog.dom.TagName("SMALL");\ngoog.dom.TagName.SOURCE = new goog.dom.TagName("SOURCE");\ngoog.dom.TagName.SPAN = new goog.dom.TagName("SPAN");\ngoog.dom.TagName.STRIKE = new goog.dom.TagName("STRIKE");\ngoog.dom.TagName.STRONG = new goog.dom.TagName("STRONG");\ngoog.dom.TagName.STYLE = new goog.dom.TagName("STYLE");\ngoog.dom.TagName.SUB = new goog.dom.TagName("SUB");\ngoog.dom.TagName.SUMMARY = new goog.dom.TagName("SUMMARY");\ngoog.dom.TagName.SUP = new goog.dom.TagName("SUP");\ngoog.dom.TagName.SVG = new goog.dom.TagName("SVG");\ngoog.dom.TagName.TABLE = new goog.dom.TagName("TABLE");\ngoog.dom.TagName.TBODY = new goog.dom.TagName("TBODY");\ngoog.dom.TagName.TD = new goog.dom.TagName("TD");\ngoog.dom.TagName.TEMPLATE = new goog.dom.TagName("TEMPLATE");\ngoog.dom.TagName.TEXTAREA = new goog.dom.TagName("TEXTAREA");\ngoog.dom.TagName.TFOOT = new goog.dom.TagName("TFOOT");\ngoog.dom.TagName.TH = new goog.dom.TagName("TH");\ngoog.dom.TagName.THEAD = new goog.dom.TagName("THEAD");\ngoog.dom.TagName.TIME = new goog.dom.TagName("TIME");\ngoog.dom.TagName.TITLE = new goog.dom.TagName("TITLE");\ngoog.dom.TagName.TR = new goog.dom.TagName("TR");\ngoog.dom.TagName.TRACK = new goog.dom.TagName("TRACK");\ngoog.dom.TagName.TT = new goog.dom.TagName("TT");\ngoog.dom.TagName.U = new goog.dom.TagName("U");\ngoog.dom.TagName.UL = new goog.dom.TagName("UL");\ngoog.dom.TagName.VAR = new goog.dom.TagName("VAR");\ngoog.dom.TagName.VIDEO = new goog.dom.TagName("VIDEO");\ngoog.dom.TagName.WBR = new goog.dom.TagName("WBR");\ngoog.functions = {};\ngoog.functions.constant = function(retValue) {\n    return function() {\n        return retValue;\n    };\n};\ngoog.functions.FALSE = goog.functions.constant(!1);\ngoog.functions.TRUE = goog.functions.constant(!0);\ngoog.functions.NULL = goog.functions.constant(null);\ngoog.functions.identity = function(opt_returnValue, var_args) {\n    return opt_returnValue;\n};\ngoog.functions.error = function(message) {\n    return function() {\n        throw Error(message);\n    };\n};\ngoog.functions.fail = function(err) {\n    return function() {\n        throw err;\n    };\n};\ngoog.functions.lock = function(f, opt_numArgs) {\n    opt_numArgs = opt_numArgs || 0;\n    return function() {\n        return f.apply(this, Array.prototype.slice.call(arguments, 0, opt_numArgs));\n    };\n};\ngoog.functions.nth = function(n) {\n    return function() {\n        return arguments[n];\n    };\n};\ngoog.functions.partialRight = function(fn, var_args) {\n    var rightArgs = Array.prototype.slice.call(arguments, 1);\n    return function() {\n        var newArgs = Array.prototype.slice.call(arguments);\n        newArgs.push.apply(newArgs, rightArgs);\n        return fn.apply(this, newArgs);\n    };\n};\ngoog.functions.withReturnValue = function(f, retValue) {\n    return goog.functions.sequence(f, goog.functions.constant(retValue));\n};\ngoog.functions.equalTo = function(value, opt_useLooseComparison) {\n    return function(other) {\n        return opt_useLooseComparison ? value == other : value === other;\n    };\n};\ngoog.functions.compose = function(fn, var_args) {\n    var functions = arguments, length = functions.length;\n    return function() {\n        var result;\n        length && (result = functions[length - 1].apply(this, arguments));\n        for (var i = length - 2;0 <= i;i--) {\n            result = functions[i].call(this, result);\n        }\n        return result;\n    };\n};\ngoog.functions.sequence = function(var_args) {\n    var functions = arguments, length = functions.length;\n    return function() {\n        for (var result, i = 0;i < length;i++) {\n            result = functions[i].apply(this, arguments);\n        }\n        return result;\n    };\n};\ngoog.functions.and = function(var_args) {\n    var functions = arguments, length = functions.length;\n    return function() {\n        for (var i = 0;i < length;i++) {\n            if (!functions[i].apply(this, arguments)) {\n                return !1;\n            }\n        }\n        return !0;\n    };\n};\ngoog.functions.or = function(var_args) {\n    var functions = arguments, length = functions.length;\n    return function() {\n        for (var i = 0;i < length;i++) {\n            if (functions[i].apply(this, arguments)) {\n                return !0;\n            }\n        }\n        return !1;\n    };\n};\ngoog.functions.not = function(f) {\n    return function() {\n        return !f.apply(this, arguments);\n    };\n};\ngoog.functions.create = function(constructor, var_args) {\n    var temp = function() {\n    };\n    temp.prototype = constructor.prototype;\n    var obj = new temp;\n    constructor.apply(obj, Array.prototype.slice.call(arguments, 1));\n    return obj;\n};\ngoog.functions.CACHE_RETURN_VALUE = !0;\ngoog.functions.cacheReturnValue = function(fn) {\n    var called = !1, value;\n    return function() {\n        if (!goog.functions.CACHE_RETURN_VALUE) {\n            return fn();\n        }\n        called || (value = fn(), called = !0);\n        return value;\n    };\n};\ngoog.functions.once = function(f) {\n    var inner = f;\n    return function() {\n        if (inner) {\n            var tmp = inner;\n            inner = null;\n            tmp();\n        }\n    };\n};\ngoog.functions.debounce = function(f, interval, opt_scope) {\n    opt_scope && (f = goog.bind(f, opt_scope));\n    var timeout = null;\n    return function(var_args) {\n        goog.global.clearTimeout(timeout);\n        var args = arguments;\n        timeout = goog.global.setTimeout(function() {\n            f.apply(null, args);\n        }, interval);\n    };\n};\ngoog.functions.throttle = function(f, interval, opt_scope) {\n    opt_scope && (f = goog.bind(f, opt_scope));\n    var timeout = null, shouldFire = !1, args = [], handleTimeout = function() {\n        timeout = null;\n        shouldFire && (shouldFire = !1, fire());\n    }, fire = function() {\n        timeout = goog.global.setTimeout(handleTimeout, interval);\n        f.apply(null, args);\n    };\n    return function(var_args) {\n        args = arguments;\n        timeout ? shouldFire = !0 : fire();\n    };\n};\ngoog.async.throwException = function(exception) {\n    goog.global.setTimeout(function() {\n        throw exception;\n    }, 0);\n};\ngoog.async.nextTick = function(callback, opt_context, opt_useSetImmediate) {\n    var cb = callback;\n    opt_context && (cb = goog.bind(callback, opt_context));\n    cb = goog.async.nextTick.wrapCallback_(cb);\n    goog.isFunction(goog.global.setImmediate) && (opt_useSetImmediate || goog.async.nextTick.useSetImmediate_()) ? goog.global.setImmediate(cb) : (goog.async.nextTick.setImmediate_ || (goog.async.nextTick.setImmediate_ = goog.async.nextTick.getSetImmediateEmulator_()), goog.async.nextTick.setImmediate_(cb));\n};\ngoog.async.nextTick.useSetImmediate_ = function() {\n    return goog.global.Window && goog.global.Window.prototype && !goog.labs.userAgent.browser.isEdge() && goog.global.Window.prototype.setImmediate == goog.global.setImmediate ? !1 : !0;\n};\ngoog.async.nextTick.getSetImmediateEmulator_ = function() {\n    var Channel = goog.global.MessageChannel;\n    "undefined" === typeof Channel && "undefined" !== typeof window && window.postMessage && window.addEventListener && !goog.labs.userAgent.engine.isPresto() && (Channel = function() {\n        var iframe = document.createElement("IFRAME");\n        iframe.style.display = "none";\n        iframe.src = "";\n        document.documentElement.appendChild(iframe);\n        var win = iframe.contentWindow, doc = win.document;\n        doc.open();\n        doc.write("");\n        doc.close();\n        var message = "callImmediate" + Math.random(), origin = "file:" == win.location.protocol ? "*" : win.location.protocol + "//" + win.location.host, onmessage = goog.bind(function(e) {\n            if (("*" == origin || e.origin == origin) && e.data == message) {\n                this.port1.onmessage();\n            }\n        }, this);\n        win.addEventListener("message", onmessage, !1);\n        this.port1 = {};\n        this.port2 = {postMessage:function() {\n            win.postMessage(message, origin);\n        }};\n    });\n    if ("undefined" !== typeof Channel && !goog.labs.userAgent.browser.isIE()) {\n        var channel = new Channel, head = {}, tail = head;\n        channel.port1.onmessage = function() {\n            if (goog.isDef(head.next)) {\n                head = head.next;\n                var cb = head.cb;\n                head.cb = null;\n                cb();\n            }\n        };\n        return function(cb) {\n            tail.next = {cb:cb};\n            tail = tail.next;\n            channel.port2.postMessage(0);\n        };\n    }\n    return "undefined" !== typeof document && "onreadystatechange" in document.createElement("SCRIPT") ? function(cb) {\n        var script = document.createElement("SCRIPT");\n        script.onreadystatechange = function() {\n            script.onreadystatechange = null;\n            script.parentNode.removeChild(script);\n            script = null;\n            cb();\n            cb = null;\n        };\n        document.documentElement.appendChild(script);\n    } : function(cb) {\n        goog.global.setTimeout(cb, 0);\n    };\n};\ngoog.async.nextTick.wrapCallback_ = goog.functions.identity;\ngoog.debug.entryPointRegistry.register(function(transformer) {\n    goog.async.nextTick.wrapCallback_ = transformer;\n});\ngoog.async.WorkQueue = function() {\n    this.workTail_ = this.workHead_ = null;\n};\ngoog.async.WorkQueue.DEFAULT_MAX_UNUSED = 100;\ngoog.async.WorkQueue.freelist_ = new goog.async.FreeList(function() {\n    return new goog.async.WorkItem;\n}, function(item) {\n    item.reset();\n}, goog.async.WorkQueue.DEFAULT_MAX_UNUSED);\ngoog.async.WorkQueue.prototype.add = function(fn, scope) {\n    var item = this.getUnusedItem_();\n    item.set(fn, scope);\n    this.workTail_ ? this.workTail_.next = item : (goog.asserts.assert(!this.workHead_), this.workHead_ = item);\n    this.workTail_ = item;\n};\ngoog.async.WorkQueue.prototype.remove = function() {\n    var item = null;\n    this.workHead_ && (item = this.workHead_, this.workHead_ = this.workHead_.next, this.workHead_ || (this.workTail_ = null), item.next = null);\n    return item;\n};\ngoog.async.WorkQueue.prototype.returnUnused = function(item) {\n    goog.async.WorkQueue.freelist_.put(item);\n};\ngoog.async.WorkQueue.prototype.getUnusedItem_ = function() {\n    return goog.async.WorkQueue.freelist_.get();\n};\ngoog.async.WorkItem = function() {\n    this.next = this.scope = this.fn = null;\n};\ngoog.async.WorkItem.prototype.set = function(fn, scope) {\n    this.fn = fn;\n    this.scope = scope;\n    this.next = null;\n};\ngoog.async.WorkItem.prototype.reset = function() {\n    this.next = this.scope = this.fn = null;\n};\ngoog.async.run = function(callback, opt_context) {\n    goog.async.run.schedule_ || goog.async.run.initializeRunner_();\n    goog.async.run.workQueueScheduled_ || (goog.async.run.schedule_(), goog.async.run.workQueueScheduled_ = !0);\n    goog.async.run.workQueue_.add(callback, opt_context);\n};\ngoog.async.run.initializeRunner_ = function() {\n    var Promise = goog.global.Promise;\n    if (-1 != String(Promise).indexOf("[native code]")) {\n        var promise = Promise.resolve(void 0);\n        goog.async.run.schedule_ = function() {\n            promise.then(goog.async.run.processWorkQueue);\n        };\n    } else {\n        goog.async.run.schedule_ = function() {\n            goog.async.nextTick(goog.async.run.processWorkQueue);\n        };\n    }\n};\ngoog.async.run.forceNextTick = function(opt_realSetTimeout) {\n    goog.async.run.schedule_ = function() {\n        goog.async.nextTick(goog.async.run.processWorkQueue);\n        opt_realSetTimeout && opt_realSetTimeout(goog.async.run.processWorkQueue);\n    };\n};\ngoog.async.run.workQueueScheduled_ = !1;\ngoog.async.run.workQueue_ = new goog.async.WorkQueue;\ngoog.DEBUG && (goog.async.run.resetQueue = function() {\n    goog.async.run.workQueueScheduled_ = !1;\n    goog.async.run.workQueue_ = new goog.async.WorkQueue;\n});\ngoog.async.run.processWorkQueue = function() {\n    for (var item = null;item = goog.async.run.workQueue_.remove();) {\n        try {\n            item.fn.call(item.scope);\n        } catch (e) {\n            goog.async.throwException(e);\n        }\n        goog.async.run.workQueue_.returnUnused(item);\n    }\n    goog.async.run.workQueueScheduled_ = !1;\n};\ngoog.promise = {};\ngoog.promise.Resolver = function() {\n};\ngoog.Thenable = function() {\n};\ngoog.Thenable.prototype.then = function(opt_onFulfilled, opt_onRejected, opt_context) {\n};\ngoog.Thenable.IMPLEMENTED_BY_PROP = "$goog_Thenable";\ngoog.Thenable.addImplementation = function(ctor) {\n    ctor.prototype.then = ctor.prototype.then;\n    ctor.prototype[goog.Thenable.IMPLEMENTED_BY_PROP] = !0;\n};\ngoog.Thenable.isImplementedBy = function(object) {\n    if (!object) {\n        return !1;\n    }\n    try {\n        return !!object[goog.Thenable.IMPLEMENTED_BY_PROP];\n        return !!object.$goog_Thenable;\n    } catch (e) {\n        return !1;\n    }\n};\ngoog.Promise = function(resolver, opt_context) {\n    this.state_ = goog.Promise.State_.PENDING;\n    this.result_ = void 0;\n    this.callbackEntriesTail_ = this.callbackEntries_ = this.parent_ = null;\n    this.executing_ = !1;\n    0 < goog.Promise.UNHANDLED_REJECTION_DELAY ? this.unhandledRejectionId_ = 0 : 0 == goog.Promise.UNHANDLED_REJECTION_DELAY && (this.hadUnhandledRejection_ = !1);\n    goog.Promise.LONG_STACK_TRACES && (this.stack_ = [], this.addStackTrace_(Error("created")), this.currentStep_ = 0);\n    if (resolver != goog.nullFunction) {\n        try {\n            var self = this;\n            resolver.call(opt_context, function(value) {\n                self.resolve_(goog.Promise.State_.FULFILLED, value);\n            }, function(reason) {\n                if (goog.DEBUG && !(reason instanceof goog.Promise.CancellationError)) {\n                    try {\n                        if (reason instanceof Error) {\n                            throw reason;\n                        }\n                        throw Error("Promise rejected.");\n                    } catch (e) {\n                    }\n                }\n                self.resolve_(goog.Promise.State_.REJECTED, reason);\n            });\n        } catch (e) {\n            this.resolve_(goog.Promise.State_.REJECTED, e);\n        }\n    }\n};\ngoog.Promise.LONG_STACK_TRACES = !1;\ngoog.Promise.UNHANDLED_REJECTION_DELAY = 0;\ngoog.Promise.State_ = {PENDING:0, BLOCKED:1, FULFILLED:2, REJECTED:3};\ngoog.Promise.CallbackEntry_ = function() {\n    this.next = this.context = this.onRejected = this.onFulfilled = this.child = null;\n    this.always = !1;\n};\ngoog.Promise.CallbackEntry_.prototype.reset = function() {\n    this.context = this.onRejected = this.onFulfilled = this.child = null;\n    this.always = !1;\n};\ngoog.Promise.DEFAULT_MAX_UNUSED = 100;\ngoog.Promise.freelist_ = new goog.async.FreeList(function() {\n    return new goog.Promise.CallbackEntry_;\n}, function(item) {\n    item.reset();\n}, goog.Promise.DEFAULT_MAX_UNUSED);\ngoog.Promise.getCallbackEntry_ = function(onFulfilled, onRejected, context) {\n    var entry = goog.Promise.freelist_.get();\n    entry.onFulfilled = onFulfilled;\n    entry.onRejected = onRejected;\n    entry.context = context;\n    return entry;\n};\ngoog.Promise.returnEntry_ = function(entry) {\n    goog.Promise.freelist_.put(entry);\n};\ngoog.Promise.resolve = function(opt_value) {\n    if (opt_value instanceof goog.Promise) {\n        return opt_value;\n    }\n    var promise = new goog.Promise(goog.nullFunction);\n    promise.resolve_(goog.Promise.State_.FULFILLED, opt_value);\n    return promise;\n};\ngoog.Promise.reject = function(opt_reason) {\n    return new goog.Promise(function(resolve, reject) {\n        reject(opt_reason);\n    });\n};\ngoog.Promise.resolveThen_ = function(value, onFulfilled, onRejected) {\n    goog.Promise.maybeThen_(value, onFulfilled, onRejected, null) || goog.async.run(goog.partial(onFulfilled, value));\n};\ngoog.Promise.race = function(promises) {\n    return new goog.Promise(function(resolve, reject) {\n        promises.length || resolve(void 0);\n        for (var i = 0, promise;i < promises.length;i++) {\n            promise = promises[i], goog.Promise.resolveThen_(promise, resolve, reject);\n        }\n    });\n};\ngoog.Promise.all = function(promises) {\n    return new goog.Promise(function(resolve, reject) {\n        var toFulfill = promises.length, values = [];\n        if (toFulfill) {\n            for (var onFulfill = function(index, value) {\n                toFulfill--;\n                values[index] = value;\n                0 == toFulfill && resolve(values);\n            }, onReject = function(reason) {\n                reject(reason);\n            }, i = 0, promise;i < promises.length;i++) {\n                promise = promises[i], goog.Promise.resolveThen_(promise, goog.partial(onFulfill, i), onReject);\n            }\n        } else {\n            resolve(values);\n        }\n    });\n};\ngoog.Promise.allSettled = function(promises) {\n    return new goog.Promise(function(resolve, reject) {\n        var toSettle = promises.length, results = [];\n        if (toSettle) {\n            for (var onSettled = function(index, fulfilled, result) {\n                toSettle--;\n                results[index] = fulfilled ? {fulfilled:!0, value:result} : {fulfilled:!1, reason:result};\n                0 == toSettle && resolve(results);\n            }, i = 0, promise;i < promises.length;i++) {\n                promise = promises[i], goog.Promise.resolveThen_(promise, goog.partial(onSettled, i, !0), goog.partial(onSettled, i, !1));\n            }\n        } else {\n            resolve(results);\n        }\n    });\n};\ngoog.Promise.firstFulfilled = function(promises) {\n    return new goog.Promise(function(resolve, reject) {\n        var toReject = promises.length, reasons = [];\n        if (toReject) {\n            for (var onFulfill = function(value) {\n                resolve(value);\n            }, onReject = function(index, reason) {\n                toReject--;\n                reasons[index] = reason;\n                0 == toReject && reject(reasons);\n            }, i = 0, promise;i < promises.length;i++) {\n                promise = promises[i], goog.Promise.resolveThen_(promise, onFulfill, goog.partial(onReject, i));\n            }\n        } else {\n            resolve(void 0);\n        }\n    });\n};\ngoog.Promise.withResolver = function() {\n    var resolve, reject, promise = new goog.Promise(function(rs, rj) {\n        resolve = rs;\n        reject = rj;\n    });\n    return new goog.Promise.Resolver_(promise, resolve, reject);\n};\ngoog.Promise.prototype.then = function(opt_onFulfilled, opt_onRejected, opt_context) {\n    null != opt_onFulfilled && goog.asserts.assertFunction(opt_onFulfilled, "opt_onFulfilled should be a function.");\n    null != opt_onRejected && goog.asserts.assertFunction(opt_onRejected, "opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");\n    goog.Promise.LONG_STACK_TRACES && this.addStackTrace_(Error("then"));\n    return this.addChildPromise_(goog.isFunction(opt_onFulfilled) ? opt_onFulfilled : null, goog.isFunction(opt_onRejected) ? opt_onRejected : null, opt_context);\n};\ngoog.Thenable.addImplementation(goog.Promise);\ngoog.Promise.prototype.thenVoid = function(opt_onFulfilled, opt_onRejected, opt_context) {\n    null != opt_onFulfilled && goog.asserts.assertFunction(opt_onFulfilled, "opt_onFulfilled should be a function.");\n    null != opt_onRejected && goog.asserts.assertFunction(opt_onRejected, "opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");\n    goog.Promise.LONG_STACK_TRACES && this.addStackTrace_(Error("then"));\n    this.addCallbackEntry_(goog.Promise.getCallbackEntry_(opt_onFulfilled || goog.nullFunction, opt_onRejected || null, opt_context));\n};\ngoog.Promise.prototype.thenAlways = function(onSettled, opt_context) {\n    goog.Promise.LONG_STACK_TRACES && this.addStackTrace_(Error("thenAlways"));\n    var entry = goog.Promise.getCallbackEntry_(onSettled, onSettled, opt_context);\n    entry.always = !0;\n    this.addCallbackEntry_(entry);\n    return this;\n};\ngoog.Promise.prototype.thenCatch = function(onRejected, opt_context) {\n    goog.Promise.LONG_STACK_TRACES && this.addStackTrace_(Error("thenCatch"));\n    return this.addChildPromise_(null, onRejected, opt_context);\n};\ngoog.Promise.prototype.cancel = function(opt_message) {\n    this.state_ == goog.Promise.State_.PENDING && goog.async.run(function() {\n        var err = new goog.Promise.CancellationError(opt_message);\n        this.cancelInternal_(err);\n    }, this);\n};\ngoog.Promise.prototype.cancelInternal_ = function(err) {\n    this.state_ == goog.Promise.State_.PENDING && (this.parent_ ? (this.parent_.cancelChild_(this, err), this.parent_ = null) : this.resolve_(goog.Promise.State_.REJECTED, err));\n};\ngoog.Promise.prototype.cancelChild_ = function(childPromise, err) {\n    if (this.callbackEntries_) {\n        for (var childCount = 0, childEntry = null, beforeChildEntry = null, entry = this.callbackEntries_;entry && (entry.always || (childCount++, entry.child == childPromise && (childEntry = entry), !(childEntry && 1 < childCount)));entry = entry.next) {\n            childEntry || (beforeChildEntry = entry);\n        }\n        childEntry && (this.state_ == goog.Promise.State_.PENDING && 1 == childCount ? this.cancelInternal_(err) : (beforeChildEntry ? this.removeEntryAfter_(beforeChildEntry) : this.popEntry_(), this.executeCallback_(childEntry, goog.Promise.State_.REJECTED, err)));\n    }\n};\ngoog.Promise.prototype.addCallbackEntry_ = function(callbackEntry) {\n    this.hasEntry_() || this.state_ != goog.Promise.State_.FULFILLED && this.state_ != goog.Promise.State_.REJECTED || this.scheduleCallbacks_();\n    this.queueEntry_(callbackEntry);\n};\ngoog.Promise.prototype.addChildPromise_ = function(onFulfilled, onRejected, opt_context) {\n    var callbackEntry = goog.Promise.getCallbackEntry_(null, null, null);\n    callbackEntry.child = new goog.Promise(function(resolve, reject) {\n        callbackEntry.onFulfilled = onFulfilled ? function(value) {\n            try {\n                var result = onFulfilled.call(opt_context, value);\n                resolve(result);\n            } catch (err) {\n                reject(err);\n            }\n        } : resolve;\n        callbackEntry.onRejected = onRejected ? function(reason) {\n            try {\n                var result = onRejected.call(opt_context, reason);\n                !goog.isDef(result) && reason instanceof goog.Promise.CancellationError ? reject(reason) : resolve(result);\n            } catch (err) {\n                reject(err);\n            }\n        } : reject;\n    });\n    callbackEntry.child.parent_ = this;\n    this.addCallbackEntry_(callbackEntry);\n    return callbackEntry.child;\n};\ngoog.Promise.prototype.unblockAndFulfill_ = function(value) {\n    goog.asserts.assert(this.state_ == goog.Promise.State_.BLOCKED);\n    this.state_ = goog.Promise.State_.PENDING;\n    this.resolve_(goog.Promise.State_.FULFILLED, value);\n};\ngoog.Promise.prototype.unblockAndReject_ = function(reason) {\n    goog.asserts.assert(this.state_ == goog.Promise.State_.BLOCKED);\n    this.state_ = goog.Promise.State_.PENDING;\n    this.resolve_(goog.Promise.State_.REJECTED, reason);\n};\ngoog.Promise.prototype.resolve_ = function(state, x) {\n    this.state_ == goog.Promise.State_.PENDING && (this === x && (state = goog.Promise.State_.REJECTED, x = new TypeError("Promise cannot resolve to itself")), this.state_ = goog.Promise.State_.BLOCKED, goog.Promise.maybeThen_(x, this.unblockAndFulfill_, this.unblockAndReject_, this) || (this.result_ = x, this.state_ = state, this.parent_ = null, this.scheduleCallbacks_(), state != goog.Promise.State_.REJECTED || x instanceof goog.Promise.CancellationError || goog.Promise.addUnhandledRejection_(this,\n        x)));\n};\ngoog.Promise.maybeThen_ = function(value, onFulfilled, onRejected, context) {\n    if (value instanceof goog.Promise) {\n        return value.thenVoid(onFulfilled, onRejected, context), !0;\n    }\n    if (goog.Thenable.isImplementedBy(value)) {\n        return value.then(onFulfilled, onRejected, context), !0;\n    }\n    if (goog.isObject(value)) {\n        try {\n            var then = value.then;\n            if (goog.isFunction(then)) {\n                return goog.Promise.tryThen_(value, then, onFulfilled, onRejected, context), !0;\n            }\n        } catch (e) {\n            return onRejected.call(context, e), !0;\n        }\n    }\n    return !1;\n};\ngoog.Promise.tryThen_ = function(thenable, then, onFulfilled, onRejected, context) {\n    var called = !1, resolve = function(value) {\n        called || (called = !0, onFulfilled.call(context, value));\n    }, reject = function(reason) {\n        called || (called = !0, onRejected.call(context, reason));\n    };\n    try {\n        then.call(thenable, resolve, reject);\n    } catch (e) {\n        reject(e);\n    }\n};\ngoog.Promise.prototype.scheduleCallbacks_ = function() {\n    this.executing_ || (this.executing_ = !0, goog.async.run(this.executeCallbacks_, this));\n};\ngoog.Promise.prototype.hasEntry_ = function() {\n    return !!this.callbackEntries_;\n};\ngoog.Promise.prototype.queueEntry_ = function(entry) {\n    goog.asserts.assert(null != entry.onFulfilled);\n    this.callbackEntriesTail_ ? this.callbackEntriesTail_.next = entry : this.callbackEntries_ = entry;\n    this.callbackEntriesTail_ = entry;\n};\ngoog.Promise.prototype.popEntry_ = function() {\n    var entry = null;\n    this.callbackEntries_ && (entry = this.callbackEntries_, this.callbackEntries_ = entry.next, entry.next = null);\n    this.callbackEntries_ || (this.callbackEntriesTail_ = null);\n    null != entry && goog.asserts.assert(null != entry.onFulfilled);\n    return entry;\n};\ngoog.Promise.prototype.removeEntryAfter_ = function(previous) {\n    goog.asserts.assert(this.callbackEntries_);\n    goog.asserts.assert(null != previous);\n    previous.next == this.callbackEntriesTail_ && (this.callbackEntriesTail_ = previous);\n    previous.next = previous.next.next;\n};\ngoog.Promise.prototype.executeCallbacks_ = function() {\n    for (var entry = null;entry = this.popEntry_();) {\n        goog.Promise.LONG_STACK_TRACES && this.currentStep_++, this.executeCallback_(entry, this.state_, this.result_);\n    }\n    this.executing_ = !1;\n};\ngoog.Promise.prototype.executeCallback_ = function(callbackEntry, state, result) {\n    state == goog.Promise.State_.REJECTED && callbackEntry.onRejected && !callbackEntry.always && this.removeUnhandledRejection_();\n    if (callbackEntry.child) {\n        callbackEntry.child.parent_ = null, goog.Promise.invokeCallback_(callbackEntry, state, result);\n    } else {\n        try {\n            callbackEntry.always ? callbackEntry.onFulfilled.call(callbackEntry.context) : goog.Promise.invokeCallback_(callbackEntry, state, result);\n        } catch (err) {\n            goog.Promise.handleRejection_.call(null, err);\n        }\n    }\n    goog.Promise.returnEntry_(callbackEntry);\n};\ngoog.Promise.invokeCallback_ = function(callbackEntry, state, result) {\n    state == goog.Promise.State_.FULFILLED ? callbackEntry.onFulfilled.call(callbackEntry.context, result) : callbackEntry.onRejected && callbackEntry.onRejected.call(callbackEntry.context, result);\n};\ngoog.Promise.prototype.addStackTrace_ = function(err) {\n    if (goog.Promise.LONG_STACK_TRACES && goog.isString(err.stack)) {\n        var trace = err.stack.split("\\n", 4)[3], message = err.message, message = message + Array(11 - message.length).join(" ");\n        this.stack_.push(message + trace);\n    }\n};\ngoog.Promise.prototype.appendLongStack_ = function(err) {\n    if (goog.Promise.LONG_STACK_TRACES && err && goog.isString(err.stack) && this.stack_.length) {\n        for (var longTrace = ["Promise trace:"], promise = this;promise;promise = promise.parent_) {\n            for (var i = this.currentStep_;0 <= i;i--) {\n                longTrace.push(promise.stack_[i]);\n            }\n            longTrace.push("Value: [" + (promise.state_ == goog.Promise.State_.REJECTED ? "REJECTED" : "FULFILLED") + "] <" + String(promise.result_) + ">");\n        }\n        err.stack += "\\n\\n" + longTrace.join("\\n");\n    }\n};\ngoog.Promise.prototype.removeUnhandledRejection_ = function() {\n    if (0 < goog.Promise.UNHANDLED_REJECTION_DELAY) {\n        for (var p = this;p && p.unhandledRejectionId_;p = p.parent_) {\n            goog.global.clearTimeout(p.unhandledRejectionId_), p.unhandledRejectionId_ = 0;\n        }\n    } else {\n        if (0 == goog.Promise.UNHANDLED_REJECTION_DELAY) {\n            for (p = this;p && p.hadUnhandledRejection_;p = p.parent_) {\n                p.hadUnhandledRejection_ = !1;\n            }\n        }\n    }\n};\ngoog.Promise.addUnhandledRejection_ = function(promise, reason) {\n    0 < goog.Promise.UNHANDLED_REJECTION_DELAY ? promise.unhandledRejectionId_ = goog.global.setTimeout(function() {\n        promise.appendLongStack_(reason);\n        goog.Promise.handleRejection_.call(null, reason);\n    }, goog.Promise.UNHANDLED_REJECTION_DELAY) : 0 == goog.Promise.UNHANDLED_REJECTION_DELAY && (promise.hadUnhandledRejection_ = !0, goog.async.run(function() {\n        promise.hadUnhandledRejection_ && (promise.appendLongStack_(reason), goog.Promise.handleRejection_.call(null, reason));\n    }));\n};\ngoog.Promise.handleRejection_ = goog.async.throwException;\ngoog.Promise.setUnhandledRejectionHandler = function(handler) {\n    goog.Promise.handleRejection_ = handler;\n};\ngoog.Promise.CancellationError = function(opt_message) {\n    goog.debug.Error.call(this, opt_message);\n};\ngoog.inherits(goog.Promise.CancellationError, goog.debug.Error);\ngoog.Promise.CancellationError.prototype.name = "cancel";\ngoog.Promise.Resolver_ = function(promise, resolve, reject) {\n    this.promise = promise;\n    this.resolve = resolve;\n    this.reject = reject;\n};\n/*\n Portions of this code are from MochiKit, received by\n The Closure Authors under the MIT license. All other code is Copyright\n 2005-2009 The Closure Authors. All Rights Reserved.\n */\ngoog.async.Deferred = function(opt_onCancelFunction, opt_defaultScope) {\n    this.sequence_ = [];\n    this.onCancelFunction_ = opt_onCancelFunction;\n    this.defaultScope_ = opt_defaultScope || null;\n    this.hadError_ = this.fired_ = !1;\n    this.result_ = void 0;\n    this.silentlyCanceled_ = this.blocking_ = this.blocked_ = !1;\n    this.unhandledErrorId_ = 0;\n    this.parent_ = null;\n    this.branches_ = 0;\n    if (goog.async.Deferred.LONG_STACK_TRACES && (this.constructorStack_ = null, Error.captureStackTrace)) {\n        var target = {stack:""};\n        Error.captureStackTrace(target, goog.async.Deferred);\n        "string" == typeof target.stack && (this.constructorStack_ = target.stack.replace(/^[^\\n]*\\n/, ""));\n    }\n};\ngoog.async.Deferred.STRICT_ERRORS = !1;\ngoog.async.Deferred.LONG_STACK_TRACES = !1;\ngoog.async.Deferred.prototype.cancel = function(opt_deepCancel) {\n    if (this.hasFired()) {\n        this.result_ instanceof goog.async.Deferred && this.result_.cancel();\n    } else {\n        if (this.parent_) {\n            var parent = this.parent_;\n            delete this.parent_;\n            opt_deepCancel ? parent.cancel(opt_deepCancel) : parent.branchCancel_();\n        }\n        this.onCancelFunction_ ? this.onCancelFunction_.call(this.defaultScope_, this) : this.silentlyCanceled_ = !0;\n        this.hasFired() || this.errback(new goog.async.Deferred.CanceledError(this));\n    }\n};\ngoog.async.Deferred.prototype.branchCancel_ = function() {\n    this.branches_--;\n    0 >= this.branches_ && this.cancel();\n};\ngoog.async.Deferred.prototype.continue_ = function(isSuccess, res) {\n    this.blocked_ = !1;\n    this.updateResult_(isSuccess, res);\n};\ngoog.async.Deferred.prototype.updateResult_ = function(isSuccess, res) {\n    this.fired_ = !0;\n    this.result_ = res;\n    this.hadError_ = !isSuccess;\n    this.fire_();\n};\ngoog.async.Deferred.prototype.check_ = function() {\n    if (this.hasFired()) {\n        if (!this.silentlyCanceled_) {\n            throw new goog.async.Deferred.AlreadyCalledError(this);\n        }\n        this.silentlyCanceled_ = !1;\n    }\n};\ngoog.async.Deferred.prototype.callback = function(opt_result) {\n    this.check_();\n    this.assertNotDeferred_(opt_result);\n    this.updateResult_(!0, opt_result);\n};\ngoog.async.Deferred.prototype.errback = function(opt_result) {\n    this.check_();\n    this.assertNotDeferred_(opt_result);\n    this.makeStackTraceLong_(opt_result);\n    this.updateResult_(!1, opt_result);\n};\ngoog.async.Deferred.prototype.makeStackTraceLong_ = function(error) {\n    goog.async.Deferred.LONG_STACK_TRACES && this.constructorStack_ && goog.isObject(error) && error.stack && /^[^\\n]+(\\n   [^\\n]+)+/.test(error.stack) && (error.stack = error.stack + "\\nDEFERRED OPERATION:\\n" + this.constructorStack_);\n};\ngoog.async.Deferred.prototype.assertNotDeferred_ = function(obj) {\n    goog.asserts.assert(!(obj instanceof goog.async.Deferred), "An execution sequence may not be initiated with a blocking Deferred.");\n};\ngoog.async.Deferred.prototype.addCallback = function(cb, opt_scope) {\n    return this.addCallbacks(cb, null, opt_scope);\n};\ngoog.async.Deferred.prototype.addErrback = function(eb, opt_scope) {\n    return this.addCallbacks(null, eb, opt_scope);\n};\ngoog.async.Deferred.prototype.addBoth = function(f, opt_scope) {\n    return this.addCallbacks(f, f, opt_scope);\n};\ngoog.async.Deferred.prototype.addFinally = function(f, opt_scope) {\n    var self = this;\n    return this.addCallbacks(f, function(err) {\n        var result = f.call(self, err);\n        if (!goog.isDef(result)) {\n            throw err;\n        }\n        return result;\n    }, opt_scope);\n};\ngoog.async.Deferred.prototype.addCallbacks = function(cb, eb, opt_scope) {\n    goog.asserts.assert(!this.blocking_, "Blocking Deferreds can not be re-used");\n    this.sequence_.push([cb, eb, opt_scope]);\n    this.hasFired() && this.fire_();\n    return this;\n};\ngoog.async.Deferred.prototype.then = function(opt_onFulfilled, opt_onRejected, opt_context) {\n    var resolve, reject, promise = new goog.Promise(function(res, rej) {\n        resolve = res;\n        reject = rej;\n    });\n    this.addCallbacks(resolve, function(reason) {\n        reason instanceof goog.async.Deferred.CanceledError ? promise.cancel() : reject(reason);\n    });\n    return promise.then(opt_onFulfilled, opt_onRejected, opt_context);\n};\ngoog.Thenable.addImplementation(goog.async.Deferred);\ngoog.async.Deferred.prototype.chainDeferred = function(otherDeferred) {\n    this.addCallbacks(otherDeferred.callback, otherDeferred.errback, otherDeferred);\n    return this;\n};\ngoog.async.Deferred.prototype.awaitDeferred = function(otherDeferred) {\n    return otherDeferred instanceof goog.async.Deferred ? this.addCallback(goog.bind(otherDeferred.branch, otherDeferred)) : this.addCallback(function() {\n        return otherDeferred;\n    });\n};\ngoog.async.Deferred.prototype.branch = function(opt_propagateCancel) {\n    var d = new goog.async.Deferred;\n    this.chainDeferred(d);\n    opt_propagateCancel && (d.parent_ = this, this.branches_++);\n    return d;\n};\ngoog.async.Deferred.prototype.hasFired = function() {\n    return this.fired_;\n};\ngoog.async.Deferred.prototype.isError = function(res) {\n    return res instanceof Error;\n};\ngoog.async.Deferred.prototype.hasErrback_ = function() {\n    return goog.array.some(this.sequence_, function(sequenceRow) {\n        return goog.isFunction(sequenceRow[1]);\n    });\n};\ngoog.async.Deferred.prototype.fire_ = function() {\n    this.unhandledErrorId_ && this.hasFired() && this.hasErrback_() && (goog.async.Deferred.unscheduleError_(this.unhandledErrorId_), this.unhandledErrorId_ = 0);\n    this.parent_ && (this.parent_.branches_--, delete this.parent_);\n    for (var res = this.result_, unhandledException = !1, isNewlyBlocked = !1;this.sequence_.length && !this.blocked_;) {\n        var sequenceEntry = this.sequence_.shift(), callback = sequenceEntry[0], errback = sequenceEntry[1], scope = sequenceEntry[2], f = this.hadError_ ? errback : callback;\n        if (f) {\n            try {\n                var ret = f.call(scope || this.defaultScope_, res);\n                goog.isDef(ret) && (this.hadError_ = this.hadError_ && (ret == res || this.isError(ret)), this.result_ = res = ret);\n                if (goog.Thenable.isImplementedBy(res) || "function" === typeof goog.global.Promise && res instanceof goog.global.Promise) {\n                    this.blocked_ = isNewlyBlocked = !0;\n                }\n            } catch (ex) {\n                res = ex, this.hadError_ = !0, this.makeStackTraceLong_(res), this.hasErrback_() || (unhandledException = !0);\n            }\n        }\n    }\n    this.result_ = res;\n    if (isNewlyBlocked) {\n        var onCallback = goog.bind(this.continue_, this, !0), onErrback = goog.bind(this.continue_, this, !1);\n        res instanceof goog.async.Deferred ? (res.addCallbacks(onCallback, onErrback), res.blocking_ = !0) : res.then(onCallback, onErrback);\n    } else {\n        !goog.async.Deferred.STRICT_ERRORS || !this.isError(res) || res instanceof goog.async.Deferred.CanceledError || (unhandledException = this.hadError_ = !0);\n    }\n    unhandledException && (this.unhandledErrorId_ = goog.async.Deferred.scheduleError_(res));\n};\ngoog.async.Deferred.succeed = function(opt_result) {\n    var d = new goog.async.Deferred;\n    d.callback(opt_result);\n    return d;\n};\ngoog.async.Deferred.fromPromise = function(promise) {\n    var d = new goog.async.Deferred;\n    d.callback();\n    d.addCallback(function() {\n        return promise;\n    });\n    return d;\n};\ngoog.async.Deferred.fail = function(res) {\n    var d = new goog.async.Deferred;\n    d.errback(res);\n    return d;\n};\ngoog.async.Deferred.canceled = function() {\n    var d = new goog.async.Deferred;\n    d.cancel();\n    return d;\n};\ngoog.async.Deferred.when = function(value, callback, opt_scope) {\n    return value instanceof goog.async.Deferred ? value.branch(!0).addCallback(callback, opt_scope) : goog.async.Deferred.succeed(value).addCallback(callback, opt_scope);\n};\ngoog.async.Deferred.AlreadyCalledError = function(deferred) {\n    goog.debug.Error.call(this);\n    this.deferred = deferred;\n};\ngoog.inherits(goog.async.Deferred.AlreadyCalledError, goog.debug.Error);\ngoog.async.Deferred.AlreadyCalledError.prototype.message = "Deferred has already fired";\ngoog.async.Deferred.AlreadyCalledError.prototype.name = "AlreadyCalledError";\ngoog.async.Deferred.CanceledError = function(deferred) {\n    goog.debug.Error.call(this);\n    this.deferred = deferred;\n};\ngoog.inherits(goog.async.Deferred.CanceledError, goog.debug.Error);\ngoog.async.Deferred.CanceledError.prototype.message = "Deferred was canceled";\ngoog.async.Deferred.CanceledError.prototype.name = "CanceledError";\ngoog.async.Deferred.Error_ = function(error) {\n    this.id_ = goog.global.setTimeout(goog.bind(this.throwError, this), 0);\n    this.error_ = error;\n};\ngoog.async.Deferred.Error_.prototype.throwError = function() {\n    goog.asserts.assert(goog.async.Deferred.errorMap_[this.id_], "Cannot throw an error that is not scheduled.");\n    delete goog.async.Deferred.errorMap_[this.id_];\n    throw this.error_;\n};\ngoog.async.Deferred.Error_.prototype.resetTimer = function() {\n    goog.global.clearTimeout(this.id_);\n};\ngoog.async.Deferred.errorMap_ = {};\ngoog.async.Deferred.scheduleError_ = function(error) {\n    var deferredError = new goog.async.Deferred.Error_(error);\n    goog.async.Deferred.errorMap_[deferredError.id_] = deferredError;\n    return deferredError.id_;\n};\ngoog.async.Deferred.unscheduleError_ = function(id) {\n    var error = goog.async.Deferred.errorMap_[id];\n    error && (error.resetTimer(), delete goog.async.Deferred.errorMap_[id]);\n};\ngoog.async.Deferred.assertNoErrors = function() {\n    var map = goog.async.Deferred.errorMap_, key;\n    for (key in map) {\n        var error = map[key];\n        error.resetTimer();\n        error.throwError();\n    }\n};\ngoog.fs = {};\ngoog.fs.Error = function(error, action) {\n    goog.isDef(error.name) ? (this.name = error.name, this.code = goog.fs.Error.getCodeFromName_(error.name)) : (this.code = error.code, this.name = goog.fs.Error.getNameFromCode_(error.code));\n    goog.debug.Error.call(this, goog.string.subs("%s %s", this.name, action));\n};\ngoog.inherits(goog.fs.Error, goog.debug.Error);\ngoog.fs.Error.ErrorName = {ABORT:"AbortError", ENCODING:"EncodingError", INVALID_MODIFICATION:"InvalidModificationError", INVALID_STATE:"InvalidStateError", NOT_FOUND:"NotFoundError", NOT_READABLE:"NotReadableError", NO_MODIFICATION_ALLOWED:"NoModificationAllowedError", PATH_EXISTS:"PathExistsError", QUOTA_EXCEEDED:"QuotaExceededError", SECURITY:"SecurityError", SYNTAX:"SyntaxError", TYPE_MISMATCH:"TypeMismatchError"};\ngoog.fs.Error.ErrorCode = {NOT_FOUND:1, SECURITY:2, ABORT:3, NOT_READABLE:4, ENCODING:5, NO_MODIFICATION_ALLOWED:6, INVALID_STATE:7, SYNTAX:8, INVALID_MODIFICATION:9, QUOTA_EXCEEDED:10, TYPE_MISMATCH:11, PATH_EXISTS:12};\ngoog.fs.Error.getNameFromCode_ = function(code) {\n    var name = goog.object.findKey(goog.fs.Error.NameToCodeMap_, function(c) {\n        return code == c;\n    });\n    if (!goog.isDef(name)) {\n        throw Error("Invalid code: " + code);\n    }\n    return name;\n};\ngoog.fs.Error.getCodeFromName_ = function(name) {\n    return goog.fs.Error.NameToCodeMap_[name];\n};\ngoog.fs.Error.NameToCodeMap_ = goog.object.create(goog.fs.Error.ErrorName.ABORT, goog.fs.Error.ErrorCode.ABORT, goog.fs.Error.ErrorName.ENCODING, goog.fs.Error.ErrorCode.ENCODING, goog.fs.Error.ErrorName.INVALID_MODIFICATION, goog.fs.Error.ErrorCode.INVALID_MODIFICATION, goog.fs.Error.ErrorName.INVALID_STATE, goog.fs.Error.ErrorCode.INVALID_STATE, goog.fs.Error.ErrorName.NOT_FOUND, goog.fs.Error.ErrorCode.NOT_FOUND, goog.fs.Error.ErrorName.NOT_READABLE, goog.fs.Error.ErrorCode.NOT_READABLE, goog.fs.Error.ErrorName.NO_MODIFICATION_ALLOWED,\n    goog.fs.Error.ErrorCode.NO_MODIFICATION_ALLOWED, goog.fs.Error.ErrorName.PATH_EXISTS, goog.fs.Error.ErrorCode.PATH_EXISTS, goog.fs.Error.ErrorName.QUOTA_EXCEEDED, goog.fs.Error.ErrorCode.QUOTA_EXCEEDED, goog.fs.Error.ErrorName.SECURITY, goog.fs.Error.ErrorCode.SECURITY, goog.fs.Error.ErrorName.SYNTAX, goog.fs.Error.ErrorCode.SYNTAX, goog.fs.Error.ErrorName.TYPE_MISMATCH, goog.fs.Error.ErrorCode.TYPE_MISMATCH);\ngoog.fs.ProgressEvent = function(event, target) {\n    goog.events.Event.call(this, event.type, target);\n    this.event_ = event;\n};\ngoog.inherits(goog.fs.ProgressEvent, goog.events.Event);\ngoog.fs.ProgressEvent.prototype.isLengthComputable = function() {\n    return this.event_.lengthComputable;\n};\ngoog.fs.ProgressEvent.prototype.getLoaded = function() {\n    return this.event_.loaded;\n};\ngoog.fs.ProgressEvent.prototype.getTotal = function() {\n    return this.event_.total;\n};\ngoog.fs.FileReader = function() {\n    goog.events.EventTarget.call(this);\n    this.reader_ = new FileReader;\n    this.reader_.onloadstart = goog.bind(this.dispatchProgressEvent_, this);\n    this.reader_.onprogress = goog.bind(this.dispatchProgressEvent_, this);\n    this.reader_.onload = goog.bind(this.dispatchProgressEvent_, this);\n    this.reader_.onabort = goog.bind(this.dispatchProgressEvent_, this);\n    this.reader_.onerror = goog.bind(this.dispatchProgressEvent_, this);\n    this.reader_.onloadend = goog.bind(this.dispatchProgressEvent_, this);\n};\ngoog.inherits(goog.fs.FileReader, goog.events.EventTarget);\ngoog.fs.FileReader.ReadyState = {INIT:0, LOADING:1, DONE:2};\ngoog.fs.FileReader.EventType = {LOAD_START:"loadstart", PROGRESS:"progress", LOAD:"load", ABORT:"abort", ERROR:"error", LOAD_END:"loadend"};\ngoog.fs.FileReader.prototype.abort = function() {\n    try {\n        this.reader_.abort();\n    } catch (e) {\n        throw new goog.fs.Error(e, "aborting read");\n    }\n};\ngoog.fs.FileReader.prototype.getReadyState = function() {\n    return this.reader_.readyState;\n};\ngoog.fs.FileReader.prototype.getResult = function() {\n    return this.reader_.result;\n};\ngoog.fs.FileReader.prototype.getError = function() {\n    return this.reader_.error && new goog.fs.Error(this.reader_.error, "reading file");\n};\ngoog.fs.FileReader.prototype.dispatchProgressEvent_ = function(event) {\n    this.dispatchEvent(new goog.fs.ProgressEvent(event, this));\n};\ngoog.fs.FileReader.prototype.disposeInternal = function() {\n    goog.fs.FileReader.superClass_.disposeInternal.call(this);\n    delete this.reader_;\n};\ngoog.fs.FileReader.prototype.readAsBinaryString = function(blob) {\n    this.reader_.readAsBinaryString(blob);\n};\ngoog.fs.FileReader.readAsBinaryString = function(blob) {\n    var reader = new goog.fs.FileReader, d = goog.fs.FileReader.createDeferred_(reader);\n    reader.readAsBinaryString(blob);\n    return d;\n};\ngoog.fs.FileReader.prototype.readAsArrayBuffer = function(blob) {\n    this.reader_.readAsArrayBuffer(blob);\n};\ngoog.fs.FileReader.readAsArrayBuffer = function(blob) {\n    var reader = new goog.fs.FileReader, d = goog.fs.FileReader.createDeferred_(reader);\n    reader.readAsArrayBuffer(blob);\n    return d;\n};\ngoog.fs.FileReader.prototype.readAsText = function(blob, opt_encoding) {\n    this.reader_.readAsText(blob, opt_encoding);\n};\ngoog.fs.FileReader.readAsText = function(blob, opt_encoding) {\n    var reader = new goog.fs.FileReader, d = goog.fs.FileReader.createDeferred_(reader);\n    reader.readAsText(blob, opt_encoding);\n    return d;\n};\ngoog.fs.FileReader.prototype.readAsDataUrl = function(blob) {\n    this.reader_.readAsDataURL(blob);\n};\ngoog.fs.FileReader.readAsDataUrl = function(blob) {\n    var reader = new goog.fs.FileReader, d = goog.fs.FileReader.createDeferred_(reader);\n    reader.readAsDataUrl(blob);\n    return d;\n};\ngoog.fs.FileReader.createDeferred_ = function(reader) {\n    var deferred = new goog.async.Deferred;\n    reader.listen(goog.fs.FileReader.EventType.LOAD_END, goog.partial(function(d, r, e) {\n        var result = r.getResult(), error = r.getError();\n        null == result || error ? d.errback(error) : d.callback(result);\n        r.dispose();\n    }, deferred, reader));\n    return deferred;\n};\ngoog.net = {};\ngoog.net.EventType = {COMPLETE:"complete", SUCCESS:"success", ERROR:"error", ABORT:"abort", READY:"ready", READY_STATE_CHANGE:"readystatechange", TIMEOUT:"timeout", INCREMENTAL_DATA:"incrementaldata", PROGRESS:"progress", DOWNLOAD_PROGRESS:"downloadprogress", UPLOAD_PROGRESS:"uploadprogress"};\ngoog.json = {};\ngoog.json.USE_NATIVE_JSON = !1;\ngoog.json.isValid = function(s) {\n    return /^\\s*$/.test(s) ? !1 : /^[\\],:{}\\s\\u2028\\u2029]*$/.test(s.replace(/\\\\["\\\\\\/bfnrtu]/g, "@").replace(/(?:"[^"\\\\\\n\\r\\u2028\\u2029\\x00-\\x08\\x0a-\\x1f]*"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?)[\\s\\u2028\\u2029]*(?=:|,|]|}|$)/g, "]").replace(/(?:^|:|,)(?:[\\s\\u2028\\u2029]*\\[)+/g, ""));\n};\ngoog.json.parse = goog.json.USE_NATIVE_JSON ? goog.global.JSON.parse : function(s) {\n    var o = String(s);\n    if (goog.json.isValid(o)) {\n        try {\n            return eval("(" + o + ")");\n        } catch (ex) {\n        }\n    }\n    throw Error("Invalid JSON string: " + o);\n};\ngoog.json.unsafeParse = goog.json.USE_NATIVE_JSON ? goog.global.JSON.parse : function(s) {\n    return eval("(" + s + ")");\n};\ngoog.json.serialize = goog.json.USE_NATIVE_JSON ? goog.global.JSON.stringify : function(object, opt_replacer) {\n    return (new goog.json.Serializer(opt_replacer)).serialize(object);\n};\ngoog.json.Serializer = function(opt_replacer) {\n    this.replacer_ = opt_replacer;\n};\ngoog.json.Serializer.prototype.serialize = function(object) {\n    var sb = [];\n    this.serializeInternal(object, sb);\n    return sb.join("");\n};\ngoog.json.Serializer.prototype.serializeInternal = function(object, sb) {\n    if (null == object) {\n        sb.push("null");\n    } else {\n        if ("object" == typeof object) {\n            if (goog.isArray(object)) {\n                this.serializeArray(object, sb);\n                return;\n            }\n            if (object instanceof String || object instanceof Number || object instanceof Boolean) {\n                object = object.valueOf();\n            } else {\n                this.serializeObject_(object, sb);\n                return;\n            }\n        }\n        switch(typeof object) {\n            case "string":\n                this.serializeString_(object, sb);\n                break;\n            case "number":\n                this.serializeNumber_(object, sb);\n                break;\n            case "boolean":\n                sb.push(String(object));\n                break;\n            case "function":\n                sb.push("null");\n                break;\n            default:\n                throw Error("Unknown type: " + typeof object);\n        }\n    }\n};\ngoog.json.Serializer.charToJsonCharCache_ = {\'"\':\'\\\\"\', "\\\\":"\\\\\\\\", "/":"\\\\/", "\\b":"\\\\b", "\\f":"\\\\f", "\\n":"\\\\n", "\\r":"\\\\r", "\\t":"\\\\t", "\\x0B":"\\\\u000b"};\ngoog.json.Serializer.charsToReplace_ = /\\uffff/.test("\\uffff") ? /[\\\\\\"\\x00-\\x1f\\x7f-\\uffff]/g : /[\\\\\\"\\x00-\\x1f\\x7f-\\xff]/g;\ngoog.json.Serializer.prototype.serializeString_ = function(s, sb) {\n    sb.push(\'"\', s.replace(goog.json.Serializer.charsToReplace_, function(c) {\n        var rv = goog.json.Serializer.charToJsonCharCache_[c];\n        rv || (rv = "\\\\u" + (c.charCodeAt(0) | 65536).toString(16).substr(1), goog.json.Serializer.charToJsonCharCache_[c] = rv);\n        return rv;\n    }), \'"\');\n};\ngoog.json.Serializer.prototype.serializeNumber_ = function(n, sb) {\n    sb.push(isFinite(n) && !isNaN(n) ? String(n) : "null");\n};\ngoog.json.Serializer.prototype.serializeArray = function(arr, sb) {\n    var l = arr.length;\n    sb.push("[");\n    for (var sep = "", i = 0;i < l;i++) {\n        sb.push(sep);\n        var value = arr[i];\n        this.serializeInternal(this.replacer_ ? this.replacer_.call(arr, String(i), value) : value, sb);\n        sep = ",";\n    }\n    sb.push("]");\n};\ngoog.json.Serializer.prototype.serializeObject_ = function(obj, sb) {\n    sb.push("{");\n    var sep = "", key;\n    for (key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n            var value = obj[key];\n            "function" != typeof value && (sb.push(sep), this.serializeString_(key, sb), sb.push(":"), this.serializeInternal(this.replacer_ ? this.replacer_.call(obj, key, value) : value, sb), sep = ",");\n        }\n    }\n    sb.push("}");\n};\ngoog.dom.tags = {};\ngoog.dom.tags.VOID_TAGS_ = {area:!0, base:!0, br:!0, col:!0, command:!0, embed:!0, hr:!0, img:!0, input:!0, keygen:!0, link:!0, meta:!0, param:!0, source:!0, track:!0, wbr:!0};\ngoog.dom.tags.isVoidTag = function(tagName) {\n    return !0 === goog.dom.tags.VOID_TAGS_[tagName];\n};\ngoog.i18n = {};\ngoog.i18n.bidi = {};\ngoog.i18n.bidi.FORCE_RTL = !1;\ngoog.i18n.bidi.IS_RTL = goog.i18n.bidi.FORCE_RTL || ("ar" == goog.LOCALE.substring(0, 2).toLowerCase() || "fa" == goog.LOCALE.substring(0, 2).toLowerCase() || "he" == goog.LOCALE.substring(0, 2).toLowerCase() || "iw" == goog.LOCALE.substring(0, 2).toLowerCase() || "ps" == goog.LOCALE.substring(0, 2).toLowerCase() || "sd" == goog.LOCALE.substring(0, 2).toLowerCase() || "ug" == goog.LOCALE.substring(0, 2).toLowerCase() || "ur" == goog.LOCALE.substring(0, 2).toLowerCase() || "yi" == goog.LOCALE.substring(0,\n        2).toLowerCase()) && (2 == goog.LOCALE.length || "-" == goog.LOCALE.substring(2, 3) || "_" == goog.LOCALE.substring(2, 3)) || 3 <= goog.LOCALE.length && "ckb" == goog.LOCALE.substring(0, 3).toLowerCase() && (3 == goog.LOCALE.length || "-" == goog.LOCALE.substring(3, 4) || "_" == goog.LOCALE.substring(3, 4));\ngoog.i18n.bidi.Format = {LRE:"\\u202a", RLE:"\\u202b", PDF:"\\u202c", LRM:"\\u200e", RLM:"\\u200f"};\ngoog.i18n.bidi.Dir = {LTR:1, RTL:-1, NEUTRAL:0};\ngoog.i18n.bidi.RIGHT = "right";\ngoog.i18n.bidi.LEFT = "left";\ngoog.i18n.bidi.I18N_RIGHT = goog.i18n.bidi.IS_RTL ? goog.i18n.bidi.LEFT : goog.i18n.bidi.RIGHT;\ngoog.i18n.bidi.I18N_LEFT = goog.i18n.bidi.IS_RTL ? goog.i18n.bidi.RIGHT : goog.i18n.bidi.LEFT;\ngoog.i18n.bidi.toDir = function(givenDir, opt_noNeutral) {\n    return "number" == typeof givenDir ? 0 < givenDir ? goog.i18n.bidi.Dir.LTR : 0 > givenDir ? goog.i18n.bidi.Dir.RTL : opt_noNeutral ? null : goog.i18n.bidi.Dir.NEUTRAL : null == givenDir ? null : givenDir ? goog.i18n.bidi.Dir.RTL : goog.i18n.bidi.Dir.LTR;\n};\ngoog.i18n.bidi.ltrChars_ = "A-Za-z\\u00c0-\\u00d6\\u00d8-\\u00f6\\u00f8-\\u02b8\\u0300-\\u0590\\u0800-\\u1fff\\u200e\\u2c00-\\ufb1c\\ufe00-\\ufe6f\\ufefd-\\uffff";\ngoog.i18n.bidi.rtlChars_ = "\\u0591-\\u06ef\\u06fa-\\u07ff\\u200f\\ufb1d-\\ufdff\\ufe70-\\ufefc";\ngoog.i18n.bidi.htmlSkipReg_ = /<[^>]*>|&[^;]+;/g;\ngoog.i18n.bidi.stripHtmlIfNeeded_ = function(str, opt_isStripNeeded) {\n    return opt_isStripNeeded ? str.replace(goog.i18n.bidi.htmlSkipReg_, "") : str;\n};\ngoog.i18n.bidi.rtlCharReg_ = new RegExp("[" + goog.i18n.bidi.rtlChars_ + "]");\ngoog.i18n.bidi.ltrCharReg_ = new RegExp("[" + goog.i18n.bidi.ltrChars_ + "]");\ngoog.i18n.bidi.hasAnyRtl = function(str, opt_isHtml) {\n    return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(str, opt_isHtml));\n};\ngoog.i18n.bidi.hasRtlChar = goog.i18n.bidi.hasAnyRtl;\ngoog.i18n.bidi.hasAnyLtr = function(str, opt_isHtml) {\n    return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(str, opt_isHtml));\n};\ngoog.i18n.bidi.ltrRe_ = new RegExp("^[" + goog.i18n.bidi.ltrChars_ + "]");\ngoog.i18n.bidi.rtlRe_ = new RegExp("^[" + goog.i18n.bidi.rtlChars_ + "]");\ngoog.i18n.bidi.isRtlChar = function(str) {\n    return goog.i18n.bidi.rtlRe_.test(str);\n};\ngoog.i18n.bidi.isLtrChar = function(str) {\n    return goog.i18n.bidi.ltrRe_.test(str);\n};\ngoog.i18n.bidi.isNeutralChar = function(str) {\n    return !goog.i18n.bidi.isLtrChar(str) && !goog.i18n.bidi.isRtlChar(str);\n};\ngoog.i18n.bidi.ltrDirCheckRe_ = new RegExp("^[^" + goog.i18n.bidi.rtlChars_ + "]*[" + goog.i18n.bidi.ltrChars_ + "]");\ngoog.i18n.bidi.rtlDirCheckRe_ = new RegExp("^[^" + goog.i18n.bidi.ltrChars_ + "]*[" + goog.i18n.bidi.rtlChars_ + "]");\ngoog.i18n.bidi.startsWithRtl = function(str, opt_isHtml) {\n    return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(str, opt_isHtml));\n};\ngoog.i18n.bidi.isRtlText = goog.i18n.bidi.startsWithRtl;\ngoog.i18n.bidi.startsWithLtr = function(str, opt_isHtml) {\n    return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(str, opt_isHtml));\n};\ngoog.i18n.bidi.isLtrText = goog.i18n.bidi.startsWithLtr;\ngoog.i18n.bidi.isRequiredLtrRe_ = /^http:\\/\\/.*/;\ngoog.i18n.bidi.isNeutralText = function(str, opt_isHtml) {\n    str = goog.i18n.bidi.stripHtmlIfNeeded_(str, opt_isHtml);\n    return goog.i18n.bidi.isRequiredLtrRe_.test(str) || !goog.i18n.bidi.hasAnyLtr(str) && !goog.i18n.bidi.hasAnyRtl(str);\n};\ngoog.i18n.bidi.ltrExitDirCheckRe_ = new RegExp("[" + goog.i18n.bidi.ltrChars_ + "][^" + goog.i18n.bidi.rtlChars_ + "]*$");\ngoog.i18n.bidi.rtlExitDirCheckRe_ = new RegExp("[" + goog.i18n.bidi.rtlChars_ + "][^" + goog.i18n.bidi.ltrChars_ + "]*$");\ngoog.i18n.bidi.endsWithLtr = function(str, opt_isHtml) {\n    return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(str, opt_isHtml));\n};\ngoog.i18n.bidi.isLtrExitText = goog.i18n.bidi.endsWithLtr;\ngoog.i18n.bidi.endsWithRtl = function(str, opt_isHtml) {\n    return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(str, opt_isHtml));\n};\ngoog.i18n.bidi.isRtlExitText = goog.i18n.bidi.endsWithRtl;\ngoog.i18n.bidi.rtlLocalesRe_ = /^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Arab|Hebr|Thaa|Nkoo|Tfng))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;\ngoog.i18n.bidi.isRtlLanguage = function(lang) {\n    return goog.i18n.bidi.rtlLocalesRe_.test(lang);\n};\ngoog.i18n.bidi.bracketGuardTextRe_ = /(\\(.*?\\)+)|(\\[.*?\\]+)|(\\{.*?\\}+)|(<.*?>+)/g;\ngoog.i18n.bidi.guardBracketInText = function(s, opt_isRtlContext) {\n    var mark = (void 0 === opt_isRtlContext ? goog.i18n.bidi.hasAnyRtl(s) : opt_isRtlContext) ? goog.i18n.bidi.Format.RLM : goog.i18n.bidi.Format.LRM;\n    return s.replace(goog.i18n.bidi.bracketGuardTextRe_, mark + "$&" + mark);\n};\ngoog.i18n.bidi.enforceRtlInHtml = function(html) {\n    return "<" == html.charAt(0) ? html.replace(/<\\w+/, "$& dir=rtl") : "\\n<span dir=rtl>" + html + "</span>";\n};\ngoog.i18n.bidi.enforceRtlInText = function(text) {\n    return goog.i18n.bidi.Format.RLE + text + goog.i18n.bidi.Format.PDF;\n};\ngoog.i18n.bidi.enforceLtrInHtml = function(html) {\n    return "<" == html.charAt(0) ? html.replace(/<\\w+/, "$& dir=ltr") : "\\n<span dir=ltr>" + html + "</span>";\n};\ngoog.i18n.bidi.enforceLtrInText = function(text) {\n    return goog.i18n.bidi.Format.LRE + text + goog.i18n.bidi.Format.PDF;\n};\ngoog.i18n.bidi.dimensionsRe_ = /:\\s*([.\\d][.\\w]*)\\s+([.\\d][.\\w]*)\\s+([.\\d][.\\w]*)\\s+([.\\d][.\\w]*)/g;\ngoog.i18n.bidi.leftRe_ = /left/gi;\ngoog.i18n.bidi.rightRe_ = /right/gi;\ngoog.i18n.bidi.tempRe_ = /%%%%/g;\ngoog.i18n.bidi.mirrorCSS = function(cssStr) {\n    return cssStr.replace(goog.i18n.bidi.dimensionsRe_, ":$1 $4 $3 $2").replace(goog.i18n.bidi.leftRe_, "%%%%").replace(goog.i18n.bidi.rightRe_, goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_, goog.i18n.bidi.RIGHT);\n};\ngoog.i18n.bidi.doubleQuoteSubstituteRe_ = /([\\u0591-\\u05f2])"/g;\ngoog.i18n.bidi.singleQuoteSubstituteRe_ = /([\\u0591-\\u05f2])\'/g;\ngoog.i18n.bidi.normalizeHebrewQuote = function(str) {\n    return str.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_, "$1\\u05f4").replace(goog.i18n.bidi.singleQuoteSubstituteRe_, "$1\\u05f3");\n};\ngoog.i18n.bidi.wordSeparatorRe_ = /\\s+/;\ngoog.i18n.bidi.hasNumeralsRe_ = /[\\d\\u06f0-\\u06f9]/;\ngoog.i18n.bidi.rtlDetectionThreshold_ = .4;\ngoog.i18n.bidi.estimateDirection = function(str, opt_isHtml) {\n    for (var rtlCount = 0, totalCount = 0, hasWeaklyLtr = !1, tokens = goog.i18n.bidi.stripHtmlIfNeeded_(str, opt_isHtml).split(goog.i18n.bidi.wordSeparatorRe_), i = 0;i < tokens.length;i++) {\n        var token = tokens[i];\n        goog.i18n.bidi.startsWithRtl(token) ? (rtlCount++, totalCount++) : goog.i18n.bidi.isRequiredLtrRe_.test(token) ? hasWeaklyLtr = !0 : goog.i18n.bidi.hasAnyLtr(token) ? totalCount++ : goog.i18n.bidi.hasNumeralsRe_.test(token) && (hasWeaklyLtr = !0);\n    }\n    return 0 == totalCount ? hasWeaklyLtr ? goog.i18n.bidi.Dir.LTR : goog.i18n.bidi.Dir.NEUTRAL : rtlCount / totalCount > goog.i18n.bidi.rtlDetectionThreshold_ ? goog.i18n.bidi.Dir.RTL : goog.i18n.bidi.Dir.LTR;\n};\ngoog.i18n.bidi.detectRtlDirectionality = function(str, opt_isHtml) {\n    return goog.i18n.bidi.estimateDirection(str, opt_isHtml) == goog.i18n.bidi.Dir.RTL;\n};\ngoog.i18n.bidi.setElementDirAndAlign = function(element, dir) {\n    element && (dir = goog.i18n.bidi.toDir(dir)) && (element.style.textAlign = dir == goog.i18n.bidi.Dir.RTL ? goog.i18n.bidi.RIGHT : goog.i18n.bidi.LEFT, element.dir = dir == goog.i18n.bidi.Dir.RTL ? "rtl" : "ltr");\n};\ngoog.i18n.bidi.setElementDirByTextDirectionality = function(element, text) {\n    switch(goog.i18n.bidi.estimateDirection(text)) {\n        case goog.i18n.bidi.Dir.LTR:\n            element.dir = "ltr";\n            break;\n        case goog.i18n.bidi.Dir.RTL:\n            element.dir = "rtl";\n            break;\n        default:\n            element.removeAttribute("dir");\n    }\n};\ngoog.i18n.bidi.DirectionalString = function() {\n};\ngoog.string.TypedString = function() {\n};\ngoog.string.Const = function() {\n    this.stringConstValueWithSecurityContract__googStringSecurityPrivate_ = "";\n    this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_ = goog.string.Const.TYPE_MARKER_;\n};\ngoog.string.Const.prototype.implementsGoogStringTypedString = !0;\ngoog.string.Const.prototype.getTypedStringValue = function() {\n    return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_;\n};\ngoog.string.Const.prototype.toString = function() {\n    return "Const{" + this.stringConstValueWithSecurityContract__googStringSecurityPrivate_ + "}";\n};\ngoog.string.Const.unwrap = function(stringConst) {\n    if (stringConst instanceof goog.string.Const && stringConst.constructor === goog.string.Const && stringConst.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_ === goog.string.Const.TYPE_MARKER_) {\n        return stringConst.stringConstValueWithSecurityContract__googStringSecurityPrivate_;\n    }\n    goog.asserts.fail("expected object of type Const, got \'" + stringConst + "\'");\n    return "type_error:Const";\n};\ngoog.string.Const.from = function(s) {\n    return goog.string.Const.create__googStringSecurityPrivate_(s);\n};\ngoog.string.Const.TYPE_MARKER_ = {};\ngoog.string.Const.create__googStringSecurityPrivate_ = function(s) {\n    var stringConst = new goog.string.Const;\n    stringConst.stringConstValueWithSecurityContract__googStringSecurityPrivate_ = s;\n    return stringConst;\n};\ngoog.string.Const.EMPTY = goog.string.Const.from("");\ngoog.html = {};\ngoog.html.SafeStyle = function() {\n    this.privateDoNotAccessOrElseSafeStyleWrappedValue_ = "";\n    this.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ = goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_;\n};\ngoog.html.SafeStyle.prototype.implementsGoogStringTypedString = !0;\ngoog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ = {};\ngoog.html.SafeStyle.fromConstant = function(style) {\n    var styleString = goog.string.Const.unwrap(style);\n    if (0 === styleString.length) {\n        return goog.html.SafeStyle.EMPTY;\n    }\n    goog.html.SafeStyle.checkStyle_(styleString);\n    goog.asserts.assert(goog.string.endsWith(styleString, ";"), "Last character of style string is not \';\': " + styleString);\n    goog.asserts.assert(goog.string.contains(styleString, ":"), "Style string must contain at least one \':\', to specify a \\"name: value\\" pair: " + styleString);\n    return goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(styleString);\n};\ngoog.html.SafeStyle.checkStyle_ = function(style) {\n    goog.asserts.assert(!/[<>]/.test(style), "Forbidden characters in style string: " + style);\n};\ngoog.html.SafeStyle.prototype.getTypedStringValue = function() {\n    return this.privateDoNotAccessOrElseSafeStyleWrappedValue_;\n};\ngoog.DEBUG && (goog.html.SafeStyle.prototype.toString = function() {\n    return "SafeStyle{" + this.privateDoNotAccessOrElseSafeStyleWrappedValue_ + "}";\n});\ngoog.html.SafeStyle.unwrap = function(safeStyle) {\n    if (safeStyle instanceof goog.html.SafeStyle && safeStyle.constructor === goog.html.SafeStyle && safeStyle.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ === goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_) {\n        return safeStyle.privateDoNotAccessOrElseSafeStyleWrappedValue_;\n    }\n    goog.asserts.fail("expected object of type SafeStyle, got \'" + safeStyle + "\' of type " + goog.typeOf(safeStyle));\n    return "type_error:SafeStyle";\n};\ngoog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse = function(style) {\n    return (new goog.html.SafeStyle).initSecurityPrivateDoNotAccessOrElse_(style);\n};\ngoog.html.SafeStyle.prototype.initSecurityPrivateDoNotAccessOrElse_ = function(style) {\n    this.privateDoNotAccessOrElseSafeStyleWrappedValue_ = style;\n    return this;\n};\ngoog.html.SafeStyle.EMPTY = goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse("");\ngoog.html.SafeStyle.INNOCUOUS_STRING = "zClosurez";\ngoog.html.SafeStyle.create = function(map) {\n    var style = "", name;\n    for (name in map) {\n        if (!/^[-_a-zA-Z0-9]+$/.test(name)) {\n            throw Error("Name allows only [-_a-zA-Z0-9], got: " + name);\n        }\n        var value = map[name];\n        null != value && (value instanceof goog.string.Const ? (value = goog.string.Const.unwrap(value), goog.asserts.assert(!/[{;}]/.test(value), "Value does not allow [{;}].")) : goog.html.SafeStyle.VALUE_RE_.test(value) ? goog.html.SafeStyle.hasBalancedQuotes_(value) || (goog.asserts.fail("String value requires balanced quotes, got: " + value), value = goog.html.SafeStyle.INNOCUOUS_STRING) : (goog.asserts.fail("String value allows only [-,.\\"\'%_!# a-zA-Z0-9], rgb() and rgba(), got: " + value), value =\n            goog.html.SafeStyle.INNOCUOUS_STRING), style += name + ":" + value + ";");\n    }\n    if (!style) {\n        return goog.html.SafeStyle.EMPTY;\n    }\n    goog.html.SafeStyle.checkStyle_(style);\n    return goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(style);\n};\ngoog.html.SafeStyle.hasBalancedQuotes_ = function(value) {\n    for (var outsideSingle = !0, outsideDouble = !0, i = 0;i < value.length;i++) {\n        var c = value.charAt(i);\n        "\'" == c && outsideDouble ? outsideSingle = !outsideSingle : \'"\' == c && outsideSingle && (outsideDouble = !outsideDouble);\n    }\n    return outsideSingle && outsideDouble;\n};\ngoog.html.SafeStyle.VALUE_RE_ = /^([-,."\'%_!# a-zA-Z0-9]+|(?:rgb|hsl)a?\\([0-9.%, ]+\\))$/;\ngoog.html.SafeStyle.concat = function(var_args) {\n    var style = "", addArgument = function(argument) {\n        goog.isArray(argument) ? goog.array.forEach(argument, addArgument) : style += goog.html.SafeStyle.unwrap(argument);\n    };\n    goog.array.forEach(arguments, addArgument);\n    return style ? goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(style) : goog.html.SafeStyle.EMPTY;\n};\ngoog.html.SafeStyleSheet = function() {\n    this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_ = "";\n    this.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ = goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_;\n};\ngoog.html.SafeStyleSheet.prototype.implementsGoogStringTypedString = !0;\ngoog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ = {};\ngoog.html.SafeStyleSheet.concat = function(var_args) {\n    var result = "", addArgument = function(argument) {\n        goog.isArray(argument) ? goog.array.forEach(argument, addArgument) : result += goog.html.SafeStyleSheet.unwrap(argument);\n    };\n    goog.array.forEach(arguments, addArgument);\n    return goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(result);\n};\ngoog.html.SafeStyleSheet.fromConstant = function(styleSheet) {\n    var styleSheetString = goog.string.Const.unwrap(styleSheet);\n    if (0 === styleSheetString.length) {\n        return goog.html.SafeStyleSheet.EMPTY;\n    }\n    goog.asserts.assert(!goog.string.contains(styleSheetString, "<"), "Forbidden \'<\' character in style sheet string: " + styleSheetString);\n    return goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(styleSheetString);\n};\ngoog.html.SafeStyleSheet.prototype.getTypedStringValue = function() {\n    return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_;\n};\ngoog.DEBUG && (goog.html.SafeStyleSheet.prototype.toString = function() {\n    return "SafeStyleSheet{" + this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_ + "}";\n});\ngoog.html.SafeStyleSheet.unwrap = function(safeStyleSheet) {\n    if (safeStyleSheet instanceof goog.html.SafeStyleSheet && safeStyleSheet.constructor === goog.html.SafeStyleSheet && safeStyleSheet.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ === goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_) {\n        return safeStyleSheet.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_;\n    }\n    goog.asserts.fail("expected object of type SafeStyleSheet, got \'" + safeStyleSheet + "\' of type " + goog.typeOf(safeStyleSheet));\n    return "type_error:SafeStyleSheet";\n};\ngoog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse = function(styleSheet) {\n    return (new goog.html.SafeStyleSheet).initSecurityPrivateDoNotAccessOrElse_(styleSheet);\n};\ngoog.html.SafeStyleSheet.prototype.initSecurityPrivateDoNotAccessOrElse_ = function(styleSheet) {\n    this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_ = styleSheet;\n    return this;\n};\ngoog.html.SafeStyleSheet.EMPTY = goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse("");\ngoog.fs.url = {};\ngoog.fs.url.createObjectUrl = function(blob) {\n    return goog.fs.url.getUrlObject_().createObjectURL(blob);\n};\ngoog.fs.url.revokeObjectUrl = function(url) {\n    goog.fs.url.getUrlObject_().revokeObjectURL(url);\n};\ngoog.fs.url.getUrlObject_ = function() {\n    var urlObject = goog.fs.url.findUrlObject_();\n    if (null != urlObject) {\n        return urlObject;\n    }\n    throw Error("This browser doesn\'t seem to support blob URLs");\n};\ngoog.fs.url.findUrlObject_ = function() {\n    return goog.isDef(goog.global.URL) && goog.isDef(goog.global.URL.createObjectURL) ? goog.global.URL : goog.isDef(goog.global.webkitURL) && goog.isDef(goog.global.webkitURL.createObjectURL) ? goog.global.webkitURL : goog.isDef(goog.global.createObjectURL) ? goog.global : null;\n};\ngoog.fs.url.browserSupportsObjectUrls = function() {\n    return null != goog.fs.url.findUrlObject_();\n};\ngoog.html.SafeUrl = function() {\n    this.privateDoNotAccessOrElseSafeHtmlWrappedValue_ = "";\n    this.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ = goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_;\n};\ngoog.html.SafeUrl.INNOCUOUS_STRING = "about:invalid#zClosurez";\ngoog.html.SafeUrl.prototype.implementsGoogStringTypedString = !0;\ngoog.html.SafeUrl.prototype.getTypedStringValue = function() {\n    return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_;\n};\ngoog.html.SafeUrl.prototype.implementsGoogI18nBidiDirectionalString = !0;\ngoog.html.SafeUrl.prototype.getDirection = function() {\n    return goog.i18n.bidi.Dir.LTR;\n};\ngoog.DEBUG && (goog.html.SafeUrl.prototype.toString = function() {\n    return "SafeUrl{" + this.privateDoNotAccessOrElseSafeHtmlWrappedValue_ + "}";\n});\ngoog.html.SafeUrl.unwrap = function(safeUrl) {\n    if (safeUrl instanceof goog.html.SafeUrl && safeUrl.constructor === goog.html.SafeUrl && safeUrl.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ === goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_) {\n        return safeUrl.privateDoNotAccessOrElseSafeHtmlWrappedValue_;\n    }\n    goog.asserts.fail("expected object of type SafeUrl, got \'" + safeUrl + "\' of type " + goog.typeOf(safeUrl));\n    return "type_error:SafeUrl";\n};\ngoog.html.SafeUrl.fromConstant = function(url) {\n    return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(url));\n};\ngoog.html.SAFE_MIME_TYPE_PATTERN_ = /^(?:image\\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\\/(?:mpeg|mp4|ogg|webm))$/i;\ngoog.html.SafeUrl.fromBlob = function(blob) {\n    var url = goog.html.SAFE_MIME_TYPE_PATTERN_.test(blob.type) ? goog.fs.url.createObjectUrl(blob) : goog.html.SafeUrl.INNOCUOUS_STRING;\n    return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(url);\n};\ngoog.html.DATA_URL_PATTERN_ = /^data:([^;,]*);base64,[a-z0-9+\\/]+=*$/i;\ngoog.html.SafeUrl.fromDataUrl = function(dataUrl) {\n    var match = dataUrl.match(goog.html.DATA_URL_PATTERN_), valid = match && goog.html.SAFE_MIME_TYPE_PATTERN_.test(match[1]);\n    return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(valid ? dataUrl : goog.html.SafeUrl.INNOCUOUS_STRING);\n};\ngoog.html.SafeUrl.fromTelUrl = function(telUrl) {\n    goog.string.caseInsensitiveStartsWith(telUrl, "tel:") || (telUrl = goog.html.SafeUrl.INNOCUOUS_STRING);\n    return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(telUrl);\n};\ngoog.html.SAFE_URL_PATTERN_ = /^(?:(?:https?|mailto|ftp):|[^&:/?#]*(?:[/?#]|$))/i;\ngoog.html.SafeUrl.sanitize = function(url) {\n    if (url instanceof goog.html.SafeUrl) {\n        return url;\n    }\n    url = url.implementsGoogStringTypedString ? url.getTypedStringValue() : String(url);\n    goog.html.SAFE_URL_PATTERN_.test(url) || (url = goog.html.SafeUrl.INNOCUOUS_STRING);\n    return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(url);\n};\ngoog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ = {};\ngoog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse = function(url) {\n    var safeUrl = new goog.html.SafeUrl;\n    safeUrl.privateDoNotAccessOrElseSafeHtmlWrappedValue_ = url;\n    return safeUrl;\n};\ngoog.html.SafeUrl.ABOUT_BLANK = goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse("about:blank");\ngoog.html.TrustedResourceUrl = function() {\n    this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_ = "";\n    this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ = goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_;\n};\ngoog.html.TrustedResourceUrl.prototype.implementsGoogStringTypedString = !0;\ngoog.html.TrustedResourceUrl.prototype.getTypedStringValue = function() {\n    return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_;\n};\ngoog.html.TrustedResourceUrl.prototype.implementsGoogI18nBidiDirectionalString = !0;\ngoog.html.TrustedResourceUrl.prototype.getDirection = function() {\n    return goog.i18n.bidi.Dir.LTR;\n};\ngoog.DEBUG && (goog.html.TrustedResourceUrl.prototype.toString = function() {\n    return "TrustedResourceUrl{" + this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_ + "}";\n});\ngoog.html.TrustedResourceUrl.unwrap = function(trustedResourceUrl) {\n    if (trustedResourceUrl instanceof goog.html.TrustedResourceUrl && trustedResourceUrl.constructor === goog.html.TrustedResourceUrl && trustedResourceUrl.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ === goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_) {\n        return trustedResourceUrl.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_;\n    }\n    goog.asserts.fail("expected object of type TrustedResourceUrl, got \'" + trustedResourceUrl + "\' of type " + goog.typeOf(trustedResourceUrl));\n    return "type_error:TrustedResourceUrl";\n};\ngoog.html.TrustedResourceUrl.format = function(format, args) {\n    var formatStr = goog.string.Const.unwrap(format);\n    if (!goog.html.TrustedResourceUrl.BASE_URL_.test(formatStr)) {\n        throw Error("Invalid TrustedResourceUrl format: " + formatStr);\n    }\n    var result = formatStr.replace(goog.html.TrustedResourceUrl.FORMAT_MARKER_, function(match, id) {\n        if (!Object.prototype.hasOwnProperty.call(args, id)) {\n            throw Error(\'Found marker, "\' + id + \'", in format string, "\' + formatStr + \'", but no valid label mapping found in args: \' + JSON.stringify(args));\n        }\n        var arg = args[id];\n        return arg instanceof goog.string.Const ? goog.string.Const.unwrap(arg) : encodeURIComponent(String(arg));\n    });\n    return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(result);\n};\ngoog.html.TrustedResourceUrl.FORMAT_MARKER_ = /%{(\\w+)}/g;\ngoog.html.TrustedResourceUrl.SCHEME_AND_ORIGIN_ = "(?:(?:https:)?//[0-9a-z.:[\\\\]-]+)?";\ngoog.html.TrustedResourceUrl.BASE_ABSOLUTE_PATH_ = "(?:/[0-9a-z_~-]+(?:[/#?]|$))";\ngoog.html.TrustedResourceUrl.BASE_URL_ = new RegExp("^" + goog.html.TrustedResourceUrl.SCHEME_AND_ORIGIN_ + goog.html.TrustedResourceUrl.BASE_ABSOLUTE_PATH_, "i");\ngoog.html.TrustedResourceUrl.fromConstant = function(url) {\n    return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(url));\n};\ngoog.html.TrustedResourceUrl.fromConstants = function(parts) {\n    for (var unwrapped = "", i = 0;i < parts.length;i++) {\n        unwrapped += goog.string.Const.unwrap(parts[i]);\n    }\n    return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(unwrapped);\n};\ngoog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ = {};\ngoog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse = function(url) {\n    var trustedResourceUrl = new goog.html.TrustedResourceUrl;\n    trustedResourceUrl.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_ = url;\n    return trustedResourceUrl;\n};\ngoog.html.SafeHtml = function() {\n    this.privateDoNotAccessOrElseSafeHtmlWrappedValue_ = "";\n    this.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ = goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_;\n    this.dir_ = null;\n};\ngoog.html.SafeHtml.prototype.implementsGoogI18nBidiDirectionalString = !0;\ngoog.html.SafeHtml.prototype.getDirection = function() {\n    return this.dir_;\n};\ngoog.html.SafeHtml.prototype.implementsGoogStringTypedString = !0;\ngoog.html.SafeHtml.prototype.getTypedStringValue = function() {\n    return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_;\n};\ngoog.DEBUG && (goog.html.SafeHtml.prototype.toString = function() {\n    return "SafeHtml{" + this.privateDoNotAccessOrElseSafeHtmlWrappedValue_ + "}";\n});\ngoog.html.SafeHtml.unwrap = function(safeHtml) {\n    if (safeHtml instanceof goog.html.SafeHtml && safeHtml.constructor === goog.html.SafeHtml && safeHtml.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ === goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_) {\n        return safeHtml.privateDoNotAccessOrElseSafeHtmlWrappedValue_;\n    }\n    goog.asserts.fail("expected object of type SafeHtml, got \'" + safeHtml + "\' of type " + goog.typeOf(safeHtml));\n    return "type_error:SafeHtml";\n};\ngoog.html.SafeHtml.htmlEscape = function(textOrHtml) {\n    if (textOrHtml instanceof goog.html.SafeHtml) {\n        return textOrHtml;\n    }\n    var dir = null;\n    textOrHtml.implementsGoogI18nBidiDirectionalString && (dir = textOrHtml.getDirection());\n    return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.htmlEscape(textOrHtml.implementsGoogStringTypedString ? textOrHtml.getTypedStringValue() : String(textOrHtml)), dir);\n};\ngoog.html.SafeHtml.htmlEscapePreservingNewlines = function(textOrHtml) {\n    if (textOrHtml instanceof goog.html.SafeHtml) {\n        return textOrHtml;\n    }\n    var html = goog.html.SafeHtml.htmlEscape(textOrHtml);\n    return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.newLineToBr(goog.html.SafeHtml.unwrap(html)), html.getDirection());\n};\ngoog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces = function(textOrHtml) {\n    if (textOrHtml instanceof goog.html.SafeHtml) {\n        return textOrHtml;\n    }\n    var html = goog.html.SafeHtml.htmlEscape(textOrHtml);\n    return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.whitespaceEscape(goog.html.SafeHtml.unwrap(html)), html.getDirection());\n};\ngoog.html.SafeHtml.from = goog.html.SafeHtml.htmlEscape;\ngoog.html.SafeHtml.VALID_NAMES_IN_TAG_ = /^[a-zA-Z0-9-]+$/;\ngoog.html.SafeHtml.URL_ATTRIBUTES_ = {action:!0, cite:!0, data:!0, formaction:!0, href:!0, manifest:!0, poster:!0, src:!0};\ngoog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_ = {APPLET:!0, BASE:!0, EMBED:!0, IFRAME:!0, LINK:!0, MATH:!0, META:!0, OBJECT:!0, SCRIPT:!0, STYLE:!0, SVG:!0, TEMPLATE:!0};\ngoog.html.SafeHtml.create = function(tagName, opt_attributes, opt_content) {\n    goog.html.SafeHtml.verifyTagName(String(tagName));\n    return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(String(tagName), opt_attributes, opt_content);\n};\ngoog.html.SafeHtml.verifyTagName = function(tagName) {\n    if (!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(tagName)) {\n        throw Error("Invalid tag name <" + tagName + ">.");\n    }\n    if (tagName.toUpperCase() in goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_) {\n        throw Error("Tag name <" + tagName + "> is not allowed for SafeHtml.");\n    }\n};\ngoog.html.SafeHtml.createIframe = function(opt_src, opt_srcdoc, opt_attributes, opt_content) {\n    opt_src && goog.html.TrustedResourceUrl.unwrap(opt_src);\n    var fixedAttributes = {};\n    fixedAttributes.src = opt_src || null;\n    fixedAttributes.srcdoc = opt_srcdoc && goog.html.SafeHtml.unwrap(opt_srcdoc);\n    var attributes = goog.html.SafeHtml.combineAttributes(fixedAttributes, {sandbox:""}, opt_attributes);\n    return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe", attributes, opt_content);\n};\ngoog.html.SafeHtml.createSandboxIframe = function(opt_src, opt_srcdoc, opt_attributes, opt_content) {\n    if (!goog.html.SafeHtml.canUseSandboxIframe()) {\n        throw Error("The browser does not support sandboxed iframes.");\n    }\n    var fixedAttributes = {};\n    fixedAttributes.src = opt_src ? goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(opt_src)) : null;\n    fixedAttributes.srcdoc = opt_srcdoc || null;\n    fixedAttributes.sandbox = "";\n    var attributes = goog.html.SafeHtml.combineAttributes(fixedAttributes, {}, opt_attributes);\n    return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe", attributes, opt_content);\n};\ngoog.html.SafeHtml.canUseSandboxIframe = function() {\n    return goog.global.HTMLIFrameElement && "sandbox" in goog.global.HTMLIFrameElement.prototype;\n};\ngoog.html.SafeHtml.createScriptSrc = function(src, opt_attributes) {\n    goog.html.TrustedResourceUrl.unwrap(src);\n    var attributes = goog.html.SafeHtml.combineAttributes({src:src}, {}, opt_attributes);\n    return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script", attributes);\n};\ngoog.html.SafeHtml.createStyle = function(styleSheet, opt_attributes) {\n    var attributes = goog.html.SafeHtml.combineAttributes({type:"text/css"}, {}, opt_attributes), content = "";\n    styleSheet = goog.array.concat(styleSheet);\n    for (var i = 0;i < styleSheet.length;i++) {\n        content += goog.html.SafeStyleSheet.unwrap(styleSheet[i]);\n    }\n    var htmlContent = goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(content, goog.i18n.bidi.Dir.NEUTRAL);\n    return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("style", attributes, htmlContent);\n};\ngoog.html.SafeHtml.createMetaRefresh = function(url, opt_secs) {\n    var unwrappedUrl = goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(url));\n    (goog.labs.userAgent.browser.isIE() || goog.labs.userAgent.browser.isEdge()) && goog.string.contains(unwrappedUrl, ";") && (unwrappedUrl = "\'" + unwrappedUrl.replace(/\'/g, "%27") + "\'");\n    return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("meta", {"http-equiv":"refresh", content:(opt_secs || 0) + "; url=" + unwrappedUrl});\n};\ngoog.html.SafeHtml.getAttrNameAndValue_ = function(tagName, name, value) {\n    if (value instanceof goog.string.Const) {\n        value = goog.string.Const.unwrap(value);\n    } else {\n        if ("style" == name.toLowerCase()) {\n            value = goog.html.SafeHtml.getStyleValue_(value);\n        } else {\n            if (/^on/i.test(name)) {\n                throw Error(\'Attribute "\' + name + \'" requires goog.string.Const value, "\' + value + \'" given.\');\n            }\n            if (name.toLowerCase() in goog.html.SafeHtml.URL_ATTRIBUTES_) {\n                if (value instanceof goog.html.TrustedResourceUrl) {\n                    value = goog.html.TrustedResourceUrl.unwrap(value);\n                } else {\n                    if (value instanceof goog.html.SafeUrl) {\n                        value = goog.html.SafeUrl.unwrap(value);\n                    } else {\n                        if (goog.isString(value)) {\n                            value = goog.html.SafeUrl.sanitize(value).getTypedStringValue();\n                        } else {\n                            throw Error(\'Attribute "\' + name + \'" on tag "\' + tagName + \'" requires goog.html.SafeUrl, goog.string.Const, or string, value "\' + value + \'" given.\');\n                        }\n                    }\n                }\n            }\n        }\n    }\n    value.implementsGoogStringTypedString && (value = value.getTypedStringValue());\n    goog.asserts.assert(goog.isString(value) || goog.isNumber(value), "String or number value expected, got " + typeof value + " with value: " + value);\n    return name + \'="\' + goog.string.htmlEscape(String(value)) + \'"\';\n};\ngoog.html.SafeHtml.getStyleValue_ = function(value) {\n    if (!goog.isObject(value)) {\n        throw Error(\'The "style" attribute requires goog.html.SafeStyle or map of style properties, \' + typeof value + " given: " + value);\n    }\n    value instanceof goog.html.SafeStyle || (value = goog.html.SafeStyle.create(value));\n    return goog.html.SafeStyle.unwrap(value);\n};\ngoog.html.SafeHtml.createWithDir = function(dir, tagName, opt_attributes, opt_content) {\n    var html = goog.html.SafeHtml.create(tagName, opt_attributes, opt_content);\n    html.dir_ = dir;\n    return html;\n};\ngoog.html.SafeHtml.concat = function(var_args) {\n    var dir = goog.i18n.bidi.Dir.NEUTRAL, content = "", addArgument = function(argument) {\n        if (goog.isArray(argument)) {\n            goog.array.forEach(argument, addArgument);\n        } else {\n            var html = goog.html.SafeHtml.htmlEscape(argument);\n            content += goog.html.SafeHtml.unwrap(html);\n            var htmlDir = html.getDirection();\n            dir == goog.i18n.bidi.Dir.NEUTRAL ? dir = htmlDir : htmlDir != goog.i18n.bidi.Dir.NEUTRAL && dir != htmlDir && (dir = null);\n        }\n    };\n    goog.array.forEach(arguments, addArgument);\n    return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(content, dir);\n};\ngoog.html.SafeHtml.concatWithDir = function(dir, var_args) {\n    var html = goog.html.SafeHtml.concat(goog.array.slice(arguments, 1));\n    html.dir_ = dir;\n    return html;\n};\ngoog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ = {};\ngoog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse = function(html, dir) {\n    return (new goog.html.SafeHtml).initSecurityPrivateDoNotAccessOrElse_(html, dir);\n};\ngoog.html.SafeHtml.prototype.initSecurityPrivateDoNotAccessOrElse_ = function(html, dir) {\n    this.privateDoNotAccessOrElseSafeHtmlWrappedValue_ = html;\n    this.dir_ = dir;\n    return this;\n};\ngoog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse = function(tagName, opt_attributes, opt_content) {\n    var dir = null, result;\n    result = "<" + tagName + goog.html.SafeHtml.stringifyAttributes(tagName, opt_attributes);\n    var content = opt_content;\n    goog.isDefAndNotNull(content) ? goog.isArray(content) || (content = [content]) : content = [];\n    if (goog.dom.tags.isVoidTag(tagName.toLowerCase())) {\n        goog.asserts.assert(!content.length, "Void tag <" + tagName + "> does not allow content."), result += ">";\n    } else {\n        var html = goog.html.SafeHtml.concat(content);\n        result += ">" + goog.html.SafeHtml.unwrap(html) + "</" + tagName + ">";\n        dir = html.getDirection();\n    }\n    var dirAttribute = opt_attributes && opt_attributes.dir;\n    dirAttribute && (dir = /^(ltr|rtl|auto)$/i.test(dirAttribute) ? goog.i18n.bidi.Dir.NEUTRAL : null);\n    return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(result, dir);\n};\ngoog.html.SafeHtml.stringifyAttributes = function(tagName, opt_attributes) {\n    var result = "";\n    if (opt_attributes) {\n        for (var name in opt_attributes) {\n            if (!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(name)) {\n                throw Error(\'Invalid attribute name "\' + name + \'".\');\n            }\n            var value = opt_attributes[name];\n            goog.isDefAndNotNull(value) && (result += " " + goog.html.SafeHtml.getAttrNameAndValue_(tagName, name, value));\n        }\n    }\n    return result;\n};\ngoog.html.SafeHtml.combineAttributes = function(fixedAttributes, defaultAttributes, opt_attributes) {\n    var combinedAttributes = {}, name;\n    for (name in fixedAttributes) {\n        goog.asserts.assert(name.toLowerCase() == name, "Must be lower case"), combinedAttributes[name] = fixedAttributes[name];\n    }\n    for (name in defaultAttributes) {\n        goog.asserts.assert(name.toLowerCase() == name, "Must be lower case"), combinedAttributes[name] = defaultAttributes[name];\n    }\n    for (name in opt_attributes) {\n        var nameLower = name.toLowerCase();\n        if (nameLower in fixedAttributes) {\n            throw Error(\'Cannot override "\' + nameLower + \'" attribute, got "\' + name + \'" with value "\' + opt_attributes[name] + \'"\');\n        }\n        nameLower in defaultAttributes && delete combinedAttributes[nameLower];\n        combinedAttributes[name] = opt_attributes[name];\n    }\n    return combinedAttributes;\n};\ngoog.html.SafeHtml.DOCTYPE_HTML = goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<!DOCTYPE html>", goog.i18n.bidi.Dir.NEUTRAL);\ngoog.html.SafeHtml.EMPTY = goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("", goog.i18n.bidi.Dir.NEUTRAL);\ngoog.html.SafeHtml.BR = goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<br>", goog.i18n.bidi.Dir.NEUTRAL);\ngoog.html.SafeScript = function() {\n    this.privateDoNotAccessOrElseSafeScriptWrappedValue_ = "";\n    this.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ = goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_;\n};\ngoog.html.SafeScript.prototype.implementsGoogStringTypedString = !0;\ngoog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ = {};\ngoog.html.SafeScript.fromConstant = function(script) {\n    var scriptString = goog.string.Const.unwrap(script);\n    return 0 === scriptString.length ? goog.html.SafeScript.EMPTY : goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(scriptString);\n};\ngoog.html.SafeScript.prototype.getTypedStringValue = function() {\n    return this.privateDoNotAccessOrElseSafeScriptWrappedValue_;\n};\ngoog.DEBUG && (goog.html.SafeScript.prototype.toString = function() {\n    return "SafeScript{" + this.privateDoNotAccessOrElseSafeScriptWrappedValue_ + "}";\n});\ngoog.html.SafeScript.unwrap = function(safeScript) {\n    if (safeScript instanceof goog.html.SafeScript && safeScript.constructor === goog.html.SafeScript && safeScript.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ === goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_) {\n        return safeScript.privateDoNotAccessOrElseSafeScriptWrappedValue_;\n    }\n    goog.asserts.fail("expected object of type SafeScript, got \'" + safeScript + "\' of type " + goog.typeOf(safeScript));\n    return "type_error:SafeScript";\n};\ngoog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse = function(script) {\n    return (new goog.html.SafeScript).initSecurityPrivateDoNotAccessOrElse_(script);\n};\ngoog.html.SafeScript.prototype.initSecurityPrivateDoNotAccessOrElse_ = function(script) {\n    this.privateDoNotAccessOrElseSafeScriptWrappedValue_ = script;\n    return this;\n};\ngoog.html.SafeScript.EMPTY = goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse("");\ngoog.html.uncheckedconversions = {};\ngoog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract = function(justification, html, opt_dir) {\n    goog.asserts.assertString(goog.string.Const.unwrap(justification), "must provide justification");\n    goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(justification)), "must provide non-empty justification");\n    return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(html, opt_dir || null);\n};\ngoog.html.uncheckedconversions.safeScriptFromStringKnownToSatisfyTypeContract = function(justification, script) {\n    goog.asserts.assertString(goog.string.Const.unwrap(justification), "must provide justification");\n    goog.asserts.assert(!goog.string.isEmpty(goog.string.Const.unwrap(justification)), "must provide non-empty justification");\n    return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(script);\n};\ngoog.html.uncheckedconversions.safeStyleFromStringKnownToSatisfyTypeContract = function(justification, style) {\n    goog.asserts.assertString(goog.string.Const.unwrap(justification), "must provide justification");\n    goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(justification)), "must provide non-empty justification");\n    return goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(style);\n};\ngoog.html.uncheckedconversions.safeStyleSheetFromStringKnownToSatisfyTypeContract = function(justification, styleSheet) {\n    goog.asserts.assertString(goog.string.Const.unwrap(justification), "must provide justification");\n    goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(justification)), "must provide non-empty justification");\n    return goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(styleSheet);\n};\ngoog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract = function(justification, url) {\n    goog.asserts.assertString(goog.string.Const.unwrap(justification), "must provide justification");\n    goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(justification)), "must provide non-empty justification");\n    return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(url);\n};\ngoog.html.uncheckedconversions.trustedResourceUrlFromStringKnownToSatisfyTypeContract = function(justification, url) {\n    goog.asserts.assertString(goog.string.Const.unwrap(justification), "must provide justification");\n    goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(justification)), "must provide non-empty justification");\n    return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(url);\n};\ngoog.structs = {};\ngoog.structs.Collection = function() {\n};\ngoog.math = {};\ngoog.math.randomInt = function(a) {\n    return Math.floor(Math.random() * a);\n};\ngoog.math.uniformRandom = function(a, b) {\n    return a + Math.random() * (b - a);\n};\ngoog.math.clamp = function(value, min, max) {\n    return Math.min(Math.max(value, min), max);\n};\ngoog.math.modulo = function(a, b) {\n    var r = a % b;\n    return 0 > r * b ? r + b : r;\n};\ngoog.math.lerp = function(a, b, x) {\n    return a + x * (b - a);\n};\ngoog.math.nearlyEquals = function(a, b, opt_tolerance) {\n    return Math.abs(a - b) <= (opt_tolerance || 1E-6);\n};\ngoog.math.standardAngle = function(angle) {\n    return goog.math.modulo(angle, 360);\n};\ngoog.math.standardAngleInRadians = function(angle) {\n    return goog.math.modulo(angle, 2 * Math.PI);\n};\ngoog.math.toRadians = function(angleDegrees) {\n    return angleDegrees * Math.PI / 180;\n};\ngoog.math.toDegrees = function(angleRadians) {\n    return 180 * angleRadians / Math.PI;\n};\ngoog.math.angleDx = function(degrees, radius) {\n    return radius * Math.cos(goog.math.toRadians(degrees));\n};\ngoog.math.angleDy = function(degrees, radius) {\n    return radius * Math.sin(goog.math.toRadians(degrees));\n};\ngoog.math.angle = function(x1, y1, x2, y2) {\n    return goog.math.standardAngle(goog.math.toDegrees(Math.atan2(y2 - y1, x2 - x1)));\n};\ngoog.math.angleDifference = function(startAngle, endAngle) {\n    var d = goog.math.standardAngle(endAngle) - goog.math.standardAngle(startAngle);\n    180 < d ? d -= 360 : -180 >= d && (d = 360 + d);\n    return d;\n};\ngoog.math.sign = function(x) {\n    return 0 < x ? 1 : 0 > x ? -1 : x;\n};\ngoog.math.longestCommonSubsequence = function(array1, array2, opt_compareFn, opt_collectorFn) {\n    for (var compare = opt_compareFn || function(a, b) {\n            return a == b;\n        }, collect = opt_collectorFn || function(i1, i2) {\n            return array1[i1];\n        }, length1 = array1.length, length2 = array2.length, arr = [], i = 0;i < length1 + 1;i++) {\n        arr[i] = [], arr[i][0] = 0;\n    }\n    for (var j = 0;j < length2 + 1;j++) {\n        arr[0][j] = 0;\n    }\n    for (i = 1;i <= length1;i++) {\n        for (j = 1;j <= length2;j++) {\n            compare(array1[i - 1], array2[j - 1]) ? arr[i][j] = arr[i - 1][j - 1] + 1 : arr[i][j] = Math.max(arr[i - 1][j], arr[i][j - 1]);\n        }\n    }\n    for (var result = [], i = length1, j = length2;0 < i && 0 < j;) {\n        compare(array1[i - 1], array2[j - 1]) ? (result.unshift(collect(i - 1, j - 1)), i--, j--) : arr[i - 1][j] > arr[i][j - 1] ? i-- : j--;\n    }\n    return result;\n};\ngoog.math.sum = function(var_args) {\n    return goog.array.reduce(arguments, function(sum, value) {\n        return sum + value;\n    }, 0);\n};\ngoog.math.average = function(var_args) {\n    return goog.math.sum.apply(null, arguments) / arguments.length;\n};\ngoog.math.sampleVariance = function(var_args) {\n    var sampleSize = arguments.length;\n    if (2 > sampleSize) {\n        return 0;\n    }\n    var mean = goog.math.average.apply(null, arguments);\n    return goog.math.sum.apply(null, goog.array.map(arguments, function(val) {\n            return Math.pow(val - mean, 2);\n        })) / (sampleSize - 1);\n};\ngoog.math.standardDeviation = function(var_args) {\n    return Math.sqrt(goog.math.sampleVariance.apply(null, arguments));\n};\ngoog.math.isInt = function(num) {\n    return isFinite(num) && 0 == num % 1;\n};\ngoog.math.isFiniteNumber = function(num) {\n    return isFinite(num) && !isNaN(num);\n};\ngoog.math.isNegativeZero = function(num) {\n    return 0 == num && 0 > 1 / num;\n};\ngoog.math.log10Floor = function(num) {\n    if (0 < num) {\n        var x = Math.round(Math.log(num) * Math.LOG10E);\n        return x - (parseFloat("1e" + x) > num ? 1 : 0);\n    }\n    return 0 == num ? -Infinity : NaN;\n};\ngoog.math.safeFloor = function(num, opt_epsilon) {\n    goog.asserts.assert(!goog.isDef(opt_epsilon) || 0 < opt_epsilon);\n    return Math.floor(num + (opt_epsilon || 2E-15));\n};\ngoog.math.safeCeil = function(num, opt_epsilon) {\n    goog.asserts.assert(!goog.isDef(opt_epsilon) || 0 < opt_epsilon);\n    return Math.ceil(num - (opt_epsilon || 2E-15));\n};\ngoog.iter = {};\ngoog.iter.StopIteration = "StopIteration" in goog.global ? goog.global.StopIteration : {message:"StopIteration", stack:""};\ngoog.iter.Iterator = function() {\n};\ngoog.iter.Iterator.prototype.next = function() {\n    throw goog.iter.StopIteration;\n};\ngoog.iter.Iterator.prototype.__iterator__ = function(opt_keys) {\n    return this;\n};\ngoog.iter.toIterator = function(iterable) {\n    if (iterable instanceof goog.iter.Iterator) {\n        return iterable;\n    }\n    if ("function" == typeof iterable.__iterator__) {\n        return iterable.__iterator__(!1);\n    }\n    if (goog.isArrayLike(iterable)) {\n        var i = 0, newIter = new goog.iter.Iterator;\n        newIter.next = function() {\n            for (;;) {\n                if (i >= iterable.length) {\n                    throw goog.iter.StopIteration;\n                }\n                if (i in iterable) {\n                    return iterable[i++];\n                }\n                i++;\n            }\n        };\n        return newIter;\n    }\n    throw Error("Not implemented");\n};\ngoog.iter.forEach = function(iterable, f, opt_obj) {\n    if (goog.isArrayLike(iterable)) {\n        try {\n            goog.array.forEach(iterable, f, opt_obj);\n        } catch (ex) {\n            if (ex !== goog.iter.StopIteration) {\n                throw ex;\n            }\n        }\n    } else {\n        iterable = goog.iter.toIterator(iterable);\n        try {\n            for (;;) {\n                f.call(opt_obj, iterable.next(), void 0, iterable);\n            }\n        } catch (ex$0) {\n            if (ex$0 !== goog.iter.StopIteration) {\n                throw ex$0;\n            }\n        }\n    }\n};\ngoog.iter.filter = function(iterable, f, opt_obj) {\n    var iterator = goog.iter.toIterator(iterable), newIter = new goog.iter.Iterator;\n    newIter.next = function() {\n        for (;;) {\n            var val = iterator.next();\n            if (f.call(opt_obj, val, void 0, iterator)) {\n                return val;\n            }\n        }\n    };\n    return newIter;\n};\ngoog.iter.filterFalse = function(iterable, f, opt_obj) {\n    return goog.iter.filter(iterable, goog.functions.not(f), opt_obj);\n};\ngoog.iter.range = function(startOrStop, opt_stop, opt_step) {\n    var start = 0, stop = startOrStop, step = opt_step || 1;\n    1 < arguments.length && (start = startOrStop, stop = opt_stop);\n    if (0 == step) {\n        throw Error("Range step argument must not be zero");\n    }\n    var newIter = new goog.iter.Iterator;\n    newIter.next = function() {\n        if (0 < step && start >= stop || 0 > step && start <= stop) {\n            throw goog.iter.StopIteration;\n        }\n        var rv = start;\n        start += step;\n        return rv;\n    };\n    return newIter;\n};\ngoog.iter.join = function(iterable, deliminator) {\n    return goog.iter.toArray(iterable).join(deliminator);\n};\ngoog.iter.map = function(iterable, f, opt_obj) {\n    var iterator = goog.iter.toIterator(iterable), newIter = new goog.iter.Iterator;\n    newIter.next = function() {\n        var val = iterator.next();\n        return f.call(opt_obj, val, void 0, iterator);\n    };\n    return newIter;\n};\ngoog.iter.reduce = function(iterable, f, val$jscomp$0, opt_obj) {\n    var rval = val$jscomp$0;\n    goog.iter.forEach(iterable, function(val) {\n        rval = f.call(opt_obj, rval, val);\n    });\n    return rval;\n};\ngoog.iter.some = function(iterable, f, opt_obj) {\n    iterable = goog.iter.toIterator(iterable);\n    try {\n        for (;;) {\n            if (f.call(opt_obj, iterable.next(), void 0, iterable)) {\n                return !0;\n            }\n        }\n    } catch (ex) {\n        if (ex !== goog.iter.StopIteration) {\n            throw ex;\n        }\n    }\n    return !1;\n};\ngoog.iter.every = function(iterable, f, opt_obj) {\n    iterable = goog.iter.toIterator(iterable);\n    try {\n        for (;;) {\n            if (!f.call(opt_obj, iterable.next(), void 0, iterable)) {\n                return !1;\n            }\n        }\n    } catch (ex) {\n        if (ex !== goog.iter.StopIteration) {\n            throw ex;\n        }\n    }\n    return !0;\n};\ngoog.iter.chain = function(var_args) {\n    return goog.iter.chainFromIterable(arguments);\n};\ngoog.iter.chainFromIterable = function(iterable) {\n    var iterator = goog.iter.toIterator(iterable), iter = new goog.iter.Iterator, current = null;\n    iter.next = function() {\n        for (;;) {\n            if (null == current) {\n                var it = iterator.next();\n                current = goog.iter.toIterator(it);\n            }\n            try {\n                return current.next();\n            } catch (ex) {\n                if (ex !== goog.iter.StopIteration) {\n                    throw ex;\n                }\n                current = null;\n            }\n        }\n    };\n    return iter;\n};\ngoog.iter.dropWhile = function(iterable, f, opt_obj) {\n    var iterator = goog.iter.toIterator(iterable), newIter = new goog.iter.Iterator, dropping = !0;\n    newIter.next = function() {\n        for (;;) {\n            var val = iterator.next();\n            if (!dropping || !f.call(opt_obj, val, void 0, iterator)) {\n                return dropping = !1, val;\n            }\n        }\n    };\n    return newIter;\n};\ngoog.iter.takeWhile = function(iterable, f, opt_obj) {\n    var iterator = goog.iter.toIterator(iterable), iter = new goog.iter.Iterator;\n    iter.next = function() {\n        var val = iterator.next();\n        if (f.call(opt_obj, val, void 0, iterator)) {\n            return val;\n        }\n        throw goog.iter.StopIteration;\n    };\n    return iter;\n};\ngoog.iter.toArray = function(iterable) {\n    if (goog.isArrayLike(iterable)) {\n        return goog.array.toArray(iterable);\n    }\n    iterable = goog.iter.toIterator(iterable);\n    var array = [];\n    goog.iter.forEach(iterable, function(val) {\n        array.push(val);\n    });\n    return array;\n};\ngoog.iter.equals = function(iterable1, iterable2, opt_equalsFn) {\n    var pairs = goog.iter.zipLongest({}, iterable1, iterable2), equalsFn = opt_equalsFn || goog.array.defaultCompareEquality;\n    return goog.iter.every(pairs, function(pair) {\n        return equalsFn(pair[0], pair[1]);\n    });\n};\ngoog.iter.nextOrValue = function(iterable, defaultValue) {\n    try {\n        return goog.iter.toIterator(iterable).next();\n    } catch (e) {\n        if (e != goog.iter.StopIteration) {\n            throw e;\n        }\n        return defaultValue;\n    }\n};\ngoog.iter.product = function(var_args) {\n    if (goog.array.some(arguments, function(arr) {\n            return !arr.length;\n        }) || !arguments.length) {\n        return new goog.iter.Iterator;\n    }\n    var iter = new goog.iter.Iterator, arrays = arguments, indicies = goog.array.repeat(0, arrays.length);\n    iter.next = function() {\n        if (indicies) {\n            for (var retVal = goog.array.map(indicies, function(valueIndex, arrayIndex) {\n                return arrays[arrayIndex][valueIndex];\n            }), i = indicies.length - 1;0 <= i;i--) {\n                goog.asserts.assert(indicies);\n                if (indicies[i] < arrays[i].length - 1) {\n                    indicies[i]++;\n                    break;\n                }\n                if (0 == i) {\n                    indicies = null;\n                    break;\n                }\n                indicies[i] = 0;\n            }\n            return retVal;\n        }\n        throw goog.iter.StopIteration;\n    };\n    return iter;\n};\ngoog.iter.cycle = function(iterable) {\n    var baseIterator = goog.iter.toIterator(iterable), cache = [], cacheIndex = 0, iter = new goog.iter.Iterator, useCache = !1;\n    iter.next = function() {\n        var returnElement = null;\n        if (!useCache) {\n            try {\n                return returnElement = baseIterator.next(), cache.push(returnElement), returnElement;\n            } catch (e) {\n                if (e != goog.iter.StopIteration || goog.array.isEmpty(cache)) {\n                    throw e;\n                }\n                useCache = !0;\n            }\n        }\n        returnElement = cache[cacheIndex];\n        cacheIndex = (cacheIndex + 1) % cache.length;\n        return returnElement;\n    };\n    return iter;\n};\ngoog.iter.count = function(opt_start, opt_step) {\n    var counter = opt_start || 0, step = goog.isDef(opt_step) ? opt_step : 1, iter = new goog.iter.Iterator;\n    iter.next = function() {\n        var returnValue = counter;\n        counter += step;\n        return returnValue;\n    };\n    return iter;\n};\ngoog.iter.repeat = function(value) {\n    var iter = new goog.iter.Iterator;\n    iter.next = goog.functions.constant(value);\n    return iter;\n};\ngoog.iter.accumulate = function(iterable) {\n    var iterator = goog.iter.toIterator(iterable), total = 0, iter = new goog.iter.Iterator;\n    iter.next = function() {\n        return total += iterator.next();\n    };\n    return iter;\n};\ngoog.iter.zip = function(var_args) {\n    var args = arguments, iter = new goog.iter.Iterator;\n    if (0 < args.length) {\n        var iterators = goog.array.map(args, goog.iter.toIterator);\n        iter.next = function() {\n            return goog.array.map(iterators, function(it) {\n                return it.next();\n            });\n        };\n    }\n    return iter;\n};\ngoog.iter.zipLongest = function(fillValue, var_args) {\n    var args = goog.array.slice(arguments, 1), iter = new goog.iter.Iterator;\n    if (0 < args.length) {\n        var iterators = goog.array.map(args, goog.iter.toIterator);\n        iter.next = function() {\n            var iteratorsHaveValues = !1, arr = goog.array.map(iterators, function(it) {\n                var returnValue;\n                try {\n                    returnValue = it.next(), iteratorsHaveValues = !0;\n                } catch (ex) {\n                    if (ex !== goog.iter.StopIteration) {\n                        throw ex;\n                    }\n                    returnValue = fillValue;\n                }\n                return returnValue;\n            });\n            if (!iteratorsHaveValues) {\n                throw goog.iter.StopIteration;\n            }\n            return arr;\n        };\n    }\n    return iter;\n};\ngoog.iter.compress = function(iterable, selectors) {\n    var selectorIterator = goog.iter.toIterator(selectors);\n    return goog.iter.filter(iterable, function() {\n        return !!selectorIterator.next();\n    });\n};\ngoog.iter.GroupByIterator_ = function(iterable, opt_keyFunc) {\n    this.iterator = goog.iter.toIterator(iterable);\n    this.keyFunc = opt_keyFunc || goog.functions.identity;\n};\ngoog.inherits(goog.iter.GroupByIterator_, goog.iter.Iterator);\ngoog.iter.GroupByIterator_.prototype.next = function() {\n    for (;this.currentKey == this.targetKey;) {\n        this.currentValue = this.iterator.next(), this.currentKey = this.keyFunc(this.currentValue);\n    }\n    this.targetKey = this.currentKey;\n    return [this.currentKey, this.groupItems_(this.targetKey)];\n};\ngoog.iter.GroupByIterator_.prototype.groupItems_ = function(targetKey) {\n    for (var arr = [];this.currentKey == targetKey;) {\n        arr.push(this.currentValue);\n        try {\n            this.currentValue = this.iterator.next();\n        } catch (ex) {\n            if (ex !== goog.iter.StopIteration) {\n                throw ex;\n            }\n            break;\n        }\n        this.currentKey = this.keyFunc(this.currentValue);\n    }\n    return arr;\n};\ngoog.iter.groupBy = function(iterable, opt_keyFunc) {\n    return new goog.iter.GroupByIterator_(iterable, opt_keyFunc);\n};\ngoog.iter.starMap = function(iterable, f, opt_obj) {\n    var iterator = goog.iter.toIterator(iterable), iter = new goog.iter.Iterator;\n    iter.next = function() {\n        var args = goog.iter.toArray(iterator.next());\n        return f.apply(opt_obj, goog.array.concat(args, void 0, iterator));\n    };\n    return iter;\n};\ngoog.iter.tee = function(iterable, opt_num) {\n    var iterator = goog.iter.toIterator(iterable), num = goog.isNumber(opt_num) ? opt_num : 2, buffers = goog.array.map(goog.array.range(num), function() {\n        return [];\n    }), addNextIteratorValueToBuffers = function() {\n        var val = iterator.next();\n        goog.array.forEach(buffers, function(buffer) {\n            buffer.push(val);\n        });\n    };\n    return goog.array.map(buffers, function(buffer) {\n        var iter = new goog.iter.Iterator;\n        iter.next = function() {\n            goog.array.isEmpty(buffer) && addNextIteratorValueToBuffers();\n            goog.asserts.assert(!goog.array.isEmpty(buffer));\n            return buffer.shift();\n        };\n        return iter;\n    });\n};\ngoog.iter.enumerate = function(iterable, opt_start) {\n    return goog.iter.zip(goog.iter.count(opt_start), iterable);\n};\ngoog.iter.limit = function(iterable, limitSize) {\n    goog.asserts.assert(goog.math.isInt(limitSize) && 0 <= limitSize);\n    var iterator = goog.iter.toIterator(iterable), iter = new goog.iter.Iterator, remaining = limitSize;\n    iter.next = function() {\n        if (0 < remaining--) {\n            return iterator.next();\n        }\n        throw goog.iter.StopIteration;\n    };\n    return iter;\n};\ngoog.iter.consume = function(iterable, count) {\n    goog.asserts.assert(goog.math.isInt(count) && 0 <= count);\n    for (var iterator = goog.iter.toIterator(iterable);0 < count--;) {\n        goog.iter.nextOrValue(iterator, null);\n    }\n    return iterator;\n};\ngoog.iter.slice = function(iterable, start, opt_end) {\n    goog.asserts.assert(goog.math.isInt(start) && 0 <= start);\n    var iterator = goog.iter.consume(iterable, start);\n    goog.isNumber(opt_end) && (goog.asserts.assert(goog.math.isInt(opt_end) && opt_end >= start), iterator = goog.iter.limit(iterator, opt_end - start));\n    return iterator;\n};\ngoog.iter.hasDuplicates_ = function(arr) {\n    var deduped = [];\n    goog.array.removeDuplicates(arr, deduped);\n    return arr.length != deduped.length;\n};\ngoog.iter.permutations = function(iterable, opt_length) {\n    var elements = goog.iter.toArray(iterable), length = goog.isNumber(opt_length) ? opt_length : elements.length, sets = goog.array.repeat(elements, length), product = goog.iter.product.apply(void 0, sets);\n    return goog.iter.filter(product, function(arr) {\n        return !goog.iter.hasDuplicates_(arr);\n    });\n};\ngoog.iter.combinations = function(iterable, length) {\n    function getIndexFromElements(index) {\n        return elements[index];\n    }\n    var elements = goog.iter.toArray(iterable), indexes = goog.iter.range(elements.length), indexIterator = goog.iter.permutations(indexes, length), sortedIndexIterator = goog.iter.filter(indexIterator, function(arr) {\n        return goog.array.isSorted(arr);\n    }), iter = new goog.iter.Iterator;\n    iter.next = function() {\n        return goog.array.map(sortedIndexIterator.next(), getIndexFromElements);\n    };\n    return iter;\n};\ngoog.iter.combinationsWithReplacement = function(iterable, length) {\n    function getIndexFromElements(index) {\n        return elements[index];\n    }\n    var elements = goog.iter.toArray(iterable), indexes = goog.array.range(elements.length), sets = goog.array.repeat(indexes, length), indexIterator = goog.iter.product.apply(void 0, sets), sortedIndexIterator = goog.iter.filter(indexIterator, function(arr) {\n        return goog.array.isSorted(arr);\n    }), iter = new goog.iter.Iterator;\n    iter.next = function() {\n        return goog.array.map(sortedIndexIterator.next(), getIndexFromElements);\n    };\n    return iter;\n};\ngoog.structs.Map = function(opt_map, var_args) {\n    this.map_ = {};\n    this.keys_ = [];\n    this.version_ = this.count_ = 0;\n    var argLength = arguments.length;\n    if (1 < argLength) {\n        if (argLength % 2) {\n            throw Error("Uneven number of arguments");\n        }\n        for (var i = 0;i < argLength;i += 2) {\n            this.set(arguments[i], arguments[i + 1]);\n        }\n    } else {\n        opt_map && this.addAll(opt_map);\n    }\n};\ngoog.structs.Map.prototype.getCount = function() {\n    return this.count_;\n};\ngoog.structs.Map.prototype.getValues = function() {\n    this.cleanupKeysArray_();\n    for (var rv = [], i = 0;i < this.keys_.length;i++) {\n        rv.push(this.map_[this.keys_[i]]);\n    }\n    return rv;\n};\ngoog.structs.Map.prototype.getKeys = function() {\n    this.cleanupKeysArray_();\n    return this.keys_.concat();\n};\ngoog.structs.Map.prototype.containsKey = function(key) {\n    return goog.structs.Map.hasKey_(this.map_, key);\n};\ngoog.structs.Map.prototype.containsValue = function(val) {\n    for (var i = 0;i < this.keys_.length;i++) {\n        var key = this.keys_[i];\n        if (goog.structs.Map.hasKey_(this.map_, key) && this.map_[key] == val) {\n            return !0;\n        }\n    }\n    return !1;\n};\ngoog.structs.Map.prototype.equals = function(otherMap, opt_equalityFn) {\n    if (this === otherMap) {\n        return !0;\n    }\n    if (this.count_ != otherMap.getCount()) {\n        return !1;\n    }\n    var equalityFn = opt_equalityFn || goog.structs.Map.defaultEquals;\n    this.cleanupKeysArray_();\n    for (var key, i = 0;key = this.keys_[i];i++) {\n        if (!equalityFn(this.get(key), otherMap.get(key))) {\n            return !1;\n        }\n    }\n    return !0;\n};\ngoog.structs.Map.defaultEquals = function(a, b) {\n    return a === b;\n};\ngoog.structs.Map.prototype.isEmpty = function() {\n    return 0 == this.count_;\n};\ngoog.structs.Map.prototype.clear = function() {\n    this.map_ = {};\n    this.version_ = this.count_ = this.keys_.length = 0;\n};\ngoog.structs.Map.prototype.remove = function(key) {\n    return goog.structs.Map.hasKey_(this.map_, key) ? (delete this.map_[key], this.count_--, this.version_++, this.keys_.length > 2 * this.count_ && this.cleanupKeysArray_(), !0) : !1;\n};\ngoog.structs.Map.prototype.cleanupKeysArray_ = function() {\n    if (this.count_ != this.keys_.length) {\n        for (var srcIndex = 0, destIndex = 0;srcIndex < this.keys_.length;) {\n            var key = this.keys_[srcIndex];\n            goog.structs.Map.hasKey_(this.map_, key) && (this.keys_[destIndex++] = key);\n            srcIndex++;\n        }\n        this.keys_.length = destIndex;\n    }\n    if (this.count_ != this.keys_.length) {\n        for (var seen = {}, destIndex = srcIndex = 0;srcIndex < this.keys_.length;) {\n            key = this.keys_[srcIndex], goog.structs.Map.hasKey_(seen, key) || (this.keys_[destIndex++] = key, seen[key] = 1), srcIndex++;\n        }\n        this.keys_.length = destIndex;\n    }\n};\ngoog.structs.Map.prototype.get = function(key, opt_val) {\n    return goog.structs.Map.hasKey_(this.map_, key) ? this.map_[key] : opt_val;\n};\ngoog.structs.Map.prototype.set = function(key, value) {\n    goog.structs.Map.hasKey_(this.map_, key) || (this.count_++, this.keys_.push(key), this.version_++);\n    this.map_[key] = value;\n};\ngoog.structs.Map.prototype.addAll = function(map) {\n    var keys, values;\n    map instanceof goog.structs.Map ? (keys = map.getKeys(), values = map.getValues()) : (keys = goog.object.getKeys(map), values = goog.object.getValues(map));\n    for (var i = 0;i < keys.length;i++) {\n        this.set(keys[i], values[i]);\n    }\n};\ngoog.structs.Map.prototype.forEach = function(f, opt_obj) {\n    for (var keys = this.getKeys(), i = 0;i < keys.length;i++) {\n        var key = keys[i], value = this.get(key);\n        f.call(opt_obj, value, key, this);\n    }\n};\ngoog.structs.Map.prototype.clone = function() {\n    return new goog.structs.Map(this);\n};\ngoog.structs.Map.prototype.transpose = function() {\n    for (var transposed = new goog.structs.Map, i = 0;i < this.keys_.length;i++) {\n        var key = this.keys_[i];\n        transposed.set(this.map_[key], key);\n    }\n    return transposed;\n};\ngoog.structs.Map.prototype.toObject = function() {\n    this.cleanupKeysArray_();\n    for (var obj = {}, i = 0;i < this.keys_.length;i++) {\n        var key = this.keys_[i];\n        obj[key] = this.map_[key];\n    }\n    return obj;\n};\ngoog.structs.Map.prototype.getKeyIterator = function() {\n    return this.__iterator__(!0);\n};\ngoog.structs.Map.prototype.getValueIterator = function() {\n    return this.__iterator__(!1);\n};\ngoog.structs.Map.prototype.__iterator__ = function(opt_keys) {\n    this.cleanupKeysArray_();\n    var i = 0, version = this.version_, selfObj = this, newIter = new goog.iter.Iterator;\n    newIter.next = function() {\n        if (version != selfObj.version_) {\n            throw Error("The map has changed since the iterator was created");\n        }\n        if (i >= selfObj.keys_.length) {\n            throw goog.iter.StopIteration;\n        }\n        var key = selfObj.keys_[i++];\n        return opt_keys ? key : selfObj.map_[key];\n    };\n    return newIter;\n};\ngoog.structs.Map.hasKey_ = function(obj, key) {\n    return Object.prototype.hasOwnProperty.call(obj, key);\n};\ngoog.structs.getCount = function(col) {\n    return col.getCount && "function" == typeof col.getCount ? col.getCount() : goog.isArrayLike(col) || goog.isString(col) ? col.length : goog.object.getCount(col);\n};\ngoog.structs.getValues = function(col) {\n    if (col.getValues && "function" == typeof col.getValues) {\n        return col.getValues();\n    }\n    if (goog.isString(col)) {\n        return col.split("");\n    }\n    if (goog.isArrayLike(col)) {\n        for (var rv = [], l = col.length, i = 0;i < l;i++) {\n            rv.push(col[i]);\n        }\n        return rv;\n    }\n    return goog.object.getValues(col);\n};\ngoog.structs.getKeys = function(col) {\n    if (col.getKeys && "function" == typeof col.getKeys) {\n        return col.getKeys();\n    }\n    if (!col.getValues || "function" != typeof col.getValues) {\n        if (goog.isArrayLike(col) || goog.isString(col)) {\n            for (var rv = [], l = col.length, i = 0;i < l;i++) {\n                rv.push(i);\n            }\n            return rv;\n        }\n        return goog.object.getKeys(col);\n    }\n};\ngoog.structs.contains = function(col, val) {\n    return col.contains && "function" == typeof col.contains ? col.contains(val) : col.containsValue && "function" == typeof col.containsValue ? col.containsValue(val) : goog.isArrayLike(col) || goog.isString(col) ? goog.array.contains(col, val) : goog.object.containsValue(col, val);\n};\ngoog.structs.isEmpty = function(col) {\n    return col.isEmpty && "function" == typeof col.isEmpty ? col.isEmpty() : goog.isArrayLike(col) || goog.isString(col) ? goog.array.isEmpty(col) : goog.object.isEmpty(col);\n};\ngoog.structs.clear = function(col) {\n    col.clear && "function" == typeof col.clear ? col.clear() : goog.isArrayLike(col) ? goog.array.clear(col) : goog.object.clear(col);\n};\ngoog.structs.forEach = function(col, f, opt_obj) {\n    if (col.forEach && "function" == typeof col.forEach) {\n        col.forEach(f, opt_obj);\n    } else {\n        if (goog.isArrayLike(col) || goog.isString(col)) {\n            goog.array.forEach(col, f, opt_obj);\n        } else {\n            for (var keys = goog.structs.getKeys(col), values = goog.structs.getValues(col), l = values.length, i = 0;i < l;i++) {\n                f.call(opt_obj, values[i], keys && keys[i], col);\n            }\n        }\n    }\n};\ngoog.structs.filter = function(col, f, opt_obj) {\n    if ("function" == typeof col.filter) {\n        return col.filter(f, opt_obj);\n    }\n    if (goog.isArrayLike(col) || goog.isString(col)) {\n        return goog.array.filter(col, f, opt_obj);\n    }\n    var rv, keys = goog.structs.getKeys(col), values = goog.structs.getValues(col), l = values.length;\n    if (keys) {\n        rv = {};\n        for (var i = 0;i < l;i++) {\n            f.call(opt_obj, values[i], keys[i], col) && (rv[keys[i]] = values[i]);\n        }\n    } else {\n        for (rv = [], i = 0;i < l;i++) {\n            f.call(opt_obj, values[i], void 0, col) && rv.push(values[i]);\n        }\n    }\n    return rv;\n};\ngoog.structs.map = function(col, f, opt_obj) {\n    if ("function" == typeof col.map) {\n        return col.map(f, opt_obj);\n    }\n    if (goog.isArrayLike(col) || goog.isString(col)) {\n        return goog.array.map(col, f, opt_obj);\n    }\n    var rv, keys = goog.structs.getKeys(col), values = goog.structs.getValues(col), l = values.length;\n    if (keys) {\n        rv = {};\n        for (var i = 0;i < l;i++) {\n            rv[keys[i]] = f.call(opt_obj, values[i], keys[i], col);\n        }\n    } else {\n        for (rv = [], i = 0;i < l;i++) {\n            rv[i] = f.call(opt_obj, values[i], void 0, col);\n        }\n    }\n    return rv;\n};\ngoog.structs.some = function(col, f, opt_obj) {\n    if ("function" == typeof col.some) {\n        return col.some(f, opt_obj);\n    }\n    if (goog.isArrayLike(col) || goog.isString(col)) {\n        return goog.array.some(col, f, opt_obj);\n    }\n    for (var keys = goog.structs.getKeys(col), values = goog.structs.getValues(col), l = values.length, i = 0;i < l;i++) {\n        if (f.call(opt_obj, values[i], keys && keys[i], col)) {\n            return !0;\n        }\n    }\n    return !1;\n};\ngoog.structs.every = function(col, f, opt_obj) {\n    if ("function" == typeof col.every) {\n        return col.every(f, opt_obj);\n    }\n    if (goog.isArrayLike(col) || goog.isString(col)) {\n        return goog.array.every(col, f, opt_obj);\n    }\n    for (var keys = goog.structs.getKeys(col), values = goog.structs.getValues(col), l = values.length, i = 0;i < l;i++) {\n        if (!f.call(opt_obj, values[i], keys && keys[i], col)) {\n            return !1;\n        }\n    }\n    return !0;\n};\ngoog.structs.Set = function(opt_values) {\n    this.map_ = new goog.structs.Map;\n    opt_values && this.addAll(opt_values);\n};\ngoog.structs.Set.getKey_ = function(val) {\n    var type = typeof val;\n    return "object" == type && val || "function" == type ? "o" + goog.getUid(val) : type.substr(0, 1) + val;\n};\ngoog.structs.Set.prototype.getCount = function() {\n    return this.map_.getCount();\n};\ngoog.structs.Set.prototype.add = function(element) {\n    this.map_.set(goog.structs.Set.getKey_(element), element);\n};\ngoog.structs.Set.prototype.addAll = function(col) {\n    for (var values = goog.structs.getValues(col), l = values.length, i = 0;i < l;i++) {\n        this.add(values[i]);\n    }\n};\ngoog.structs.Set.prototype.removeAll = function(col) {\n    for (var values = goog.structs.getValues(col), l = values.length, i = 0;i < l;i++) {\n        this.remove(values[i]);\n    }\n};\ngoog.structs.Set.prototype.remove = function(element) {\n    return this.map_.remove(goog.structs.Set.getKey_(element));\n};\ngoog.structs.Set.prototype.clear = function() {\n    this.map_.clear();\n};\ngoog.structs.Set.prototype.isEmpty = function() {\n    return this.map_.isEmpty();\n};\ngoog.structs.Set.prototype.contains = function(element) {\n    return this.map_.containsKey(goog.structs.Set.getKey_(element));\n};\ngoog.structs.Set.prototype.containsAll = function(col) {\n    return goog.structs.every(col, this.contains, this);\n};\ngoog.structs.Set.prototype.intersection = function(col) {\n    for (var result = new goog.structs.Set, values = goog.structs.getValues(col), i = 0;i < values.length;i++) {\n        var value = values[i];\n        this.contains(value) && result.add(value);\n    }\n    return result;\n};\ngoog.structs.Set.prototype.difference = function(col) {\n    var result = this.clone();\n    result.removeAll(col);\n    return result;\n};\ngoog.structs.Set.prototype.getValues = function() {\n    return this.map_.getValues();\n};\ngoog.structs.Set.prototype.clone = function() {\n    return new goog.structs.Set(this);\n};\ngoog.structs.Set.prototype.equals = function(col) {\n    return this.getCount() == goog.structs.getCount(col) && this.isSubsetOf(col);\n};\ngoog.structs.Set.prototype.isSubsetOf = function(col) {\n    var colCount = goog.structs.getCount(col);\n    if (this.getCount() > colCount) {\n        return !1;\n    }\n    !(col instanceof goog.structs.Set) && 5 < colCount && (col = new goog.structs.Set(col));\n    return goog.structs.every(this, function(value) {\n        return goog.structs.contains(col, value);\n    });\n};\ngoog.structs.Set.prototype.__iterator__ = function(opt_keys) {\n    return this.map_.__iterator__(!1);\n};\ngoog.debug.LOGGING_ENABLED = goog.DEBUG;\ngoog.debug.FORCE_SLOPPY_STACKS = !1;\ngoog.debug.catchErrors = function(logFunc, opt_cancel, opt_target) {\n    var target = opt_target || goog.global, oldErrorHandler = target.onerror, retVal = !!opt_cancel;\n    goog.userAgent.WEBKIT && !goog.userAgent.isVersionOrHigher("535.3") && (retVal = !retVal);\n    target.onerror = function(message, url, line, opt_col, opt_error) {\n        oldErrorHandler && oldErrorHandler(message, url, line, opt_col, opt_error);\n        logFunc({message:message, fileName:url, line:line, col:opt_col, error:opt_error});\n        return retVal;\n    };\n};\ngoog.debug.expose = function(obj, opt_showFn) {\n    if ("undefined" == typeof obj) {\n        return "undefined";\n    }\n    if (null == obj) {\n        return "NULL";\n    }\n    var str = [], x;\n    for (x in obj) {\n        if (opt_showFn || !goog.isFunction(obj[x])) {\n            var s = x + " = ";\n            try {\n                s += obj[x];\n            } catch (e) {\n                s += "*** " + e + " ***";\n            }\n            str.push(s);\n        }\n    }\n    return str.join("\\n");\n};\ngoog.debug.deepExpose = function(obj$jscomp$0, opt_showFn) {\n    var str = [], helper = function(obj, space, parentSeen) {\n        var nestspace = space + "  ", seen = new goog.structs.Set(parentSeen);\n        try {\n            if (goog.isDef(obj)) {\n                if (goog.isNull(obj)) {\n                    str.push("NULL");\n                } else {\n                    if (goog.isString(obj)) {\n                        str.push(\'"\' + obj.replace(/\\n/g, "\\n" + space) + \'"\');\n                    } else {\n                        if (goog.isFunction(obj)) {\n                            str.push(String(obj).replace(/\\n/g, "\\n" + space));\n                        } else {\n                            if (goog.isObject(obj)) {\n                                if (seen.contains(obj)) {\n                                    str.push("*** reference loop detected ***");\n                                } else {\n                                    seen.add(obj);\n                                    str.push("{");\n                                    for (var x in obj) {\n                                        if (opt_showFn || !goog.isFunction(obj[x])) {\n                                            str.push("\\n"), str.push(nestspace), str.push(x + " = "), helper(obj[x], nestspace, seen);\n                                        }\n                                    }\n                                    str.push("\\n" + space + "}");\n                                }\n                            } else {\n                                str.push(obj);\n                            }\n                        }\n                    }\n                }\n            } else {\n                str.push("undefined");\n            }\n        } catch (e) {\n            str.push("*** " + e + " ***");\n        }\n    };\n    helper(obj$jscomp$0, "", new goog.structs.Set);\n    return str.join("");\n};\ngoog.debug.exposeArray = function(arr) {\n    for (var str = [], i = 0;i < arr.length;i++) {\n        goog.isArray(arr[i]) ? str.push(goog.debug.exposeArray(arr[i])) : str.push(arr[i]);\n    }\n    return "[ " + str.join(", ") + " ]";\n};\ngoog.debug.exposeException = function(err, opt_fn) {\n    var html = goog.debug.exposeExceptionAsHtml(err, opt_fn);\n    return goog.html.SafeHtml.unwrap(html);\n};\ngoog.debug.exposeExceptionAsHtml = function(err, opt_fn) {\n    try {\n        var e = goog.debug.normalizeErrorObject(err), viewSourceUrl = goog.debug.createViewSourceUrl_(e.fileName);\n        return goog.html.SafeHtml.concat(goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces("Message: " + e.message + "\\nUrl: "), goog.html.SafeHtml.create("a", {href:viewSourceUrl, target:"_new"}, e.fileName), goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces("\\nLine: " + e.lineNumber + "\\n\\nBrowser stack:\\n" + e.stack + "-> [end]\\n\\nJS stack traversal:\\n" + goog.debug.getStacktrace(opt_fn) + "-> "));\n    } catch (e2) {\n        return goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces("Exception trying to expose exception! You win, we lose. " + e2);\n    }\n};\ngoog.debug.createViewSourceUrl_ = function(opt_fileName) {\n    goog.isDefAndNotNull(opt_fileName) || (opt_fileName = "");\n    if (!/^https?:\\/\\//i.test(opt_fileName)) {\n        return goog.html.SafeUrl.fromConstant(goog.string.Const.from("sanitizedviewsrc"));\n    }\n    var sanitizedFileName = goog.html.SafeUrl.sanitize(opt_fileName);\n    return goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("view-source scheme plus HTTP/HTTPS URL"), "view-source:" + goog.html.SafeUrl.unwrap(sanitizedFileName));\n};\ngoog.debug.normalizeErrorObject = function(err) {\n    var href = goog.getObjectByName("window.location.href");\n    if (goog.isString(err)) {\n        return {message:err, name:"Unknown error", lineNumber:"Not available", fileName:href, stack:"Not available"};\n    }\n    var lineNumber, fileName, threwError = !1;\n    try {\n        lineNumber = err.lineNumber || err.line || "Not available";\n    } catch (e) {\n        lineNumber = "Not available", threwError = !0;\n    }\n    try {\n        fileName = err.fileName || err.filename || err.sourceURL || goog.global.$googDebugFname || href;\n    } catch (e$1) {\n        fileName = "Not available", threwError = !0;\n    }\n    return !threwError && err.lineNumber && err.fileName && err.stack && err.message && err.name ? err : {message:err.message || "Not available", name:err.name || "UnknownError", lineNumber:lineNumber, fileName:fileName, stack:err.stack || "Not available"};\n};\ngoog.debug.enhanceError = function(err, opt_message) {\n    var error;\n    err instanceof Error ? error = err : (error = Error(err), Error.captureStackTrace && Error.captureStackTrace(error, goog.debug.enhanceError));\n    error.stack || (error.stack = goog.debug.getStacktrace(goog.debug.enhanceError));\n    if (opt_message) {\n        for (var x = 0;error["message" + x];) {\n            ++x;\n        }\n        error["message" + x] = String(opt_message);\n    }\n    return error;\n};\ngoog.debug.getStacktraceSimple = function(opt_depth) {\n    if (!goog.debug.FORCE_SLOPPY_STACKS) {\n        var stack = goog.debug.getNativeStackTrace_(goog.debug.getStacktraceSimple);\n        if (stack) {\n            return stack;\n        }\n    }\n    for (var sb = [], fn = arguments.callee.caller, depth = 0;fn && (!opt_depth || depth < opt_depth);) {\n        sb.push(goog.debug.getFunctionName(fn));\n        sb.push("()\\n");\n        try {\n            fn = fn.caller;\n        } catch (e) {\n            sb.push("[exception trying to get caller]\\n");\n            break;\n        }\n        depth++;\n        if (depth >= goog.debug.MAX_STACK_DEPTH) {\n            sb.push("[...long stack...]");\n            break;\n        }\n    }\n    opt_depth && depth >= opt_depth ? sb.push("[...reached max depth limit...]") : sb.push("[end]");\n    return sb.join("");\n};\ngoog.debug.MAX_STACK_DEPTH = 50;\ngoog.debug.getNativeStackTrace_ = function(fn) {\n    var tempErr = Error();\n    if (Error.captureStackTrace) {\n        return Error.captureStackTrace(tempErr, fn), String(tempErr.stack);\n    }\n    try {\n        throw tempErr;\n    } catch (e) {\n        tempErr = e;\n    }\n    var stack = tempErr.stack;\n    return stack ? String(stack) : null;\n};\ngoog.debug.getStacktrace = function(opt_fn) {\n    var stack;\n    goog.debug.FORCE_SLOPPY_STACKS || (stack = goog.debug.getNativeStackTrace_(opt_fn || goog.debug.getStacktrace));\n    stack || (stack = goog.debug.getStacktraceHelper_(opt_fn || arguments.callee.caller, []));\n    return stack;\n};\ngoog.debug.getStacktraceHelper_ = function(fn, visited) {\n    var sb = [];\n    if (goog.array.contains(visited, fn)) {\n        sb.push("[...circular reference...]");\n    } else {\n        if (fn && visited.length < goog.debug.MAX_STACK_DEPTH) {\n            sb.push(goog.debug.getFunctionName(fn) + "(");\n            for (var args = fn.arguments, i = 0;args && i < args.length;i++) {\n                0 < i && sb.push(", ");\n                var argDesc, arg = args[i];\n                switch(typeof arg) {\n                    case "object":\n                        argDesc = arg ? "object" : "null";\n                        break;\n                    case "string":\n                        argDesc = arg;\n                        break;\n                    case "number":\n                        argDesc = String(arg);\n                        break;\n                    case "boolean":\n                        argDesc = arg ? "true" : "false";\n                        break;\n                    case "function":\n                        argDesc = (argDesc = goog.debug.getFunctionName(arg)) ? argDesc : "[fn]";\n                        break;\n                    default:\n                        argDesc = typeof arg;\n                }\n                40 < argDesc.length && (argDesc = argDesc.substr(0, 40) + "...");\n                sb.push(argDesc);\n            }\n            visited.push(fn);\n            sb.push(")\\n");\n            try {\n                sb.push(goog.debug.getStacktraceHelper_(fn.caller, visited));\n            } catch (e) {\n                sb.push("[exception trying to get caller]\\n");\n            }\n        } else {\n            fn ? sb.push("[...long stack...]") : sb.push("[end]");\n        }\n    }\n    return sb.join("");\n};\ngoog.debug.setFunctionResolver = function(resolver) {\n    goog.debug.fnNameResolver_ = resolver;\n};\ngoog.debug.getFunctionName = function(fn) {\n    if (goog.debug.fnNameCache_[fn]) {\n        return goog.debug.fnNameCache_[fn];\n    }\n    if (goog.debug.fnNameResolver_) {\n        var name = goog.debug.fnNameResolver_(fn);\n        if (name) {\n            return goog.debug.fnNameCache_[fn] = name;\n        }\n    }\n    var functionSource = String(fn);\n    if (!goog.debug.fnNameCache_[functionSource]) {\n        var matches = /function ([^\\(]+)/.exec(functionSource);\n        goog.debug.fnNameCache_[functionSource] = matches ? matches[1] : "[Anonymous]";\n    }\n    return goog.debug.fnNameCache_[functionSource];\n};\ngoog.debug.makeWhitespaceVisible = function(string) {\n    return string.replace(/ /g, "[_]").replace(/\\f/g, "[f]").replace(/\\n/g, "[n]\\n").replace(/\\r/g, "[r]").replace(/\\t/g, "[t]");\n};\ngoog.debug.runtimeType = function(value) {\n    return value instanceof Function ? value.displayName || value.name || "unknown type name" : value instanceof Object ? value.constructor.displayName || value.constructor.name || Object.prototype.toString.call(value) : null === value ? "null" : typeof value;\n};\ngoog.debug.fnNameCache_ = {};\ngoog.debug.LogRecord = function(level, msg, loggerName, opt_time, opt_sequenceNumber) {\n    this.reset(level, msg, loggerName, opt_time, opt_sequenceNumber);\n};\ngoog.debug.LogRecord.prototype.sequenceNumber_ = 0;\ngoog.debug.LogRecord.prototype.exception_ = null;\ngoog.debug.LogRecord.ENABLE_SEQUENCE_NUMBERS = !0;\ngoog.debug.LogRecord.nextSequenceNumber_ = 0;\ngoog.debug.LogRecord.prototype.reset = function(level, msg, loggerName, opt_time, opt_sequenceNumber) {\n    goog.debug.LogRecord.ENABLE_SEQUENCE_NUMBERS && (this.sequenceNumber_ = "number" == typeof opt_sequenceNumber ? opt_sequenceNumber : goog.debug.LogRecord.nextSequenceNumber_++);\n    this.time_ = opt_time || goog.now();\n    this.level_ = level;\n    this.msg_ = msg;\n    this.loggerName_ = loggerName;\n    delete this.exception_;\n};\ngoog.debug.LogRecord.prototype.getLoggerName = function() {\n    return this.loggerName_;\n};\ngoog.debug.LogRecord.prototype.getException = function() {\n    return this.exception_;\n};\ngoog.debug.LogRecord.prototype.setException = function(exception) {\n    this.exception_ = exception;\n};\ngoog.debug.LogRecord.prototype.setLoggerName = function(loggerName) {\n    this.loggerName_ = loggerName;\n};\ngoog.debug.LogRecord.prototype.getLevel = function() {\n    return this.level_;\n};\ngoog.debug.LogRecord.prototype.setLevel = function(level) {\n    this.level_ = level;\n};\ngoog.debug.LogRecord.prototype.getMessage = function() {\n    return this.msg_;\n};\ngoog.debug.LogRecord.prototype.setMessage = function(msg) {\n    this.msg_ = msg;\n};\ngoog.debug.LogRecord.prototype.getMillis = function() {\n    return this.time_;\n};\ngoog.debug.LogRecord.prototype.setMillis = function(time) {\n    this.time_ = time;\n};\ngoog.debug.LogRecord.prototype.getSequenceNumber = function() {\n    return this.sequenceNumber_;\n};\ngoog.debug.LogBuffer = function() {\n    goog.asserts.assert(goog.debug.LogBuffer.isBufferingEnabled(), "Cannot use goog.debug.LogBuffer without defining goog.debug.LogBuffer.CAPACITY.");\n    this.clear();\n};\ngoog.debug.LogBuffer.getInstance = function() {\n    goog.debug.LogBuffer.instance_ || (goog.debug.LogBuffer.instance_ = new goog.debug.LogBuffer);\n    return goog.debug.LogBuffer.instance_;\n};\ngoog.debug.LogBuffer.CAPACITY = 0;\ngoog.debug.LogBuffer.prototype.addRecord = function(level, msg, loggerName) {\n    var curIndex = (this.curIndex_ + 1) % goog.debug.LogBuffer.CAPACITY;\n    this.curIndex_ = curIndex;\n    if (this.isFull_) {\n        var ret = this.buffer_[curIndex];\n        ret.reset(level, msg, loggerName);\n        return ret;\n    }\n    this.isFull_ = curIndex == goog.debug.LogBuffer.CAPACITY - 1;\n    return this.buffer_[curIndex] = new goog.debug.LogRecord(level, msg, loggerName);\n};\ngoog.debug.LogBuffer.isBufferingEnabled = function() {\n    return 0 < goog.debug.LogBuffer.CAPACITY;\n};\ngoog.debug.LogBuffer.prototype.clear = function() {\n    this.buffer_ = Array(goog.debug.LogBuffer.CAPACITY);\n    this.curIndex_ = -1;\n    this.isFull_ = !1;\n};\ngoog.debug.LogBuffer.prototype.forEachRecord = function(func) {\n    var buffer = this.buffer_;\n    if (buffer[0]) {\n        var curIndex = this.curIndex_, i = this.isFull_ ? curIndex : -1;\n        do {\n            i = (i + 1) % goog.debug.LogBuffer.CAPACITY, func(buffer[i]);\n        } while (i != curIndex);\n    }\n};\ngoog.debug.Logger = function(name) {\n    this.name_ = name;\n    this.handlers_ = this.children_ = this.level_ = this.parent_ = null;\n};\ngoog.debug.Logger.ROOT_LOGGER_NAME = "";\ngoog.debug.Logger.ENABLE_HIERARCHY = !0;\ngoog.debug.Logger.ENABLE_HIERARCHY || (goog.debug.Logger.rootHandlers_ = []);\ngoog.debug.Logger.Level = function(name, value) {\n    this.name = name;\n    this.value = value;\n};\ngoog.debug.Logger.Level.prototype.toString = function() {\n    return this.name;\n};\ngoog.debug.Logger.Level.OFF = new goog.debug.Logger.Level("OFF", Infinity);\ngoog.debug.Logger.Level.SHOUT = new goog.debug.Logger.Level("SHOUT", 1200);\ngoog.debug.Logger.Level.SEVERE = new goog.debug.Logger.Level("SEVERE", 1E3);\ngoog.debug.Logger.Level.WARNING = new goog.debug.Logger.Level("WARNING", 900);\ngoog.debug.Logger.Level.INFO = new goog.debug.Logger.Level("INFO", 800);\ngoog.debug.Logger.Level.CONFIG = new goog.debug.Logger.Level("CONFIG", 700);\ngoog.debug.Logger.Level.FINE = new goog.debug.Logger.Level("FINE", 500);\ngoog.debug.Logger.Level.FINER = new goog.debug.Logger.Level("FINER", 400);\ngoog.debug.Logger.Level.FINEST = new goog.debug.Logger.Level("FINEST", 300);\ngoog.debug.Logger.Level.ALL = new goog.debug.Logger.Level("ALL", 0);\ngoog.debug.Logger.Level.PREDEFINED_LEVELS = [goog.debug.Logger.Level.OFF, goog.debug.Logger.Level.SHOUT, goog.debug.Logger.Level.SEVERE, goog.debug.Logger.Level.WARNING, goog.debug.Logger.Level.INFO, goog.debug.Logger.Level.CONFIG, goog.debug.Logger.Level.FINE, goog.debug.Logger.Level.FINER, goog.debug.Logger.Level.FINEST, goog.debug.Logger.Level.ALL];\ngoog.debug.Logger.Level.predefinedLevelsCache_ = null;\ngoog.debug.Logger.Level.createPredefinedLevelsCache_ = function() {\n    goog.debug.Logger.Level.predefinedLevelsCache_ = {};\n    for (var i = 0, level;level = goog.debug.Logger.Level.PREDEFINED_LEVELS[i];i++) {\n        goog.debug.Logger.Level.predefinedLevelsCache_[level.value] = level, goog.debug.Logger.Level.predefinedLevelsCache_[level.name] = level;\n    }\n};\ngoog.debug.Logger.Level.getPredefinedLevel = function(name) {\n    goog.debug.Logger.Level.predefinedLevelsCache_ || goog.debug.Logger.Level.createPredefinedLevelsCache_();\n    return goog.debug.Logger.Level.predefinedLevelsCache_[name] || null;\n};\ngoog.debug.Logger.Level.getPredefinedLevelByValue = function(value) {\n    goog.debug.Logger.Level.predefinedLevelsCache_ || goog.debug.Logger.Level.createPredefinedLevelsCache_();\n    if (value in goog.debug.Logger.Level.predefinedLevelsCache_) {\n        return goog.debug.Logger.Level.predefinedLevelsCache_[value];\n    }\n    for (var i = 0;i < goog.debug.Logger.Level.PREDEFINED_LEVELS.length;++i) {\n        var level = goog.debug.Logger.Level.PREDEFINED_LEVELS[i];\n        if (level.value <= value) {\n            return level;\n        }\n    }\n    return null;\n};\ngoog.debug.Logger.getLogger = function(name) {\n    return goog.debug.LogManager.getLogger(name);\n};\ngoog.debug.Logger.logToProfilers = function(msg) {\n    goog.global.console && (goog.global.console.timeStamp ? goog.global.console.timeStamp(msg) : goog.global.console.markTimeline && goog.global.console.markTimeline(msg));\n    goog.global.msWriteProfilerMark && goog.global.msWriteProfilerMark(msg);\n};\ngoog.debug.Logger.prototype.getName = function() {\n    return this.name_;\n};\ngoog.debug.Logger.prototype.addHandler = function(handler) {\n    goog.debug.LOGGING_ENABLED && (goog.debug.Logger.ENABLE_HIERARCHY ? (this.handlers_ || (this.handlers_ = []), this.handlers_.push(handler)) : (goog.asserts.assert(!this.name_, "Cannot call addHandler on a non-root logger when goog.debug.Logger.ENABLE_HIERARCHY is false."), goog.debug.Logger.rootHandlers_.push(handler)));\n};\ngoog.debug.Logger.prototype.removeHandler = function(handler) {\n    if (goog.debug.LOGGING_ENABLED) {\n        var handlers = goog.debug.Logger.ENABLE_HIERARCHY ? this.handlers_ : goog.debug.Logger.rootHandlers_;\n        return !!handlers && goog.array.remove(handlers, handler);\n    }\n    return !1;\n};\ngoog.debug.Logger.prototype.getParent = function() {\n    return this.parent_;\n};\ngoog.debug.Logger.prototype.getChildren = function() {\n    this.children_ || (this.children_ = {});\n    return this.children_;\n};\ngoog.debug.Logger.prototype.setLevel = function(level) {\n    goog.debug.LOGGING_ENABLED && (goog.debug.Logger.ENABLE_HIERARCHY ? this.level_ = level : (goog.asserts.assert(!this.name_, "Cannot call setLevel() on a non-root logger when goog.debug.Logger.ENABLE_HIERARCHY is false."), goog.debug.Logger.rootLevel_ = level));\n};\ngoog.debug.Logger.prototype.getLevel = function() {\n    return goog.debug.LOGGING_ENABLED ? this.level_ : goog.debug.Logger.Level.OFF;\n};\ngoog.debug.Logger.prototype.getEffectiveLevel = function() {\n    if (!goog.debug.LOGGING_ENABLED) {\n        return goog.debug.Logger.Level.OFF;\n    }\n    if (!goog.debug.Logger.ENABLE_HIERARCHY) {\n        return goog.debug.Logger.rootLevel_;\n    }\n    if (this.level_) {\n        return this.level_;\n    }\n    if (this.parent_) {\n        return this.parent_.getEffectiveLevel();\n    }\n    goog.asserts.fail("Root logger has no level set.");\n    return null;\n};\ngoog.debug.Logger.prototype.isLoggable = function(level) {\n    return goog.debug.LOGGING_ENABLED && level.value >= this.getEffectiveLevel().value;\n};\ngoog.debug.Logger.prototype.log = function(level, msg, opt_exception) {\n    goog.debug.LOGGING_ENABLED && this.isLoggable(level) && (goog.isFunction(msg) && (msg = msg()), this.doLogRecord_(this.getLogRecord(level, msg, opt_exception)));\n};\ngoog.debug.Logger.prototype.getLogRecord = function(level, msg, opt_exception) {\n    var logRecord = goog.debug.LogBuffer.isBufferingEnabled() ? goog.debug.LogBuffer.getInstance().addRecord(level, msg, this.name_) : new goog.debug.LogRecord(level, String(msg), this.name_);\n    opt_exception && logRecord.setException(opt_exception);\n    return logRecord;\n};\ngoog.debug.Logger.prototype.shout = function(msg, opt_exception) {\n    goog.debug.LOGGING_ENABLED && this.log(goog.debug.Logger.Level.SHOUT, msg, opt_exception);\n};\ngoog.debug.Logger.prototype.severe = function(msg, opt_exception) {\n    goog.debug.LOGGING_ENABLED && this.log(goog.debug.Logger.Level.SEVERE, msg, opt_exception);\n};\ngoog.debug.Logger.prototype.warning = function(msg, opt_exception) {\n    goog.debug.LOGGING_ENABLED && this.log(goog.debug.Logger.Level.WARNING, msg, opt_exception);\n};\ngoog.debug.Logger.prototype.info = function(msg, opt_exception) {\n    goog.debug.LOGGING_ENABLED && this.log(goog.debug.Logger.Level.INFO, msg, opt_exception);\n};\ngoog.debug.Logger.prototype.config = function(msg, opt_exception) {\n    goog.debug.LOGGING_ENABLED && this.log(goog.debug.Logger.Level.CONFIG, msg, opt_exception);\n};\ngoog.debug.Logger.prototype.fine = function(msg, opt_exception) {\n    goog.debug.LOGGING_ENABLED && this.log(goog.debug.Logger.Level.FINE, msg, opt_exception);\n};\ngoog.debug.Logger.prototype.finer = function(msg, opt_exception) {\n    goog.debug.LOGGING_ENABLED && this.log(goog.debug.Logger.Level.FINER, msg, opt_exception);\n};\ngoog.debug.Logger.prototype.finest = function(msg, opt_exception) {\n    goog.debug.LOGGING_ENABLED && this.log(goog.debug.Logger.Level.FINEST, msg, opt_exception);\n};\ngoog.debug.Logger.prototype.logRecord = function(logRecord) {\n    goog.debug.LOGGING_ENABLED && this.isLoggable(logRecord.getLevel()) && this.doLogRecord_(logRecord);\n};\ngoog.debug.Logger.prototype.doLogRecord_ = function(logRecord) {\n    goog.debug.Logger.logToProfilers("log:" + logRecord.getMessage());\n    if (goog.debug.Logger.ENABLE_HIERARCHY) {\n        for (var target = this;target;) {\n            target.callPublish_(logRecord), target = target.getParent();\n        }\n    } else {\n        for (var i = 0, handler;handler = goog.debug.Logger.rootHandlers_[i++];) {\n            handler(logRecord);\n        }\n    }\n};\ngoog.debug.Logger.prototype.callPublish_ = function(logRecord) {\n    if (this.handlers_) {\n        for (var i = 0, handler;handler = this.handlers_[i];i++) {\n            handler(logRecord);\n        }\n    }\n};\ngoog.debug.Logger.prototype.setParent_ = function(parent) {\n    this.parent_ = parent;\n};\ngoog.debug.Logger.prototype.addChild_ = function(name, logger) {\n    this.getChildren()[name] = logger;\n};\ngoog.debug.LogManager = {};\ngoog.debug.LogManager.loggers_ = {};\ngoog.debug.LogManager.rootLogger_ = null;\ngoog.debug.LogManager.initialize = function() {\n    goog.debug.LogManager.rootLogger_ || (goog.debug.LogManager.rootLogger_ = new goog.debug.Logger(goog.debug.Logger.ROOT_LOGGER_NAME), goog.debug.LogManager.loggers_[goog.debug.Logger.ROOT_LOGGER_NAME] = goog.debug.LogManager.rootLogger_, goog.debug.LogManager.rootLogger_.setLevel(goog.debug.Logger.Level.CONFIG));\n};\ngoog.debug.LogManager.getLoggers = function() {\n    return goog.debug.LogManager.loggers_;\n};\ngoog.debug.LogManager.getRoot = function() {\n    goog.debug.LogManager.initialize();\n    return goog.debug.LogManager.rootLogger_;\n};\ngoog.debug.LogManager.getLogger = function(name) {\n    goog.debug.LogManager.initialize();\n    return goog.debug.LogManager.loggers_[name] || goog.debug.LogManager.createLogger_(name);\n};\ngoog.debug.LogManager.createFunctionForCatchErrors = function(opt_logger) {\n    return function(info) {\n        (opt_logger || goog.debug.LogManager.getRoot()).severe("Error: " + info.message + " (" + info.fileName + " @ Line: " + info.line + ")");\n    };\n};\ngoog.debug.LogManager.createLogger_ = function(name) {\n    var logger = new goog.debug.Logger(name);\n    if (goog.debug.Logger.ENABLE_HIERARCHY) {\n        var lastDotIndex = name.lastIndexOf("."), leafName = name.substr(lastDotIndex + 1), parentLogger = goog.debug.LogManager.getLogger(name.substr(0, lastDotIndex));\n        parentLogger.addChild_(leafName, logger);\n        logger.setParent_(parentLogger);\n    }\n    return goog.debug.LogManager.loggers_[name] = logger;\n};\ngoog.log = {};\ngoog.log.ENABLED = goog.debug.LOGGING_ENABLED;\ngoog.log.ROOT_LOGGER_NAME = goog.debug.Logger.ROOT_LOGGER_NAME;\ngoog.log.Logger = goog.debug.Logger;\ngoog.log.Level = goog.debug.Logger.Level;\ngoog.log.LogRecord = goog.debug.LogRecord;\ngoog.log.getLogger = function(name, opt_level) {\n    if (goog.log.ENABLED) {\n        var logger = goog.debug.LogManager.getLogger(name);\n        opt_level && logger && logger.setLevel(opt_level);\n        return logger;\n    }\n    return null;\n};\ngoog.log.addHandler = function(logger, handler) {\n    goog.log.ENABLED && logger && logger.addHandler(handler);\n};\ngoog.log.removeHandler = function(logger, handler) {\n    return goog.log.ENABLED && logger ? logger.removeHandler(handler) : !1;\n};\ngoog.log.log = function(logger, level, msg, opt_exception) {\n    goog.log.ENABLED && logger && logger.log(level, msg, opt_exception);\n};\ngoog.log.error = function(logger, msg, opt_exception) {\n    goog.log.ENABLED && logger && logger.severe(msg, opt_exception);\n};\ngoog.log.warning = function(logger, msg, opt_exception) {\n    goog.log.ENABLED && logger && logger.warning(msg, opt_exception);\n};\ngoog.log.info = function(logger, msg, opt_exception) {\n    goog.log.ENABLED && logger && logger.info(msg, opt_exception);\n};\ngoog.log.fine = function(logger, msg, opt_exception) {\n    goog.log.ENABLED && logger && logger.fine(msg, opt_exception);\n};\ngoog.Timer = function(opt_interval, opt_timerObject) {\n    goog.events.EventTarget.call(this);\n    this.interval_ = opt_interval || 1;\n    this.timerObject_ = opt_timerObject || goog.Timer.defaultTimerObject;\n    this.boundTick_ = goog.bind(this.tick_, this);\n    this.last_ = goog.now();\n};\ngoog.inherits(goog.Timer, goog.events.EventTarget);\ngoog.Timer.MAX_TIMEOUT_ = 2147483647;\ngoog.Timer.INVALID_TIMEOUT_ID_ = -1;\ngoog.Timer.prototype.enabled = !1;\ngoog.Timer.defaultTimerObject = goog.global;\ngoog.Timer.intervalScale = .8;\ngoog.Timer.prototype.timer_ = null;\ngoog.Timer.prototype.getInterval = function() {\n    return this.interval_;\n};\ngoog.Timer.prototype.setInterval = function(interval) {\n    this.interval_ = interval;\n    this.timer_ && this.enabled ? (this.stop(), this.start()) : this.timer_ && this.stop();\n};\ngoog.Timer.prototype.tick_ = function() {\n    if (this.enabled) {\n        var elapsed = goog.now() - this.last_;\n        0 < elapsed && elapsed < this.interval_ * goog.Timer.intervalScale ? this.timer_ = this.timerObject_.setTimeout(this.boundTick_, this.interval_ - elapsed) : (this.timer_ && (this.timerObject_.clearTimeout(this.timer_), this.timer_ = null), this.dispatchTick(), this.enabled && (this.timer_ = this.timerObject_.setTimeout(this.boundTick_, this.interval_), this.last_ = goog.now()));\n    }\n};\ngoog.Timer.prototype.dispatchTick = function() {\n    this.dispatchEvent(goog.Timer.TICK);\n};\ngoog.Timer.prototype.start = function() {\n    this.enabled = !0;\n    this.timer_ || (this.timer_ = this.timerObject_.setTimeout(this.boundTick_, this.interval_), this.last_ = goog.now());\n};\ngoog.Timer.prototype.stop = function() {\n    this.enabled = !1;\n    this.timer_ && (this.timerObject_.clearTimeout(this.timer_), this.timer_ = null);\n};\ngoog.Timer.prototype.disposeInternal = function() {\n    goog.Timer.superClass_.disposeInternal.call(this);\n    this.stop();\n    delete this.timerObject_;\n};\ngoog.Timer.TICK = "tick";\ngoog.Timer.callOnce = function(listener, opt_delay, opt_handler) {\n    if (goog.isFunction(listener)) {\n        opt_handler && (listener = goog.bind(listener, opt_handler));\n    } else {\n        if (listener && "function" == typeof listener.handleEvent) {\n            listener = goog.bind(listener.handleEvent, listener);\n        } else {\n            throw Error("Invalid listener argument");\n        }\n    }\n    return Number(opt_delay) > goog.Timer.MAX_TIMEOUT_ ? goog.Timer.INVALID_TIMEOUT_ID_ : goog.Timer.defaultTimerObject.setTimeout(listener, opt_delay || 0);\n};\ngoog.Timer.clear = function(timerId) {\n    goog.Timer.defaultTimerObject.clearTimeout(timerId);\n};\ngoog.Timer.promise = function(delay, opt_result) {\n    var timerKey = null;\n    return (new goog.Promise(function(resolve, reject) {\n        timerKey = goog.Timer.callOnce(function() {\n            resolve(opt_result);\n        }, delay);\n        timerKey == goog.Timer.INVALID_TIMEOUT_ID_ && reject(Error("Failed to schedule timer."));\n    })).thenCatch(function(error) {\n        goog.Timer.clear(timerKey);\n        throw error;\n    });\n};\ngoog.uri = {};\ngoog.uri.utils = {};\ngoog.uri.utils.CharCode_ = {AMPERSAND:38, EQUAL:61, HASH:35, QUESTION:63};\ngoog.uri.utils.buildFromEncodedParts = function(opt_scheme, opt_userInfo, opt_domain, opt_port, opt_path, opt_queryData, opt_fragment) {\n    var out = "";\n    opt_scheme && (out += opt_scheme + ":");\n    opt_domain && (out += "//", opt_userInfo && (out += opt_userInfo + "@"), out += opt_domain, opt_port && (out += ":" + opt_port));\n    opt_path && (out += opt_path);\n    opt_queryData && (out += "?" + opt_queryData);\n    opt_fragment && (out += "#" + opt_fragment);\n    return out;\n};\ngoog.uri.utils.splitRe_ = /^(?:([^:/?#.]+):)?(?:\\/\\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$/;\ngoog.uri.utils.ComponentIndex = {SCHEME:1, USER_INFO:2, DOMAIN:3, PORT:4, PATH:5, QUERY_DATA:6, FRAGMENT:7};\ngoog.uri.utils.split = function(uri) {\n    return uri.match(goog.uri.utils.splitRe_);\n};\ngoog.uri.utils.decodeIfPossible_ = function(uri, opt_preserveReserved) {\n    return uri ? opt_preserveReserved ? decodeURI(uri) : decodeURIComponent(uri) : uri;\n};\ngoog.uri.utils.getComponentByIndex_ = function(componentIndex, uri) {\n    return goog.uri.utils.split(uri)[componentIndex] || null;\n};\ngoog.uri.utils.getScheme = function(uri) {\n    return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.SCHEME, uri);\n};\ngoog.uri.utils.getEffectiveScheme = function(uri) {\n    var scheme = goog.uri.utils.getScheme(uri);\n    if (!scheme && goog.global.self && goog.global.self.location) {\n        var protocol = goog.global.self.location.protocol, scheme = protocol.substr(0, protocol.length - 1);\n    }\n    return scheme ? scheme.toLowerCase() : "";\n};\ngoog.uri.utils.getUserInfoEncoded = function(uri) {\n    return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.USER_INFO, uri);\n};\ngoog.uri.utils.getUserInfo = function(uri) {\n    return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getUserInfoEncoded(uri));\n};\ngoog.uri.utils.getDomainEncoded = function(uri) {\n    return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.DOMAIN, uri);\n};\ngoog.uri.utils.getDomain = function(uri) {\n    return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getDomainEncoded(uri), !0);\n};\ngoog.uri.utils.getPort = function(uri) {\n    return Number(goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.PORT, uri)) || null;\n};\ngoog.uri.utils.getPathEncoded = function(uri) {\n    return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.PATH, uri);\n};\ngoog.uri.utils.getPath = function(uri) {\n    return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getPathEncoded(uri), !0);\n};\ngoog.uri.utils.getQueryData = function(uri) {\n    return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.QUERY_DATA, uri);\n};\ngoog.uri.utils.getFragmentEncoded = function(uri) {\n    var hashIndex = uri.indexOf("#");\n    return 0 > hashIndex ? null : uri.substr(hashIndex + 1);\n};\ngoog.uri.utils.setFragmentEncoded = function(uri, fragment) {\n    return goog.uri.utils.removeFragment(uri) + (fragment ? "#" + fragment : "");\n};\ngoog.uri.utils.getFragment = function(uri) {\n    return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getFragmentEncoded(uri));\n};\ngoog.uri.utils.getHost = function(uri) {\n    var pieces = goog.uri.utils.split(uri);\n    return goog.uri.utils.buildFromEncodedParts(pieces[goog.uri.utils.ComponentIndex.SCHEME], pieces[goog.uri.utils.ComponentIndex.USER_INFO], pieces[goog.uri.utils.ComponentIndex.DOMAIN], pieces[goog.uri.utils.ComponentIndex.PORT]);\n};\ngoog.uri.utils.getOrigin = function(uri) {\n    var pieces = goog.uri.utils.split(uri);\n    return goog.uri.utils.buildFromEncodedParts(pieces[goog.uri.utils.ComponentIndex.SCHEME], null, pieces[goog.uri.utils.ComponentIndex.DOMAIN], pieces[goog.uri.utils.ComponentIndex.PORT]);\n};\ngoog.uri.utils.getPathAndAfter = function(uri) {\n    var pieces = goog.uri.utils.split(uri);\n    return goog.uri.utils.buildFromEncodedParts(null, null, null, null, pieces[goog.uri.utils.ComponentIndex.PATH], pieces[goog.uri.utils.ComponentIndex.QUERY_DATA], pieces[goog.uri.utils.ComponentIndex.FRAGMENT]);\n};\ngoog.uri.utils.removeFragment = function(uri) {\n    var hashIndex = uri.indexOf("#");\n    return 0 > hashIndex ? uri : uri.substr(0, hashIndex);\n};\ngoog.uri.utils.haveSameDomain = function(uri1, uri2) {\n    var pieces1 = goog.uri.utils.split(uri1), pieces2 = goog.uri.utils.split(uri2);\n    return pieces1[goog.uri.utils.ComponentIndex.DOMAIN] == pieces2[goog.uri.utils.ComponentIndex.DOMAIN] && pieces1[goog.uri.utils.ComponentIndex.SCHEME] == pieces2[goog.uri.utils.ComponentIndex.SCHEME] && pieces1[goog.uri.utils.ComponentIndex.PORT] == pieces2[goog.uri.utils.ComponentIndex.PORT];\n};\ngoog.uri.utils.assertNoFragmentsOrQueries_ = function(uri) {\n    if (goog.DEBUG && (0 <= uri.indexOf("#") || 0 <= uri.indexOf("?"))) {\n        throw Error("goog.uri.utils: Fragment or query identifiers are not supported: [" + uri + "]");\n    }\n};\ngoog.uri.utils.parseQueryData = function(encodedQuery, callback) {\n    if (encodedQuery) {\n        for (var pairs = encodedQuery.split("&"), i = 0;i < pairs.length;i++) {\n            var indexOfEquals = pairs[i].indexOf("="), name = null, value = null;\n            0 <= indexOfEquals ? (name = pairs[i].substring(0, indexOfEquals), value = pairs[i].substring(indexOfEquals + 1)) : name = pairs[i];\n            callback(name, value ? goog.string.urlDecode(value) : "");\n        }\n    }\n};\ngoog.uri.utils.appendQueryData_ = function(buffer) {\n    if (buffer[1]) {\n        var baseUri = buffer[0], hashIndex = baseUri.indexOf("#");\n        0 <= hashIndex && (buffer.push(baseUri.substr(hashIndex)), buffer[0] = baseUri = baseUri.substr(0, hashIndex));\n        var questionIndex = baseUri.indexOf("?");\n        0 > questionIndex ? buffer[1] = "?" : questionIndex == baseUri.length - 1 && (buffer[1] = void 0);\n    }\n    return buffer.join("");\n};\ngoog.uri.utils.appendKeyValuePairs_ = function(key, value, pairs) {\n    if (goog.isArray(value)) {\n        goog.asserts.assertArray(value);\n        for (var j = 0;j < value.length;j++) {\n            goog.uri.utils.appendKeyValuePairs_(key, String(value[j]), pairs);\n        }\n    } else {\n        null != value && pairs.push("&", key, "" === value ? "" : "=", goog.string.urlEncode(value));\n    }\n};\ngoog.uri.utils.buildQueryDataBuffer_ = function(buffer, keysAndValues, opt_startIndex) {\n    goog.asserts.assert(0 == Math.max(keysAndValues.length - (opt_startIndex || 0), 0) % 2, "goog.uri.utils: Key/value lists must be even in length.");\n    for (var i = opt_startIndex || 0;i < keysAndValues.length;i += 2) {\n        goog.uri.utils.appendKeyValuePairs_(keysAndValues[i], keysAndValues[i + 1], buffer);\n    }\n    return buffer;\n};\ngoog.uri.utils.buildQueryData = function(keysAndValues, opt_startIndex) {\n    var buffer = goog.uri.utils.buildQueryDataBuffer_([], keysAndValues, opt_startIndex);\n    buffer[0] = "";\n    return buffer.join("");\n};\ngoog.uri.utils.buildQueryDataBufferFromMap_ = function(buffer, map) {\n    for (var key in map) {\n        goog.uri.utils.appendKeyValuePairs_(key, map[key], buffer);\n    }\n    return buffer;\n};\ngoog.uri.utils.buildQueryDataFromMap = function(map) {\n    var buffer = goog.uri.utils.buildQueryDataBufferFromMap_([], map);\n    buffer[0] = "";\n    return buffer.join("");\n};\ngoog.uri.utils.appendParams = function(uri, var_args) {\n    return goog.uri.utils.appendQueryData_(2 == arguments.length ? goog.uri.utils.buildQueryDataBuffer_([uri], arguments[1], 0) : goog.uri.utils.buildQueryDataBuffer_([uri], arguments, 1));\n};\ngoog.uri.utils.appendParamsFromMap = function(uri, map) {\n    return goog.uri.utils.appendQueryData_(goog.uri.utils.buildQueryDataBufferFromMap_([uri], map));\n};\ngoog.uri.utils.appendParam = function(uri, key, opt_value) {\n    var paramArr = [uri, "&", key];\n    goog.isDefAndNotNull(opt_value) && paramArr.push("=", goog.string.urlEncode(opt_value));\n    return goog.uri.utils.appendQueryData_(paramArr);\n};\ngoog.uri.utils.findParam_ = function(uri, startIndex, keyEncoded, hashOrEndIndex) {\n    for (var index = startIndex, keyLength = keyEncoded.length;0 <= (index = uri.indexOf(keyEncoded, index)) && index < hashOrEndIndex;) {\n        var precedingChar = uri.charCodeAt(index - 1);\n        if (precedingChar == goog.uri.utils.CharCode_.AMPERSAND || precedingChar == goog.uri.utils.CharCode_.QUESTION) {\n            var followingChar = uri.charCodeAt(index + keyLength);\n            if (!followingChar || followingChar == goog.uri.utils.CharCode_.EQUAL || followingChar == goog.uri.utils.CharCode_.AMPERSAND || followingChar == goog.uri.utils.CharCode_.HASH) {\n                return index;\n            }\n        }\n        index += keyLength + 1;\n    }\n    return -1;\n};\ngoog.uri.utils.hashOrEndRe_ = /#|$/;\ngoog.uri.utils.hasParam = function(uri, keyEncoded) {\n    return 0 <= goog.uri.utils.findParam_(uri, 0, keyEncoded, uri.search(goog.uri.utils.hashOrEndRe_));\n};\ngoog.uri.utils.getParamValue = function(uri, keyEncoded) {\n    var hashOrEndIndex = uri.search(goog.uri.utils.hashOrEndRe_), foundIndex = goog.uri.utils.findParam_(uri, 0, keyEncoded, hashOrEndIndex);\n    if (0 > foundIndex) {\n        return null;\n    }\n    var endPosition = uri.indexOf("&", foundIndex);\n    if (0 > endPosition || endPosition > hashOrEndIndex) {\n        endPosition = hashOrEndIndex;\n    }\n    foundIndex += keyEncoded.length + 1;\n    return goog.string.urlDecode(uri.substr(foundIndex, endPosition - foundIndex));\n};\ngoog.uri.utils.getParamValues = function(uri, keyEncoded) {\n    for (var hashOrEndIndex = uri.search(goog.uri.utils.hashOrEndRe_), position = 0, foundIndex, result = [];0 <= (foundIndex = goog.uri.utils.findParam_(uri, position, keyEncoded, hashOrEndIndex));) {\n        position = uri.indexOf("&", foundIndex);\n        if (0 > position || position > hashOrEndIndex) {\n            position = hashOrEndIndex;\n        }\n        foundIndex += keyEncoded.length + 1;\n        result.push(goog.string.urlDecode(uri.substr(foundIndex, position - foundIndex)));\n    }\n    return result;\n};\ngoog.uri.utils.trailingQueryPunctuationRe_ = /[?&]($|#)/;\ngoog.uri.utils.removeParam = function(uri, keyEncoded) {\n    for (var hashOrEndIndex = uri.search(goog.uri.utils.hashOrEndRe_), position = 0, foundIndex, buffer = [];0 <= (foundIndex = goog.uri.utils.findParam_(uri, position, keyEncoded, hashOrEndIndex));) {\n        buffer.push(uri.substring(position, foundIndex)), position = Math.min(uri.indexOf("&", foundIndex) + 1 || hashOrEndIndex, hashOrEndIndex);\n    }\n    buffer.push(uri.substr(position));\n    return buffer.join("").replace(goog.uri.utils.trailingQueryPunctuationRe_, "$1");\n};\ngoog.uri.utils.setParam = function(uri, keyEncoded, value) {\n    return goog.uri.utils.appendParam(goog.uri.utils.removeParam(uri, keyEncoded), keyEncoded, value);\n};\ngoog.uri.utils.appendPath = function(baseUri, path) {\n    goog.uri.utils.assertNoFragmentsOrQueries_(baseUri);\n    goog.string.endsWith(baseUri, "/") && (baseUri = baseUri.substr(0, baseUri.length - 1));\n    goog.string.startsWith(path, "/") && (path = path.substr(1));\n    return goog.string.buildString(baseUri, "/", path);\n};\ngoog.uri.utils.setPath = function(uri, path) {\n    goog.string.startsWith(path, "/") || (path = "/" + path);\n    var parts = goog.uri.utils.split(uri);\n    return goog.uri.utils.buildFromEncodedParts(parts[goog.uri.utils.ComponentIndex.SCHEME], parts[goog.uri.utils.ComponentIndex.USER_INFO], parts[goog.uri.utils.ComponentIndex.DOMAIN], parts[goog.uri.utils.ComponentIndex.PORT], path, parts[goog.uri.utils.ComponentIndex.QUERY_DATA], parts[goog.uri.utils.ComponentIndex.FRAGMENT]);\n};\ngoog.uri.utils.StandardQueryParam = {RANDOM:"zx"};\ngoog.uri.utils.makeUnique = function(uri) {\n    return goog.uri.utils.setParam(uri, goog.uri.utils.StandardQueryParam.RANDOM, goog.string.getRandomString());\n};\ngoog.net.ErrorCode = {NO_ERROR:0, ACCESS_DENIED:1, FILE_NOT_FOUND:2, FF_SILENT_ERROR:3, CUSTOM_ERROR:4, EXCEPTION:5, HTTP_ERROR:6, ABORT:7, TIMEOUT:8, OFFLINE:9};\ngoog.net.ErrorCode.getDebugMessage = function(errorCode) {\n    switch(errorCode) {\n        case goog.net.ErrorCode.NO_ERROR:\n            return "No Error";\n        case goog.net.ErrorCode.ACCESS_DENIED:\n            return "Access denied to content document";\n        case goog.net.ErrorCode.FILE_NOT_FOUND:\n            return "File not found";\n        case goog.net.ErrorCode.FF_SILENT_ERROR:\n            return "Firefox silently errored";\n        case goog.net.ErrorCode.CUSTOM_ERROR:\n            return "Application custom error";\n        case goog.net.ErrorCode.EXCEPTION:\n            return "An exception occurred";\n        case goog.net.ErrorCode.HTTP_ERROR:\n            return "Http response at 400 or 500 level";\n        case goog.net.ErrorCode.ABORT:\n            return "Request was aborted";\n        case goog.net.ErrorCode.TIMEOUT:\n            return "Request timed out";\n        case goog.net.ErrorCode.OFFLINE:\n            return "The resource is not available offline";\n        default:\n            return "Unrecognized error code";\n    }\n};\ngoog.net.HttpStatus = {CONTINUE:100, SWITCHING_PROTOCOLS:101, OK:200, CREATED:201, ACCEPTED:202, NON_AUTHORITATIVE_INFORMATION:203, NO_CONTENT:204, RESET_CONTENT:205, PARTIAL_CONTENT:206, MULTIPLE_CHOICES:300, MOVED_PERMANENTLY:301, FOUND:302, SEE_OTHER:303, NOT_MODIFIED:304, USE_PROXY:305, TEMPORARY_REDIRECT:307, BAD_REQUEST:400, UNAUTHORIZED:401, PAYMENT_REQUIRED:402, FORBIDDEN:403, NOT_FOUND:404, METHOD_NOT_ALLOWED:405, NOT_ACCEPTABLE:406, PROXY_AUTHENTICATION_REQUIRED:407, REQUEST_TIMEOUT:408,\n    CONFLICT:409, GONE:410, LENGTH_REQUIRED:411, PRECONDITION_FAILED:412, REQUEST_ENTITY_TOO_LARGE:413, REQUEST_URI_TOO_LONG:414, UNSUPPORTED_MEDIA_TYPE:415, REQUEST_RANGE_NOT_SATISFIABLE:416, EXPECTATION_FAILED:417, PRECONDITION_REQUIRED:428, TOO_MANY_REQUESTS:429, REQUEST_HEADER_FIELDS_TOO_LARGE:431, INTERNAL_SERVER_ERROR:500, NOT_IMPLEMENTED:501, BAD_GATEWAY:502, SERVICE_UNAVAILABLE:503, GATEWAY_TIMEOUT:504, HTTP_VERSION_NOT_SUPPORTED:505, NETWORK_AUTHENTICATION_REQUIRED:511, QUIRK_IE_NO_CONTENT:1223};\ngoog.net.HttpStatus.isSuccess = function(status) {\n    switch(status) {\n        case goog.net.HttpStatus.OK:\n        case goog.net.HttpStatus.CREATED:\n        case goog.net.HttpStatus.ACCEPTED:\n        case goog.net.HttpStatus.NO_CONTENT:\n        case goog.net.HttpStatus.PARTIAL_CONTENT:\n        case goog.net.HttpStatus.NOT_MODIFIED:\n        case goog.net.HttpStatus.QUIRK_IE_NO_CONTENT:\n            return !0;\n        default:\n            return !1;\n    }\n};\ngoog.net.XhrLike = function() {\n};\ngoog.net.XhrLike.prototype.open = function(method, url, opt_async, opt_user, opt_password) {\n};\ngoog.net.XhrLike.prototype.send = function(opt_data) {\n};\ngoog.net.XhrLike.prototype.abort = function() {\n};\ngoog.net.XhrLike.prototype.setRequestHeader = function(header, value) {\n};\ngoog.net.XhrLike.prototype.getResponseHeader = function(header) {\n};\ngoog.net.XhrLike.prototype.getAllResponseHeaders = function() {\n};\ngoog.net.XmlHttpFactory = function() {\n};\ngoog.net.XmlHttpFactory.prototype.cachedOptions_ = null;\ngoog.net.XmlHttpFactory.prototype.getOptions = function() {\n    return this.cachedOptions_ || (this.cachedOptions_ = this.internalGetOptions());\n};\ngoog.net.WrapperXmlHttpFactory = function(xhrFactory, optionsFactory) {\n    this.xhrFactory_ = xhrFactory;\n    this.optionsFactory_ = optionsFactory;\n};\ngoog.inherits(goog.net.WrapperXmlHttpFactory, goog.net.XmlHttpFactory);\ngoog.net.WrapperXmlHttpFactory.prototype.createInstance = function() {\n    return this.xhrFactory_();\n};\ngoog.net.WrapperXmlHttpFactory.prototype.getOptions = function() {\n    return this.optionsFactory_();\n};\ngoog.net.XmlHttp = function() {\n    return goog.net.XmlHttp.factory_.createInstance();\n};\ngoog.net.XmlHttp.ASSUME_NATIVE_XHR = !1;\ngoog.net.XmlHttpDefines = {};\ngoog.net.XmlHttpDefines.ASSUME_NATIVE_XHR = !1;\ngoog.net.XmlHttp.getOptions = function() {\n    return goog.net.XmlHttp.factory_.getOptions();\n};\ngoog.net.XmlHttp.OptionType = {USE_NULL_FUNCTION:0, LOCAL_REQUEST_ERROR:1};\ngoog.net.XmlHttp.ReadyState = {UNINITIALIZED:0, LOADING:1, LOADED:2, INTERACTIVE:3, COMPLETE:4};\ngoog.net.XmlHttp.setFactory = function(factory, optionsFactory) {\n    goog.net.XmlHttp.setGlobalFactory(new goog.net.WrapperXmlHttpFactory(goog.asserts.assert(factory), goog.asserts.assert(optionsFactory)));\n};\ngoog.net.XmlHttp.setGlobalFactory = function(factory) {\n    goog.net.XmlHttp.factory_ = factory;\n};\ngoog.net.DefaultXmlHttpFactory = function() {\n};\ngoog.inherits(goog.net.DefaultXmlHttpFactory, goog.net.XmlHttpFactory);\ngoog.net.DefaultXmlHttpFactory.prototype.createInstance = function() {\n    var progId = this.getProgId_();\n    return progId ? new ActiveXObject(progId) : new XMLHttpRequest;\n};\ngoog.net.DefaultXmlHttpFactory.prototype.internalGetOptions = function() {\n    var options = {};\n    this.getProgId_() && (options[goog.net.XmlHttp.OptionType.USE_NULL_FUNCTION] = !0, options[goog.net.XmlHttp.OptionType.LOCAL_REQUEST_ERROR] = !0);\n    return options;\n};\ngoog.net.DefaultXmlHttpFactory.prototype.getProgId_ = function() {\n    if (goog.net.XmlHttp.ASSUME_NATIVE_XHR || goog.net.XmlHttpDefines.ASSUME_NATIVE_XHR) {\n        return "";\n    }\n    if (!this.ieProgId_ && "undefined" == typeof XMLHttpRequest && "undefined" != typeof ActiveXObject) {\n        for (var ACTIVE_X_IDENTS = ["MSXML2.XMLHTTP.6.0", "MSXML2.XMLHTTP.3.0", "MSXML2.XMLHTTP", "Microsoft.XMLHTTP"], i = 0;i < ACTIVE_X_IDENTS.length;i++) {\n            var candidate = ACTIVE_X_IDENTS[i];\n            try {\n                return new ActiveXObject(candidate), this.ieProgId_ = candidate;\n            } catch (e) {\n            }\n        }\n        throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");\n    }\n    return this.ieProgId_;\n};\ngoog.net.XmlHttp.setGlobalFactory(new goog.net.DefaultXmlHttpFactory);\ngoog.net.XhrIo = function(opt_xmlHttpFactory) {\n    goog.events.EventTarget.call(this);\n    this.headers = new goog.structs.Map;\n    this.xmlHttpFactory_ = opt_xmlHttpFactory || null;\n    this.active_ = !1;\n    this.xhrOptions_ = this.xhr_ = null;\n    this.lastMethod_ = this.lastUri_ = "";\n    this.lastErrorCode_ = goog.net.ErrorCode.NO_ERROR;\n    this.lastError_ = "";\n    this.inAbort_ = this.inOpen_ = this.inSend_ = this.errorDispatched_ = !1;\n    this.timeoutInterval_ = 0;\n    this.timeoutId_ = null;\n    this.responseType_ = goog.net.XhrIo.ResponseType.DEFAULT;\n    this.useXhr2Timeout_ = this.progressEventsEnabled_ = this.withCredentials_ = !1;\n};\ngoog.inherits(goog.net.XhrIo, goog.events.EventTarget);\ngoog.net.XhrIo.ResponseType = {DEFAULT:"", TEXT:"text", DOCUMENT:"document", BLOB:"blob", ARRAY_BUFFER:"arraybuffer"};\ngoog.net.XhrIo.prototype.logger_ = goog.log.getLogger("goog.net.XhrIo");\ngoog.net.XhrIo.CONTENT_TYPE_HEADER = "Content-Type";\ngoog.net.XhrIo.CONTENT_TRANSFER_ENCODING = "Content-Transfer-Encoding";\ngoog.net.XhrIo.HTTP_SCHEME_PATTERN = /^https?$/i;\ngoog.net.XhrIo.METHODS_WITH_FORM_DATA = ["POST", "PUT"];\ngoog.net.XhrIo.FORM_CONTENT_TYPE = "application/x-www-form-urlencoded;charset=utf-8";\ngoog.net.XhrIo.XHR2_TIMEOUT_ = "timeout";\ngoog.net.XhrIo.XHR2_ON_TIMEOUT_ = "ontimeout";\ngoog.net.XhrIo.sendInstances_ = [];\ngoog.net.XhrIo.send = function(url, opt_callback, opt_method, opt_content, opt_headers, opt_timeoutInterval, opt_withCredentials) {\n    var x = new goog.net.XhrIo;\n    goog.net.XhrIo.sendInstances_.push(x);\n    opt_callback && x.listen(goog.net.EventType.COMPLETE, opt_callback);\n    x.listenOnce(goog.net.EventType.READY, x.cleanupSend_);\n    opt_timeoutInterval && x.setTimeoutInterval(opt_timeoutInterval);\n    opt_withCredentials && x.setWithCredentials(opt_withCredentials);\n    x.send(url, opt_method, opt_content, opt_headers);\n    return x;\n};\ngoog.net.XhrIo.cleanup = function() {\n    for (var instances = goog.net.XhrIo.sendInstances_;instances.length;) {\n        instances.pop().dispose();\n    }\n};\ngoog.net.XhrIo.protectEntryPoints = function(errorHandler) {\n    goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_ = errorHandler.protectEntryPoint(goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_);\n};\ngoog.net.XhrIo.prototype.cleanupSend_ = function() {\n    this.dispose();\n    goog.array.remove(goog.net.XhrIo.sendInstances_, this);\n};\ngoog.net.XhrIo.prototype.getTimeoutInterval = function() {\n    return this.timeoutInterval_;\n};\ngoog.net.XhrIo.prototype.setTimeoutInterval = function(ms) {\n    this.timeoutInterval_ = Math.max(0, ms);\n};\ngoog.net.XhrIo.prototype.setResponseType = function(type) {\n    this.responseType_ = type;\n};\ngoog.net.XhrIo.prototype.getResponseType = function() {\n    return this.responseType_;\n};\ngoog.net.XhrIo.prototype.setWithCredentials = function(withCredentials) {\n    this.withCredentials_ = withCredentials;\n};\ngoog.net.XhrIo.prototype.getWithCredentials = function() {\n    return this.withCredentials_;\n};\ngoog.net.XhrIo.prototype.setProgressEventsEnabled = function(enabled) {\n    this.progressEventsEnabled_ = enabled;\n};\ngoog.net.XhrIo.prototype.getProgressEventsEnabled = function() {\n    return this.progressEventsEnabled_;\n};\ngoog.net.XhrIo.prototype.send = function(url, opt_method, opt_content, opt_headers) {\n    if (this.xhr_) {\n        throw Error("[goog.net.XhrIo] Object is active with another request=" + this.lastUri_ + "; newUri=" + url);\n    }\n    var method = opt_method ? opt_method.toUpperCase() : "GET";\n    this.lastUri_ = url;\n    this.lastError_ = "";\n    this.lastErrorCode_ = goog.net.ErrorCode.NO_ERROR;\n    this.lastMethod_ = method;\n    this.errorDispatched_ = !1;\n    this.active_ = !0;\n    this.xhr_ = this.createXhr();\n    this.xhrOptions_ = this.xmlHttpFactory_ ? this.xmlHttpFactory_.getOptions() : goog.net.XmlHttp.getOptions();\n    this.xhr_.onreadystatechange = goog.bind(this.onReadyStateChange_, this);\n    this.getProgressEventsEnabled() && "onprogress" in this.xhr_ && (this.xhr_.onprogress = goog.bind(function(e) {\n        this.onProgressHandler_(e, !0);\n    }, this), this.xhr_.upload && (this.xhr_.upload.onprogress = goog.bind(this.onProgressHandler_, this)));\n    try {\n        goog.log.fine(this.logger_, this.formatMsg_("Opening Xhr")), this.inOpen_ = !0, this.xhr_.open(method, String(url), !0), this.inOpen_ = !1;\n    } catch (err) {\n        goog.log.fine(this.logger_, this.formatMsg_("Error opening Xhr: " + err.message));\n        this.error_(goog.net.ErrorCode.EXCEPTION, err);\n        return;\n    }\n    var content = opt_content || "", headers = this.headers.clone();\n    opt_headers && goog.structs.forEach(opt_headers, function(value, key) {\n        headers.set(key, value);\n    });\n    var contentTypeKey = goog.array.find(headers.getKeys(), goog.net.XhrIo.isContentTypeHeader_), contentIsFormData = goog.global.FormData && content instanceof goog.global.FormData;\n    !goog.array.contains(goog.net.XhrIo.METHODS_WITH_FORM_DATA, method) || contentTypeKey || contentIsFormData || headers.set(goog.net.XhrIo.CONTENT_TYPE_HEADER, goog.net.XhrIo.FORM_CONTENT_TYPE);\n    headers.forEach(function(value, key) {\n        this.xhr_.setRequestHeader(key, value);\n    }, this);\n    this.responseType_ && (this.xhr_.responseType = this.responseType_);\n    "withCredentials" in this.xhr_ && this.xhr_.withCredentials !== this.withCredentials_ && (this.xhr_.withCredentials = this.withCredentials_);\n    try {\n        this.cleanUpTimeoutTimer_(), 0 < this.timeoutInterval_ && (this.useXhr2Timeout_ = goog.net.XhrIo.shouldUseXhr2Timeout_(this.xhr_), goog.log.fine(this.logger_, this.formatMsg_("Will abort after " + this.timeoutInterval_ + "ms if incomplete, xhr2 " + this.useXhr2Timeout_)), this.useXhr2Timeout_ ? (this.xhr_[goog.net.XhrIo.XHR2_TIMEOUT_] = this.timeoutInterval_, this.xhr_[goog.net.XhrIo.XHR2_ON_TIMEOUT_] = goog.bind(this.timeout_, this)) : this.timeoutId_ = goog.Timer.callOnce(this.timeout_, this.timeoutInterval_,\n            this)), goog.log.fine(this.logger_, this.formatMsg_("Sending request")), this.inSend_ = !0, this.xhr_.send(content), this.inSend_ = !1;\n    } catch (err$2) {\n        goog.log.fine(this.logger_, this.formatMsg_("Send error: " + err$2.message)), this.error_(goog.net.ErrorCode.EXCEPTION, err$2);\n    }\n};\ngoog.net.XhrIo.shouldUseXhr2Timeout_ = function(xhr) {\n    return goog.userAgent.IE && goog.userAgent.isVersionOrHigher(9) && goog.isNumber(xhr[goog.net.XhrIo.XHR2_TIMEOUT_]) && goog.isDef(xhr[goog.net.XhrIo.XHR2_ON_TIMEOUT_]);\n};\ngoog.net.XhrIo.isContentTypeHeader_ = function(header) {\n    return goog.string.caseInsensitiveEquals(goog.net.XhrIo.CONTENT_TYPE_HEADER, header);\n};\ngoog.net.XhrIo.prototype.createXhr = function() {\n    return this.xmlHttpFactory_ ? this.xmlHttpFactory_.createInstance() : goog.net.XmlHttp();\n};\ngoog.net.XhrIo.prototype.timeout_ = function() {\n    "undefined" != typeof goog && this.xhr_ && (this.lastError_ = "Timed out after " + this.timeoutInterval_ + "ms, aborting", this.lastErrorCode_ = goog.net.ErrorCode.TIMEOUT, goog.log.fine(this.logger_, this.formatMsg_(this.lastError_)), this.dispatchEvent(goog.net.EventType.TIMEOUT), this.abort(goog.net.ErrorCode.TIMEOUT));\n};\ngoog.net.XhrIo.prototype.error_ = function(errorCode, err) {\n    this.active_ = !1;\n    this.xhr_ && (this.inAbort_ = !0, this.xhr_.abort(), this.inAbort_ = !1);\n    this.lastError_ = err;\n    this.lastErrorCode_ = errorCode;\n    this.dispatchErrors_();\n    this.cleanUpXhr_();\n};\ngoog.net.XhrIo.prototype.dispatchErrors_ = function() {\n    this.errorDispatched_ || (this.errorDispatched_ = !0, this.dispatchEvent(goog.net.EventType.COMPLETE), this.dispatchEvent(goog.net.EventType.ERROR));\n};\ngoog.net.XhrIo.prototype.abort = function(opt_failureCode) {\n    this.xhr_ && this.active_ && (goog.log.fine(this.logger_, this.formatMsg_("Aborting")), this.active_ = !1, this.inAbort_ = !0, this.xhr_.abort(), this.inAbort_ = !1, this.lastErrorCode_ = opt_failureCode || goog.net.ErrorCode.ABORT, this.dispatchEvent(goog.net.EventType.COMPLETE), this.dispatchEvent(goog.net.EventType.ABORT), this.cleanUpXhr_());\n};\ngoog.net.XhrIo.prototype.disposeInternal = function() {\n    this.xhr_ && (this.active_ && (this.active_ = !1, this.inAbort_ = !0, this.xhr_.abort(), this.inAbort_ = !1), this.cleanUpXhr_(!0));\n    goog.net.XhrIo.superClass_.disposeInternal.call(this);\n};\ngoog.net.XhrIo.prototype.onReadyStateChange_ = function() {\n    if (!this.isDisposed()) {\n        if (this.inOpen_ || this.inSend_ || this.inAbort_) {\n            this.onReadyStateChangeHelper_();\n        } else {\n            this.onReadyStateChangeEntryPoint_();\n        }\n    }\n};\ngoog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_ = function() {\n    this.onReadyStateChangeHelper_();\n};\ngoog.net.XhrIo.prototype.onReadyStateChangeHelper_ = function() {\n    if (this.active_ && "undefined" != typeof goog) {\n        if (this.xhrOptions_[goog.net.XmlHttp.OptionType.LOCAL_REQUEST_ERROR] && this.getReadyState() == goog.net.XmlHttp.ReadyState.COMPLETE && 2 == this.getStatus()) {\n            goog.log.fine(this.logger_, this.formatMsg_("Local request error detected and ignored"));\n        } else {\n            if (this.inSend_ && this.getReadyState() == goog.net.XmlHttp.ReadyState.COMPLETE) {\n                goog.Timer.callOnce(this.onReadyStateChange_, 0, this);\n            } else {\n                if (this.dispatchEvent(goog.net.EventType.READY_STATE_CHANGE), this.isComplete()) {\n                    goog.log.fine(this.logger_, this.formatMsg_("Request complete"));\n                    this.active_ = !1;\n                    try {\n                        this.isSuccess() ? (this.dispatchEvent(goog.net.EventType.COMPLETE), this.dispatchEvent(goog.net.EventType.SUCCESS)) : (this.lastErrorCode_ = goog.net.ErrorCode.HTTP_ERROR, this.lastError_ = this.getStatusText() + " [" + this.getStatus() + "]", this.dispatchErrors_());\n                    } finally {\n                        this.cleanUpXhr_();\n                    }\n                }\n            }\n        }\n    }\n};\ngoog.net.XhrIo.prototype.onProgressHandler_ = function(e, opt_isDownload) {\n    goog.asserts.assert(e.type === goog.net.EventType.PROGRESS, "goog.net.EventType.PROGRESS is of the same type as raw XHR progress.");\n    this.dispatchEvent(goog.net.XhrIo.buildProgressEvent_(e, goog.net.EventType.PROGRESS));\n    this.dispatchEvent(goog.net.XhrIo.buildProgressEvent_(e, opt_isDownload ? goog.net.EventType.DOWNLOAD_PROGRESS : goog.net.EventType.UPLOAD_PROGRESS));\n};\ngoog.net.XhrIo.buildProgressEvent_ = function(e, eventType) {\n    return {type:eventType, lengthComputable:e.lengthComputable, loaded:e.loaded, total:e.total};\n};\ngoog.net.XhrIo.prototype.cleanUpXhr_ = function(opt_fromDispose) {\n    if (this.xhr_) {\n        this.cleanUpTimeoutTimer_();\n        var xhr = this.xhr_, clearedOnReadyStateChange = this.xhrOptions_[goog.net.XmlHttp.OptionType.USE_NULL_FUNCTION] ? goog.nullFunction : null;\n        this.xhrOptions_ = this.xhr_ = null;\n        opt_fromDispose || this.dispatchEvent(goog.net.EventType.READY);\n        try {\n            xhr.onreadystatechange = clearedOnReadyStateChange;\n        } catch (e) {\n            goog.log.error(this.logger_, "Problem encountered resetting onreadystatechange: " + e.message);\n        }\n    }\n};\ngoog.net.XhrIo.prototype.cleanUpTimeoutTimer_ = function() {\n    this.xhr_ && this.useXhr2Timeout_ && (this.xhr_[goog.net.XhrIo.XHR2_ON_TIMEOUT_] = null);\n    goog.isNumber(this.timeoutId_) && (goog.Timer.clear(this.timeoutId_), this.timeoutId_ = null);\n};\ngoog.net.XhrIo.prototype.isActive = function() {\n    return !!this.xhr_;\n};\ngoog.net.XhrIo.prototype.isComplete = function() {\n    return this.getReadyState() == goog.net.XmlHttp.ReadyState.COMPLETE;\n};\ngoog.net.XhrIo.prototype.isSuccess = function() {\n    var status = this.getStatus();\n    return goog.net.HttpStatus.isSuccess(status) || 0 === status && !this.isLastUriEffectiveSchemeHttp_();\n};\ngoog.net.XhrIo.prototype.isLastUriEffectiveSchemeHttp_ = function() {\n    var scheme = goog.uri.utils.getEffectiveScheme(String(this.lastUri_));\n    return goog.net.XhrIo.HTTP_SCHEME_PATTERN.test(scheme);\n};\ngoog.net.XhrIo.prototype.getReadyState = function() {\n    return this.xhr_ ? this.xhr_.readyState : goog.net.XmlHttp.ReadyState.UNINITIALIZED;\n};\ngoog.net.XhrIo.prototype.getStatus = function() {\n    try {\n        return this.getReadyState() > goog.net.XmlHttp.ReadyState.LOADED ? this.xhr_.status : -1;\n    } catch (e) {\n        return -1;\n    }\n};\ngoog.net.XhrIo.prototype.getStatusText = function() {\n    try {\n        return this.getReadyState() > goog.net.XmlHttp.ReadyState.LOADED ? this.xhr_.statusText : "";\n    } catch (e) {\n        return goog.log.fine(this.logger_, "Can not get status: " + e.message), "";\n    }\n};\ngoog.net.XhrIo.prototype.getLastUri = function() {\n    return String(this.lastUri_);\n};\ngoog.net.XhrIo.prototype.getResponseText = function() {\n    try {\n        return this.xhr_ ? this.xhr_.responseText : "";\n    } catch (e) {\n        return goog.log.fine(this.logger_, "Can not get responseText: " + e.message), "";\n    }\n};\ngoog.net.XhrIo.prototype.getResponseBody = function() {\n    try {\n        if (this.xhr_ && "responseBody" in this.xhr_) {\n            return this.xhr_.responseBody;\n        }\n    } catch (e) {\n        goog.log.fine(this.logger_, "Can not get responseBody: " + e.message);\n    }\n    return null;\n};\ngoog.net.XhrIo.prototype.getResponseXml = function() {\n    try {\n        return this.xhr_ ? this.xhr_.responseXML : null;\n    } catch (e) {\n        return goog.log.fine(this.logger_, "Can not get responseXML: " + e.message), null;\n    }\n};\ngoog.net.XhrIo.prototype.getResponseJson = function(opt_xssiPrefix) {\n    if (this.xhr_) {\n        var responseText = this.xhr_.responseText;\n        opt_xssiPrefix && 0 == responseText.indexOf(opt_xssiPrefix) && (responseText = responseText.substring(opt_xssiPrefix.length));\n        return goog.json.parse(responseText);\n    }\n};\ngoog.net.XhrIo.prototype.getResponse = function() {\n    try {\n        if (!this.xhr_) {\n            return null;\n        }\n        if ("response" in this.xhr_) {\n            return this.xhr_.response;\n        }\n        switch(this.responseType_) {\n            case goog.net.XhrIo.ResponseType.DEFAULT:\n            case goog.net.XhrIo.ResponseType.TEXT:\n                return this.xhr_.responseText;\n            case goog.net.XhrIo.ResponseType.ARRAY_BUFFER:\n                if ("mozResponseArrayBuffer" in this.xhr_) {\n                    return this.xhr_.mozResponseArrayBuffer;\n                }\n        }\n        goog.log.error(this.logger_, "Response type " + this.responseType_ + " is not supported on this browser");\n        return null;\n    } catch (e) {\n        return goog.log.fine(this.logger_, "Can not get response: " + e.message), null;\n    }\n};\ngoog.net.XhrIo.prototype.getResponseHeader = function(key) {\n    if (this.xhr_ && this.isComplete()) {\n        var value = this.xhr_.getResponseHeader(key);\n        return goog.isNull(value) ? void 0 : value;\n    }\n};\ngoog.net.XhrIo.prototype.getAllResponseHeaders = function() {\n    return this.xhr_ && this.isComplete() ? this.xhr_.getAllResponseHeaders() : "";\n};\ngoog.net.XhrIo.prototype.getResponseHeaders = function() {\n    for (var headersObject = {}, headersArray = this.getAllResponseHeaders().split("\\r\\n"), i = 0;i < headersArray.length;i++) {\n        if (!goog.string.isEmptyOrWhitespace(headersArray[i])) {\n            var keyValue = goog.string.splitLimit(headersArray[i], ": ", 2);\n            headersObject[keyValue[0]] = headersObject[keyValue[0]] ? headersObject[keyValue[0]] + (", " + keyValue[1]) : keyValue[1];\n        }\n    }\n    return headersObject;\n};\ngoog.net.XhrIo.prototype.getStreamingResponseHeader = function(key) {\n    return this.xhr_ ? this.xhr_.getResponseHeader(key) : null;\n};\ngoog.net.XhrIo.prototype.getAllStreamingResponseHeaders = function() {\n    return this.xhr_ ? this.xhr_.getAllResponseHeaders() : "";\n};\ngoog.net.XhrIo.prototype.getLastErrorCode = function() {\n    return this.lastErrorCode_;\n};\ngoog.net.XhrIo.prototype.getLastError = function() {\n    return goog.isString(this.lastError_) ? this.lastError_ : String(this.lastError_);\n};\ngoog.net.XhrIo.prototype.formatMsg_ = function(msg) {\n    return msg + " [" + this.lastMethod_ + " " + this.lastUri_ + " " + this.getStatus() + "]";\n};\ngoog.debug.entryPointRegistry.register(function(transformer) {\n    goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_ = transformer(goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_);\n});\ngoog.math.Coordinate = function(opt_x, opt_y) {\n    this.x = goog.isDef(opt_x) ? opt_x : 0;\n    this.y = goog.isDef(opt_y) ? opt_y : 0;\n};\ngoog.math.Coordinate.prototype.clone = function() {\n    return new goog.math.Coordinate(this.x, this.y);\n};\ngoog.DEBUG && (goog.math.Coordinate.prototype.toString = function() {\n    return "(" + this.x + ", " + this.y + ")";\n});\ngoog.math.Coordinate.prototype.equals = function(other) {\n    return other instanceof goog.math.Coordinate && goog.math.Coordinate.equals(this, other);\n};\ngoog.math.Coordinate.equals = function(a, b) {\n    return a == b ? !0 : a && b ? a.x == b.x && a.y == b.y : !1;\n};\ngoog.math.Coordinate.distance = function(a, b) {\n    var dx = a.x - b.x, dy = a.y - b.y;\n    return Math.sqrt(dx * dx + dy * dy);\n};\ngoog.math.Coordinate.magnitude = function(a) {\n    return Math.sqrt(a.x * a.x + a.y * a.y);\n};\ngoog.math.Coordinate.azimuth = function(a) {\n    return goog.math.angle(0, 0, a.x, a.y);\n};\ngoog.math.Coordinate.squaredDistance = function(a, b) {\n    var dx = a.x - b.x, dy = a.y - b.y;\n    return dx * dx + dy * dy;\n};\ngoog.math.Coordinate.difference = function(a, b) {\n    return new goog.math.Coordinate(a.x - b.x, a.y - b.y);\n};\ngoog.math.Coordinate.sum = function(a, b) {\n    return new goog.math.Coordinate(a.x + b.x, a.y + b.y);\n};\ngoog.math.Coordinate.prototype.ceil = function() {\n    this.x = Math.ceil(this.x);\n    this.y = Math.ceil(this.y);\n    return this;\n};\ngoog.math.Coordinate.prototype.floor = function() {\n    this.x = Math.floor(this.x);\n    this.y = Math.floor(this.y);\n    return this;\n};\ngoog.math.Coordinate.prototype.round = function() {\n    this.x = Math.round(this.x);\n    this.y = Math.round(this.y);\n    return this;\n};\ngoog.math.Coordinate.prototype.translate = function(tx, opt_ty) {\n    tx instanceof goog.math.Coordinate ? (this.x += tx.x, this.y += tx.y) : (this.x += Number(tx), goog.isNumber(opt_ty) && (this.y += opt_ty));\n    return this;\n};\ngoog.math.Coordinate.prototype.scale = function(sx, opt_sy) {\n    var sy = goog.isNumber(opt_sy) ? opt_sy : sx;\n    this.x *= sx;\n    this.y *= sy;\n    return this;\n};\ngoog.math.Coordinate.prototype.rotateRadians = function(radians, opt_center) {\n    var center = opt_center || new goog.math.Coordinate(0, 0), x = this.x, y = this.y, cos = Math.cos(radians), sin = Math.sin(radians);\n    this.x = (x - center.x) * cos - (y - center.y) * sin + center.x;\n    this.y = (x - center.x) * sin + (y - center.y) * cos + center.y;\n};\ngoog.math.Coordinate.prototype.rotateDegrees = function(degrees, opt_center) {\n    this.rotateRadians(goog.math.toRadians(degrees), opt_center);\n};\ngoog.math.Size = function(width, height) {\n    this.width = width;\n    this.height = height;\n};\ngoog.math.Size.equals = function(a, b) {\n    return a == b ? !0 : a && b ? a.width == b.width && a.height == b.height : !1;\n};\ngoog.math.Size.prototype.clone = function() {\n    return new goog.math.Size(this.width, this.height);\n};\ngoog.DEBUG && (goog.math.Size.prototype.toString = function() {\n    return "(" + this.width + " x " + this.height + ")";\n});\ngoog.math.Size.prototype.getLongest = function() {\n    return Math.max(this.width, this.height);\n};\ngoog.math.Size.prototype.getShortest = function() {\n    return Math.min(this.width, this.height);\n};\ngoog.math.Size.prototype.area = function() {\n    return this.width * this.height;\n};\ngoog.math.Size.prototype.perimeter = function() {\n    return 2 * (this.width + this.height);\n};\ngoog.math.Size.prototype.aspectRatio = function() {\n    return this.width / this.height;\n};\ngoog.math.Size.prototype.isEmpty = function() {\n    return !this.area();\n};\ngoog.math.Size.prototype.ceil = function() {\n    this.width = Math.ceil(this.width);\n    this.height = Math.ceil(this.height);\n    return this;\n};\ngoog.math.Size.prototype.fitsInside = function(target) {\n    return this.width <= target.width && this.height <= target.height;\n};\ngoog.math.Size.prototype.floor = function() {\n    this.width = Math.floor(this.width);\n    this.height = Math.floor(this.height);\n    return this;\n};\ngoog.math.Size.prototype.round = function() {\n    this.width = Math.round(this.width);\n    this.height = Math.round(this.height);\n    return this;\n};\ngoog.math.Size.prototype.scale = function(sx, opt_sy) {\n    var sy = goog.isNumber(opt_sy) ? opt_sy : sx;\n    this.width *= sx;\n    this.height *= sy;\n    return this;\n};\ngoog.math.Size.prototype.scaleToCover = function(target) {\n    return this.scale(this.aspectRatio() <= target.aspectRatio() ? target.width / this.width : target.height / this.height);\n};\ngoog.math.Size.prototype.scaleToFit = function(target) {\n    return this.scale(this.aspectRatio() > target.aspectRatio() ? target.width / this.width : target.height / this.height);\n};\ngoog.dom.BrowserFeature = {CAN_ADD_NAME_OR_TYPE_ATTRIBUTES:!goog.userAgent.IE || goog.userAgent.isDocumentModeOrHigher(9), CAN_USE_CHILDREN_ATTRIBUTE:!goog.userAgent.GECKO && !goog.userAgent.IE || goog.userAgent.IE && goog.userAgent.isDocumentModeOrHigher(9) || goog.userAgent.GECKO && goog.userAgent.isVersionOrHigher("1.9.1"), CAN_USE_INNER_TEXT:goog.userAgent.IE && !goog.userAgent.isVersionOrHigher("9"), CAN_USE_PARENT_ELEMENT_PROPERTY:goog.userAgent.IE || goog.userAgent.OPERA || goog.userAgent.WEBKIT,\n    INNER_HTML_NEEDS_SCOPED_ELEMENT:goog.userAgent.IE, LEGACY_IE_RANGES:goog.userAgent.IE && !goog.userAgent.isDocumentModeOrHigher(9)};\ngoog.dom.safe = {};\ngoog.dom.safe.InsertAdjacentHtmlPosition = {AFTERBEGIN:"afterbegin", AFTEREND:"afterend", BEFOREBEGIN:"beforebegin", BEFOREEND:"beforeend"};\ngoog.dom.safe.insertAdjacentHtml = function(node, position, html) {\n    node.insertAdjacentHTML(position, goog.html.SafeHtml.unwrap(html));\n};\ngoog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_ = {MATH:!0, SCRIPT:!0, STYLE:!0, SVG:!0, TEMPLATE:!0};\ngoog.dom.safe.setInnerHtml = function(elem, html) {\n    if (goog.asserts.ENABLE_ASSERTS && goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_[elem.tagName.toUpperCase()]) {\n        throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of " + elem.tagName + ".");\n    }\n    elem.innerHTML = goog.html.SafeHtml.unwrap(html);\n};\ngoog.dom.safe.setOuterHtml = function(elem, html) {\n    elem.outerHTML = goog.html.SafeHtml.unwrap(html);\n};\ngoog.dom.safe.setStyle = function(elem, style) {\n    elem.style.cssText = goog.html.SafeStyle.unwrap(style);\n};\ngoog.dom.safe.documentWrite = function(doc, html) {\n    doc.write(goog.html.SafeHtml.unwrap(html));\n};\ngoog.dom.safe.setAnchorHref = function(anchor, url) {\n    goog.dom.safe.assertIsHTMLAnchorElement_(anchor);\n    var safeUrl;\n    safeUrl = url instanceof goog.html.SafeUrl ? url : goog.html.SafeUrl.sanitize(url);\n    anchor.href = goog.html.SafeUrl.unwrap(safeUrl);\n};\ngoog.dom.safe.setImageSrc = function(imageElement, url) {\n    goog.dom.safe.assertIsHTMLImageElement_(imageElement);\n    var safeUrl;\n    safeUrl = url instanceof goog.html.SafeUrl ? url : goog.html.SafeUrl.sanitize(url);\n    imageElement.src = goog.html.SafeUrl.unwrap(safeUrl);\n};\ngoog.dom.safe.setEmbedSrc = function(embed, url) {\n    goog.dom.safe.assertIsHTMLEmbedElement_(embed);\n    embed.src = goog.html.TrustedResourceUrl.unwrap(url);\n};\ngoog.dom.safe.setFrameSrc = function(frame, url) {\n    goog.dom.safe.assertIsHTMLFrameElement_(frame);\n    frame.src = goog.html.TrustedResourceUrl.unwrap(url);\n};\ngoog.dom.safe.setIframeSrc = function(iframe, url) {\n    goog.dom.safe.assertIsHTMLIFrameElement_(iframe);\n    iframe.src = goog.html.TrustedResourceUrl.unwrap(url);\n};\ngoog.dom.safe.setLinkHrefAndRel = function(link, url, rel) {\n    goog.dom.safe.assertIsHTMLLinkElement_(link);\n    link.rel = rel;\n    goog.string.caseInsensitiveContains(rel, "stylesheet") ? (goog.asserts.assert(url instanceof goog.html.TrustedResourceUrl, \'URL must be TrustedResourceUrl because "rel" contains "stylesheet"\'), link.href = goog.html.TrustedResourceUrl.unwrap(url)) : link.href = url instanceof goog.html.TrustedResourceUrl ? goog.html.TrustedResourceUrl.unwrap(url) : url instanceof goog.html.SafeUrl ? goog.html.SafeUrl.unwrap(url) : goog.html.SafeUrl.sanitize(url).getTypedStringValue();\n};\ngoog.dom.safe.setObjectData = function(object, url) {\n    goog.dom.safe.assertIsHTMLObjectElement_(object);\n    object.data = goog.html.TrustedResourceUrl.unwrap(url);\n};\ngoog.dom.safe.setScriptSrc = function(script, url) {\n    goog.dom.safe.assertIsHTMLScriptElement_(script);\n    script.src = goog.html.TrustedResourceUrl.unwrap(url);\n};\ngoog.dom.safe.setLocationHref = function(loc, url) {\n    goog.dom.safe.assertIsLocation_(loc);\n    var safeUrl;\n    safeUrl = url instanceof goog.html.SafeUrl ? url : goog.html.SafeUrl.sanitize(url);\n    loc.href = goog.html.SafeUrl.unwrap(safeUrl);\n};\ngoog.dom.safe.openInWindow = function(url, opt_openerWin, opt_name, opt_specs, opt_replace) {\n    var safeUrl;\n    safeUrl = url instanceof goog.html.SafeUrl ? url : goog.html.SafeUrl.sanitize(url);\n    return (opt_openerWin || window).open(goog.html.SafeUrl.unwrap(safeUrl), opt_name ? goog.string.Const.unwrap(opt_name) : "", opt_specs, opt_replace);\n};\ngoog.dom.safe.assertIsLocation_ = function(o) {\n    goog.asserts.ENABLE_ASSERTS && "undefined" != typeof Location && "undefined" != typeof Element && goog.asserts.assert(o && (o instanceof Location || !(o instanceof Element)), "Argument is not a Location (or a non-Element mock); got: %s", goog.dom.safe.debugStringForType_(o));\n    return o;\n};\ngoog.dom.safe.assertIsHTMLAnchorElement_ = function(o) {\n    goog.asserts.ENABLE_ASSERTS && "undefined" != typeof HTMLAnchorElement && "undefined" != typeof Location && "undefined" != typeof Element && goog.asserts.assert(o && (o instanceof HTMLAnchorElement || !(o instanceof Location || o instanceof Element)), "Argument is not a HTMLAnchorElement (or a non-Element mock); got: %s", goog.dom.safe.debugStringForType_(o));\n    return o;\n};\ngoog.dom.safe.assertIsHTMLLinkElement_ = function(o) {\n    goog.asserts.ENABLE_ASSERTS && "undefined" != typeof HTMLLinkElement && "undefined" != typeof Location && "undefined" != typeof Element && goog.asserts.assert(o && (o instanceof HTMLLinkElement || !(o instanceof Location || o instanceof Element)), "Argument is not a HTMLLinkElement (or a non-Element mock); got: %s", goog.dom.safe.debugStringForType_(o));\n    return o;\n};\ngoog.dom.safe.assertIsHTMLImageElement_ = function(o) {\n    goog.asserts.ENABLE_ASSERTS && "undefined" != typeof HTMLImageElement && "undefined" != typeof Element && goog.asserts.assert(o && (o instanceof HTMLImageElement || !(o instanceof Element)), "Argument is not a HTMLImageElement (or a non-Element mock); got: %s", goog.dom.safe.debugStringForType_(o));\n    return o;\n};\ngoog.dom.safe.assertIsHTMLEmbedElement_ = function(o) {\n    goog.asserts.ENABLE_ASSERTS && "undefined" != typeof HTMLEmbedElement && "undefined" != typeof Element && goog.asserts.assert(o && (o instanceof HTMLEmbedElement || !(o instanceof Element)), "Argument is not a HTMLEmbedElement (or a non-Element mock); got: %s", goog.dom.safe.debugStringForType_(o));\n    return o;\n};\ngoog.dom.safe.assertIsHTMLFrameElement_ = function(o) {\n    goog.asserts.ENABLE_ASSERTS && "undefined" != typeof HTMLFrameElement && "undefined" != typeof Element && goog.asserts.assert(o && (o instanceof HTMLFrameElement || !(o instanceof Element)), "Argument is not a HTMLFrameElement (or a non-Element mock); got: %s", goog.dom.safe.debugStringForType_(o));\n    return o;\n};\ngoog.dom.safe.assertIsHTMLIFrameElement_ = function(o) {\n    goog.asserts.ENABLE_ASSERTS && "undefined" != typeof HTMLIFrameElement && "undefined" != typeof Element && goog.asserts.assert(o && (o instanceof HTMLIFrameElement || !(o instanceof Element)), "Argument is not a HTMLIFrameElement (or a non-Element mock); got: %s", goog.dom.safe.debugStringForType_(o));\n    return o;\n};\ngoog.dom.safe.assertIsHTMLObjectElement_ = function(o) {\n    goog.asserts.ENABLE_ASSERTS && "undefined" != typeof HTMLObjectElement && "undefined" != typeof Element && goog.asserts.assert(o && (o instanceof HTMLObjectElement || !(o instanceof Element)), "Argument is not a HTMLObjectElement (or a non-Element mock); got: %s", goog.dom.safe.debugStringForType_(o));\n    return o;\n};\ngoog.dom.safe.assertIsHTMLScriptElement_ = function(o) {\n    goog.asserts.ENABLE_ASSERTS && "undefined" != typeof HTMLScriptElement && "undefined" != typeof Element && goog.asserts.assert(o && (o instanceof HTMLScriptElement || !(o instanceof Element)), "Argument is not a HTMLScriptElement (or a non-Element mock); got: %s", goog.dom.safe.debugStringForType_(o));\n    return o;\n};\ngoog.dom.safe.debugStringForType_ = function(value) {\n    return goog.isObject(value) ? value.constructor.displayName || value.constructor.name || Object.prototype.toString.call(value) : void 0 === value ? "undefined" : null === value ? "null" : typeof value;\n};\ngoog.dom.ASSUME_QUIRKS_MODE = !1;\ngoog.dom.ASSUME_STANDARDS_MODE = !1;\ngoog.dom.COMPAT_MODE_KNOWN_ = goog.dom.ASSUME_QUIRKS_MODE || goog.dom.ASSUME_STANDARDS_MODE;\ngoog.dom.getDomHelper = function(opt_element) {\n    return opt_element ? new goog.dom.DomHelper(goog.dom.getOwnerDocument(opt_element)) : goog.dom.defaultDomHelper_ || (goog.dom.defaultDomHelper_ = new goog.dom.DomHelper);\n};\ngoog.dom.getDocument = function() {\n    return document;\n};\ngoog.dom.getElement = function(element) {\n    return goog.dom.getElementHelper_(document, element);\n};\ngoog.dom.getElementHelper_ = function(doc, element) {\n    return goog.isString(element) ? doc.getElementById(element) : element;\n};\ngoog.dom.getRequiredElement = function(id) {\n    return goog.dom.getRequiredElementHelper_(document, id);\n};\ngoog.dom.getRequiredElementHelper_ = function(doc, id) {\n    goog.asserts.assertString(id);\n    var element = goog.dom.getElementHelper_(doc, id);\n    return element = goog.asserts.assertElement(element, "No element found with id: " + id);\n};\ngoog.dom.$ = goog.dom.getElement;\ngoog.dom.getElementsByTagName = function(tagName, opt_parent) {\n    return (opt_parent || document).getElementsByTagName(String(tagName));\n};\ngoog.dom.getElementsByTagNameAndClass = function(opt_tag, opt_class, opt_el) {\n    return goog.dom.getElementsByTagNameAndClass_(document, opt_tag, opt_class, opt_el);\n};\ngoog.dom.getElementsByClass = function(className, opt_el) {\n    var parent = opt_el || document;\n    return goog.dom.canUseQuerySelector_(parent) ? parent.querySelectorAll("." + className) : goog.dom.getElementsByTagNameAndClass_(document, "*", className, opt_el);\n};\ngoog.dom.getElementByClass = function(className, opt_el) {\n    var parent = opt_el || document, retVal = null;\n    return (retVal = parent.getElementsByClassName ? parent.getElementsByClassName(className)[0] : goog.dom.canUseQuerySelector_(parent) ? parent.querySelector("." + className) : goog.dom.getElementsByTagNameAndClass_(document, "*", className, opt_el)[0]) || null;\n};\ngoog.dom.getRequiredElementByClass = function(className, opt_root) {\n    var retValue = goog.dom.getElementByClass(className, opt_root);\n    return goog.asserts.assert(retValue, "No element found with className: " + className);\n};\ngoog.dom.canUseQuerySelector_ = function(parent) {\n    return !(!parent.querySelectorAll || !parent.querySelector);\n};\ngoog.dom.getElementsByTagNameAndClass_ = function(doc, opt_tag, opt_class, opt_el) {\n    var parent = opt_el || doc, tagName = opt_tag && "*" != opt_tag ? String(opt_tag).toUpperCase() : "";\n    if (goog.dom.canUseQuerySelector_(parent) && (tagName || opt_class)) {\n        return parent.querySelectorAll(tagName + (opt_class ? "." + opt_class : ""));\n    }\n    if (opt_class && parent.getElementsByClassName) {\n        var els = parent.getElementsByClassName(opt_class);\n        if (tagName) {\n            for (var arrayLike = {}, len = 0, i = 0, el;el = els[i];i++) {\n                tagName == el.nodeName && (arrayLike[len++] = el);\n            }\n            arrayLike.length = len;\n            return arrayLike;\n        }\n        return els;\n    }\n    els = parent.getElementsByTagName(tagName || "*");\n    if (opt_class) {\n        arrayLike = {};\n        for (i = len = 0;el = els[i];i++) {\n            var className = el.className;\n            "function" == typeof className.split && goog.array.contains(className.split(/\\s+/), opt_class) && (arrayLike[len++] = el);\n        }\n        arrayLike.length = len;\n        return arrayLike;\n    }\n    return els;\n};\ngoog.dom.$$ = goog.dom.getElementsByTagNameAndClass;\ngoog.dom.setProperties = function(element, properties) {\n    goog.object.forEach(properties, function(val, key) {\n        "style" == key ? element.style.cssText = val : "class" == key ? element.className = val : "for" == key ? element.htmlFor = val : goog.dom.DIRECT_ATTRIBUTE_MAP_.hasOwnProperty(key) ? element.setAttribute(goog.dom.DIRECT_ATTRIBUTE_MAP_[key], val) : goog.string.startsWith(key, "aria-") || goog.string.startsWith(key, "data-") ? element.setAttribute(key, val) : element[key] = val;\n    });\n};\ngoog.dom.DIRECT_ATTRIBUTE_MAP_ = {cellpadding:"cellPadding", cellspacing:"cellSpacing", colspan:"colSpan", frameborder:"frameBorder", height:"height", maxlength:"maxLength", nonce:"nonce", role:"role", rowspan:"rowSpan", type:"type", usemap:"useMap", valign:"vAlign", width:"width"};\ngoog.dom.getViewportSize = function(opt_window) {\n    return goog.dom.getViewportSize_(opt_window || window);\n};\ngoog.dom.getViewportSize_ = function(win) {\n    var doc = win.document, el = goog.dom.isCss1CompatMode_(doc) ? doc.documentElement : doc.body;\n    return new goog.math.Size(el.clientWidth, el.clientHeight);\n};\ngoog.dom.getDocumentHeight = function() {\n    return goog.dom.getDocumentHeight_(window);\n};\ngoog.dom.getDocumentHeightForWindow = function(win) {\n    return goog.dom.getDocumentHeight_(win);\n};\ngoog.dom.getDocumentHeight_ = function(win) {\n    var doc = win.document, height = 0;\n    if (doc) {\n        var body = doc.body, docEl = doc.documentElement;\n        if (!docEl || !body) {\n            return 0;\n        }\n        var vh = goog.dom.getViewportSize_(win).height;\n        if (goog.dom.isCss1CompatMode_(doc) && docEl.scrollHeight) {\n            height = docEl.scrollHeight != vh ? docEl.scrollHeight : docEl.offsetHeight;\n        } else {\n            var sh = docEl.scrollHeight, oh = docEl.offsetHeight;\n            docEl.clientHeight != oh && (sh = body.scrollHeight, oh = body.offsetHeight);\n            height = sh > vh ? sh > oh ? sh : oh : sh < oh ? sh : oh;\n        }\n    }\n    return height;\n};\ngoog.dom.getPageScroll = function(opt_window) {\n    return goog.dom.getDomHelper((opt_window || goog.global || window).document).getDocumentScroll();\n};\ngoog.dom.getDocumentScroll = function() {\n    return goog.dom.getDocumentScroll_(document);\n};\ngoog.dom.getDocumentScroll_ = function(doc) {\n    var el = goog.dom.getDocumentScrollElement_(doc), win = goog.dom.getWindow_(doc);\n    return goog.userAgent.IE && goog.userAgent.isVersionOrHigher("10") && win.pageYOffset != el.scrollTop ? new goog.math.Coordinate(el.scrollLeft, el.scrollTop) : new goog.math.Coordinate(win.pageXOffset || el.scrollLeft, win.pageYOffset || el.scrollTop);\n};\ngoog.dom.getDocumentScrollElement = function() {\n    return goog.dom.getDocumentScrollElement_(document);\n};\ngoog.dom.getDocumentScrollElement_ = function(doc) {\n    return doc.scrollingElement ? doc.scrollingElement : !goog.userAgent.WEBKIT && goog.dom.isCss1CompatMode_(doc) ? doc.documentElement : doc.body || doc.documentElement;\n};\ngoog.dom.getWindow = function(opt_doc) {\n    return opt_doc ? goog.dom.getWindow_(opt_doc) : window;\n};\ngoog.dom.getWindow_ = function(doc) {\n    return doc.parentWindow || doc.defaultView;\n};\ngoog.dom.createDom = function(tagName, opt_properties, var_args) {\n    return goog.dom.createDom_(document, arguments);\n};\ngoog.dom.createDom_ = function(doc, args) {\n    var tagName = String(args[0]), attributes = args[1];\n    if (!goog.dom.BrowserFeature.CAN_ADD_NAME_OR_TYPE_ATTRIBUTES && attributes && (attributes.name || attributes.type)) {\n        var tagNameArr = ["<", tagName];\n        attributes.name && tagNameArr.push(\' name="\', goog.string.htmlEscape(attributes.name), \'"\');\n        if (attributes.type) {\n            tagNameArr.push(\' type="\', goog.string.htmlEscape(attributes.type), \'"\');\n            var clone = {};\n            goog.object.extend(clone, attributes);\n            delete clone.type;\n            attributes = clone;\n        }\n        tagNameArr.push(">");\n        tagName = tagNameArr.join("");\n    }\n    var element = doc.createElement(tagName);\n    attributes && (goog.isString(attributes) ? element.className = attributes : goog.isArray(attributes) ? element.className = attributes.join(" ") : goog.dom.setProperties(element, attributes));\n    2 < args.length && goog.dom.append_(doc, element, args, 2);\n    return element;\n};\ngoog.dom.append_ = function(doc, parent, args, startIndex) {\n    function childHandler(child) {\n        child && parent.appendChild(goog.isString(child) ? doc.createTextNode(child) : child);\n    }\n    for (var i = startIndex;i < args.length;i++) {\n        var arg = args[i];\n        goog.isArrayLike(arg) && !goog.dom.isNodeLike(arg) ? goog.array.forEach(goog.dom.isNodeList(arg) ? goog.array.toArray(arg) : arg, childHandler) : childHandler(arg);\n    }\n};\ngoog.dom.$dom = goog.dom.createDom;\ngoog.dom.createElement = function(name) {\n    return goog.dom.createElement_(document, name);\n};\ngoog.dom.createElement_ = function(doc, name) {\n    return doc.createElement(String(name));\n};\ngoog.dom.createTextNode = function(content) {\n    return document.createTextNode(String(content));\n};\ngoog.dom.createTable = function(rows, columns, opt_fillWithNbsp) {\n    return goog.dom.createTable_(document, rows, columns, !!opt_fillWithNbsp);\n};\ngoog.dom.createTable_ = function(doc, rows, columns, fillWithNbsp) {\n    for (var table = goog.dom.createElement_(doc, "TABLE"), tbody = table.appendChild(goog.dom.createElement_(doc, "TBODY")), i = 0;i < rows;i++) {\n        for (var tr = goog.dom.createElement_(doc, "TR"), j = 0;j < columns;j++) {\n            var td = goog.dom.createElement_(doc, "TD");\n            fillWithNbsp && goog.dom.setTextContent(td, goog.string.Unicode.NBSP);\n            tr.appendChild(td);\n        }\n        tbody.appendChild(tr);\n    }\n    return table;\n};\ngoog.dom.constHtmlToNode = function(var_args) {\n    var stringArray = goog.array.map(arguments, goog.string.Const.unwrap), safeHtml = goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Constant HTML string, that gets turned into a Node later, so it will be automatically balanced."), stringArray.join(""));\n    return goog.dom.safeHtmlToNode(safeHtml);\n};\ngoog.dom.safeHtmlToNode = function(html) {\n    return goog.dom.safeHtmlToNode_(document, html);\n};\ngoog.dom.safeHtmlToNode_ = function(doc, html) {\n    var tempDiv = goog.dom.createElement_(doc, "DIV");\n    goog.dom.BrowserFeature.INNER_HTML_NEEDS_SCOPED_ELEMENT ? (goog.dom.safe.setInnerHtml(tempDiv, goog.html.SafeHtml.concat(goog.html.SafeHtml.BR, html)), tempDiv.removeChild(tempDiv.firstChild)) : goog.dom.safe.setInnerHtml(tempDiv, html);\n    return goog.dom.childrenToNode_(doc, tempDiv);\n};\ngoog.dom.childrenToNode_ = function(doc, tempDiv) {\n    if (1 == tempDiv.childNodes.length) {\n        return tempDiv.removeChild(tempDiv.firstChild);\n    }\n    for (var fragment = doc.createDocumentFragment();tempDiv.firstChild;) {\n        fragment.appendChild(tempDiv.firstChild);\n    }\n    return fragment;\n};\ngoog.dom.isCss1CompatMode = function() {\n    return goog.dom.isCss1CompatMode_(document);\n};\ngoog.dom.isCss1CompatMode_ = function(doc) {\n    return goog.dom.COMPAT_MODE_KNOWN_ ? goog.dom.ASSUME_STANDARDS_MODE : "CSS1Compat" == doc.compatMode;\n};\ngoog.dom.canHaveChildren = function(node) {\n    if (node.nodeType != goog.dom.NodeType.ELEMENT) {\n        return !1;\n    }\n    switch(node.tagName) {\n        case "APPLET":\n        case "AREA":\n        case "BASE":\n        case "BR":\n        case "COL":\n        case "COMMAND":\n        case "EMBED":\n        case "FRAME":\n        case "HR":\n        case "IMG":\n        case "INPUT":\n        case "IFRAME":\n        case "ISINDEX":\n        case "KEYGEN":\n        case "LINK":\n        case "NOFRAMES":\n        case "NOSCRIPT":\n        case "META":\n        case "OBJECT":\n        case "PARAM":\n        case "SCRIPT":\n        case "SOURCE":\n        case "STYLE":\n        case "TRACK":\n        case "WBR":\n            return !1;\n    }\n    return !0;\n};\ngoog.dom.appendChild = function(parent, child) {\n    parent.appendChild(child);\n};\ngoog.dom.append = function(parent, var_args) {\n    goog.dom.append_(goog.dom.getOwnerDocument(parent), parent, arguments, 1);\n};\ngoog.dom.removeChildren = function(node) {\n    for (var child;child = node.firstChild;) {\n        node.removeChild(child);\n    }\n};\ngoog.dom.insertSiblingBefore = function(newNode, refNode) {\n    refNode.parentNode && refNode.parentNode.insertBefore(newNode, refNode);\n};\ngoog.dom.insertSiblingAfter = function(newNode, refNode) {\n    refNode.parentNode && refNode.parentNode.insertBefore(newNode, refNode.nextSibling);\n};\ngoog.dom.insertChildAt = function(parent, child, index) {\n    parent.insertBefore(child, parent.childNodes[index] || null);\n};\ngoog.dom.removeNode = function(node) {\n    return node && node.parentNode ? node.parentNode.removeChild(node) : null;\n};\ngoog.dom.replaceNode = function(newNode, oldNode) {\n    var parent = oldNode.parentNode;\n    parent && parent.replaceChild(newNode, oldNode);\n};\ngoog.dom.flattenElement = function(element) {\n    var child, parent = element.parentNode;\n    if (parent && parent.nodeType != goog.dom.NodeType.DOCUMENT_FRAGMENT) {\n        if (element.removeNode) {\n            return element.removeNode(!1);\n        }\n        for (;child = element.firstChild;) {\n            parent.insertBefore(child, element);\n        }\n        return goog.dom.removeNode(element);\n    }\n};\ngoog.dom.getChildren = function(element) {\n    return goog.dom.BrowserFeature.CAN_USE_CHILDREN_ATTRIBUTE && void 0 != element.children ? element.children : goog.array.filter(element.childNodes, function(node) {\n        return node.nodeType == goog.dom.NodeType.ELEMENT;\n    });\n};\ngoog.dom.getFirstElementChild = function(node) {\n    return goog.isDef(node.firstElementChild) ? node.firstElementChild : goog.dom.getNextElementNode_(node.firstChild, !0);\n};\ngoog.dom.getLastElementChild = function(node) {\n    return goog.isDef(node.lastElementChild) ? node.lastElementChild : goog.dom.getNextElementNode_(node.lastChild, !1);\n};\ngoog.dom.getNextElementSibling = function(node) {\n    return goog.isDef(node.nextElementSibling) ? node.nextElementSibling : goog.dom.getNextElementNode_(node.nextSibling, !0);\n};\ngoog.dom.getPreviousElementSibling = function(node) {\n    return goog.isDef(node.previousElementSibling) ? node.previousElementSibling : goog.dom.getNextElementNode_(node.previousSibling, !1);\n};\ngoog.dom.getNextElementNode_ = function(node, forward) {\n    for (;node && node.nodeType != goog.dom.NodeType.ELEMENT;) {\n        node = forward ? node.nextSibling : node.previousSibling;\n    }\n    return node;\n};\ngoog.dom.getNextNode = function(node) {\n    if (!node) {\n        return null;\n    }\n    if (node.firstChild) {\n        return node.firstChild;\n    }\n    for (;node && !node.nextSibling;) {\n        node = node.parentNode;\n    }\n    return node ? node.nextSibling : null;\n};\ngoog.dom.getPreviousNode = function(node) {\n    if (!node) {\n        return null;\n    }\n    if (!node.previousSibling) {\n        return node.parentNode;\n    }\n    for (node = node.previousSibling;node && node.lastChild;) {\n        node = node.lastChild;\n    }\n    return node;\n};\ngoog.dom.isNodeLike = function(obj) {\n    return goog.isObject(obj) && 0 < obj.nodeType;\n};\ngoog.dom.isElement = function(obj) {\n    return goog.isObject(obj) && obj.nodeType == goog.dom.NodeType.ELEMENT;\n};\ngoog.dom.isWindow = function(obj) {\n    return goog.isObject(obj) && obj.window == obj;\n};\ngoog.dom.getParentElement = function(element) {\n    var parent;\n    if (goog.dom.BrowserFeature.CAN_USE_PARENT_ELEMENT_PROPERTY && !(goog.userAgent.IE && goog.userAgent.isVersionOrHigher("9") && !goog.userAgent.isVersionOrHigher("10") && goog.global.SVGElement && element instanceof goog.global.SVGElement) && (parent = element.parentElement)) {\n        return parent;\n    }\n    parent = element.parentNode;\n    return goog.dom.isElement(parent) ? parent : null;\n};\ngoog.dom.contains = function(parent, descendant) {\n    if (!parent || !descendant) {\n        return !1;\n    }\n    if (parent.contains && descendant.nodeType == goog.dom.NodeType.ELEMENT) {\n        return parent == descendant || parent.contains(descendant);\n    }\n    if ("undefined" != typeof parent.compareDocumentPosition) {\n        return parent == descendant || !!(parent.compareDocumentPosition(descendant) & 16);\n    }\n    for (;descendant && parent != descendant;) {\n        descendant = descendant.parentNode;\n    }\n    return descendant == parent;\n};\ngoog.dom.compareNodeOrder = function(node1, node2) {\n    if (node1 == node2) {\n        return 0;\n    }\n    if (node1.compareDocumentPosition) {\n        return node1.compareDocumentPosition(node2) & 2 ? 1 : -1;\n    }\n    if (goog.userAgent.IE && !goog.userAgent.isDocumentModeOrHigher(9)) {\n        if (node1.nodeType == goog.dom.NodeType.DOCUMENT) {\n            return -1;\n        }\n        if (node2.nodeType == goog.dom.NodeType.DOCUMENT) {\n            return 1;\n        }\n    }\n    if ("sourceIndex" in node1 || node1.parentNode && "sourceIndex" in node1.parentNode) {\n        var isElement1 = node1.nodeType == goog.dom.NodeType.ELEMENT, isElement2 = node2.nodeType == goog.dom.NodeType.ELEMENT;\n        if (isElement1 && isElement2) {\n            return node1.sourceIndex - node2.sourceIndex;\n        }\n        var parent1 = node1.parentNode, parent2 = node2.parentNode;\n        return parent1 == parent2 ? goog.dom.compareSiblingOrder_(node1, node2) : !isElement1 && goog.dom.contains(parent1, node2) ? -1 * goog.dom.compareParentsDescendantNodeIe_(node1, node2) : !isElement2 && goog.dom.contains(parent2, node1) ? goog.dom.compareParentsDescendantNodeIe_(node2, node1) : (isElement1 ? node1.sourceIndex : parent1.sourceIndex) - (isElement2 ? node2.sourceIndex : parent2.sourceIndex);\n    }\n    var doc = goog.dom.getOwnerDocument(node1), range1, range2;\n    range1 = doc.createRange();\n    range1.selectNode(node1);\n    range1.collapse(!0);\n    range2 = doc.createRange();\n    range2.selectNode(node2);\n    range2.collapse(!0);\n    return range1.compareBoundaryPoints(goog.global.Range.START_TO_END, range2);\n};\ngoog.dom.compareParentsDescendantNodeIe_ = function(textNode, node) {\n    var parent = textNode.parentNode;\n    if (parent == node) {\n        return -1;\n    }\n    for (var sibling = node;sibling.parentNode != parent;) {\n        sibling = sibling.parentNode;\n    }\n    return goog.dom.compareSiblingOrder_(sibling, textNode);\n};\ngoog.dom.compareSiblingOrder_ = function(node1, node2) {\n    for (var s = node2;s = s.previousSibling;) {\n        if (s == node1) {\n            return -1;\n        }\n    }\n    return 1;\n};\ngoog.dom.findCommonAncestor = function(var_args) {\n    var i, count = arguments.length;\n    if (!count) {\n        return null;\n    }\n    if (1 == count) {\n        return arguments[0];\n    }\n    var paths = [], minLength = Infinity;\n    for (i = 0;i < count;i++) {\n        for (var ancestors = [], node = arguments[i];node;) {\n            ancestors.unshift(node), node = node.parentNode;\n        }\n        paths.push(ancestors);\n        minLength = Math.min(minLength, ancestors.length);\n    }\n    var output = null;\n    for (i = 0;i < minLength;i++) {\n        for (var first = paths[0][i], j = 1;j < count;j++) {\n            if (first != paths[j][i]) {\n                return output;\n            }\n        }\n        output = first;\n    }\n    return output;\n};\ngoog.dom.getOwnerDocument = function(node) {\n    goog.asserts.assert(node, "Node cannot be null or undefined.");\n    return node.nodeType == goog.dom.NodeType.DOCUMENT ? node : node.ownerDocument || node.document;\n};\ngoog.dom.getFrameContentDocument = function(frame) {\n    return frame.contentDocument || frame.contentWindow.document;\n};\ngoog.dom.getFrameContentWindow = function(frame) {\n    try {\n        return frame.contentWindow || (frame.contentDocument ? goog.dom.getWindow(frame.contentDocument) : null);\n    } catch (e) {\n    }\n    return null;\n};\ngoog.dom.setTextContent = function(node, text) {\n    goog.asserts.assert(null != node, "goog.dom.setTextContent expects a non-null value for node");\n    if ("textContent" in node) {\n        node.textContent = text;\n    } else {\n        if (node.nodeType == goog.dom.NodeType.TEXT) {\n            node.data = text;\n        } else {\n            if (node.firstChild && node.firstChild.nodeType == goog.dom.NodeType.TEXT) {\n                for (;node.lastChild != node.firstChild;) {\n                    node.removeChild(node.lastChild);\n                }\n                node.firstChild.data = text;\n            } else {\n                goog.dom.removeChildren(node);\n                var doc = goog.dom.getOwnerDocument(node);\n                node.appendChild(doc.createTextNode(String(text)));\n            }\n        }\n    }\n};\ngoog.dom.getOuterHtml = function(element) {\n    goog.asserts.assert(null !== element, "goog.dom.getOuterHtml expects a non-null value for element");\n    if ("outerHTML" in element) {\n        return element.outerHTML;\n    }\n    var doc = goog.dom.getOwnerDocument(element), div = goog.dom.createElement_(doc, "DIV");\n    div.appendChild(element.cloneNode(!0));\n    return div.innerHTML;\n};\ngoog.dom.findNode = function(root, p) {\n    var rv = [];\n    return goog.dom.findNodes_(root, p, rv, !0) ? rv[0] : void 0;\n};\ngoog.dom.findNodes = function(root, p) {\n    var rv = [];\n    goog.dom.findNodes_(root, p, rv, !1);\n    return rv;\n};\ngoog.dom.findNodes_ = function(root, p, rv, findOne) {\n    if (null != root) {\n        for (var child = root.firstChild;child;) {\n            if (p(child) && (rv.push(child), findOne) || goog.dom.findNodes_(child, p, rv, findOne)) {\n                return !0;\n            }\n            child = child.nextSibling;\n        }\n    }\n    return !1;\n};\ngoog.dom.TAGS_TO_IGNORE_ = {SCRIPT:1, STYLE:1, HEAD:1, IFRAME:1, OBJECT:1};\ngoog.dom.PREDEFINED_TAG_VALUES_ = {IMG:" ", BR:"\\n"};\ngoog.dom.isFocusableTabIndex = function(element) {\n    return goog.dom.hasSpecifiedTabIndex_(element) && goog.dom.isTabIndexFocusable_(element);\n};\ngoog.dom.setFocusableTabIndex = function(element, enable) {\n    enable ? element.tabIndex = 0 : (element.tabIndex = -1, element.removeAttribute("tabIndex"));\n};\ngoog.dom.isFocusable = function(element) {\n    var focusable;\n    return (focusable = goog.dom.nativelySupportsFocus_(element) ? !element.disabled && (!goog.dom.hasSpecifiedTabIndex_(element) || goog.dom.isTabIndexFocusable_(element)) : goog.dom.isFocusableTabIndex(element)) && goog.userAgent.IE ? goog.dom.hasNonZeroBoundingRect_(element) : focusable;\n};\ngoog.dom.hasSpecifiedTabIndex_ = function(element) {\n    if (goog.userAgent.IE && !goog.userAgent.isVersionOrHigher("9")) {\n        var attrNode = element.getAttributeNode("tabindex");\n        return goog.isDefAndNotNull(attrNode) && attrNode.specified;\n    }\n    return element.hasAttribute("tabindex");\n};\ngoog.dom.isTabIndexFocusable_ = function(element) {\n    var index = element.tabIndex;\n    return goog.isNumber(index) && 0 <= index && 32768 > index;\n};\ngoog.dom.nativelySupportsFocus_ = function(element) {\n    return "A" == element.tagName || "INPUT" == element.tagName || "TEXTAREA" == element.tagName || "SELECT" == element.tagName || "BUTTON" == element.tagName;\n};\ngoog.dom.hasNonZeroBoundingRect_ = function(element) {\n    var rect;\n    rect = !goog.isFunction(element.getBoundingClientRect) || goog.userAgent.IE && null == element.parentElement ? {height:element.offsetHeight, width:element.offsetWidth} : element.getBoundingClientRect();\n    return goog.isDefAndNotNull(rect) && 0 < rect.height && 0 < rect.width;\n};\ngoog.dom.getTextContent = function(node) {\n    var textContent;\n    if (goog.dom.BrowserFeature.CAN_USE_INNER_TEXT && null !== node && "innerText" in node) {\n        textContent = goog.string.canonicalizeNewlines(node.innerText);\n    } else {\n        var buf = [];\n        goog.dom.getTextContent_(node, buf, !0);\n        textContent = buf.join("");\n    }\n    textContent = textContent.replace(/ \\xAD /g, " ").replace(/\\xAD/g, "");\n    textContent = textContent.replace(/\\u200B/g, "");\n    goog.dom.BrowserFeature.CAN_USE_INNER_TEXT || (textContent = textContent.replace(/ +/g, " "));\n    " " != textContent && (textContent = textContent.replace(/^\\s*/, ""));\n    return textContent;\n};\ngoog.dom.getRawTextContent = function(node) {\n    var buf = [];\n    goog.dom.getTextContent_(node, buf, !1);\n    return buf.join("");\n};\ngoog.dom.getTextContent_ = function(node, buf, normalizeWhitespace) {\n    if (!(node.nodeName in goog.dom.TAGS_TO_IGNORE_)) {\n        if (node.nodeType == goog.dom.NodeType.TEXT) {\n            normalizeWhitespace ? buf.push(String(node.nodeValue).replace(/(\\r\\n|\\r|\\n)/g, "")) : buf.push(node.nodeValue);\n        } else {\n            if (node.nodeName in goog.dom.PREDEFINED_TAG_VALUES_) {\n                buf.push(goog.dom.PREDEFINED_TAG_VALUES_[node.nodeName]);\n            } else {\n                for (var child = node.firstChild;child;) {\n                    goog.dom.getTextContent_(child, buf, normalizeWhitespace), child = child.nextSibling;\n                }\n            }\n        }\n    }\n};\ngoog.dom.getNodeTextLength = function(node) {\n    return goog.dom.getTextContent(node).length;\n};\ngoog.dom.getNodeTextOffset = function(node, opt_offsetParent) {\n    for (var root = opt_offsetParent || goog.dom.getOwnerDocument(node).body, buf = [];node && node != root;) {\n        for (var cur = node;cur = cur.previousSibling;) {\n            buf.unshift(goog.dom.getTextContent(cur));\n        }\n        node = node.parentNode;\n    }\n    return goog.string.trimLeft(buf.join("")).replace(/ +/g, " ").length;\n};\ngoog.dom.getNodeAtOffset = function(parent, offset, opt_result) {\n    for (var stack = [parent], pos = 0, cur = null;0 < stack.length && pos < offset;) {\n        if (cur = stack.pop(), !(cur.nodeName in goog.dom.TAGS_TO_IGNORE_)) {\n            if (cur.nodeType == goog.dom.NodeType.TEXT) {\n                var text = cur.nodeValue.replace(/(\\r\\n|\\r|\\n)/g, "").replace(/ +/g, " "), pos = pos + text.length;\n            } else {\n                if (cur.nodeName in goog.dom.PREDEFINED_TAG_VALUES_) {\n                    pos += goog.dom.PREDEFINED_TAG_VALUES_[cur.nodeName].length;\n                } else {\n                    for (var i = cur.childNodes.length - 1;0 <= i;i--) {\n                        stack.push(cur.childNodes[i]);\n                    }\n                }\n            }\n        }\n    }\n    goog.isObject(opt_result) && (opt_result.remainder = cur ? cur.nodeValue.length + offset - pos - 1 : 0, opt_result.node = cur);\n    return cur;\n};\ngoog.dom.isNodeList = function(val) {\n    if (val && "number" == typeof val.length) {\n        if (goog.isObject(val)) {\n            return "function" == typeof val.item || "string" == typeof val.item;\n        }\n        if (goog.isFunction(val)) {\n            return "function" == typeof val.item;\n        }\n    }\n    return !1;\n};\ngoog.dom.getAncestorByTagNameAndClass = function(element, opt_tag, opt_class, opt_maxSearchSteps) {\n    if (!opt_tag && !opt_class) {\n        return null;\n    }\n    var tagName = opt_tag ? String(opt_tag).toUpperCase() : null;\n    return goog.dom.getAncestor(element, function(node) {\n        return (!tagName || node.nodeName == tagName) && (!opt_class || goog.isString(node.className) && goog.array.contains(node.className.split(/\\s+/), opt_class));\n    }, !0, opt_maxSearchSteps);\n};\ngoog.dom.getAncestorByClass = function(element, className, opt_maxSearchSteps) {\n    return goog.dom.getAncestorByTagNameAndClass(element, null, className, opt_maxSearchSteps);\n};\ngoog.dom.getAncestor = function(element, matcher, opt_includeNode, opt_maxSearchSteps) {\n    element && !opt_includeNode && (element = element.parentNode);\n    for (var steps = 0;element && (null == opt_maxSearchSteps || steps <= opt_maxSearchSteps);) {\n        goog.asserts.assert("parentNode" != element.name);\n        if (matcher(element)) {\n            return element;\n        }\n        element = element.parentNode;\n        steps++;\n    }\n    return null;\n};\ngoog.dom.getActiveElement = function(doc) {\n    try {\n        return doc && doc.activeElement;\n    } catch (e) {\n    }\n    return null;\n};\ngoog.dom.getPixelRatio = function() {\n    var win = goog.dom.getWindow();\n    return goog.isDef(win.devicePixelRatio) ? win.devicePixelRatio : win.matchMedia ? goog.dom.matchesPixelRatio_(3) || goog.dom.matchesPixelRatio_(2) || goog.dom.matchesPixelRatio_(1.5) || goog.dom.matchesPixelRatio_(1) || .75 : 1;\n};\ngoog.dom.matchesPixelRatio_ = function(pixelRatio) {\n    return goog.dom.getWindow().matchMedia("(min-resolution: " + pixelRatio + "dppx),(min--moz-device-pixel-ratio: " + pixelRatio + "),(min-resolution: " + 96 * pixelRatio + "dpi)").matches ? pixelRatio : 0;\n};\ngoog.dom.getCanvasContext2D = function(canvas) {\n    return canvas.getContext("2d");\n};\ngoog.dom.DomHelper = function(opt_document) {\n    this.document_ = opt_document || goog.global.document || document;\n};\ngoog.dom.DomHelper.prototype.getDomHelper = goog.dom.getDomHelper;\ngoog.dom.DomHelper.prototype.setDocument = function(document) {\n    this.document_ = document;\n};\ngoog.dom.DomHelper.prototype.getDocument = function() {\n    return this.document_;\n};\ngoog.dom.DomHelper.prototype.getElement = function(element) {\n    return goog.dom.getElementHelper_(this.document_, element);\n};\ngoog.dom.DomHelper.prototype.getRequiredElement = function(id) {\n    return goog.dom.getRequiredElementHelper_(this.document_, id);\n};\ngoog.dom.DomHelper.prototype.$ = goog.dom.DomHelper.prototype.getElement;\ngoog.dom.DomHelper.prototype.getElementsByTagName = function(tagName, opt_parent) {\n    return (opt_parent || this.document_).getElementsByTagName(String(tagName));\n};\ngoog.dom.DomHelper.prototype.getElementsByTagNameAndClass = function(opt_tag, opt_class, opt_el) {\n    return goog.dom.getElementsByTagNameAndClass_(this.document_, opt_tag, opt_class, opt_el);\n};\ngoog.dom.DomHelper.prototype.getElementsByClass = function(className, opt_el) {\n    return goog.dom.getElementsByClass(className, opt_el || this.document_);\n};\ngoog.dom.DomHelper.prototype.getElementByClass = function(className, opt_el) {\n    return goog.dom.getElementByClass(className, opt_el || this.document_);\n};\ngoog.dom.DomHelper.prototype.getRequiredElementByClass = function(className, opt_root) {\n    return goog.dom.getRequiredElementByClass(className, opt_root || this.document_);\n};\ngoog.dom.DomHelper.prototype.$$ = goog.dom.DomHelper.prototype.getElementsByTagNameAndClass;\ngoog.dom.DomHelper.prototype.setProperties = goog.dom.setProperties;\ngoog.dom.DomHelper.prototype.getViewportSize = function(opt_window) {\n    return goog.dom.getViewportSize(opt_window || this.getWindow());\n};\ngoog.dom.DomHelper.prototype.getDocumentHeight = function() {\n    return goog.dom.getDocumentHeight_(this.getWindow());\n};\ngoog.dom.DomHelper.prototype.createDom = function(tagName, opt_attributes, var_args) {\n    return goog.dom.createDom_(this.document_, arguments);\n};\ngoog.dom.DomHelper.prototype.$dom = goog.dom.DomHelper.prototype.createDom;\ngoog.dom.DomHelper.prototype.createElement = function(name) {\n    return goog.dom.createElement_(this.document_, name);\n};\ngoog.dom.DomHelper.prototype.createTextNode = function(content) {\n    return this.document_.createTextNode(String(content));\n};\ngoog.dom.DomHelper.prototype.createTable = function(rows, columns, opt_fillWithNbsp) {\n    return goog.dom.createTable_(this.document_, rows, columns, !!opt_fillWithNbsp);\n};\ngoog.dom.DomHelper.prototype.safeHtmlToNode = function(html) {\n    return goog.dom.safeHtmlToNode_(this.document_, html);\n};\ngoog.dom.DomHelper.prototype.isCss1CompatMode = function() {\n    return goog.dom.isCss1CompatMode_(this.document_);\n};\ngoog.dom.DomHelper.prototype.getWindow = function() {\n    return goog.dom.getWindow_(this.document_);\n};\ngoog.dom.DomHelper.prototype.getDocumentScrollElement = function() {\n    return goog.dom.getDocumentScrollElement_(this.document_);\n};\ngoog.dom.DomHelper.prototype.getDocumentScroll = function() {\n    return goog.dom.getDocumentScroll_(this.document_);\n};\ngoog.dom.DomHelper.prototype.getActiveElement = function(opt_doc) {\n    return goog.dom.getActiveElement(opt_doc || this.document_);\n};\ngoog.dom.DomHelper.prototype.appendChild = goog.dom.appendChild;\ngoog.dom.DomHelper.prototype.append = goog.dom.append;\ngoog.dom.DomHelper.prototype.canHaveChildren = goog.dom.canHaveChildren;\ngoog.dom.DomHelper.prototype.removeChildren = goog.dom.removeChildren;\ngoog.dom.DomHelper.prototype.insertSiblingBefore = goog.dom.insertSiblingBefore;\ngoog.dom.DomHelper.prototype.insertSiblingAfter = goog.dom.insertSiblingAfter;\ngoog.dom.DomHelper.prototype.insertChildAt = goog.dom.insertChildAt;\ngoog.dom.DomHelper.prototype.removeNode = goog.dom.removeNode;\ngoog.dom.DomHelper.prototype.replaceNode = goog.dom.replaceNode;\ngoog.dom.DomHelper.prototype.flattenElement = goog.dom.flattenElement;\ngoog.dom.DomHelper.prototype.getChildren = goog.dom.getChildren;\ngoog.dom.DomHelper.prototype.getFirstElementChild = goog.dom.getFirstElementChild;\ngoog.dom.DomHelper.prototype.getLastElementChild = goog.dom.getLastElementChild;\ngoog.dom.DomHelper.prototype.getNextElementSibling = goog.dom.getNextElementSibling;\ngoog.dom.DomHelper.prototype.getPreviousElementSibling = goog.dom.getPreviousElementSibling;\ngoog.dom.DomHelper.prototype.getNextNode = goog.dom.getNextNode;\ngoog.dom.DomHelper.prototype.getPreviousNode = goog.dom.getPreviousNode;\ngoog.dom.DomHelper.prototype.isNodeLike = goog.dom.isNodeLike;\ngoog.dom.DomHelper.prototype.isElement = goog.dom.isElement;\ngoog.dom.DomHelper.prototype.isWindow = goog.dom.isWindow;\ngoog.dom.DomHelper.prototype.getParentElement = goog.dom.getParentElement;\ngoog.dom.DomHelper.prototype.contains = goog.dom.contains;\ngoog.dom.DomHelper.prototype.compareNodeOrder = goog.dom.compareNodeOrder;\ngoog.dom.DomHelper.prototype.findCommonAncestor = goog.dom.findCommonAncestor;\ngoog.dom.DomHelper.prototype.getOwnerDocument = goog.dom.getOwnerDocument;\ngoog.dom.DomHelper.prototype.getFrameContentDocument = goog.dom.getFrameContentDocument;\ngoog.dom.DomHelper.prototype.getFrameContentWindow = goog.dom.getFrameContentWindow;\ngoog.dom.DomHelper.prototype.setTextContent = goog.dom.setTextContent;\ngoog.dom.DomHelper.prototype.getOuterHtml = goog.dom.getOuterHtml;\ngoog.dom.DomHelper.prototype.findNode = goog.dom.findNode;\ngoog.dom.DomHelper.prototype.findNodes = goog.dom.findNodes;\ngoog.dom.DomHelper.prototype.isFocusableTabIndex = goog.dom.isFocusableTabIndex;\ngoog.dom.DomHelper.prototype.setFocusableTabIndex = goog.dom.setFocusableTabIndex;\ngoog.dom.DomHelper.prototype.isFocusable = goog.dom.isFocusable;\ngoog.dom.DomHelper.prototype.getTextContent = goog.dom.getTextContent;\ngoog.dom.DomHelper.prototype.getNodeTextLength = goog.dom.getNodeTextLength;\ngoog.dom.DomHelper.prototype.getNodeTextOffset = goog.dom.getNodeTextOffset;\ngoog.dom.DomHelper.prototype.getNodeAtOffset = goog.dom.getNodeAtOffset;\ngoog.dom.DomHelper.prototype.isNodeList = goog.dom.isNodeList;\ngoog.dom.DomHelper.prototype.getAncestorByTagNameAndClass = goog.dom.getAncestorByTagNameAndClass;\ngoog.dom.DomHelper.prototype.getAncestorByClass = goog.dom.getAncestorByClass;\ngoog.dom.DomHelper.prototype.getAncestor = goog.dom.getAncestor;\ngoog.dom.DomHelper.prototype.getCanvasContext2D = goog.dom.getCanvasContext2D;\ngoog.dom.vendor = {};\ngoog.dom.vendor.getVendorJsPrefix = function() {\n    return goog.userAgent.WEBKIT ? "Webkit" : goog.userAgent.GECKO ? "Moz" : goog.userAgent.IE ? "ms" : goog.userAgent.OPERA ? "O" : null;\n};\ngoog.dom.vendor.getVendorPrefix = function() {\n    return goog.userAgent.WEBKIT ? "-webkit" : goog.userAgent.GECKO ? "-moz" : goog.userAgent.IE ? "-ms" : goog.userAgent.OPERA ? "-o" : null;\n};\ngoog.dom.vendor.getPrefixedPropertyName = function(propertyName, opt_object) {\n    if (opt_object && propertyName in opt_object) {\n        return propertyName;\n    }\n    var prefix = goog.dom.vendor.getVendorJsPrefix();\n    if (prefix) {\n        var prefix = prefix.toLowerCase(), prefixedPropertyName = prefix + goog.string.toTitleCase(propertyName);\n        return !goog.isDef(opt_object) || prefixedPropertyName in opt_object ? prefixedPropertyName : null;\n    }\n    return null;\n};\ngoog.dom.vendor.getPrefixedEventType = function(eventType) {\n    return ((goog.dom.vendor.getVendorJsPrefix() || "") + eventType).toLowerCase();\n};\ngoog.html.legacyconversions = {};\ngoog.html.legacyconversions.safeHtmlFromString = function(html) {\n    goog.html.legacyconversions.reportCallback_();\n    return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(html, null);\n};\ngoog.html.legacyconversions.safeStyleFromString = function(style) {\n    goog.html.legacyconversions.reportCallback_();\n    return goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(style);\n};\ngoog.html.legacyconversions.safeStyleSheetFromString = function(styleSheet) {\n    goog.html.legacyconversions.reportCallback_();\n    return goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(styleSheet);\n};\ngoog.html.legacyconversions.safeUrlFromString = function(url) {\n    goog.html.legacyconversions.reportCallback_();\n    return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(url);\n};\ngoog.html.legacyconversions.trustedResourceUrlFromString = function(url) {\n    goog.html.legacyconversions.reportCallback_();\n    return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(url);\n};\ngoog.html.legacyconversions.reportCallback_ = goog.nullFunction;\ngoog.html.legacyconversions.setReportCallback = function(callback) {\n    goog.html.legacyconversions.reportCallback_ = callback;\n};\ngoog.math.Box = function(top, right, bottom, left) {\n    this.top = top;\n    this.right = right;\n    this.bottom = bottom;\n    this.left = left;\n};\ngoog.math.Box.boundingBox = function(var_args) {\n    for (var box = new goog.math.Box(arguments[0].y, arguments[0].x, arguments[0].y, arguments[0].x), i = 1;i < arguments.length;i++) {\n        box.expandToIncludeCoordinate(arguments[i]);\n    }\n    return box;\n};\ngoog.math.Box.prototype.getWidth = function() {\n    return this.right - this.left;\n};\ngoog.math.Box.prototype.getHeight = function() {\n    return this.bottom - this.top;\n};\ngoog.math.Box.prototype.clone = function() {\n    return new goog.math.Box(this.top, this.right, this.bottom, this.left);\n};\ngoog.DEBUG && (goog.math.Box.prototype.toString = function() {\n    return "(" + this.top + "t, " + this.right + "r, " + this.bottom + "b, " + this.left + "l)";\n});\ngoog.math.Box.prototype.contains = function(other) {\n    return goog.math.Box.contains(this, other);\n};\ngoog.math.Box.prototype.expand = function(top, opt_right, opt_bottom, opt_left) {\n    goog.isObject(top) ? (this.top -= top.top, this.right += top.right, this.bottom += top.bottom, this.left -= top.left) : (this.top -= top, this.right += Number(opt_right), this.bottom += Number(opt_bottom), this.left -= Number(opt_left));\n    return this;\n};\ngoog.math.Box.prototype.expandToInclude = function(box) {\n    this.left = Math.min(this.left, box.left);\n    this.top = Math.min(this.top, box.top);\n    this.right = Math.max(this.right, box.right);\n    this.bottom = Math.max(this.bottom, box.bottom);\n};\ngoog.math.Box.prototype.expandToIncludeCoordinate = function(coord) {\n    this.top = Math.min(this.top, coord.y);\n    this.right = Math.max(this.right, coord.x);\n    this.bottom = Math.max(this.bottom, coord.y);\n    this.left = Math.min(this.left, coord.x);\n};\ngoog.math.Box.equals = function(a, b) {\n    return a == b ? !0 : a && b ? a.top == b.top && a.right == b.right && a.bottom == b.bottom && a.left == b.left : !1;\n};\ngoog.math.Box.contains = function(box, other) {\n    return box && other ? other instanceof goog.math.Box ? other.left >= box.left && other.right <= box.right && other.top >= box.top && other.bottom <= box.bottom : other.x >= box.left && other.x <= box.right && other.y >= box.top && other.y <= box.bottom : !1;\n};\ngoog.math.Box.relativePositionX = function(box, coord) {\n    return coord.x < box.left ? coord.x - box.left : coord.x > box.right ? coord.x - box.right : 0;\n};\ngoog.math.Box.relativePositionY = function(box, coord) {\n    return coord.y < box.top ? coord.y - box.top : coord.y > box.bottom ? coord.y - box.bottom : 0;\n};\ngoog.math.Box.distance = function(box, coord) {\n    var x = goog.math.Box.relativePositionX(box, coord), y = goog.math.Box.relativePositionY(box, coord);\n    return Math.sqrt(x * x + y * y);\n};\ngoog.math.Box.intersects = function(a, b) {\n    return a.left <= b.right && b.left <= a.right && a.top <= b.bottom && b.top <= a.bottom;\n};\ngoog.math.Box.intersectsWithPadding = function(a, b, padding) {\n    return a.left <= b.right + padding && b.left <= a.right + padding && a.top <= b.bottom + padding && b.top <= a.bottom + padding;\n};\ngoog.math.Box.prototype.ceil = function() {\n    this.top = Math.ceil(this.top);\n    this.right = Math.ceil(this.right);\n    this.bottom = Math.ceil(this.bottom);\n    this.left = Math.ceil(this.left);\n    return this;\n};\ngoog.math.Box.prototype.floor = function() {\n    this.top = Math.floor(this.top);\n    this.right = Math.floor(this.right);\n    this.bottom = Math.floor(this.bottom);\n    this.left = Math.floor(this.left);\n    return this;\n};\ngoog.math.Box.prototype.round = function() {\n    this.top = Math.round(this.top);\n    this.right = Math.round(this.right);\n    this.bottom = Math.round(this.bottom);\n    this.left = Math.round(this.left);\n    return this;\n};\ngoog.math.Box.prototype.translate = function(tx, opt_ty) {\n    tx instanceof goog.math.Coordinate ? (this.left += tx.x, this.right += tx.x, this.top += tx.y, this.bottom += tx.y) : (goog.asserts.assertNumber(tx), this.left += tx, this.right += tx, goog.isNumber(opt_ty) && (this.top += opt_ty, this.bottom += opt_ty));\n    return this;\n};\ngoog.math.Box.prototype.scale = function(sx, opt_sy) {\n    var sy = goog.isNumber(opt_sy) ? opt_sy : sx;\n    this.left *= sx;\n    this.right *= sx;\n    this.top *= sy;\n    this.bottom *= sy;\n    return this;\n};\ngoog.math.IRect = function() {\n};\ngoog.math.Rect = function(x, y, w, h) {\n    this.left = x;\n    this.top = y;\n    this.width = w;\n    this.height = h;\n};\ngoog.math.Rect.prototype.clone = function() {\n    return new goog.math.Rect(this.left, this.top, this.width, this.height);\n};\ngoog.math.Rect.prototype.toBox = function() {\n    return new goog.math.Box(this.top, this.left + this.width, this.top + this.height, this.left);\n};\ngoog.math.Rect.createFromPositionAndSize = function(position, size) {\n    return new goog.math.Rect(position.x, position.y, size.width, size.height);\n};\ngoog.math.Rect.createFromBox = function(box) {\n    return new goog.math.Rect(box.left, box.top, box.right - box.left, box.bottom - box.top);\n};\ngoog.DEBUG && (goog.math.Rect.prototype.toString = function() {\n    return "(" + this.left + ", " + this.top + " - " + this.width + "w x " + this.height + "h)";\n});\ngoog.math.Rect.equals = function(a, b) {\n    return a == b ? !0 : a && b ? a.left == b.left && a.width == b.width && a.top == b.top && a.height == b.height : !1;\n};\ngoog.math.Rect.prototype.intersection = function(rect) {\n    var x0 = Math.max(this.left, rect.left), x1 = Math.min(this.left + this.width, rect.left + rect.width);\n    if (x0 <= x1) {\n        var y0 = Math.max(this.top, rect.top), y1 = Math.min(this.top + this.height, rect.top + rect.height);\n        if (y0 <= y1) {\n            return this.left = x0, this.top = y0, this.width = x1 - x0, this.height = y1 - y0, !0;\n        }\n    }\n    return !1;\n};\ngoog.math.Rect.intersection = function(a, b) {\n    var x0 = Math.max(a.left, b.left), x1 = Math.min(a.left + a.width, b.left + b.width);\n    if (x0 <= x1) {\n        var y0 = Math.max(a.top, b.top), y1 = Math.min(a.top + a.height, b.top + b.height);\n        if (y0 <= y1) {\n            return new goog.math.Rect(x0, y0, x1 - x0, y1 - y0);\n        }\n    }\n    return null;\n};\ngoog.math.Rect.intersects = function(a, b) {\n    return a.left <= b.left + b.width && b.left <= a.left + a.width && a.top <= b.top + b.height && b.top <= a.top + a.height;\n};\ngoog.math.Rect.prototype.intersects = function(rect) {\n    return goog.math.Rect.intersects(this, rect);\n};\ngoog.math.Rect.difference = function(a, b) {\n    var intersection = goog.math.Rect.intersection(a, b);\n    if (!intersection || !intersection.height || !intersection.width) {\n        return [a.clone()];\n    }\n    var result = [], top = a.top, height = a.height, ar = a.left + a.width, ab = a.top + a.height, br = b.left + b.width, bb = b.top + b.height;\n    b.top > a.top && (result.push(new goog.math.Rect(a.left, a.top, a.width, b.top - a.top)), top = b.top, height -= b.top - a.top);\n    bb < ab && (result.push(new goog.math.Rect(a.left, bb, a.width, ab - bb)), height = bb - top);\n    b.left > a.left && result.push(new goog.math.Rect(a.left, top, b.left - a.left, height));\n    br < ar && result.push(new goog.math.Rect(br, top, ar - br, height));\n    return result;\n};\ngoog.math.Rect.prototype.difference = function(rect) {\n    return goog.math.Rect.difference(this, rect);\n};\ngoog.math.Rect.prototype.boundingRect = function(rect) {\n    var right = Math.max(this.left + this.width, rect.left + rect.width), bottom = Math.max(this.top + this.height, rect.top + rect.height);\n    this.left = Math.min(this.left, rect.left);\n    this.top = Math.min(this.top, rect.top);\n    this.width = right - this.left;\n    this.height = bottom - this.top;\n};\ngoog.math.Rect.boundingRect = function(a, b) {\n    if (!a || !b) {\n        return null;\n    }\n    var newRect = new goog.math.Rect(a.left, a.top, a.width, a.height);\n    newRect.boundingRect(b);\n    return newRect;\n};\ngoog.math.Rect.prototype.contains = function(another) {\n    return another instanceof goog.math.Coordinate ? another.x >= this.left && another.x <= this.left + this.width && another.y >= this.top && another.y <= this.top + this.height : this.left <= another.left && this.left + this.width >= another.left + another.width && this.top <= another.top && this.top + this.height >= another.top + another.height;\n};\ngoog.math.Rect.prototype.squaredDistance = function(point) {\n    var dx = point.x < this.left ? this.left - point.x : Math.max(point.x - (this.left + this.width), 0), dy = point.y < this.top ? this.top - point.y : Math.max(point.y - (this.top + this.height), 0);\n    return dx * dx + dy * dy;\n};\ngoog.math.Rect.prototype.distance = function(point) {\n    return Math.sqrt(this.squaredDistance(point));\n};\ngoog.math.Rect.prototype.getSize = function() {\n    return new goog.math.Size(this.width, this.height);\n};\ngoog.math.Rect.prototype.getTopLeft = function() {\n    return new goog.math.Coordinate(this.left, this.top);\n};\ngoog.math.Rect.prototype.getCenter = function() {\n    return new goog.math.Coordinate(this.left + this.width / 2, this.top + this.height / 2);\n};\ngoog.math.Rect.prototype.getBottomRight = function() {\n    return new goog.math.Coordinate(this.left + this.width, this.top + this.height);\n};\ngoog.math.Rect.prototype.ceil = function() {\n    this.left = Math.ceil(this.left);\n    this.top = Math.ceil(this.top);\n    this.width = Math.ceil(this.width);\n    this.height = Math.ceil(this.height);\n    return this;\n};\ngoog.math.Rect.prototype.floor = function() {\n    this.left = Math.floor(this.left);\n    this.top = Math.floor(this.top);\n    this.width = Math.floor(this.width);\n    this.height = Math.floor(this.height);\n    return this;\n};\ngoog.math.Rect.prototype.round = function() {\n    this.left = Math.round(this.left);\n    this.top = Math.round(this.top);\n    this.width = Math.round(this.width);\n    this.height = Math.round(this.height);\n    return this;\n};\ngoog.math.Rect.prototype.translate = function(tx, opt_ty) {\n    tx instanceof goog.math.Coordinate ? (this.left += tx.x, this.top += tx.y) : (this.left += goog.asserts.assertNumber(tx), goog.isNumber(opt_ty) && (this.top += opt_ty));\n    return this;\n};\ngoog.math.Rect.prototype.scale = function(sx, opt_sy) {\n    var sy = goog.isNumber(opt_sy) ? opt_sy : sx;\n    this.left *= sx;\n    this.width *= sx;\n    this.top *= sy;\n    this.height *= sy;\n    return this;\n};\ngoog.style = {};\ngoog.style.setStyle = function(element, style, opt_value) {\n    if (goog.isString(style)) {\n        goog.style.setStyle_(element, opt_value, style);\n    } else {\n        for (var key in style) {\n            goog.style.setStyle_(element, style[key], key);\n        }\n    }\n};\ngoog.style.setStyle_ = function(element, value, style) {\n    var propertyName = goog.style.getVendorJsStyleName_(element, style);\n    propertyName && (element.style[propertyName] = value);\n};\ngoog.style.styleNameCache_ = {};\ngoog.style.getVendorJsStyleName_ = function(element, style) {\n    var propertyName = goog.style.styleNameCache_[style];\n    if (!propertyName) {\n        var camelStyle = goog.string.toCamelCase(style), propertyName = camelStyle;\n        if (void 0 === element.style[camelStyle]) {\n            var prefixedStyle = goog.dom.vendor.getVendorJsPrefix() + goog.string.toTitleCase(camelStyle);\n            void 0 !== element.style[prefixedStyle] && (propertyName = prefixedStyle);\n        }\n        goog.style.styleNameCache_[style] = propertyName;\n    }\n    return propertyName;\n};\ngoog.style.getVendorStyleName_ = function(element, style) {\n    var camelStyle = goog.string.toCamelCase(style);\n    if (void 0 === element.style[camelStyle]) {\n        var prefixedStyle = goog.dom.vendor.getVendorJsPrefix() + goog.string.toTitleCase(camelStyle);\n        if (void 0 !== element.style[prefixedStyle]) {\n            return goog.dom.vendor.getVendorPrefix() + "-" + style;\n        }\n    }\n    return style;\n};\ngoog.style.getStyle = function(element, property) {\n    var styleValue = element.style[goog.string.toCamelCase(property)];\n    return "undefined" !== typeof styleValue ? styleValue : element.style[goog.style.getVendorJsStyleName_(element, property)] || "";\n};\ngoog.style.getComputedStyle = function(element, property) {\n    var doc = goog.dom.getOwnerDocument(element);\n    if (doc.defaultView && doc.defaultView.getComputedStyle) {\n        var styles = doc.defaultView.getComputedStyle(element, null);\n        if (styles) {\n            return styles[property] || styles.getPropertyValue(property) || "";\n        }\n    }\n    return "";\n};\ngoog.style.getCascadedStyle = function(element, style) {\n    return element.currentStyle ? element.currentStyle[style] : null;\n};\ngoog.style.getStyle_ = function(element, style) {\n    return goog.style.getComputedStyle(element, style) || goog.style.getCascadedStyle(element, style) || element.style && element.style[style];\n};\ngoog.style.getComputedBoxSizing = function(element) {\n    return goog.style.getStyle_(element, "boxSizing") || goog.style.getStyle_(element, "MozBoxSizing") || goog.style.getStyle_(element, "WebkitBoxSizing") || null;\n};\ngoog.style.getComputedPosition = function(element) {\n    return goog.style.getStyle_(element, "position");\n};\ngoog.style.getBackgroundColor = function(element) {\n    return goog.style.getStyle_(element, "backgroundColor");\n};\ngoog.style.getComputedOverflowX = function(element) {\n    return goog.style.getStyle_(element, "overflowX");\n};\ngoog.style.getComputedOverflowY = function(element) {\n    return goog.style.getStyle_(element, "overflowY");\n};\ngoog.style.getComputedZIndex = function(element) {\n    return goog.style.getStyle_(element, "zIndex");\n};\ngoog.style.getComputedTextAlign = function(element) {\n    return goog.style.getStyle_(element, "textAlign");\n};\ngoog.style.getComputedCursor = function(element) {\n    return goog.style.getStyle_(element, "cursor");\n};\ngoog.style.getComputedTransform = function(element) {\n    var property = goog.style.getVendorStyleName_(element, "transform");\n    return goog.style.getStyle_(element, property) || goog.style.getStyle_(element, "transform");\n};\ngoog.style.setPosition = function(el, arg1, opt_arg2) {\n    var x, y;\n    arg1 instanceof goog.math.Coordinate ? (x = arg1.x, y = arg1.y) : (x = arg1, y = opt_arg2);\n    el.style.left = goog.style.getPixelStyleValue_(x, !1);\n    el.style.top = goog.style.getPixelStyleValue_(y, !1);\n};\ngoog.style.getPosition = function(element) {\n    return new goog.math.Coordinate(element.offsetLeft, element.offsetTop);\n};\ngoog.style.getClientViewportElement = function(opt_node) {\n    var doc;\n    doc = opt_node ? goog.dom.getOwnerDocument(opt_node) : goog.dom.getDocument();\n    return !goog.userAgent.IE || goog.userAgent.isDocumentModeOrHigher(9) || goog.dom.getDomHelper(doc).isCss1CompatMode() ? doc.documentElement : doc.body;\n};\ngoog.style.getViewportPageOffset = function(doc) {\n    var body = doc.body, documentElement = doc.documentElement;\n    return new goog.math.Coordinate(body.scrollLeft || documentElement.scrollLeft, body.scrollTop || documentElement.scrollTop);\n};\ngoog.style.getBoundingClientRect_ = function(el) {\n    var rect;\n    try {\n        rect = el.getBoundingClientRect();\n    } catch (e) {\n        return {left:0, top:0, right:0, bottom:0};\n    }\n    if (goog.userAgent.IE && el.ownerDocument.body) {\n        var doc = el.ownerDocument;\n        rect.left -= doc.documentElement.clientLeft + doc.body.clientLeft;\n        rect.top -= doc.documentElement.clientTop + doc.body.clientTop;\n    }\n    return rect;\n};\ngoog.style.getOffsetParent = function(element) {\n    if (goog.userAgent.IE && !goog.userAgent.isDocumentModeOrHigher(8)) {\n        return goog.asserts.assert(element && "offsetParent" in element), element.offsetParent;\n    }\n    for (var doc = goog.dom.getOwnerDocument(element), positionStyle = goog.style.getStyle_(element, "position"), skipStatic = "fixed" == positionStyle || "absolute" == positionStyle, parent = element.parentNode;parent && parent != doc;parent = parent.parentNode) {\n        if (parent.nodeType == goog.dom.NodeType.DOCUMENT_FRAGMENT && parent.host && (parent = parent.host), positionStyle = goog.style.getStyle_(parent, "position"), skipStatic = skipStatic && "static" == positionStyle && parent != doc.documentElement && parent != doc.body, !skipStatic && (parent.scrollWidth > parent.clientWidth || parent.scrollHeight > parent.clientHeight || "fixed" == positionStyle || "absolute" == positionStyle || "relative" == positionStyle)) {\n            return parent;\n        }\n    }\n    return null;\n};\ngoog.style.getVisibleRectForElement = function(element) {\n    for (var visibleRect = new goog.math.Box(0, Infinity, Infinity, 0), dom = goog.dom.getDomHelper(element), body = dom.getDocument().body, documentElement = dom.getDocument().documentElement, scrollEl = dom.getDocumentScrollElement(), el = element;el = goog.style.getOffsetParent(el);) {\n        if (!(goog.userAgent.IE && 0 == el.clientWidth || goog.userAgent.WEBKIT && 0 == el.clientHeight && el == body) && el != body && el != documentElement && "visible" != goog.style.getStyle_(el, "overflow")) {\n            var pos = goog.style.getPageOffset(el), client = goog.style.getClientLeftTop(el);\n            pos.x += client.x;\n            pos.y += client.y;\n            visibleRect.top = Math.max(visibleRect.top, pos.y);\n            visibleRect.right = Math.min(visibleRect.right, pos.x + el.clientWidth);\n            visibleRect.bottom = Math.min(visibleRect.bottom, pos.y + el.clientHeight);\n            visibleRect.left = Math.max(visibleRect.left, pos.x);\n        }\n    }\n    var scrollX = scrollEl.scrollLeft, scrollY = scrollEl.scrollTop;\n    visibleRect.left = Math.max(visibleRect.left, scrollX);\n    visibleRect.top = Math.max(visibleRect.top, scrollY);\n    var winSize = dom.getViewportSize();\n    visibleRect.right = Math.min(visibleRect.right, scrollX + winSize.width);\n    visibleRect.bottom = Math.min(visibleRect.bottom, scrollY + winSize.height);\n    return 0 <= visibleRect.top && 0 <= visibleRect.left && visibleRect.bottom > visibleRect.top && visibleRect.right > visibleRect.left ? visibleRect : null;\n};\ngoog.style.getContainerOffsetToScrollInto = function(element, opt_container, opt_center) {\n    var container = opt_container || goog.dom.getDocumentScrollElement(), elementPos = goog.style.getPageOffset(element), containerPos = goog.style.getPageOffset(container), containerBorder = goog.style.getBorderBox(container);\n    if (container == goog.dom.getDocumentScrollElement()) {\n        var relX = elementPos.x - container.scrollLeft, relY = elementPos.y - container.scrollTop;\n        goog.userAgent.IE && !goog.userAgent.isDocumentModeOrHigher(10) && (relX += containerBorder.left, relY += containerBorder.top);\n    } else {\n        relX = elementPos.x - containerPos.x - containerBorder.left, relY = elementPos.y - containerPos.y - containerBorder.top;\n    }\n    var elementSize = goog.style.getSizeWithDisplay_(element), spaceX = container.clientWidth - elementSize.width, spaceY = container.clientHeight - elementSize.height, scrollLeft = container.scrollLeft, scrollTop = container.scrollTop;\n    opt_center ? (scrollLeft += relX - spaceX / 2, scrollTop += relY - spaceY / 2) : (scrollLeft += Math.min(relX, Math.max(relX - spaceX, 0)), scrollTop += Math.min(relY, Math.max(relY - spaceY, 0)));\n    return new goog.math.Coordinate(scrollLeft, scrollTop);\n};\ngoog.style.scrollIntoContainerView = function(element, opt_container, opt_center) {\n    var container = opt_container || goog.dom.getDocumentScrollElement(), offset = goog.style.getContainerOffsetToScrollInto(element, container, opt_center);\n    container.scrollLeft = offset.x;\n    container.scrollTop = offset.y;\n};\ngoog.style.getClientLeftTop = function(el) {\n    return new goog.math.Coordinate(el.clientLeft, el.clientTop);\n};\ngoog.style.getPageOffset = function(el) {\n    var doc = goog.dom.getOwnerDocument(el);\n    goog.asserts.assertObject(el, "Parameter is required");\n    var pos = new goog.math.Coordinate(0, 0), viewportElement = goog.style.getClientViewportElement(doc);\n    if (el == viewportElement) {\n        return pos;\n    }\n    var box = goog.style.getBoundingClientRect_(el), scrollCoord = goog.dom.getDomHelper(doc).getDocumentScroll();\n    pos.x = box.left + scrollCoord.x;\n    pos.y = box.top + scrollCoord.y;\n    return pos;\n};\ngoog.style.getPageOffsetLeft = function(el) {\n    return goog.style.getPageOffset(el).x;\n};\ngoog.style.getPageOffsetTop = function(el) {\n    return goog.style.getPageOffset(el).y;\n};\ngoog.style.getFramedPageOffset = function(el, relativeWin) {\n    var position = new goog.math.Coordinate(0, 0), currentWin = goog.dom.getWindow(goog.dom.getOwnerDocument(el));\n    if (!goog.reflect.canAccessProperty(currentWin, "parent")) {\n        return position;\n    }\n    var currentEl = el;\n    do {\n        var offset = currentWin == relativeWin ? goog.style.getPageOffset(currentEl) : goog.style.getClientPositionForElement_(goog.asserts.assert(currentEl));\n        position.x += offset.x;\n        position.y += offset.y;\n    } while (currentWin && currentWin != relativeWin && currentWin != currentWin.parent && (currentEl = currentWin.frameElement) && (currentWin = currentWin.parent));\n    return position;\n};\ngoog.style.translateRectForAnotherFrame = function(rect, origBase, newBase) {\n    if (origBase.getDocument() != newBase.getDocument()) {\n        var body = origBase.getDocument().body, pos = goog.style.getFramedPageOffset(body, newBase.getWindow()), pos = goog.math.Coordinate.difference(pos, goog.style.getPageOffset(body));\n        !goog.userAgent.IE || goog.userAgent.isDocumentModeOrHigher(9) || origBase.isCss1CompatMode() || (pos = goog.math.Coordinate.difference(pos, origBase.getDocumentScroll()));\n        rect.left += pos.x;\n        rect.top += pos.y;\n    }\n};\ngoog.style.getRelativePosition = function(a, b) {\n    var ap = goog.style.getClientPosition(a), bp = goog.style.getClientPosition(b);\n    return new goog.math.Coordinate(ap.x - bp.x, ap.y - bp.y);\n};\ngoog.style.getClientPositionForElement_ = function(el) {\n    var box = goog.style.getBoundingClientRect_(el);\n    return new goog.math.Coordinate(box.left, box.top);\n};\ngoog.style.getClientPosition = function(el) {\n    goog.asserts.assert(el);\n    if (el.nodeType == goog.dom.NodeType.ELEMENT) {\n        return goog.style.getClientPositionForElement_(el);\n    }\n    var targetEvent = el.changedTouches ? el.changedTouches[0] : el;\n    return new goog.math.Coordinate(targetEvent.clientX, targetEvent.clientY);\n};\ngoog.style.setPageOffset = function(el, x, opt_y) {\n    var cur = goog.style.getPageOffset(el);\n    x instanceof goog.math.Coordinate && (opt_y = x.y, x = x.x);\n    var dx = goog.asserts.assertNumber(x) - cur.x;\n    goog.style.setPosition(el, el.offsetLeft + dx, el.offsetTop + (Number(opt_y) - cur.y));\n};\ngoog.style.setSize = function(element, w, opt_h) {\n    var h;\n    if (w instanceof goog.math.Size) {\n        h = w.height, w = w.width;\n    } else {\n        if (void 0 == opt_h) {\n            throw Error("missing height argument");\n        }\n        h = opt_h;\n    }\n    goog.style.setWidth(element, w);\n    goog.style.setHeight(element, h);\n};\ngoog.style.getPixelStyleValue_ = function(value, round) {\n    "number" == typeof value && (value = (round ? Math.round(value) : value) + "px");\n    return value;\n};\ngoog.style.setHeight = function(element, height) {\n    element.style.height = goog.style.getPixelStyleValue_(height, !0);\n};\ngoog.style.setWidth = function(element, width) {\n    element.style.width = goog.style.getPixelStyleValue_(width, !0);\n};\ngoog.style.getSize = function(element) {\n    return goog.style.evaluateWithTemporaryDisplay_(goog.style.getSizeWithDisplay_, element);\n};\ngoog.style.evaluateWithTemporaryDisplay_ = function(fn, element) {\n    if ("none" != goog.style.getStyle_(element, "display")) {\n        return fn(element);\n    }\n    var style = element.style, originalDisplay = style.display, originalVisibility = style.visibility, originalPosition = style.position;\n    style.visibility = "hidden";\n    style.position = "absolute";\n    style.display = "inline";\n    var retVal = fn(element);\n    style.display = originalDisplay;\n    style.position = originalPosition;\n    style.visibility = originalVisibility;\n    return retVal;\n};\ngoog.style.getSizeWithDisplay_ = function(element) {\n    var offsetWidth = element.offsetWidth, offsetHeight = element.offsetHeight, webkitOffsetsZero = goog.userAgent.WEBKIT && !offsetWidth && !offsetHeight;\n    if ((!goog.isDef(offsetWidth) || webkitOffsetsZero) && element.getBoundingClientRect) {\n        var clientRect = goog.style.getBoundingClientRect_(element);\n        return new goog.math.Size(clientRect.right - clientRect.left, clientRect.bottom - clientRect.top);\n    }\n    return new goog.math.Size(offsetWidth, offsetHeight);\n};\ngoog.style.getTransformedSize = function(element) {\n    if (!element.getBoundingClientRect) {\n        return null;\n    }\n    var clientRect = goog.style.evaluateWithTemporaryDisplay_(goog.style.getBoundingClientRect_, element);\n    return new goog.math.Size(clientRect.right - clientRect.left, clientRect.bottom - clientRect.top);\n};\ngoog.style.getBounds = function(element) {\n    var o = goog.style.getPageOffset(element), s = goog.style.getSize(element);\n    return new goog.math.Rect(o.x, o.y, s.width, s.height);\n};\ngoog.style.toCamelCase = function(selector) {\n    return goog.string.toCamelCase(String(selector));\n};\ngoog.style.toSelectorCase = function(selector) {\n    return goog.string.toSelectorCase(selector);\n};\ngoog.style.getOpacity = function(el) {\n    goog.asserts.assert(el);\n    var style = el.style, result = "";\n    if ("opacity" in style) {\n        result = style.opacity;\n    } else {\n        if ("MozOpacity" in style) {\n            result = style.MozOpacity;\n        } else {\n            if ("filter" in style) {\n                var match = style.filter.match(/alpha\\(opacity=([\\d.]+)\\)/);\n                match && (result = String(match[1] / 100));\n            }\n        }\n    }\n    return "" == result ? result : Number(result);\n};\ngoog.style.setOpacity = function(el, alpha) {\n    goog.asserts.assert(el);\n    var style = el.style;\n    "opacity" in style ? style.opacity = alpha : "MozOpacity" in style ? style.MozOpacity = alpha : "filter" in style && (style.filter = "" === alpha ? "" : "alpha(opacity=" + 100 * Number(alpha) + ")");\n};\ngoog.style.setTransparentBackgroundImage = function(el, src) {\n    var style = el.style;\n    goog.userAgent.IE && !goog.userAgent.isVersionOrHigher("8") ? style.filter = \'progid:DXImageTransform.Microsoft.AlphaImageLoader(src="\' + src + \'", sizingMethod="crop")\' : (style.backgroundImage = "url(" + src + ")", style.backgroundPosition = "top left", style.backgroundRepeat = "no-repeat");\n};\ngoog.style.clearTransparentBackgroundImage = function(el) {\n    var style = el.style;\n    "filter" in style ? style.filter = "" : style.backgroundImage = "none";\n};\ngoog.style.showElement = function(el, display) {\n    goog.style.setElementShown(el, display);\n};\ngoog.style.setElementShown = function(el, isShown) {\n    el.style.display = isShown ? "" : "none";\n};\ngoog.style.isElementShown = function(el) {\n    return "none" != el.style.display;\n};\ngoog.style.installStyles = function(stylesString, opt_node) {\n    return goog.style.installSafeStyleSheet(goog.html.legacyconversions.safeStyleSheetFromString(stylesString), opt_node);\n};\ngoog.style.installSafeStyleSheet = function(safeStyleSheet, opt_node) {\n    var dh = goog.dom.getDomHelper(opt_node), styleSheet = null, doc = dh.getDocument();\n    if (goog.userAgent.IE && doc.createStyleSheet) {\n        styleSheet = doc.createStyleSheet(), goog.style.setSafeStyleSheet(styleSheet, safeStyleSheet);\n    } else {\n        var head = dh.getElementsByTagNameAndClass("HEAD")[0];\n        if (!head) {\n            var body = dh.getElementsByTagNameAndClass("BODY")[0], head = dh.createDom("HEAD");\n            body.parentNode.insertBefore(head, body);\n        }\n        styleSheet = dh.createDom("STYLE");\n        goog.style.setSafeStyleSheet(styleSheet, safeStyleSheet);\n        dh.appendChild(head, styleSheet);\n    }\n    return styleSheet;\n};\ngoog.style.uninstallStyles = function(styleSheet) {\n    goog.dom.removeNode(styleSheet.ownerNode || styleSheet.owningElement || styleSheet);\n};\ngoog.style.setStyles = function(element, stylesString) {\n    goog.style.setSafeStyleSheet(element, goog.html.legacyconversions.safeStyleSheetFromString(stylesString));\n};\ngoog.style.setSafeStyleSheet = function(element, safeStyleSheet) {\n    var stylesString = goog.html.SafeStyleSheet.unwrap(safeStyleSheet);\n    goog.userAgent.IE && goog.isDef(element.cssText) ? element.cssText = stylesString : element.innerHTML = stylesString;\n};\ngoog.style.setPreWrap = function(el) {\n    var style = el.style;\n    goog.userAgent.IE && !goog.userAgent.isVersionOrHigher("8") ? (style.whiteSpace = "pre", style.wordWrap = "break-word") : style.whiteSpace = goog.userAgent.GECKO ? "-moz-pre-wrap" : "pre-wrap";\n};\ngoog.style.setInlineBlock = function(el) {\n    var style = el.style;\n    style.position = "relative";\n    goog.userAgent.IE && !goog.userAgent.isVersionOrHigher("8") ? (style.zoom = "1", style.display = "inline") : style.display = "inline-block";\n};\ngoog.style.isRightToLeft = function(el) {\n    return "rtl" == goog.style.getStyle_(el, "direction");\n};\ngoog.style.unselectableStyle_ = goog.userAgent.GECKO ? "MozUserSelect" : goog.userAgent.WEBKIT || goog.userAgent.EDGE ? "WebkitUserSelect" : null;\ngoog.style.isUnselectable = function(el) {\n    return goog.style.unselectableStyle_ ? "none" == el.style[goog.style.unselectableStyle_].toLowerCase() : goog.userAgent.IE || goog.userAgent.OPERA ? "on" == el.getAttribute("unselectable") : !1;\n};\ngoog.style.setUnselectable = function(el, unselectable, opt_noRecurse) {\n    var descendants = opt_noRecurse ? null : el.getElementsByTagName("*"), name = goog.style.unselectableStyle_;\n    if (name) {\n        var value = unselectable ? "none" : "";\n        el.style && (el.style[name] = value);\n        if (descendants) {\n            for (var i = 0, descendant;descendant = descendants[i];i++) {\n                descendant.style && (descendant.style[name] = value);\n            }\n        }\n    } else {\n        if (goog.userAgent.IE || goog.userAgent.OPERA) {\n            if (value = unselectable ? "on" : "", el.setAttribute("unselectable", value), descendants) {\n                for (i = 0;descendant = descendants[i];i++) {\n                    descendant.setAttribute("unselectable", value);\n                }\n            }\n        }\n    }\n};\ngoog.style.getBorderBoxSize = function(element) {\n    return new goog.math.Size(element.offsetWidth, element.offsetHeight);\n};\ngoog.style.setBorderBoxSize = function(element, size) {\n    var doc = goog.dom.getOwnerDocument(element), isCss1CompatMode = goog.dom.getDomHelper(doc).isCss1CompatMode();\n    if (!goog.userAgent.IE || goog.userAgent.isVersionOrHigher("10") || isCss1CompatMode && goog.userAgent.isVersionOrHigher("8")) {\n        goog.style.setBoxSizingSize_(element, size, "border-box");\n    } else {\n        var style = element.style;\n        if (isCss1CompatMode) {\n            var paddingBox = goog.style.getPaddingBox(element), borderBox = goog.style.getBorderBox(element);\n            style.pixelWidth = size.width - borderBox.left - paddingBox.left - paddingBox.right - borderBox.right;\n            style.pixelHeight = size.height - borderBox.top - paddingBox.top - paddingBox.bottom - borderBox.bottom;\n        } else {\n            style.pixelWidth = size.width, style.pixelHeight = size.height;\n        }\n    }\n};\ngoog.style.getContentBoxSize = function(element) {\n    var doc = goog.dom.getOwnerDocument(element), ieCurrentStyle = goog.userAgent.IE && element.currentStyle;\n    if (ieCurrentStyle && goog.dom.getDomHelper(doc).isCss1CompatMode() && "auto" != ieCurrentStyle.width && "auto" != ieCurrentStyle.height && !ieCurrentStyle.boxSizing) {\n        var width = goog.style.getIePixelValue_(element, ieCurrentStyle.width, "width", "pixelWidth"), height = goog.style.getIePixelValue_(element, ieCurrentStyle.height, "height", "pixelHeight");\n        return new goog.math.Size(width, height);\n    }\n    var borderBoxSize = goog.style.getBorderBoxSize(element), paddingBox = goog.style.getPaddingBox(element), borderBox = goog.style.getBorderBox(element);\n    return new goog.math.Size(borderBoxSize.width - borderBox.left - paddingBox.left - paddingBox.right - borderBox.right, borderBoxSize.height - borderBox.top - paddingBox.top - paddingBox.bottom - borderBox.bottom);\n};\ngoog.style.setContentBoxSize = function(element, size) {\n    var doc = goog.dom.getOwnerDocument(element), isCss1CompatMode = goog.dom.getDomHelper(doc).isCss1CompatMode();\n    if (!goog.userAgent.IE || goog.userAgent.isVersionOrHigher("10") || isCss1CompatMode && goog.userAgent.isVersionOrHigher("8")) {\n        goog.style.setBoxSizingSize_(element, size, "content-box");\n    } else {\n        var style = element.style;\n        if (isCss1CompatMode) {\n            style.pixelWidth = size.width, style.pixelHeight = size.height;\n        } else {\n            var paddingBox = goog.style.getPaddingBox(element), borderBox = goog.style.getBorderBox(element);\n            style.pixelWidth = size.width + borderBox.left + paddingBox.left + paddingBox.right + borderBox.right;\n            style.pixelHeight = size.height + borderBox.top + paddingBox.top + paddingBox.bottom + borderBox.bottom;\n        }\n    }\n};\ngoog.style.setBoxSizingSize_ = function(element, size, boxSizing) {\n    var style = element.style;\n    goog.userAgent.GECKO ? style.MozBoxSizing = boxSizing : goog.userAgent.WEBKIT ? style.WebkitBoxSizing = boxSizing : style.boxSizing = boxSizing;\n    style.width = Math.max(size.width, 0) + "px";\n    style.height = Math.max(size.height, 0) + "px";\n};\ngoog.style.getIePixelValue_ = function(element, value, name, pixelName) {\n    if (/^\\d+px?$/.test(value)) {\n        return parseInt(value, 10);\n    }\n    var oldStyleValue = element.style[name], oldRuntimeValue = element.runtimeStyle[name];\n    element.runtimeStyle[name] = element.currentStyle[name];\n    element.style[name] = value;\n    var pixelValue = element.style[pixelName];\n    element.style[name] = oldStyleValue;\n    element.runtimeStyle[name] = oldRuntimeValue;\n    return +pixelValue;\n};\ngoog.style.getIePixelDistance_ = function(element, propName) {\n    var value = goog.style.getCascadedStyle(element, propName);\n    return value ? goog.style.getIePixelValue_(element, value, "left", "pixelLeft") : 0;\n};\ngoog.style.getBox_ = function(element, stylePrefix) {\n    if (goog.userAgent.IE) {\n        var left = goog.style.getIePixelDistance_(element, stylePrefix + "Left"), right = goog.style.getIePixelDistance_(element, stylePrefix + "Right"), top = goog.style.getIePixelDistance_(element, stylePrefix + "Top"), bottom = goog.style.getIePixelDistance_(element, stylePrefix + "Bottom");\n        return new goog.math.Box(top, right, bottom, left);\n    }\n    left = goog.style.getComputedStyle(element, stylePrefix + "Left");\n    right = goog.style.getComputedStyle(element, stylePrefix + "Right");\n    top = goog.style.getComputedStyle(element, stylePrefix + "Top");\n    bottom = goog.style.getComputedStyle(element, stylePrefix + "Bottom");\n    return new goog.math.Box(parseFloat(top), parseFloat(right), parseFloat(bottom), parseFloat(left));\n};\ngoog.style.getPaddingBox = function(element) {\n    return goog.style.getBox_(element, "padding");\n};\ngoog.style.getMarginBox = function(element) {\n    return goog.style.getBox_(element, "margin");\n};\ngoog.style.ieBorderWidthKeywords_ = {thin:2, medium:4, thick:6};\ngoog.style.getIePixelBorder_ = function(element, prop) {\n    if ("none" == goog.style.getCascadedStyle(element, prop + "Style")) {\n        return 0;\n    }\n    var width = goog.style.getCascadedStyle(element, prop + "Width");\n    return width in goog.style.ieBorderWidthKeywords_ ? goog.style.ieBorderWidthKeywords_[width] : goog.style.getIePixelValue_(element, width, "left", "pixelLeft");\n};\ngoog.style.getBorderBox = function(element) {\n    if (goog.userAgent.IE && !goog.userAgent.isDocumentModeOrHigher(9)) {\n        var left = goog.style.getIePixelBorder_(element, "borderLeft"), right = goog.style.getIePixelBorder_(element, "borderRight"), top = goog.style.getIePixelBorder_(element, "borderTop"), bottom = goog.style.getIePixelBorder_(element, "borderBottom");\n        return new goog.math.Box(top, right, bottom, left);\n    }\n    left = goog.style.getComputedStyle(element, "borderLeftWidth");\n    right = goog.style.getComputedStyle(element, "borderRightWidth");\n    top = goog.style.getComputedStyle(element, "borderTopWidth");\n    bottom = goog.style.getComputedStyle(element, "borderBottomWidth");\n    return new goog.math.Box(parseFloat(top), parseFloat(right), parseFloat(bottom), parseFloat(left));\n};\ngoog.style.getFontFamily = function(el) {\n    var doc = goog.dom.getOwnerDocument(el), font = "";\n    if (doc.body.createTextRange && goog.dom.contains(doc, el)) {\n        var range = doc.body.createTextRange();\n        range.moveToElementText(el);\n        try {\n            font = range.queryCommandValue("FontName");\n        } catch (e) {\n            font = "";\n        }\n    }\n    font || (font = goog.style.getStyle_(el, "fontFamily"));\n    var fontsArray = font.split(",");\n    1 < fontsArray.length && (font = fontsArray[0]);\n    return goog.string.stripQuotes(font, "\\"\'");\n};\ngoog.style.lengthUnitRegex_ = /[^\\d]+$/;\ngoog.style.getLengthUnits = function(value) {\n    var units = value.match(goog.style.lengthUnitRegex_);\n    return units && units[0] || null;\n};\ngoog.style.ABSOLUTE_CSS_LENGTH_UNITS_ = {cm:1, "in":1, mm:1, pc:1, pt:1};\ngoog.style.CONVERTIBLE_RELATIVE_CSS_UNITS_ = {em:1, ex:1};\ngoog.style.getFontSize = function(el) {\n    var fontSize = goog.style.getStyle_(el, "fontSize"), sizeUnits = goog.style.getLengthUnits(fontSize);\n    if (fontSize && "px" == sizeUnits) {\n        return parseInt(fontSize, 10);\n    }\n    if (goog.userAgent.IE) {\n        if (String(sizeUnits) in goog.style.ABSOLUTE_CSS_LENGTH_UNITS_) {\n            return goog.style.getIePixelValue_(el, fontSize, "left", "pixelLeft");\n        }\n        if (el.parentNode && el.parentNode.nodeType == goog.dom.NodeType.ELEMENT && String(sizeUnits) in goog.style.CONVERTIBLE_RELATIVE_CSS_UNITS_) {\n            var parentElement = el.parentNode, parentSize = goog.style.getStyle_(parentElement, "fontSize");\n            return goog.style.getIePixelValue_(parentElement, fontSize == parentSize ? "1em" : fontSize, "left", "pixelLeft");\n        }\n    }\n    var sizeElement = goog.dom.createDom("SPAN", {style:"visibility:hidden;position:absolute;line-height:0;padding:0;margin:0;border:0;height:1em;"});\n    goog.dom.appendChild(el, sizeElement);\n    fontSize = sizeElement.offsetHeight;\n    goog.dom.removeNode(sizeElement);\n    return fontSize;\n};\ngoog.style.parseStyleAttribute = function(value) {\n    var result = {};\n    goog.array.forEach(value.split(/\\s*;\\s*/), function(pair) {\n        var keyValue = pair.match(/\\s*([\\w-]+)\\s*\\:(.+)/);\n        if (keyValue) {\n            var styleName = keyValue[1], styleValue = goog.string.trim(keyValue[2]);\n            result[goog.string.toCamelCase(styleName.toLowerCase())] = styleValue;\n        }\n    });\n    return result;\n};\ngoog.style.toStyleAttribute = function(obj) {\n    var buffer = [];\n    goog.object.forEach(obj, function(value, key) {\n        buffer.push(goog.string.toSelectorCase(key), ":", value, ";");\n    });\n    return buffer.join("");\n};\ngoog.style.setFloat = function(el, value) {\n    el.style[goog.userAgent.IE ? "styleFloat" : "cssFloat"] = value;\n};\ngoog.style.getFloat = function(el) {\n    return el.style[goog.userAgent.IE ? "styleFloat" : "cssFloat"] || "";\n};\ngoog.style.getScrollbarWidth = function(opt_className) {\n    var outerDiv = goog.dom.createElement("DIV");\n    opt_className && (outerDiv.className = opt_className);\n    outerDiv.style.cssText = "overflow:auto;position:absolute;top:0;width:100px;height:100px";\n    var innerDiv = goog.dom.createElement("DIV");\n    goog.style.setSize(innerDiv, "200px", "200px");\n    outerDiv.appendChild(innerDiv);\n    goog.dom.appendChild(goog.dom.getDocument().body, outerDiv);\n    var width = outerDiv.offsetWidth - outerDiv.clientWidth;\n    goog.dom.removeNode(outerDiv);\n    return width;\n};\ngoog.style.MATRIX_TRANSLATION_REGEX_ = /matrix\\([0-9\\.\\-]+, [0-9\\.\\-]+, [0-9\\.\\-]+, [0-9\\.\\-]+, ([0-9\\.\\-]+)p?x?, ([0-9\\.\\-]+)p?x?\\)/;\ngoog.style.getCssTranslation = function(element) {\n    var transform = goog.style.getComputedTransform(element);\n    if (!transform) {\n        return new goog.math.Coordinate(0, 0);\n    }\n    var matches = transform.match(goog.style.MATRIX_TRANSLATION_REGEX_);\n    return matches ? new goog.math.Coordinate(parseFloat(matches[1]), parseFloat(matches[2])) : new goog.math.Coordinate(0, 0);\n};\nvar ee = {layers:{}};\nee.layers.AbstractOverlay = function(tileSource, opt_options) {\n    goog.events.EventTarget.call(this);\n    var options = opt_options || {};\n    this.minZoom = options.minZoom || 0;\n    this.maxZoom = options.maxZoom || 20;\n    if (!window.google || !window.google.maps) {\n        throw Error("Google Maps API hasn\'t been initialized.");\n    }\n    this.tileSize = options.tileSize || new google.maps.Size(ee.layers.AbstractOverlay.DEFAULT_TILE_EDGE_LENGTH, ee.layers.AbstractOverlay.DEFAULT_TILE_EDGE_LENGTH);\n    this.isPng = "isPng" in options ? options.isPng : !0;\n    this.name = options.name;\n    this.opacity = "opacity" in options ? options.opacity : 1;\n    this.tilesById = new goog.structs.Map;\n    this.tileCounter = 0;\n    this.tileSource = tileSource;\n    this.handler = new goog.events.EventHandler(this);\n    this.alt = this.radius = this.projection = void 0;\n};\ngoog.inherits(ee.layers.AbstractOverlay, goog.events.EventTarget);\nee.layers.AbstractOverlay.EventType = {TILE_FAIL:"tile-fail", TILE_LOAD:"tile-load"};\nee.layers.AbstractOverlay.DEFAULT_TILE_EDGE_LENGTH = 256;\nee.layers.AbstractOverlay.prototype.addTileCallback = function(callback) {\n    return goog.events.listen(this, ee.layers.AbstractOverlay.EventType.TILE_LOAD, callback);\n};\nee.layers.AbstractOverlay.prototype.removeTileCallback = function(callbackId) {\n    goog.events.unlistenByKey(callbackId);\n};\nee.layers.AbstractOverlay.prototype.getLoadingTilesCount = function() {\n    return this.getTileCountForStatus_(ee.layers.AbstractTile.Status.LOADING) + this.getTileCountForStatus_(ee.layers.AbstractTile.Status.NEW);\n};\nee.layers.AbstractOverlay.prototype.getFailedTilesCount = function() {\n    return this.getTileCountForStatus_(ee.layers.AbstractTile.Status.FAILED);\n};\nee.layers.AbstractOverlay.prototype.getLoadedTilesCount = function() {\n    return this.getTileCountForStatus_(ee.layers.AbstractTile.Status.LOADED);\n};\nee.layers.AbstractOverlay.prototype.setOpacity = function(opacity) {\n    this.opacity = opacity;\n    this.tilesById.forEach(function(tile) {\n        goog.style.setOpacity(tile.div, this.opacity);\n    }, this);\n};\nee.layers.AbstractOverlay.prototype.getTile = function(coord, zoom, ownerDocument) {\n    var maxCoord = 1 << zoom;\n    if (zoom < this.minZoom || 0 > coord.y || coord.y >= maxCoord) {\n        return ownerDocument.createElement("div");\n    }\n    var x = coord.x % maxCoord;\n    0 > x && (x += maxCoord);\n    var normalizedCoord = new google.maps.Point(x, coord.y), uniqueId = this.getUniqueTileId_(coord, zoom), tile = this.createTile(normalizedCoord, zoom, ownerDocument, uniqueId);\n    tile.tileSize = this.tileSize;\n    goog.style.setOpacity(tile.div, this.opacity);\n    this.tilesById.set(uniqueId, tile);\n    this.handler.listen(tile, ee.layers.AbstractTile.EventType.STATUS_CHANGED, function() {\n        tile.getStatus() == ee.layers.AbstractTile.Status.LOADED && this.dispatchEvent(new ee.layers.TileLoadEvent(this.getLoadingTilesCount()));\n        tile.getStatus() == ee.layers.AbstractTile.Status.FAILED && this.dispatchEvent(new ee.layers.TileFailEvent(tile.sourceUrl, tile.errorMessage_));\n    });\n    this.tileSource.loadTile(tile, (new Date).getTime() / 1E3);\n    return tile.div;\n};\nee.layers.AbstractOverlay.prototype.releaseTile = function(tileDiv) {\n    var tile = this.tilesById.get(tileDiv.id);\n    this.tilesById.remove(tileDiv.id);\n    tile && (tile.abort(), goog.dispose(tile));\n};\nee.layers.AbstractOverlay.prototype.getUniqueTileId_ = function(coord, z) {\n    var tileId = [coord.x, coord.y, z, this.tileCounter].join("-"), sourceId = this.tileSource.getUniqueId();\n    return [tileId, sourceId].join("-");\n};\nee.layers.AbstractOverlay.prototype.disposeInternal = function() {\n    ee.layers.AbstractOverlay.superClass_.disposeInternal.call(this);\n    this.tilesById.forEach(goog.dispose);\n    this.tilesById.clear();\n    this.tilesById = null;\n    goog.dispose(this.handler);\n    this.tileSource = this.handler = null;\n};\nee.layers.AbstractOverlay.prototype.getTileCountForStatus_ = function(status) {\n    return goog.array.count(this.tilesById.getValues(), function(tile) {\n        return tile.getStatus() == status;\n    });\n};\nee.layers.TileLoadEvent = function(loadingTileCount) {\n    goog.events.Event.call(this, ee.layers.AbstractOverlay.EventType.TILE_LOAD);\n    this.loadingTileCount = loadingTileCount;\n};\ngoog.inherits(ee.layers.TileLoadEvent, goog.events.Event);\nee.layers.TileFailEvent = function(tileUrl, opt_errorMessage) {\n    goog.events.Event.call(this, ee.layers.AbstractOverlay.EventType.TILE_FAIL);\n    this.tileUrl = tileUrl;\n    this.errorMessage = opt_errorMessage;\n};\ngoog.inherits(ee.layers.TileFailEvent, goog.events.Event);\nee.layers.AbstractTile = function(coord, zoom, ownerDocument, uniqueId) {\n    goog.events.EventTarget.call(this);\n    this.coord = coord;\n    this.zoom = zoom;\n    this.div = ownerDocument.createElement("div");\n    this.div.id = uniqueId;\n    this.maxRetries = ee.layers.AbstractTile.DEFAULT_MAX_LOAD_RETRIES_;\n    this.renderer = function() {\n    };\n    this.status_ = ee.layers.AbstractTile.Status.NEW;\n    this.retryAttemptCount_ = 0;\n    this.isRetrying_ = !1;\n};\ngoog.inherits(ee.layers.AbstractTile, goog.events.EventTarget);\nee.layers.AbstractTile.EventType = {STATUS_CHANGED:"status-changed"};\nee.layers.AbstractTile.Status = {NEW:"new", LOADING:"loading", LOADED:"loaded", FAILED:"failed", ABORTED:"aborted"};\nee.layers.AbstractTile.prototype.startLoad = function() {\n    if (!this.isRetrying_ && this.getStatus() == ee.layers.AbstractTile.Status.LOADING) {\n        throw Error("startLoad() can only be invoked once. Use retryLoad() after the first attempt.");\n    }\n    this.setStatus(ee.layers.AbstractTile.Status.LOADING);\n    this.xhrIo_ = new goog.net.XhrIo;\n    this.xhrIo_.setResponseType(goog.net.XhrIo.ResponseType.BLOB);\n    this.xhrIo_.listen(goog.net.EventType.COMPLETE, function(event) {\n        var blob = this.xhrIo_.getResponse();\n        if (200 <= this.xhrIo_.getStatus() && 300 > this.xhrIo_.getStatus()) {\n            this.sourceResponseHeaders = this.xhrIo_.getResponseHeaders(), this.sourceData = blob, this.finishLoad();\n        } else {\n            if (blob) {\n                var reader = new goog.fs.FileReader;\n                reader.listen(goog.fs.FileReader.EventType.LOAD_END, function() {\n                    this.retryLoad(reader.getResult());\n                }, void 0, this);\n                reader.readAsText(blob);\n            } else {\n                this.retryLoad("Failed to load tile.");\n            }\n        }\n    }, !1, this);\n    this.xhrIo_.listenOnce(goog.net.EventType.READY, goog.partial(goog.dispose, this.xhrIo_));\n    this.xhrIo_.send(this.sourceUrl, "GET");\n};\nee.layers.AbstractTile.prototype.finishLoad = function() {\n    this.renderer(this);\n    this.setStatus(ee.layers.AbstractTile.Status.LOADED);\n};\nee.layers.AbstractTile.prototype.cancelLoad = function() {\n    goog.dispose(this.xhrIo_);\n};\nee.layers.AbstractTile.prototype.retryLoad = function(opt_errorMessage) {\n    this.retryAttemptCount_ >= this.maxRetries ? (this.errorMessage_ = opt_errorMessage, this.setStatus(ee.layers.AbstractTile.Status.FAILED)) : (this.retryAttemptCount_++, this.isRetrying_ = !0, this.cancelLoad(), this.startLoad(), this.isRetrying_ = !1);\n};\nee.layers.AbstractTile.prototype.abort = function() {\n    this.cancelLoad();\n    this.setStatus(ee.layers.AbstractTile.Status.ABORTED);\n};\nee.layers.AbstractTile.prototype.isDone = function() {\n    return this.status_ in ee.layers.AbstractTile.DONE_STATUS_SET_;\n};\nee.layers.AbstractTile.prototype.getStatus = function() {\n    return this.status_;\n};\nee.layers.AbstractTile.prototype.setStatus = function(status) {\n    this.status_ = status;\n    this.dispatchEvent(ee.layers.AbstractTile.EventType.STATUS_CHANGED);\n};\nee.layers.AbstractTile.DONE_STATUS_SET_ = goog.object.createSet(ee.layers.AbstractTile.Status.ABORTED, ee.layers.AbstractTile.Status.FAILED, ee.layers.AbstractTile.Status.LOADED);\nee.layers.AbstractTile.prototype.disposeInternal = function() {\n    ee.layers.AbstractTile.superClass_.disposeInternal.call(this);\n    this.cancelLoad();\n    this.div.remove();\n    this.renderer = null;\n};\nee.layers.AbstractTile.DEFAULT_MAX_LOAD_RETRIES_ = 1;\nee.layers.AbstractTileSource = function() {\n    goog.Disposable.call(this);\n};\ngoog.inherits(ee.layers.AbstractTileSource, goog.Disposable);\nee.layers.BinaryOverlay = function(tileSource, opt_options) {\n    ee.layers.AbstractOverlay.call(this, tileSource, opt_options);\n    this.buffersByCoord_ = new goog.structs.Map;\n    this.divsByCoord_ = new goog.structs.Map;\n};\ngoog.inherits(ee.layers.BinaryOverlay, ee.layers.AbstractOverlay);\nee.layers.BinaryOverlay.prototype.createTile = function(coord, zoom, ownerDocument, uniqueId) {\n    var tile = new ee.layers.BinaryTile(coord, zoom, ownerDocument, uniqueId);\n    this.handler.listen(tile, ee.layers.AbstractTile.EventType.STATUS_CHANGED, function() {\n        tile.getStatus() == ee.layers.AbstractTile.Status.LOADED && (this.buffersByCoord_.set(coord, new Float32Array(tile.buffer_)), this.divsByCoord_.set(coord, tile.div));\n    });\n    return tile;\n};\nee.layers.BinaryOverlay.prototype.getBuffersByCoord = function() {\n    return this.buffersByCoord_;\n};\nee.layers.BinaryOverlay.prototype.getDivsByCoord = function() {\n    return this.divsByCoord_;\n};\nee.layers.BinaryOverlay.prototype.disposeInternal = function() {\n    ee.layers.BinaryOverlay.superClass_.disposeInternal.call(this);\n    this.divsByCoord_ = this.buffersByCoord_ = null;\n};\nee.layers.BinaryTile = function(coord, zoom, ownerDocument, uniqueId) {\n    ee.layers.AbstractTile.call(this, coord, zoom, ownerDocument, uniqueId);\n};\ngoog.inherits(ee.layers.BinaryTile, ee.layers.AbstractTile);\nee.layers.BinaryTile.prototype.finishLoad = function() {\n    var reader = new goog.fs.FileReader;\n    reader.listen(goog.fs.FileReader.EventType.LOAD_END, function() {\n        this.buffer_ = reader.getResult();\n        ee.layers.AbstractTile.prototype.finishLoad.call(this);\n    }, void 0, this);\n    reader.readAsArrayBuffer(this.sourceData);\n};\ngoog.string.path = {};\ngoog.string.path.baseName = function(path) {\n    var i = path.lastIndexOf("/") + 1;\n    return path.slice(i);\n};\ngoog.string.path.basename = goog.string.path.baseName;\ngoog.string.path.dirname = function(path) {\n    var i = path.lastIndexOf("/") + 1, head = path.slice(0, i);\n    /^\\/+$/.test(head) || (head = head.replace(/\\/+$/, ""));\n    return head;\n};\ngoog.string.path.extension = function(path) {\n    var baseName = goog.string.path.baseName(path).replace(/\\.+/g, "."), separatorIndex = baseName.lastIndexOf(".");\n    return 0 >= separatorIndex ? "" : baseName.substr(separatorIndex + 1);\n};\ngoog.string.path.join = function(var_args) {\n    for (var path = arguments[0], i = 1;i < arguments.length;i++) {\n        var arg = arguments[i], path = goog.string.startsWith(arg, "/") ? arg : "" == path || goog.string.endsWith(path, "/") ? path + arg : path + ("/" + arg);\n    }\n    return path;\n};\ngoog.string.path.normalizePath = function(path) {\n    if ("" == path) {\n        return ".";\n    }\n    var initialSlashes = "";\n    goog.string.startsWith(path, "/") && (initialSlashes = "/", goog.string.startsWith(path, "//") && !goog.string.startsWith(path, "///") && (initialSlashes = "//"));\n    for (var parts = path.split("/"), newParts = [], i = 0;i < parts.length;i++) {\n        var part = parts[i];\n        "" != part && "." != part && (".." != part || !initialSlashes && !newParts.length || ".." == goog.array.peek(newParts) ? newParts.push(part) : newParts.pop());\n    }\n    return initialSlashes + newParts.join("/") || ".";\n};\ngoog.string.path.split = function(path) {\n    var head = goog.string.path.dirname(path), tail = goog.string.path.baseName(path);\n    return [head, tail];\n};\nee.layers.CloudStorageTileSource = function(bucket, path, maxZoom, opt_suffix) {\n    ee.layers.AbstractTileSource.call(this);\n    this.bucket_ = bucket;\n    this.path_ = path;\n    this.suffix_ = opt_suffix || "";\n    this.maxZoom_ = maxZoom;\n};\ngoog.inherits(ee.layers.CloudStorageTileSource, ee.layers.AbstractTileSource);\nee.layers.CloudStorageTileSource.prototype.loadTile = function(tile, opt_priority) {\n    if (tile.zoom <= this.maxZoom_) {\n        tile.sourceUrl = this.getTileUrl_(tile.coord, tile.zoom);\n    } else {\n        var zoomSteps = tile.zoom - this.maxZoom_, zoomFactor = Math.pow(2, zoomSteps), upperCoord = new google.maps.Point(Math.floor(tile.coord.x / zoomFactor), Math.floor(tile.coord.y / zoomFactor));\n        tile.sourceUrl = this.getTileUrl_(upperCoord, tile.zoom - zoomSteps);\n        tile.renderer = goog.partial(ee.layers.CloudStorageTileSource.zoomTileRenderer_, this.maxZoom_);\n    }\n    var originalRetryLoad = goog.bind(tile.retryLoad, tile);\n    tile.retryLoad = goog.bind(function(opt_errorMessage) {\n        opt_errorMessage && goog.string.contains(opt_errorMessage, ee.layers.CloudStorageTileSource.MISSING_TILE_ERROR_) ? tile.setStatus(ee.layers.AbstractTile.Status.LOADED) : originalRetryLoad(opt_errorMessage);\n    }, tile);\n    tile.startLoad();\n};\nee.layers.CloudStorageTileSource.prototype.getUniqueId = function() {\n    return [this.bucket_, this.path_, this.maxZoom_, this.suffix_].join("-");\n};\nee.layers.CloudStorageTileSource.prototype.getTileUrl_ = function(coord, zoom) {\n    var url = goog.string.path.join(ee.layers.CloudStorageTileSource.BASE_URL_, this.bucket_, this.path_, String(zoom), String(coord.x), String(coord.y));\n    this.suffix_ && (url += this.suffix_);\n    return url;\n};\nee.layers.CloudStorageTileSource.zoomTileRenderer_ = function(maxZoom, tile) {\n    if (!tile.imageEl) {\n        throw Error("Tile must have an image element to be rendered.");\n    }\n    var zoomFactor = Math.pow(2, tile.zoom - maxZoom), sideLength = tile.tileSize.width, canv = tile.div.ownerDocument.createElement("canvas");\n    canv.setAttribute("width", sideLength);\n    canv.setAttribute("height", sideLength);\n    tile.div.appendChild(canv);\n    var context = canv.getContext("2d");\n    context.imageSmoothingEnabled = !1;\n    context.mozImageSmoothingEnabled = !1;\n    context.webkitImageSmoothingEnabled = !1;\n    context.drawImage(tile.imageEl, sideLength / zoomFactor * (tile.coord.x % zoomFactor), sideLength / zoomFactor * (tile.coord.y % zoomFactor), sideLength / zoomFactor, sideLength / zoomFactor, 0, 0, sideLength, sideLength);\n};\nee.layers.CloudStorageTileSource.BASE_URL_ = "https://storage.googleapis.com";\nee.layers.CloudStorageTileSource.MISSING_TILE_ERROR_ = "The specified key does not exist.";\ngoog.async.Throttle = function(listener, interval, opt_handler) {\n    goog.Disposable.call(this);\n    this.listener_ = null != opt_handler ? goog.bind(listener, opt_handler) : listener;\n    this.interval_ = interval;\n    this.callback_ = goog.bind(this.onTimer_, this);\n    this.args_ = [];\n};\ngoog.inherits(goog.async.Throttle, goog.Disposable);\ngoog.Throttle = goog.async.Throttle;\ngoog.async.Throttle.prototype.shouldFire_ = !1;\ngoog.async.Throttle.prototype.pauseCount_ = 0;\ngoog.async.Throttle.prototype.timer_ = null;\ngoog.async.Throttle.prototype.fire = function(var_args) {\n    this.args_ = arguments;\n    this.timer_ || this.pauseCount_ ? this.shouldFire_ = !0 : this.doAction_();\n};\ngoog.async.Throttle.prototype.stop = function() {\n    this.timer_ && (goog.Timer.clear(this.timer_), this.timer_ = null, this.shouldFire_ = !1, this.args_ = []);\n};\ngoog.async.Throttle.prototype.pause = function() {\n    this.pauseCount_++;\n};\ngoog.async.Throttle.prototype.resume = function() {\n    this.pauseCount_--;\n    this.pauseCount_ || !this.shouldFire_ || this.timer_ || (this.shouldFire_ = !1, this.doAction_());\n};\ngoog.async.Throttle.prototype.disposeInternal = function() {\n    goog.async.Throttle.superClass_.disposeInternal.call(this);\n    this.stop();\n};\ngoog.async.Throttle.prototype.onTimer_ = function() {\n    this.timer_ = null;\n    this.shouldFire_ && !this.pauseCount_ && (this.shouldFire_ = !1, this.doAction_());\n};\ngoog.async.Throttle.prototype.doAction_ = function() {\n    this.timer_ = goog.Timer.callOnce(this.callback_, this.interval_);\n    this.listener_.apply(null, this.args_);\n};\ngoog.net.jsloader = {};\ngoog.net.jsloader.GLOBAL_VERIFY_OBJS_ = "closure_verification";\ngoog.net.jsloader.DEFAULT_TIMEOUT = 5E3;\ngoog.net.jsloader.scriptsToLoad_ = [];\ngoog.net.jsloader.loadMany = function(uris, opt_options) {\n    var trustedUris = goog.array.map(uris, goog.html.legacyconversions.trustedResourceUrlFromString);\n    return goog.net.jsloader.safeLoadMany(trustedUris, opt_options);\n};\ngoog.net.jsloader.safeLoadMany = function(trustedUris, opt_options) {\n    if (!trustedUris.length) {\n        return goog.async.Deferred.succeed(null);\n    }\n    var isAnotherModuleLoading = goog.net.jsloader.scriptsToLoad_.length;\n    goog.array.extend(goog.net.jsloader.scriptsToLoad_, trustedUris);\n    if (isAnotherModuleLoading) {\n        return goog.net.jsloader.scriptLoadingDeferred_;\n    }\n    trustedUris = goog.net.jsloader.scriptsToLoad_;\n    var popAndLoadNextScript = function() {\n        var trustedUri = trustedUris.shift(), deferred = goog.net.jsloader.safeLoad(trustedUri, opt_options);\n        trustedUris.length && deferred.addBoth(popAndLoadNextScript);\n        return deferred;\n    };\n    goog.net.jsloader.scriptLoadingDeferred_ = popAndLoadNextScript();\n    return goog.net.jsloader.scriptLoadingDeferred_;\n};\ngoog.net.jsloader.load = function(uri, opt_options) {\n    var trustedUri = goog.html.legacyconversions.trustedResourceUrlFromString(uri);\n    return goog.net.jsloader.safeLoad(trustedUri, opt_options);\n};\ngoog.net.jsloader.safeLoad = function(trustedUri, opt_options) {\n    var options = opt_options || {}, doc = options.document || document, uri = goog.html.TrustedResourceUrl.unwrap(trustedUri), script = goog.dom.createElement("SCRIPT"), request = {script_:script, timeout_:void 0}, deferred = new goog.async.Deferred(goog.net.jsloader.cancel_, request), timeout = null, timeoutDuration = goog.isDefAndNotNull(options.timeout) ? options.timeout : goog.net.jsloader.DEFAULT_TIMEOUT;\n    0 < timeoutDuration && (timeout = window.setTimeout(function() {\n        goog.net.jsloader.cleanup_(script, !0);\n        deferred.errback(new goog.net.jsloader.Error(goog.net.jsloader.ErrorCode.TIMEOUT, "Timeout reached for loading script " + uri));\n    }, timeoutDuration), request.timeout_ = timeout);\n    script.onload = script.onreadystatechange = function() {\n        script.readyState && "loaded" != script.readyState && "complete" != script.readyState || (goog.net.jsloader.cleanup_(script, options.cleanupWhenDone || !1, timeout), deferred.callback(null));\n    };\n    script.onerror = function() {\n        goog.net.jsloader.cleanup_(script, !0, timeout);\n        deferred.errback(new goog.net.jsloader.Error(goog.net.jsloader.ErrorCode.LOAD_ERROR, "Error while loading script " + uri));\n    };\n    var properties = options.attributes || {};\n    goog.object.extend(properties, {type:"text/javascript", charset:"UTF-8", src:uri});\n    goog.dom.setProperties(script, properties);\n    goog.net.jsloader.getScriptParentElement_(doc).appendChild(script);\n    return deferred;\n};\ngoog.net.jsloader.loadAndVerify = function(uri, verificationObjName, options) {\n    var trustedUri = goog.html.legacyconversions.trustedResourceUrlFromString(uri);\n    return goog.net.jsloader.safeLoadAndVerify(trustedUri, verificationObjName, options);\n};\ngoog.net.jsloader.safeLoadAndVerify = function(trustedUri, verificationObjName, options) {\n    goog.global[goog.net.jsloader.GLOBAL_VERIFY_OBJS_] || (goog.global[goog.net.jsloader.GLOBAL_VERIFY_OBJS_] = {});\n    var verifyObjs = goog.global[goog.net.jsloader.GLOBAL_VERIFY_OBJS_], uri = goog.html.TrustedResourceUrl.unwrap(trustedUri);\n    if (goog.isDef(verifyObjs[verificationObjName])) {\n        return goog.async.Deferred.fail(new goog.net.jsloader.Error(goog.net.jsloader.ErrorCode.VERIFY_OBJECT_ALREADY_EXISTS, "Verification object " + verificationObjName + " already defined."));\n    }\n    var sendDeferred = goog.net.jsloader.safeLoad(trustedUri, options), deferred = new goog.async.Deferred(goog.bind(sendDeferred.cancel, sendDeferred));\n    sendDeferred.addCallback(function() {\n        var result = verifyObjs[verificationObjName];\n        goog.isDef(result) ? (deferred.callback(result), delete verifyObjs[verificationObjName]) : deferred.errback(new goog.net.jsloader.Error(goog.net.jsloader.ErrorCode.VERIFY_ERROR, "Script " + uri + " loaded, but verification object " + verificationObjName + " was not defined."));\n    });\n    sendDeferred.addErrback(function(error) {\n        goog.isDef(verifyObjs[verificationObjName]) && delete verifyObjs[verificationObjName];\n        deferred.errback(error);\n    });\n    return deferred;\n};\ngoog.net.jsloader.getScriptParentElement_ = function(doc) {\n    var headElements = goog.dom.getElementsByTagName("HEAD", doc);\n    return !headElements || goog.array.isEmpty(headElements) ? doc.documentElement : headElements[0];\n};\ngoog.net.jsloader.cancel_ = function() {\n    if (this && this.script_) {\n        var scriptNode = this.script_;\n        scriptNode && "SCRIPT" == scriptNode.tagName && goog.net.jsloader.cleanup_(scriptNode, !0, this.timeout_);\n    }\n};\ngoog.net.jsloader.cleanup_ = function(scriptNode, removeScriptNode, opt_timeout) {\n    goog.isDefAndNotNull(opt_timeout) && goog.global.clearTimeout(opt_timeout);\n    scriptNode.onload = goog.nullFunction;\n    scriptNode.onerror = goog.nullFunction;\n    scriptNode.onreadystatechange = goog.nullFunction;\n    removeScriptNode && window.setTimeout(function() {\n        goog.dom.removeNode(scriptNode);\n    }, 0);\n};\ngoog.net.jsloader.ErrorCode = {LOAD_ERROR:0, TIMEOUT:1, VERIFY_ERROR:2, VERIFY_OBJECT_ALREADY_EXISTS:3};\ngoog.net.jsloader.Error = function(code, opt_message) {\n    var msg = "Jsloader error (code #" + code + ")";\n    opt_message && (msg += ": " + opt_message);\n    goog.debug.Error.call(this, msg);\n    this.code = code;\n};\ngoog.inherits(goog.net.jsloader.Error, goog.debug.Error);\ngoog.Uri = function(opt_uri, opt_ignoreCase) {\n    this.domain_ = this.userInfo_ = this.scheme_ = "";\n    this.port_ = null;\n    this.fragment_ = this.path_ = "";\n    this.ignoreCase_ = this.isReadOnly_ = !1;\n    var m;\n    opt_uri instanceof goog.Uri ? (this.ignoreCase_ = goog.isDef(opt_ignoreCase) ? opt_ignoreCase : opt_uri.getIgnoreCase(), this.setScheme(opt_uri.getScheme()), this.setUserInfo(opt_uri.getUserInfo()), this.setDomain(opt_uri.getDomain()), this.setPort(opt_uri.getPort()), this.setPath(opt_uri.getPath()), this.setQueryData(opt_uri.getQueryData().clone()), this.setFragment(opt_uri.getFragment())) : opt_uri && (m = goog.uri.utils.split(String(opt_uri))) ? (this.ignoreCase_ = !!opt_ignoreCase, this.setScheme(m[goog.uri.utils.ComponentIndex.SCHEME] ||\n        "", !0), this.setUserInfo(m[goog.uri.utils.ComponentIndex.USER_INFO] || "", !0), this.setDomain(m[goog.uri.utils.ComponentIndex.DOMAIN] || "", !0), this.setPort(m[goog.uri.utils.ComponentIndex.PORT]), this.setPath(m[goog.uri.utils.ComponentIndex.PATH] || "", !0), this.setQueryData(m[goog.uri.utils.ComponentIndex.QUERY_DATA] || "", !0), this.setFragment(m[goog.uri.utils.ComponentIndex.FRAGMENT] || "", !0)) : (this.ignoreCase_ = !!opt_ignoreCase, this.queryData_ = new goog.Uri.QueryData(null, null,\n        this.ignoreCase_));\n};\ngoog.Uri.preserveParameterTypesCompatibilityFlag = !1;\ngoog.Uri.RANDOM_PARAM = goog.uri.utils.StandardQueryParam.RANDOM;\ngoog.Uri.prototype.toString = function() {\n    var out = [], scheme = this.getScheme();\n    scheme && out.push(goog.Uri.encodeSpecialChars_(scheme, goog.Uri.reDisallowedInSchemeOrUserInfo_, !0), ":");\n    var domain = this.getDomain();\n    if (domain || "file" == scheme) {\n        out.push("//");\n        var userInfo = this.getUserInfo();\n        userInfo && out.push(goog.Uri.encodeSpecialChars_(userInfo, goog.Uri.reDisallowedInSchemeOrUserInfo_, !0), "@");\n        out.push(goog.Uri.removeDoubleEncoding_(goog.string.urlEncode(domain)));\n        var port = this.getPort();\n        null != port && out.push(":", String(port));\n    }\n    var path = this.getPath();\n    path && (this.hasDomain() && "/" != path.charAt(0) && out.push("/"), out.push(goog.Uri.encodeSpecialChars_(path, "/" == path.charAt(0) ? goog.Uri.reDisallowedInAbsolutePath_ : goog.Uri.reDisallowedInRelativePath_, !0)));\n    var query = this.getEncodedQuery();\n    query && out.push("?", query);\n    var fragment = this.getFragment();\n    fragment && out.push("#", goog.Uri.encodeSpecialChars_(fragment, goog.Uri.reDisallowedInFragment_));\n    return out.join("");\n};\ngoog.Uri.prototype.resolve = function(relativeUri) {\n    var absoluteUri = this.clone(), overridden = relativeUri.hasScheme();\n    overridden ? absoluteUri.setScheme(relativeUri.getScheme()) : overridden = relativeUri.hasUserInfo();\n    overridden ? absoluteUri.setUserInfo(relativeUri.getUserInfo()) : overridden = relativeUri.hasDomain();\n    overridden ? absoluteUri.setDomain(relativeUri.getDomain()) : overridden = relativeUri.hasPort();\n    var path = relativeUri.getPath();\n    if (overridden) {\n        absoluteUri.setPort(relativeUri.getPort());\n    } else {\n        if (overridden = relativeUri.hasPath()) {\n            if ("/" != path.charAt(0)) {\n                if (this.hasDomain() && !this.hasPath()) {\n                    path = "/" + path;\n                } else {\n                    var lastSlashIndex = absoluteUri.getPath().lastIndexOf("/");\n                    -1 != lastSlashIndex && (path = absoluteUri.getPath().substr(0, lastSlashIndex + 1) + path);\n                }\n            }\n            path = goog.Uri.removeDotSegments(path);\n        }\n    }\n    overridden ? absoluteUri.setPath(path) : overridden = relativeUri.hasQuery();\n    overridden ? absoluteUri.setQueryData(relativeUri.getQueryData().clone()) : overridden = relativeUri.hasFragment();\n    overridden && absoluteUri.setFragment(relativeUri.getFragment());\n    return absoluteUri;\n};\ngoog.Uri.prototype.clone = function() {\n    return new goog.Uri(this);\n};\ngoog.Uri.prototype.getScheme = function() {\n    return this.scheme_;\n};\ngoog.Uri.prototype.setScheme = function(newScheme, opt_decode) {\n    this.enforceReadOnly();\n    if (this.scheme_ = opt_decode ? goog.Uri.decodeOrEmpty_(newScheme, !0) : newScheme) {\n        this.scheme_ = this.scheme_.replace(/:$/, "");\n    }\n    return this;\n};\ngoog.Uri.prototype.hasScheme = function() {\n    return !!this.scheme_;\n};\ngoog.Uri.prototype.getUserInfo = function() {\n    return this.userInfo_;\n};\ngoog.Uri.prototype.setUserInfo = function(newUserInfo, opt_decode) {\n    this.enforceReadOnly();\n    this.userInfo_ = opt_decode ? goog.Uri.decodeOrEmpty_(newUserInfo) : newUserInfo;\n    return this;\n};\ngoog.Uri.prototype.hasUserInfo = function() {\n    return !!this.userInfo_;\n};\ngoog.Uri.prototype.getDomain = function() {\n    return this.domain_;\n};\ngoog.Uri.prototype.setDomain = function(newDomain, opt_decode) {\n    this.enforceReadOnly();\n    this.domain_ = opt_decode ? goog.Uri.decodeOrEmpty_(newDomain, !0) : newDomain;\n    return this;\n};\ngoog.Uri.prototype.hasDomain = function() {\n    return !!this.domain_;\n};\ngoog.Uri.prototype.getPort = function() {\n    return this.port_;\n};\ngoog.Uri.prototype.setPort = function(newPort) {\n    this.enforceReadOnly();\n    if (newPort) {\n        newPort = Number(newPort);\n        if (isNaN(newPort) || 0 > newPort) {\n            throw Error("Bad port number " + newPort);\n        }\n        this.port_ = newPort;\n    } else {\n        this.port_ = null;\n    }\n    return this;\n};\ngoog.Uri.prototype.hasPort = function() {\n    return null != this.port_;\n};\ngoog.Uri.prototype.getPath = function() {\n    return this.path_;\n};\ngoog.Uri.prototype.setPath = function(newPath, opt_decode) {\n    this.enforceReadOnly();\n    this.path_ = opt_decode ? goog.Uri.decodeOrEmpty_(newPath, !0) : newPath;\n    return this;\n};\ngoog.Uri.prototype.hasPath = function() {\n    return !!this.path_;\n};\ngoog.Uri.prototype.hasQuery = function() {\n    return "" !== this.queryData_.toString();\n};\ngoog.Uri.prototype.setQueryData = function(queryData, opt_decode) {\n    this.enforceReadOnly();\n    queryData instanceof goog.Uri.QueryData ? (this.queryData_ = queryData, this.queryData_.setIgnoreCase(this.ignoreCase_)) : (opt_decode || (queryData = goog.Uri.encodeSpecialChars_(queryData, goog.Uri.reDisallowedInQuery_)), this.queryData_ = new goog.Uri.QueryData(queryData, null, this.ignoreCase_));\n    return this;\n};\ngoog.Uri.prototype.setQuery = function(newQuery, opt_decode) {\n    return this.setQueryData(newQuery, opt_decode);\n};\ngoog.Uri.prototype.getEncodedQuery = function() {\n    return this.queryData_.toString();\n};\ngoog.Uri.prototype.getDecodedQuery = function() {\n    return this.queryData_.toDecodedString();\n};\ngoog.Uri.prototype.getQueryData = function() {\n    return this.queryData_;\n};\ngoog.Uri.prototype.getQuery = function() {\n    return this.getEncodedQuery();\n};\ngoog.Uri.prototype.setParameterValue = function(key, value) {\n    this.enforceReadOnly();\n    this.queryData_.set(key, value);\n    return this;\n};\ngoog.Uri.prototype.setParameterValues = function(key, values) {\n    this.enforceReadOnly();\n    goog.isArray(values) || (values = [String(values)]);\n    this.queryData_.setValues(key, values);\n    return this;\n};\ngoog.Uri.prototype.getParameterValues = function(name) {\n    return this.queryData_.getValues(name);\n};\ngoog.Uri.prototype.getParameterValue = function(paramName) {\n    return this.queryData_.get(paramName);\n};\ngoog.Uri.prototype.getFragment = function() {\n    return this.fragment_;\n};\ngoog.Uri.prototype.setFragment = function(newFragment, opt_decode) {\n    this.enforceReadOnly();\n    this.fragment_ = opt_decode ? goog.Uri.decodeOrEmpty_(newFragment) : newFragment;\n    return this;\n};\ngoog.Uri.prototype.hasFragment = function() {\n    return !!this.fragment_;\n};\ngoog.Uri.prototype.hasSameDomainAs = function(uri2) {\n    return (!this.hasDomain() && !uri2.hasDomain() || this.getDomain() == uri2.getDomain()) && (!this.hasPort() && !uri2.hasPort() || this.getPort() == uri2.getPort());\n};\ngoog.Uri.prototype.makeUnique = function() {\n    this.enforceReadOnly();\n    this.setParameterValue(goog.Uri.RANDOM_PARAM, goog.string.getRandomString());\n    return this;\n};\ngoog.Uri.prototype.removeParameter = function(key) {\n    this.enforceReadOnly();\n    this.queryData_.remove(key);\n    return this;\n};\ngoog.Uri.prototype.setReadOnly = function(isReadOnly) {\n    this.isReadOnly_ = isReadOnly;\n    return this;\n};\ngoog.Uri.prototype.isReadOnly = function() {\n    return this.isReadOnly_;\n};\ngoog.Uri.prototype.enforceReadOnly = function() {\n    if (this.isReadOnly_) {\n        throw Error("Tried to modify a read-only Uri");\n    }\n};\ngoog.Uri.prototype.setIgnoreCase = function(ignoreCase) {\n    this.ignoreCase_ = ignoreCase;\n    this.queryData_ && this.queryData_.setIgnoreCase(ignoreCase);\n    return this;\n};\ngoog.Uri.prototype.getIgnoreCase = function() {\n    return this.ignoreCase_;\n};\ngoog.Uri.parse = function(uri, opt_ignoreCase) {\n    return uri instanceof goog.Uri ? uri.clone() : new goog.Uri(uri, opt_ignoreCase);\n};\ngoog.Uri.create = function(opt_scheme, opt_userInfo, opt_domain, opt_port, opt_path, opt_query, opt_fragment, opt_ignoreCase) {\n    var uri = new goog.Uri(null, opt_ignoreCase);\n    opt_scheme && uri.setScheme(opt_scheme);\n    opt_userInfo && uri.setUserInfo(opt_userInfo);\n    opt_domain && uri.setDomain(opt_domain);\n    opt_port && uri.setPort(opt_port);\n    opt_path && uri.setPath(opt_path);\n    opt_query && uri.setQueryData(opt_query);\n    opt_fragment && uri.setFragment(opt_fragment);\n    return uri;\n};\ngoog.Uri.resolve = function(base, rel) {\n    base instanceof goog.Uri || (base = goog.Uri.parse(base));\n    rel instanceof goog.Uri || (rel = goog.Uri.parse(rel));\n    return base.resolve(rel);\n};\ngoog.Uri.removeDotSegments = function(path) {\n    if (".." == path || "." == path) {\n        return "";\n    }\n    if (goog.string.contains(path, "./") || goog.string.contains(path, "/.")) {\n        for (var leadingSlash = goog.string.startsWith(path, "/"), segments = path.split("/"), out = [], pos = 0;pos < segments.length;) {\n            var segment = segments[pos++];\n            "." == segment ? leadingSlash && pos == segments.length && out.push("") : ".." == segment ? ((1 < out.length || 1 == out.length && "" != out[0]) && out.pop(), leadingSlash && pos == segments.length && out.push("")) : (out.push(segment), leadingSlash = !0);\n        }\n        return out.join("/");\n    }\n    return path;\n};\ngoog.Uri.decodeOrEmpty_ = function(val, opt_preserveReserved) {\n    return val ? opt_preserveReserved ? decodeURI(val.replace(/%25/g, "%2525")) : decodeURIComponent(val) : "";\n};\ngoog.Uri.encodeSpecialChars_ = function(unescapedPart, extra, opt_removeDoubleEncoding) {\n    if (goog.isString(unescapedPart)) {\n        var encoded = encodeURI(unescapedPart).replace(extra, goog.Uri.encodeChar_);\n        opt_removeDoubleEncoding && (encoded = goog.Uri.removeDoubleEncoding_(encoded));\n        return encoded;\n    }\n    return null;\n};\ngoog.Uri.encodeChar_ = function(ch) {\n    var n = ch.charCodeAt(0);\n    return "%" + (n >> 4 & 15).toString(16) + (n & 15).toString(16);\n};\ngoog.Uri.removeDoubleEncoding_ = function(doubleEncodedString) {\n    return doubleEncodedString.replace(/%25([0-9a-fA-F]{2})/g, "%$1");\n};\ngoog.Uri.reDisallowedInSchemeOrUserInfo_ = /[#\\/\\?@]/g;\ngoog.Uri.reDisallowedInRelativePath_ = /[\\#\\?:]/g;\ngoog.Uri.reDisallowedInAbsolutePath_ = /[\\#\\?]/g;\ngoog.Uri.reDisallowedInQuery_ = /[\\#\\?@]/g;\ngoog.Uri.reDisallowedInFragment_ = /#/g;\ngoog.Uri.haveSameDomain = function(uri1String, uri2String) {\n    var pieces1 = goog.uri.utils.split(uri1String), pieces2 = goog.uri.utils.split(uri2String);\n    return pieces1[goog.uri.utils.ComponentIndex.DOMAIN] == pieces2[goog.uri.utils.ComponentIndex.DOMAIN] && pieces1[goog.uri.utils.ComponentIndex.PORT] == pieces2[goog.uri.utils.ComponentIndex.PORT];\n};\ngoog.Uri.QueryData = function(opt_query, opt_uri, opt_ignoreCase) {\n    this.count_ = this.keyMap_ = null;\n    this.encodedQuery_ = opt_query || null;\n    this.ignoreCase_ = !!opt_ignoreCase;\n};\ngoog.Uri.QueryData.prototype.ensureKeyMapInitialized_ = function() {\n    if (!this.keyMap_ && (this.keyMap_ = new goog.structs.Map, this.count_ = 0, this.encodedQuery_)) {\n        var self = this;\n        goog.uri.utils.parseQueryData(this.encodedQuery_, function(name, value) {\n            self.add(goog.string.urlDecode(name), value);\n        });\n    }\n};\ngoog.Uri.QueryData.createFromMap = function(map, opt_uri, opt_ignoreCase) {\n    var keys = goog.structs.getKeys(map);\n    if ("undefined" == typeof keys) {\n        throw Error("Keys are undefined");\n    }\n    for (var queryData = new goog.Uri.QueryData(null, null, opt_ignoreCase), values = goog.structs.getValues(map), i = 0;i < keys.length;i++) {\n        var key = keys[i], value = values[i];\n        goog.isArray(value) ? queryData.setValues(key, value) : queryData.add(key, value);\n    }\n    return queryData;\n};\ngoog.Uri.QueryData.createFromKeysValues = function(keys, values, opt_uri, opt_ignoreCase) {\n    if (keys.length != values.length) {\n        throw Error("Mismatched lengths for keys/values");\n    }\n    for (var queryData = new goog.Uri.QueryData(null, null, opt_ignoreCase), i = 0;i < keys.length;i++) {\n        queryData.add(keys[i], values[i]);\n    }\n    return queryData;\n};\ngoog.Uri.QueryData.prototype.getCount = function() {\n    this.ensureKeyMapInitialized_();\n    return this.count_;\n};\ngoog.Uri.QueryData.prototype.add = function(key, value) {\n    this.ensureKeyMapInitialized_();\n    this.invalidateCache_();\n    key = this.getKeyName_(key);\n    var values = this.keyMap_.get(key);\n    values || this.keyMap_.set(key, values = []);\n    values.push(value);\n    this.count_ = goog.asserts.assertNumber(this.count_) + 1;\n    return this;\n};\ngoog.Uri.QueryData.prototype.remove = function(key) {\n    this.ensureKeyMapInitialized_();\n    key = this.getKeyName_(key);\n    return this.keyMap_.containsKey(key) ? (this.invalidateCache_(), this.count_ = goog.asserts.assertNumber(this.count_) - this.keyMap_.get(key).length, this.keyMap_.remove(key)) : !1;\n};\ngoog.Uri.QueryData.prototype.clear = function() {\n    this.invalidateCache_();\n    this.keyMap_ = null;\n    this.count_ = 0;\n};\ngoog.Uri.QueryData.prototype.isEmpty = function() {\n    this.ensureKeyMapInitialized_();\n    return 0 == this.count_;\n};\ngoog.Uri.QueryData.prototype.containsKey = function(key) {\n    this.ensureKeyMapInitialized_();\n    key = this.getKeyName_(key);\n    return this.keyMap_.containsKey(key);\n};\ngoog.Uri.QueryData.prototype.containsValue = function(value) {\n    var vals = this.getValues();\n    return goog.array.contains(vals, value);\n};\ngoog.Uri.QueryData.prototype.getKeys = function() {\n    this.ensureKeyMapInitialized_();\n    for (var vals = this.keyMap_.getValues(), keys = this.keyMap_.getKeys(), rv = [], i = 0;i < keys.length;i++) {\n        for (var val = vals[i], j = 0;j < val.length;j++) {\n            rv.push(keys[i]);\n        }\n    }\n    return rv;\n};\ngoog.Uri.QueryData.prototype.getValues = function(opt_key) {\n    this.ensureKeyMapInitialized_();\n    var rv = [];\n    if (goog.isString(opt_key)) {\n        this.containsKey(opt_key) && (rv = goog.array.concat(rv, this.keyMap_.get(this.getKeyName_(opt_key))));\n    } else {\n        for (var values = this.keyMap_.getValues(), i = 0;i < values.length;i++) {\n            rv = goog.array.concat(rv, values[i]);\n        }\n    }\n    return rv;\n};\ngoog.Uri.QueryData.prototype.set = function(key, value) {\n    this.ensureKeyMapInitialized_();\n    this.invalidateCache_();\n    key = this.getKeyName_(key);\n    this.containsKey(key) && (this.count_ = goog.asserts.assertNumber(this.count_) - this.keyMap_.get(key).length);\n    this.keyMap_.set(key, [value]);\n    this.count_ = goog.asserts.assertNumber(this.count_) + 1;\n    return this;\n};\ngoog.Uri.QueryData.prototype.get = function(key, opt_default) {\n    var values = key ? this.getValues(key) : [];\n    return goog.Uri.preserveParameterTypesCompatibilityFlag ? 0 < values.length ? values[0] : opt_default : 0 < values.length ? String(values[0]) : opt_default;\n};\ngoog.Uri.QueryData.prototype.setValues = function(key, values) {\n    this.remove(key);\n    0 < values.length && (this.invalidateCache_(), this.keyMap_.set(this.getKeyName_(key), goog.array.clone(values)), this.count_ = goog.asserts.assertNumber(this.count_) + values.length);\n};\ngoog.Uri.QueryData.prototype.toString = function() {\n    if (this.encodedQuery_) {\n        return this.encodedQuery_;\n    }\n    if (!this.keyMap_) {\n        return "";\n    }\n    for (var sb = [], keys = this.keyMap_.getKeys(), i = 0;i < keys.length;i++) {\n        for (var key = keys[i], encodedKey = goog.string.urlEncode(key), val = this.getValues(key), j = 0;j < val.length;j++) {\n            var param = encodedKey;\n            "" !== val[j] && (param += "=" + goog.string.urlEncode(val[j]));\n            sb.push(param);\n        }\n    }\n    return this.encodedQuery_ = sb.join("&");\n};\ngoog.Uri.QueryData.prototype.toDecodedString = function() {\n    return goog.Uri.decodeOrEmpty_(this.toString());\n};\ngoog.Uri.QueryData.prototype.invalidateCache_ = function() {\n    this.encodedQuery_ = null;\n};\ngoog.Uri.QueryData.prototype.filterKeys = function(keys) {\n    this.ensureKeyMapInitialized_();\n    this.keyMap_.forEach(function(value, key) {\n        goog.array.contains(keys, key) || this.remove(key);\n    }, this);\n    return this;\n};\ngoog.Uri.QueryData.prototype.clone = function() {\n    var rv = new goog.Uri.QueryData;\n    rv.encodedQuery_ = this.encodedQuery_;\n    this.keyMap_ && (rv.keyMap_ = this.keyMap_.clone(), rv.count_ = this.count_);\n    return rv;\n};\ngoog.Uri.QueryData.prototype.getKeyName_ = function(arg) {\n    var keyName = String(arg);\n    this.ignoreCase_ && (keyName = keyName.toLowerCase());\n    return keyName;\n};\ngoog.Uri.QueryData.prototype.setIgnoreCase = function(ignoreCase) {\n    ignoreCase && !this.ignoreCase_ && (this.ensureKeyMapInitialized_(), this.invalidateCache_(), this.keyMap_.forEach(function(value, key) {\n        var lowerCase = key.toLowerCase();\n        key != lowerCase && (this.remove(key), this.setValues(lowerCase, value));\n    }, this));\n    this.ignoreCase_ = ignoreCase;\n};\ngoog.Uri.QueryData.prototype.extend = function(var_args) {\n    for (var i = 0;i < arguments.length;i++) {\n        goog.structs.forEach(arguments[i], function(value, key) {\n            this.add(key, value);\n        }, this);\n    }\n};\nee.data = {};\nee.data.authenticate = function(clientId, success, opt_error, opt_extraScopes, opt_onImmediateFailed) {\n    var scopes = [ee.data.AUTH_SCOPE_];\n    opt_extraScopes && (goog.array.extend(scopes, opt_extraScopes), goog.array.removeDuplicates(scopes));\n    ee.data.authClientId_ = clientId;\n    ee.data.authScopes_ = scopes;\n    goog.isNull(clientId) ? ee.data.authToken_ = null : ee.data.ensureAuthLibLoaded_(function() {\n        var onImmediateFailed = opt_onImmediateFailed || goog.partial(ee.data.authenticateViaPopup, success, opt_error);\n        ee.data.refreshAuthToken(success, opt_error, onImmediateFailed);\n    });\n};\nee.data.authenticateViaPopup = function(opt_success, opt_error) {\n    goog.global.gapi.auth.authorize({client_id:ee.data.authClientId_, immediate:!1, scope:ee.data.authScopes_.join(" ")}, goog.partial(ee.data.handleAuthResult_, opt_success, opt_error));\n};\nee.data.setAuthToken = function(clientId, tokenType, accessToken, expiresIn, opt_extraScopes, opt_callback, opt_updateAuthLibrary) {\n    var scopes = [ee.data.AUTH_SCOPE_];\n    opt_extraScopes && (goog.array.extend(scopes, opt_extraScopes), goog.array.removeDuplicates(scopes));\n    ee.data.authClientId_ = clientId;\n    ee.data.authScopes_ = scopes;\n    var tokenObject = {token_type:tokenType, access_token:accessToken, state:scopes.join(" "), expires_in:expiresIn};\n    ee.data.handleAuthResult_(void 0, void 0, tokenObject);\n    !1 === opt_updateAuthLibrary ? opt_callback && opt_callback() : ee.data.ensureAuthLibLoaded_(function() {\n        goog.global.gapi.auth.setToken(tokenObject);\n        opt_callback && opt_callback();\n    });\n};\nee.data.refreshAuthToken = function(opt_success, opt_error, opt_onImmediateFailed) {\n    if (ee.data.isAuthTokenRefreshingEnabled_()) {\n        var authArgs = {client_id:String(ee.data.authClientId_), immediate:!0, scope:ee.data.authScopes_.join(" ")};\n        ee.data.authTokenRefresher_(authArgs, function(result) {\n            "immediate_failed" == result.error && opt_onImmediateFailed ? opt_onImmediateFailed() : ee.data.handleAuthResult_(opt_success, opt_error, result);\n        });\n    }\n};\nee.data.setAuthTokenRefresher = function(refresher) {\n    ee.data.authTokenRefresher_ = refresher;\n};\nee.data.getAuthToken = function() {\n    ee.data.authTokenExpiration_ && 0 <= goog.now() - ee.data.authTokenExpiration_ && ee.data.clearAuthToken();\n    return ee.data.authToken_;\n};\nee.data.clearAuthToken = function() {\n    ee.data.authToken_ = null;\n    ee.data.authTokenExpiration_ = null;\n};\nee.data.getAuthClientId = function() {\n    return ee.data.authClientId_;\n};\nee.data.getAuthScopes = function() {\n    return ee.data.authScopes_;\n};\nee.data.initialize = function(opt_apiBaseUrl, opt_tileBaseUrl, opt_xsrfToken) {\n    goog.isDefAndNotNull(opt_apiBaseUrl) ? ee.data.apiBaseUrl_ = opt_apiBaseUrl : ee.data.initialized_ || (ee.data.apiBaseUrl_ = ee.data.DEFAULT_API_BASE_URL_);\n    goog.isDefAndNotNull(opt_tileBaseUrl) ? ee.data.tileBaseUrl_ = opt_tileBaseUrl : ee.data.initialized_ || (ee.data.tileBaseUrl_ = ee.data.DEFAULT_TILE_BASE_URL_);\n    goog.isDef(opt_xsrfToken) && (ee.data.xsrfToken_ = opt_xsrfToken);\n    ee.data.initialized_ = !0;\n};\nee.data.reset = function() {\n    ee.data.apiBaseUrl_ = null;\n    ee.data.tileBaseUrl_ = null;\n    ee.data.xsrfToken_ = null;\n    ee.data.initialized_ = !1;\n};\nee.data.setDeadline = function(milliseconds) {\n    ee.data.deadlineMs_ = milliseconds;\n};\nee.data.setParamAugmenter = function(augmenter) {\n    ee.data.paramAugmenter_ = augmenter || goog.functions.identity;\n};\ngoog.exportSymbol("ee.data.setParamAugmenter", ee.data.setParamAugmenter);\nee.data.getApiBaseUrl = function() {\n    return ee.data.apiBaseUrl_;\n};\nee.data.getTileBaseUrl = function() {\n    return ee.data.tileBaseUrl_;\n};\nee.data.getXsrfToken = function() {\n    return ee.data.xsrfToken_;\n};\nee.data.getAlgorithms = function(opt_callback) {\n    return ee.data.send_("/algorithms", null, opt_callback, "GET");\n};\nee.data.getMapId = function(params, opt_callback) {\n    params = goog.object.clone(params);\n    return ee.data.send_("/mapid", ee.data.makeRequest_(params), opt_callback);\n};\nee.data.getTileUrl = function(mapid, x, y, z) {\n    var width = Math.pow(2, z);\n    x %= width;\n    0 > x && (x += width);\n    return [ee.data.tileBaseUrl_, "map", mapid.mapid, z, x, y].join("/") + "?token=" + mapid.token;\n};\nee.data.getValue = function(params, opt_callback) {\n    params = goog.object.clone(params);\n    return ee.data.send_("/value", ee.data.makeRequest_(params), opt_callback);\n};\nee.data.getThumbId = function(params, opt_callback) {\n    params = goog.object.clone(params);\n    goog.isArray(params.dimensions) && (params.dimensions = params.dimensions.join("x"));\n    var request = ee.data.makeRequest_(params).add("getid", "1");\n    return ee.data.send_("/thumb", request, opt_callback);\n};\nee.data.makeThumbUrl = function(id) {\n    return ee.data.tileBaseUrl_ + "/api/thumb?thumbid=" + id.thumbid + "&token=" + id.token;\n};\nee.data.getDownloadId = function(params, opt_callback) {\n    params = goog.object.clone(params);\n    return ee.data.send_("/download", ee.data.makeRequest_(params), opt_callback);\n};\nee.data.makeDownloadUrl = function(id) {\n    return ee.data.tileBaseUrl_ + "/api/download?docid=" + id.docid + "&token=" + id.token;\n};\nee.data.getTableDownloadId = function(params, opt_callback) {\n    params = goog.object.clone(params);\n    return ee.data.send_("/table", ee.data.makeRequest_(params), opt_callback);\n};\nee.data.makeTableDownloadUrl = function(id) {\n    return ee.data.tileBaseUrl_ + "/api/table?docid=" + id.docid + "&token=" + id.token;\n};\nee.data.withProfiling = function(hook, body, opt_this) {\n    var saved = ee.data.profileHook_;\n    try {\n        return ee.data.profileHook_ = hook, body.call(opt_this);\n    } finally {\n        ee.data.profileHook_ = saved;\n    }\n};\ngoog.exportSymbol("ee.data.withProfiling", ee.data.withProfiling);\nee.data.newTaskId = function(opt_count, opt_callback) {\n    var params = {};\n    goog.isNumber(opt_count) && (params.count = opt_count);\n    return ee.data.send_("/newtaskid", ee.data.makeRequest_(params), opt_callback);\n};\ngoog.exportSymbol("ee.data.newTaskId", ee.data.newTaskId);\nee.data.getTaskStatus = function(taskId, opt_callback) {\n    if (goog.isString(taskId)) {\n        taskId = [taskId];\n    } else {\n        if (!goog.isArray(taskId)) {\n            throw Error("Invalid taskId: expected a string or an array of strings.");\n        }\n    }\n    var url = "/taskstatus?q=" + taskId.join();\n    return ee.data.send_(url, null, opt_callback, "GET");\n};\ngoog.exportSymbol("ee.data.getTaskStatus", ee.data.getTaskStatus);\nee.data.getTaskList = function(opt_callback) {\n    return ee.data.send_("/tasklist", null, opt_callback, "GET");\n};\ngoog.exportSymbol("ee.data.getTaskList", ee.data.getTaskList);\nee.data.cancelTask = function(taskId, opt_callback) {\n    return ee.data.updateTask(taskId, ee.data.TaskUpdateActions.CANCEL, opt_callback);\n};\ngoog.exportSymbol("ee.data.cancelTask", ee.data.cancelTask);\nee.data.updateTask = function(taskId, action, opt_callback) {\n    if (goog.isString(taskId)) {\n        taskId = [taskId];\n    } else {\n        if (!goog.isArray(taskId)) {\n            throw Error("Invalid taskId: expected a string or an array of strings.");\n        }\n    }\n    if (!goog.object.containsValue(ee.data.TaskUpdateActions, action)) {\n        throw Error("Invalid action: " + action);\n    }\n    return ee.data.send_("/updatetask", ee.data.makeRequest_({id:taskId, action:action}), opt_callback, "POST");\n};\ngoog.exportSymbol("ee.data.updateTask", ee.data.updateTask);\nee.data.startProcessing = function(taskId, params, opt_callback) {\n    params = goog.object.clone(params);\n    params.id = taskId;\n    return ee.data.send_("/processingrequest", ee.data.makeRequest_(params), opt_callback);\n};\ngoog.exportSymbol("ee.data.startProcessing", ee.data.startProcessing);\nee.data.startIngestion = function(taskId, request, opt_callback) {\n    var params = {id:taskId, request:goog.json.serialize(request)};\n    return ee.data.send_("/ingestionrequest", ee.data.makeRequest_(params), opt_callback);\n};\ngoog.exportSymbol("ee.data.startIngestion", ee.data.startIngestion);\nee.data.startTableIngestion = function(taskId, request, opt_callback) {\n    var params = {id:taskId, tableRequest:goog.json.serialize(request)};\n    return ee.data.send_("/ingestionrequest", ee.data.makeRequest_(params), opt_callback);\n};\ngoog.exportSymbol("ee.data.startTableIngestion", ee.data.startTableIngestion);\nee.data.getInfo = function(id, opt_callback) {\n    return ee.data.send_("/info", (new goog.Uri.QueryData).add("id", id), opt_callback);\n};\nee.data.getList = function(params, opt_callback) {\n    var request = ee.data.makeRequest_(params);\n    return ee.data.send_("/list", request, opt_callback);\n};\nee.data.getAssetRoots = function(opt_callback) {\n    return ee.data.send_("/buckets", null, opt_callback, "GET");\n};\ngoog.exportSymbol("ee.data.getAssetRoots", ee.data.getAssetRoots);\nee.data.createAssetHome = function(requestedId, opt_callback) {\n    var request = ee.data.makeRequest_({id:requestedId});\n    ee.data.send_("/createbucket", request, opt_callback);\n};\ngoog.exportSymbol("ee.data.createAssetHome", ee.data.createAssetHome);\nee.data.createAsset = function(value, opt_path, opt_force, opt_callback) {\n    goog.isString(value) || (value = goog.json.serialize(value));\n    var args = {value:value};\n    void 0 !== opt_path && (args.id = opt_path);\n    args.force = opt_force || !1;\n    return ee.data.send_("/create", ee.data.makeRequest_(args), opt_callback);\n};\ngoog.exportSymbol("ee.data.createAsset", ee.data.createAsset);\nee.data.createFolder = function(path, opt_force, opt_callback) {\n    return ee.data.send_("/createfolder", ee.data.makeRequest_({id:path, force:opt_force || !1}), opt_callback);\n};\ngoog.exportSymbol("ee.data.createFolder", ee.data.createFolder);\nee.data.search = function(query, opt_callback) {\n    return ee.data.send_("/search", ee.data.makeRequest_({q:query}), opt_callback);\n};\nee.data.renameAsset = function(sourceId, destinationId, opt_callback) {\n    ee.data.send_("/rename", ee.data.makeRequest_({sourceId:sourceId, destinationId:destinationId}), opt_callback);\n};\ngoog.exportSymbol("ee.data.renameAsset", ee.data.renameAsset);\nee.data.copyAsset = function(sourceId, destinationId, opt_callback) {\n    ee.data.send_("/copy", ee.data.makeRequest_({sourceId:sourceId, destinationId:destinationId}), opt_callback);\n};\ngoog.exportSymbol("ee.data.copyAsset", ee.data.copyAsset);\nee.data.deleteAsset = function(assetId, opt_callback) {\n    ee.data.send_("/delete", ee.data.makeRequest_({id:assetId}), opt_callback);\n};\ngoog.exportSymbol("ee.data.deleteAsset", ee.data.deleteAsset);\nee.data.getAssetAcl = function(assetId, opt_callback) {\n    return ee.data.send_("/getacl", ee.data.makeRequest_({id:assetId}), opt_callback, "GET");\n};\ngoog.exportSymbol("ee.data.getAssetAcl", ee.data.getAssetAcl);\nee.data.setAssetAcl = function(assetId, aclUpdate, opt_callback) {\n    var request = {id:assetId, value:goog.json.serialize(aclUpdate)};\n    ee.data.send_("/setacl", ee.data.makeRequest_(request), opt_callback);\n};\ngoog.exportSymbol("ee.data.setAssetAcl", ee.data.setAssetAcl);\nee.data.setAssetProperties = function(assetId, properties, opt_callback) {\n    var request = {id:assetId, properties:goog.json.serialize(properties)};\n    ee.data.send_("/setproperties", ee.data.makeRequest_(request), opt_callback);\n};\ngoog.exportSymbol("ee.data.setAssetProperties", ee.data.setAssetProperties);\nee.data.getAssetRootQuota = function(rootId, opt_callback) {\n    return ee.data.send_("/quota", ee.data.makeRequest_({id:rootId}), opt_callback, "GET");\n};\ngoog.exportSymbol("ee.data.getAssetRootQuota", ee.data.getAssetRootQuota);\nee.data.AssetType = {ALGORITHM:"Algorithm", FOLDER:"Folder", IMAGE:"Image", IMAGE_COLLECTION:"ImageCollection", TABLE:"FeatureCollection", UNKNOWN:"Unknown"};\nee.data.ExportType = {IMAGE:"EXPORT_IMAGE", MAP:"EXPORT_TILES", TABLE:"EXPORT_FEATURES", VIDEO:"EXPORT_VIDEO"};\nee.data.SystemTimeProperty = {START:"system:time_start", END:"system:time_end"};\nee.data.SYSTEM_ASSET_SIZE_PROPERTY = "system:asset_size";\nee.data.AssetDetailsProperty = {TITLE:"system:title", DESCRIPTION:"system:description", TAGS:"system:tags"};\nee.data.ALLOWED_DESCRIPTION_HTML_ELEMENTS = "a code em i li ol p strong sub sup ul".split(" ");\nee.data.MapZoomRange = {MIN:0, MAX:24};\nee.data.TaskUpdateActions = {CANCEL:"CANCEL", UPDATE:"UPDATE"};\nee.data.ReductionPolicy = {MEAN:"MEAN", MODE:"MODE", MIN:"MIN", MAX:"MAX", SAMPLE:"SAMPLE"};\nee.data.send_ = function(path, params, opt_callback$jscomp$0, opt_method) {\n    ee.data.initialize();\n    var profileHookAtCallTime = ee.data.profileHook_, headers = {"Content-Type":"application/x-www-form-urlencoded"}, authToken = ee.data.getAuthToken();\n    if (goog.isDefAndNotNull(authToken)) {\n        headers.Authorization = authToken;\n    } else {\n        if (opt_callback$jscomp$0 && ee.data.isAuthTokenRefreshingEnabled_()) {\n            return ee.data.refreshAuthToken(function() {\n                ee.data.withProfiling(profileHookAtCallTime, function() {\n                    ee.data.send_(path, params, opt_callback$jscomp$0, opt_method);\n                });\n            }), null;\n        }\n    }\n    var method = opt_method || "POST";\n    params = params ? params.clone() : new goog.Uri.QueryData;\n    profileHookAtCallTime && params.add("profiling", "1");\n    params = ee.data.paramAugmenter_(params, path);\n    goog.isDefAndNotNull(ee.data.xsrfToken_) && (headers["X-XSRF-Token"] = ee.data.xsrfToken_);\n    var handleResponse = function(status, getResponseHeader, responseText, opt_callback) {\n        var profileId = getResponseHeader(ee.data.PROFILE_HEADER);\n        profileId && profileHookAtCallTime && profileHookAtCallTime(profileId);\n        var response, data, errorMessage, contentType = getResponseHeader("Content-Type"), contentType = contentType ? contentType.replace(/;.*/, "") : "application/json";\n        if ("application/json" == contentType || "text/json" == contentType) {\n            try {\n                response = goog.json.unsafeParse(responseText), data = response.data;\n            } catch (e) {\n                errorMessage = "Invalid JSON: " + responseText;\n            }\n        } else {\n            errorMessage = "Response was unexpectedly not JSON, but " + contentType;\n        }\n        if (goog.isObject(response)) {\n            "error" in response && "message" in response.error ? errorMessage = response.error.message : "data" in response || (errorMessage = "Malformed response: " + responseText);\n        } else {\n            if (0 === status) {\n                errorMessage = "Failed to contact Earth Engine servers. Please check your connection, firewall, or browser extension settings.";\n            } else {\n                if (200 > status || 300 <= status) {\n                    errorMessage = "Server returned HTTP code: " + status;\n                }\n            }\n        }\n        if (opt_callback) {\n            return opt_callback(data, errorMessage), null;\n        }\n        if (!errorMessage) {\n            return data;\n        }\n        throw Error(errorMessage);\n    }, requestData = params ? params.toString() : "";\n    "GET" != method || goog.string.isEmpty(requestData) || (path += goog.string.contains(path, "?") ? "&" : "?", path += requestData, requestData = null);\n    var url = ee.data.apiBaseUrl_ + path;\n    if (opt_callback$jscomp$0) {\n        return ee.data.requestQueue_.push({url:url, callback:function(e) {\n            var xhrIo = e.target;\n            return handleResponse(xhrIo.getStatus(), goog.bind(xhrIo.getResponseHeader, xhrIo), xhrIo.getResponseText(), opt_callback$jscomp$0);\n        }, method:method, content:requestData, headers:headers}), ee.data.RequestThrottle_.fire(), null;\n    }\n    var xmlHttp = goog.net.XmlHttp();\n    xmlHttp.open(method, url, !1);\n    goog.object.forEach(headers, function(value, key) {\n        xmlHttp.setRequestHeader(key, value);\n    });\n    xmlHttp.send(requestData);\n    return handleResponse(xmlHttp.status, function getResponseHeaderSafe(header) {\n        try {\n            return xmlHttp.getResponseHeader(header);\n        } catch (e) {\n            return null;\n        }\n    }, xmlHttp.responseText, null);\n};\nee.data.ensureAuthLibLoaded_ = function(callback) {\n    var done = function() {\n        goog.global.gapi.config.update("client/cors", !0);\n        ee.data.authTokenRefresher_ || ee.data.setAuthTokenRefresher(goog.global.gapi.auth.authorize);\n        callback();\n    };\n    if (goog.isObject(goog.global.gapi) && goog.isObject(goog.global.gapi.auth) && goog.isFunction(goog.global.gapi.auth.authorize)) {\n        done();\n    } else {\n        for (var callbackName = goog.now().toString(36);callbackName in goog.global;) {\n            callbackName += "_";\n        }\n        goog.global[callbackName] = function() {\n            delete goog.global[callbackName];\n            done();\n        };\n        goog.net.jsloader.load(ee.data.AUTH_LIBRARY_URL_ + "?onload=" + callbackName);\n    }\n};\nee.data.handleAuthResult_ = function(success, error, result) {\n    if (result.access_token) {\n        var token = result.token_type + " " + result.access_token;\n        if (isFinite(result.expires_in)) {\n            var expiresInMs = 900 * result.expires_in;\n            setTimeout(ee.data.refreshAuthToken, .9 * expiresInMs);\n            ee.data.authTokenExpiration_ = goog.now() + expiresInMs;\n        }\n        ee.data.authToken_ = token;\n        success && success();\n    } else {\n        error && error(result.error || "Unknown error.");\n    }\n};\nee.data.makeRequest_ = function(params) {\n    var request = new goog.Uri.QueryData, item;\n    for (item in params) {\n        request.set(item, params[item]);\n    }\n    return request;\n};\nee.data.setupMockSend = function(opt_calls) {\n    function getResponse(url, method, data) {\n        url = url.replace(apiBaseUrl, "");\n        var response;\n        if (url in calls) {\n            response = calls[url];\n        } else {\n            throw Error(url + " mock response not specified");\n        }\n        goog.isFunction(response) && (response = response(url, method, data));\n        goog.isString(response) && (response = {text:response, status:200, contentType:"application/json; charset=utf-8"});\n        if (!goog.isString(response.text)) {\n            throw Error(url + " mock response missing/invalid text");\n        }\n        if (!goog.isNumber(response.status)) {\n            throw Error(url + " mock response missing/invalid status");\n        }\n        return response;\n    }\n    var calls = opt_calls ? goog.object.clone(opt_calls) : {}, apiBaseUrl;\n    goog.net.XhrIo.send = function(url, callback, method, data) {\n        apiBaseUrl = apiBaseUrl || ee.data.apiBaseUrl_;\n        var responseData = getResponse(url, method, data), e = new function() {\n        };\n        e.target = {};\n        e.target.getResponseText = function() {\n            return responseData.text;\n        };\n        e.target.getStatus = function() {\n            return responseData.status;\n        };\n        e.target.getResponseHeader = function(header) {\n            return "Content-Type" === header ? responseData.contentType : null;\n        };\n        setTimeout(goog.bind(callback, e, e), 0);\n        return new goog.net.XhrIo;\n    };\n    var fakeXmlHttp = function() {\n    };\n    fakeXmlHttp.prototype.open = function(method, urlIn) {\n        apiBaseUrl = apiBaseUrl || ee.data.apiBaseUrl_;\n        this.url = urlIn;\n        this.method = method;\n    };\n    fakeXmlHttp.prototype.setRequestHeader = function() {\n    };\n    fakeXmlHttp.prototype.getResponseHeader = function(header) {\n        return "Content-Type" === header ? this.contentType_ || null : null;\n    };\n    fakeXmlHttp.prototype.send = function(data) {\n        var responseData = getResponse(this.url, this.method, data);\n        this.responseText = responseData.text;\n        this.status = responseData.status;\n        this.contentType_ = responseData.contentType;\n    };\n    goog.net.XmlHttp = function() {\n        return new fakeXmlHttp;\n    };\n};\nee.data.isAuthTokenRefreshingEnabled_ = function() {\n    return !(!ee.data.authTokenRefresher_ || !ee.data.authClientId_);\n};\nee.data.requestQueue_ = [];\nee.data.REQUEST_THROTTLE_INTERVAL_MS_ = 350;\nee.data.RequestThrottle_ = new goog.async.Throttle(function() {\n    var request = ee.data.requestQueue_.shift();\n    request && goog.net.XhrIo.send(request.url, request.callback, request.method, request.content, request.headers, ee.data.deadlineMs_);\n    goog.array.isEmpty(ee.data.requestQueue_) || ee.data.RequestThrottle_.fire();\n}, ee.data.REQUEST_THROTTLE_INTERVAL_MS_);\nee.data.apiBaseUrl_ = null;\nee.data.tileBaseUrl_ = null;\nee.data.xsrfToken_ = null;\nee.data.paramAugmenter_ = goog.functions.identity;\nee.data.authToken_ = null;\nee.data.authTokenExpiration_ = null;\nee.data.authClientId_ = null;\nee.data.authScopes_ = [];\nee.data.authTokenRefresher_ = null;\nee.data.AUTH_SCOPE_ = "https://www.googleapis.com/auth/earthengine";\nee.data.AUTH_LIBRARY_URL_ = "https://apis.google.com/js/client.js";\nee.data.initialized_ = !1;\nee.data.deadlineMs_ = 0;\nee.data.profileHook_ = null;\nee.data.PROFILE_HEADER = "X-Earth-Engine-Computation-Profile";\nee.data.DEFAULT_API_BASE_URL_ = "https://earthengine.googleapis.com/api";\nee.data.DEFAULT_TILE_BASE_URL_ = "https://earthengine.googleapis.com";\ngoog.structs.Queue = function() {\n    this.front_ = [];\n    this.back_ = [];\n};\ngoog.structs.Queue.prototype.maybeFlip_ = function() {\n    goog.array.isEmpty(this.front_) && (this.front_ = this.back_, this.front_.reverse(), this.back_ = []);\n};\ngoog.structs.Queue.prototype.enqueue = function(element) {\n    this.back_.push(element);\n};\ngoog.structs.Queue.prototype.dequeue = function() {\n    this.maybeFlip_();\n    return this.front_.pop();\n};\ngoog.structs.Queue.prototype.peek = function() {\n    this.maybeFlip_();\n    return goog.array.peek(this.front_);\n};\ngoog.structs.Queue.prototype.getCount = function() {\n    return this.front_.length + this.back_.length;\n};\ngoog.structs.Queue.prototype.isEmpty = function() {\n    return goog.array.isEmpty(this.front_) && goog.array.isEmpty(this.back_);\n};\ngoog.structs.Queue.prototype.clear = function() {\n    this.front_ = [];\n    this.back_ = [];\n};\ngoog.structs.Queue.prototype.contains = function(obj) {\n    return goog.array.contains(this.front_, obj) || goog.array.contains(this.back_, obj);\n};\ngoog.structs.Queue.prototype.remove = function(obj) {\n    return goog.array.removeLast(this.front_, obj) || goog.array.remove(this.back_, obj);\n};\ngoog.structs.Queue.prototype.getValues = function() {\n    for (var res = [], i = this.front_.length - 1;0 <= i;--i) {\n        res.push(this.front_[i]);\n    }\n    for (var len = this.back_.length, i = 0;i < len;++i) {\n        res.push(this.back_[i]);\n    }\n    return res;\n};\ngoog.structs.Pool = function(opt_minCount, opt_maxCount) {\n    goog.Disposable.call(this);\n    this.minCount_ = opt_minCount || 0;\n    this.maxCount_ = opt_maxCount || 10;\n    if (this.minCount_ > this.maxCount_) {\n        throw Error(goog.structs.Pool.ERROR_MIN_MAX_);\n    }\n    this.freeQueue_ = new goog.structs.Queue;\n    this.inUseSet_ = new goog.structs.Set;\n    this.delay = 0;\n    this.lastAccess = null;\n    this.adjustForMinMax();\n    var magicProps = {canBeReused:0};\n};\ngoog.inherits(goog.structs.Pool, goog.Disposable);\ngoog.structs.Pool.ERROR_MIN_MAX_ = "[goog.structs.Pool] Min can not be greater than max";\ngoog.structs.Pool.ERROR_DISPOSE_UNRELEASED_OBJS_ = "[goog.structs.Pool] Objects not released";\ngoog.structs.Pool.prototype.setMinimumCount = function(min) {\n    if (min > this.maxCount_) {\n        throw Error(goog.structs.Pool.ERROR_MIN_MAX_);\n    }\n    this.minCount_ = min;\n    this.adjustForMinMax();\n};\ngoog.structs.Pool.prototype.setMaximumCount = function(max) {\n    if (max < this.minCount_) {\n        throw Error(goog.structs.Pool.ERROR_MIN_MAX_);\n    }\n    this.maxCount_ = max;\n    this.adjustForMinMax();\n};\ngoog.structs.Pool.prototype.setDelay = function(delay) {\n    this.delay = delay;\n};\ngoog.structs.Pool.prototype.getObject = function() {\n    var time = goog.now();\n    if (!(goog.isDefAndNotNull(this.lastAccess) && time - this.lastAccess < this.delay)) {\n        var obj = this.removeFreeObject_();\n        obj && (this.lastAccess = time, this.inUseSet_.add(obj));\n        return obj;\n    }\n};\ngoog.structs.Pool.prototype.releaseObject = function(obj) {\n    return this.inUseSet_.remove(obj) ? (this.addFreeObject(obj), !0) : !1;\n};\ngoog.structs.Pool.prototype.removeFreeObject_ = function() {\n    for (var obj;0 < this.getFreeCount() && (obj = this.freeQueue_.dequeue(), !this.objectCanBeReused(obj));) {\n        this.adjustForMinMax();\n    }\n    !obj && this.getCount() < this.maxCount_ && (obj = this.createObject());\n    return obj;\n};\ngoog.structs.Pool.prototype.addFreeObject = function(obj) {\n    this.inUseSet_.remove(obj);\n    this.objectCanBeReused(obj) && this.getCount() < this.maxCount_ ? this.freeQueue_.enqueue(obj) : this.disposeObject(obj);\n};\ngoog.structs.Pool.prototype.adjustForMinMax = function() {\n    for (var freeQueue = this.freeQueue_;this.getCount() < this.minCount_;) {\n        freeQueue.enqueue(this.createObject());\n    }\n    for (;this.getCount() > this.maxCount_ && 0 < this.getFreeCount();) {\n        this.disposeObject(freeQueue.dequeue());\n    }\n};\ngoog.structs.Pool.prototype.createObject = function() {\n    return {};\n};\ngoog.structs.Pool.prototype.disposeObject = function(obj) {\n    if ("function" == typeof obj.dispose) {\n        obj.dispose();\n    } else {\n        for (var i in obj) {\n            obj[i] = null;\n        }\n    }\n};\ngoog.structs.Pool.prototype.objectCanBeReused = function(obj) {\n    return "function" == typeof obj.canBeReused ? obj.canBeReused() : !0;\n};\ngoog.structs.Pool.prototype.contains = function(obj) {\n    return this.freeQueue_.contains(obj) || this.inUseSet_.contains(obj);\n};\ngoog.structs.Pool.prototype.getCount = function() {\n    return this.freeQueue_.getCount() + this.inUseSet_.getCount();\n};\ngoog.structs.Pool.prototype.getInUseCount = function() {\n    return this.inUseSet_.getCount();\n};\ngoog.structs.Pool.prototype.getFreeCount = function() {\n    return this.freeQueue_.getCount();\n};\ngoog.structs.Pool.prototype.isEmpty = function() {\n    return this.freeQueue_.isEmpty() && this.inUseSet_.isEmpty();\n};\ngoog.structs.Pool.prototype.disposeInternal = function() {\n    goog.structs.Pool.superClass_.disposeInternal.call(this);\n    if (0 < this.getInUseCount()) {\n        throw Error(goog.structs.Pool.ERROR_DISPOSE_UNRELEASED_OBJS_);\n    }\n    delete this.inUseSet_;\n    for (var freeQueue = this.freeQueue_;!freeQueue.isEmpty();) {\n        this.disposeObject(freeQueue.dequeue());\n    }\n    delete this.freeQueue_;\n};\ngoog.structs.Node = function(key, value) {\n    this.key_ = key;\n    this.value_ = value;\n};\ngoog.structs.Node.prototype.getKey = function() {\n    return this.key_;\n};\ngoog.structs.Node.prototype.getValue = function() {\n    return this.value_;\n};\ngoog.structs.Node.prototype.clone = function() {\n    return new goog.structs.Node(this.key_, this.value_);\n};\ngoog.structs.Heap = function(opt_heap) {\n    this.nodes_ = [];\n    opt_heap && this.insertAll(opt_heap);\n};\ngoog.structs.Heap.prototype.insert = function(key, value) {\n    var node = new goog.structs.Node(key, value), nodes = this.nodes_;\n    nodes.push(node);\n    this.moveUp_(nodes.length - 1);\n};\ngoog.structs.Heap.prototype.insertAll = function(heap) {\n    var keys, values;\n    if (heap instanceof goog.structs.Heap) {\n        if (keys = heap.getKeys(), values = heap.getValues(), 0 >= this.getCount()) {\n            for (var nodes = this.nodes_, i = 0;i < keys.length;i++) {\n                nodes.push(new goog.structs.Node(keys[i], values[i]));\n            }\n            return;\n        }\n    } else {\n        keys = goog.object.getKeys(heap), values = goog.object.getValues(heap);\n    }\n    for (i = 0;i < keys.length;i++) {\n        this.insert(keys[i], values[i]);\n    }\n};\ngoog.structs.Heap.prototype.remove = function() {\n    var nodes = this.nodes_, count = nodes.length, rootNode = nodes[0];\n    if (!(0 >= count)) {\n        return 1 == count ? goog.array.clear(nodes) : (nodes[0] = nodes.pop(), this.moveDown_(0)), rootNode.getValue();\n    }\n};\ngoog.structs.Heap.prototype.peek = function() {\n    var nodes = this.nodes_;\n    if (0 != nodes.length) {\n        return nodes[0].getValue();\n    }\n};\ngoog.structs.Heap.prototype.peekKey = function() {\n    return this.nodes_[0] && this.nodes_[0].getKey();\n};\ngoog.structs.Heap.prototype.moveDown_ = function(index) {\n    for (var nodes = this.nodes_, count = nodes.length, node = nodes[index];index < count >> 1;) {\n        var leftChildIndex = this.getLeftChildIndex_(index), rightChildIndex = this.getRightChildIndex_(index), smallerChildIndex = rightChildIndex < count && nodes[rightChildIndex].getKey() < nodes[leftChildIndex].getKey() ? rightChildIndex : leftChildIndex;\n        if (nodes[smallerChildIndex].getKey() > node.getKey()) {\n            break;\n        }\n        nodes[index] = nodes[smallerChildIndex];\n        index = smallerChildIndex;\n    }\n    nodes[index] = node;\n};\ngoog.structs.Heap.prototype.moveUp_ = function(index) {\n    for (var nodes = this.nodes_, node = nodes[index];0 < index;) {\n        var parentIndex = this.getParentIndex_(index);\n        if (nodes[parentIndex].getKey() > node.getKey()) {\n            nodes[index] = nodes[parentIndex], index = parentIndex;\n        } else {\n            break;\n        }\n    }\n    nodes[index] = node;\n};\ngoog.structs.Heap.prototype.getLeftChildIndex_ = function(index) {\n    return 2 * index + 1;\n};\ngoog.structs.Heap.prototype.getRightChildIndex_ = function(index) {\n    return 2 * index + 2;\n};\ngoog.structs.Heap.prototype.getParentIndex_ = function(index) {\n    return index - 1 >> 1;\n};\ngoog.structs.Heap.prototype.getValues = function() {\n    for (var nodes = this.nodes_, rv = [], l = nodes.length, i = 0;i < l;i++) {\n        rv.push(nodes[i].getValue());\n    }\n    return rv;\n};\ngoog.structs.Heap.prototype.getKeys = function() {\n    for (var nodes = this.nodes_, rv = [], l = nodes.length, i = 0;i < l;i++) {\n        rv.push(nodes[i].getKey());\n    }\n    return rv;\n};\ngoog.structs.Heap.prototype.containsValue = function(val) {\n    return goog.array.some(this.nodes_, function(node) {\n        return node.getValue() == val;\n    });\n};\ngoog.structs.Heap.prototype.containsKey = function(key) {\n    return goog.array.some(this.nodes_, function(node) {\n        return node.getKey() == key;\n    });\n};\ngoog.structs.Heap.prototype.clone = function() {\n    return new goog.structs.Heap(this);\n};\ngoog.structs.Heap.prototype.getCount = function() {\n    return this.nodes_.length;\n};\ngoog.structs.Heap.prototype.isEmpty = function() {\n    return goog.array.isEmpty(this.nodes_);\n};\ngoog.structs.Heap.prototype.clear = function() {\n    goog.array.clear(this.nodes_);\n};\ngoog.structs.PriorityQueue = function() {\n    goog.structs.Heap.call(this);\n};\ngoog.inherits(goog.structs.PriorityQueue, goog.structs.Heap);\ngoog.structs.PriorityQueue.prototype.enqueue = function(priority, value) {\n    this.insert(priority, value);\n};\ngoog.structs.PriorityQueue.prototype.dequeue = function() {\n    return this.remove();\n};\ngoog.structs.PriorityPool = function(opt_minCount, opt_maxCount) {\n    this.delayTimeout_ = void 0;\n    this.requestQueue_ = new goog.structs.PriorityQueue;\n    goog.structs.Pool.call(this, opt_minCount, opt_maxCount);\n};\ngoog.inherits(goog.structs.PriorityPool, goog.structs.Pool);\ngoog.structs.PriorityPool.DEFAULT_PRIORITY_ = 100;\ngoog.structs.PriorityPool.prototype.setDelay = function(delay) {\n    goog.structs.PriorityPool.superClass_.setDelay.call(this, delay);\n    goog.isDefAndNotNull(this.lastAccess) && (goog.global.clearTimeout(this.delayTimeout_), this.delayTimeout_ = goog.global.setTimeout(goog.bind(this.handleQueueRequests_, this), this.delay + this.lastAccess - goog.now()), this.handleQueueRequests_());\n};\ngoog.structs.PriorityPool.prototype.getObject = function(opt_callback, opt_priority) {\n    if (!opt_callback) {\n        var result = goog.structs.PriorityPool.superClass_.getObject.call(this);\n        result && this.delay && (this.delayTimeout_ = goog.global.setTimeout(goog.bind(this.handleQueueRequests_, this), this.delay));\n        return result;\n    }\n    this.requestQueue_.enqueue(goog.isDef(opt_priority) ? opt_priority : goog.structs.PriorityPool.DEFAULT_PRIORITY_, opt_callback);\n    this.handleQueueRequests_();\n};\ngoog.structs.PriorityPool.prototype.handleQueueRequests_ = function() {\n    for (var requestQueue = this.requestQueue_;0 < requestQueue.getCount();) {\n        var obj = this.getObject();\n        if (obj) {\n            requestQueue.dequeue().apply(this, [obj]);\n        } else {\n            break;\n        }\n    }\n};\ngoog.structs.PriorityPool.prototype.addFreeObject = function(obj) {\n    goog.structs.PriorityPool.superClass_.addFreeObject.call(this, obj);\n    this.handleQueueRequests_();\n};\ngoog.structs.PriorityPool.prototype.adjustForMinMax = function() {\n    goog.structs.PriorityPool.superClass_.adjustForMinMax.call(this);\n    this.handleQueueRequests_();\n};\ngoog.structs.PriorityPool.prototype.disposeInternal = function() {\n    goog.structs.PriorityPool.superClass_.disposeInternal.call(this);\n    goog.global.clearTimeout(this.delayTimeout_);\n    this.requestQueue_.clear();\n    this.requestQueue_ = null;\n};\nee.layers.EarthEngineTileSource = function(url, mapId, token, opt_profiler) {\n    ee.layers.AbstractTileSource.call(this);\n    this.url_ = url;\n    this.mapId_ = mapId;\n    this.token_ = token;\n    this.profiler_ = opt_profiler || null;\n};\ngoog.inherits(ee.layers.EarthEngineTileSource, ee.layers.AbstractTileSource);\nee.layers.EarthEngineTileSource.prototype.loadTile = function(tile, opt_priority) {\n    var ProfilerHeader = ee.data.PROFILE_HEADER.toLowerCase(), key = goog.events.listen(tile, ee.layers.AbstractTile.EventType.STATUS_CHANGED, function() {\n        switch(tile.getStatus()) {\n            case ee.layers.AbstractTile.Status.LOADED:\n                var profileId = tile.sourceResponseHeaders[ProfilerHeader];\n                this.profiler_ && profileId && this.profiler_.addTile(tile.div.id, profileId);\n                break;\n            case ee.layers.AbstractTile.Status.FAILED:\n            case ee.layers.AbstractTile.Status.ABORTED:\n                this.profiler_ && "" !== tile.div.id && this.profiler_.removeTile(tile.div.id), goog.events.unlistenByKey(key);\n        }\n    }, void 0, this);\n    tile.sourceUrl = this.getTileUrl_(tile.coord, tile.zoom);\n    var handleAvailableToken = goog.bind(this.handleAvailableToken_, this, tile);\n    ee.layers.EarthEngineTileSource.getGlobalTokenPool_().getObject(handleAvailableToken, opt_priority);\n};\nee.layers.EarthEngineTileSource.prototype.getUniqueId = function() {\n    return [this.mapId_, this.token_].join("-");\n};\nee.layers.EarthEngineTileSource.prototype.handleAvailableToken_ = function(tile, token) {\n    var tokenPool = ee.layers.EarthEngineTileSource.getGlobalTokenPool_();\n    if (tile.isDisposed() || tile.getStatus() == ee.layers.AbstractTile.Status.ABORTED) {\n        tokenPool.releaseObject(token);\n    } else {\n        var key = goog.events.listen(tile, ee.layers.AbstractTile.EventType.STATUS_CHANGED, function() {\n            tile.isDone() && (goog.events.unlistenByKey(key), tokenPool.releaseObject(token));\n        });\n        tile.startLoad();\n    }\n};\nee.layers.EarthEngineTileSource.prototype.getTileUrl_ = function(coord, zoom) {\n    var url = [this.url_, this.mapId_, zoom, coord.x, coord.y].join("/"), url = url + ("?token=" + this.token_);\n    this.profiler_ && this.profiler_.isEnabled() && (url += "&profiling=1");\n    return url;\n};\nee.layers.EarthEngineTileSource.getGlobalTokenPool_ = function() {\n    ee.layers.EarthEngineTileSource.TOKEN_POOL_ || (ee.layers.EarthEngineTileSource.TOKEN_POOL_ = new goog.structs.PriorityPool(0, ee.layers.EarthEngineTileSource.TOKEN_COUNT_));\n    return ee.layers.EarthEngineTileSource.TOKEN_POOL_;\n};\nee.layers.EarthEngineTileSource.TOKEN_POOL_ = null;\nee.layers.EarthEngineTileSource.TOKEN_COUNT_ = 4;\ngoog.net.ImageLoader = function(opt_parent) {\n    goog.events.EventTarget.call(this);\n    this.imageIdToRequestMap_ = {};\n    this.imageIdToImageMap_ = {};\n    this.handler_ = new goog.events.EventHandler(this);\n    this.parent_ = opt_parent;\n};\ngoog.inherits(goog.net.ImageLoader, goog.events.EventTarget);\ngoog.net.ImageLoader.CorsRequestType = {ANONYMOUS:"anonymous", USE_CREDENTIALS:"use-credentials"};\ngoog.net.ImageLoader.IMAGE_LOAD_EVENTS_ = [goog.userAgent.IE && !goog.userAgent.isVersionOrHigher("11") ? goog.net.EventType.READY_STATE_CHANGE : goog.events.EventType.LOAD, goog.net.EventType.ABORT, goog.net.EventType.ERROR];\ngoog.net.ImageLoader.prototype.addImage = function(id, image, opt_corsRequestType) {\n    var src = goog.isString(image) ? image : image.src;\n    src && (this.imageIdToRequestMap_[id] = {src:src, corsRequestType:goog.isDef(opt_corsRequestType) ? opt_corsRequestType : null});\n};\ngoog.net.ImageLoader.prototype.removeImage = function(id) {\n    delete this.imageIdToRequestMap_[id];\n    var image = this.imageIdToImageMap_[id];\n    image && (delete this.imageIdToImageMap_[id], this.handler_.unlisten(image, goog.net.ImageLoader.IMAGE_LOAD_EVENTS_, this.onNetworkEvent_), goog.object.isEmpty(this.imageIdToImageMap_) && goog.object.isEmpty(this.imageIdToRequestMap_) && this.dispatchEvent(goog.net.EventType.COMPLETE));\n};\ngoog.net.ImageLoader.prototype.start = function() {\n    var imageIdToRequestMap = this.imageIdToRequestMap_;\n    goog.array.forEach(goog.object.getKeys(imageIdToRequestMap), function(id) {\n        var imageRequest = imageIdToRequestMap[id];\n        imageRequest && (delete imageIdToRequestMap[id], this.loadImage_(imageRequest, id));\n    }, this);\n};\ngoog.net.ImageLoader.prototype.loadImage_ = function(imageRequest, id) {\n    if (!this.isDisposed()) {\n        var image;\n        image = this.parent_ ? goog.dom.getDomHelper(this.parent_).createDom("IMG") : new Image;\n        imageRequest.corsRequestType && (image.crossOrigin = imageRequest.corsRequestType);\n        this.handler_.listen(image, goog.net.ImageLoader.IMAGE_LOAD_EVENTS_, this.onNetworkEvent_);\n        this.imageIdToImageMap_[id] = image;\n        image.id = id;\n        image.src = imageRequest.src;\n    }\n};\ngoog.net.ImageLoader.prototype.onNetworkEvent_ = function(evt) {\n    var image = evt.currentTarget;\n    if (image) {\n        if (evt.type == goog.net.EventType.READY_STATE_CHANGE) {\n            if (image.readyState == goog.net.EventType.COMPLETE) {\n                evt.type = goog.events.EventType.LOAD;\n            } else {\n                return;\n            }\n        }\n        "undefined" == typeof image.naturalWidth && (evt.type == goog.events.EventType.LOAD ? (image.naturalWidth = image.width, image.naturalHeight = image.height) : (image.naturalWidth = 0, image.naturalHeight = 0));\n        this.dispatchEvent({type:evt.type, target:image});\n        this.isDisposed() || this.removeImage(image.id);\n    }\n};\ngoog.net.ImageLoader.prototype.disposeInternal = function() {\n    delete this.imageIdToRequestMap_;\n    delete this.imageIdToImageMap_;\n    goog.dispose(this.handler_);\n    goog.net.ImageLoader.superClass_.disposeInternal.call(this);\n};\nee.layers.ImageOverlay = function(tileSource, opt_options) {\n    ee.layers.AbstractOverlay.call(this, tileSource, opt_options);\n};\ngoog.inherits(ee.layers.ImageOverlay, ee.layers.AbstractOverlay);\nee.layers.ImageOverlay.prototype.createTile = function(coord, zoom, ownerDocument, uniqueId) {\n    return new ee.layers.ImageTile(coord, zoom, ownerDocument, uniqueId);\n};\nee.layers.ImageTile = function(coord, zoom, ownerDocument, uniqueId) {\n    ee.layers.AbstractTile.call(this, coord, zoom, ownerDocument, uniqueId);\n    this.renderer = ee.layers.ImageTile.defaultRenderer_;\n    this.imageLoaderListenerKey_ = this.imageLoader_ = this.imageEl = null;\n};\ngoog.inherits(ee.layers.ImageTile, ee.layers.AbstractTile);\nee.layers.ImageTile.prototype.finishLoad = function() {\n    var imageUrl;\n    try {\n        imageUrl = URL.createObjectURL(this.sourceData);\n    } catch (e) {\n        imageUrl = this.sourceUrl;\n    }\n    this.imageLoader_ = new goog.net.ImageLoader;\n    this.imageLoader_.addImage(this.div.id + "-image", imageUrl);\n    this.imageLoaderListenerKey_ = goog.events.listenOnce(this.imageLoader_, ee.layers.ImageTile.IMAGE_LOADER_EVENTS_, function(event) {\n        event.type == goog.events.EventType.LOAD ? (this.imageEl = event.target, ee.layers.AbstractTile.prototype.finishLoad.call(this)) : this.retryLoad();\n    }, void 0, this);\n    this.imageLoader_.start();\n};\nee.layers.ImageTile.prototype.cancelLoad = function() {\n    ee.layers.ImageTile.superClass_.cancelLoad.call(this);\n    this.imageLoader_ && (goog.events.unlistenByKey(this.imageLoaderListenerKey_), goog.dispose(this.imageLoader_));\n};\nee.layers.ImageTile.IMAGE_LOADER_EVENTS_ = [goog.events.EventType.LOAD, goog.net.EventType.ABORT, goog.net.EventType.ERROR];\nee.layers.ImageTile.defaultRenderer_ = function(tile) {\n    tile.div.appendChild(tile.imageEl);\n};\nee.AbstractOverlay = function(url, mapId, token, opt_init, opt_profiler) {\n    goog.events.EventTarget.call(this);\n    this.mapId = mapId;\n    this.token = token;\n    this.tilesLoading = [];\n    this.tilesFailed = new goog.structs.Set;\n    this.tileCounter = 0;\n    this.url = url;\n};\ngoog.inherits(ee.AbstractOverlay, goog.events.EventTarget);\nee.AbstractOverlay.EventType = {TILE_LOADED:"tileevent"};\nee.AbstractOverlay.prototype.getTileId = function(coord, zoom) {\n    var maxCoord = 1 << zoom, x = coord.x % maxCoord;\n    0 > x && (x += maxCoord);\n    return [this.mapId, zoom, x, coord.y].join("/");\n};\nee.AbstractOverlay.prototype.getLoadingTilesCount = function() {\n    return this.tilesLoading.length;\n};\nee.AbstractOverlay.prototype.getFailedTilesCount = function() {\n    return this.tilesFailed.getCount();\n};\nee.TileEvent = function(count) {\n    goog.events.Event.call(this, ee.AbstractOverlay.EventType.TILE_LOADED);\n    this.count = count;\n};\ngoog.inherits(ee.TileEvent, goog.events.Event);\nee.Encodable = function() {\n};\ngoog.crypt = {};\ngoog.crypt.Hash = function() {\n    this.blockSize = -1;\n};\ngoog.crypt.Md5 = function() {\n    goog.crypt.Hash.call(this);\n    this.blockSize = 64;\n    this.chain_ = Array(4);\n    this.block_ = Array(this.blockSize);\n    this.totalLength_ = this.blockLength_ = 0;\n    this.reset();\n};\ngoog.inherits(goog.crypt.Md5, goog.crypt.Hash);\ngoog.crypt.Md5.prototype.reset = function() {\n    this.chain_[0] = 1732584193;\n    this.chain_[1] = 4023233417;\n    this.chain_[2] = 2562383102;\n    this.chain_[3] = 271733878;\n    this.totalLength_ = this.blockLength_ = 0;\n};\ngoog.crypt.Md5.prototype.compress_ = function(buf, opt_offset) {\n    opt_offset || (opt_offset = 0);\n    var X = Array(16);\n    if (goog.isString(buf)) {\n        for (var i = 0;16 > i;++i) {\n            X[i] = buf.charCodeAt(opt_offset++) | buf.charCodeAt(opt_offset++) << 8 | buf.charCodeAt(opt_offset++) << 16 | buf.charCodeAt(opt_offset++) << 24;\n        }\n    } else {\n        for (i = 0;16 > i;++i) {\n            X[i] = buf[opt_offset++] | buf[opt_offset++] << 8 | buf[opt_offset++] << 16 | buf[opt_offset++] << 24;\n        }\n    }\n    var A = this.chain_[0], B = this.chain_[1], C = this.chain_[2], D = this.chain_[3], sum = 0, sum = A + (D ^ B & (C ^ D)) + X[0] + 3614090360 & 4294967295, A = B + (sum << 7 & 4294967295 | sum >>> 25), sum = D + (C ^ A & (B ^ C)) + X[1] + 3905402710 & 4294967295, D = A + (sum << 12 & 4294967295 | sum >>> 20), sum = C + (B ^ D & (A ^ B)) + X[2] + 606105819 & 4294967295, C = D + (sum << 17 & 4294967295 | sum >>> 15), sum = B + (A ^ C & (D ^ A)) + X[3] + 3250441966 & 4294967295, B = C + (sum << 22 &\n        4294967295 | sum >>> 10), sum = A + (D ^ B & (C ^ D)) + X[4] + 4118548399 & 4294967295, A = B + (sum << 7 & 4294967295 | sum >>> 25), sum = D + (C ^ A & (B ^ C)) + X[5] + 1200080426 & 4294967295, D = A + (sum << 12 & 4294967295 | sum >>> 20), sum = C + (B ^ D & (A ^ B)) + X[6] + 2821735955 & 4294967295, C = D + (sum << 17 & 4294967295 | sum >>> 15), sum = B + (A ^ C & (D ^ A)) + X[7] + 4249261313 & 4294967295, B = C + (sum << 22 & 4294967295 | sum >>> 10), sum = A + (D ^ B & (C ^ D)) + X[8] + 1770035416 &\n        4294967295, A = B + (sum << 7 & 4294967295 | sum >>> 25), sum = D + (C ^ A & (B ^ C)) + X[9] + 2336552879 & 4294967295, D = A + (sum << 12 & 4294967295 | sum >>> 20), sum = C + (B ^ D & (A ^ B)) + X[10] + 4294925233 & 4294967295, C = D + (sum << 17 & 4294967295 | sum >>> 15), sum = B + (A ^ C & (D ^ A)) + X[11] + 2304563134 & 4294967295, B = C + (sum << 22 & 4294967295 | sum >>> 10), sum = A + (D ^ B & (C ^ D)) + X[12] + 1804603682 & 4294967295, A = B + (sum << 7 & 4294967295 | sum >>> 25), sum =\n        D + (C ^ A & (B ^ C)) + X[13] + 4254626195 & 4294967295, D = A + (sum << 12 & 4294967295 | sum >>> 20), sum = C + (B ^ D & (A ^ B)) + X[14] + 2792965006 & 4294967295, C = D + (sum << 17 & 4294967295 | sum >>> 15), sum = B + (A ^ C & (D ^ A)) + X[15] + 1236535329 & 4294967295, B = C + (sum << 22 & 4294967295 | sum >>> 10), sum = A + (C ^ D & (B ^ C)) + X[1] + 4129170786 & 4294967295, A = B + (sum << 5 & 4294967295 | sum >>> 27), sum = D + (B ^ C & (A ^ B)) + X[6] + 3225465664 & 4294967295, D = A +\n        (sum << 9 & 4294967295 | sum >>> 23), sum = C + (A ^ B & (D ^ A)) + X[11] + 643717713 & 4294967295, C = D + (sum << 14 & 4294967295 | sum >>> 18), sum = B + (D ^ A & (C ^ D)) + X[0] + 3921069994 & 4294967295, B = C + (sum << 20 & 4294967295 | sum >>> 12), sum = A + (C ^ D & (B ^ C)) + X[5] + 3593408605 & 4294967295, A = B + (sum << 5 & 4294967295 | sum >>> 27), sum = D + (B ^ C & (A ^ B)) + X[10] + 38016083 & 4294967295, D = A + (sum << 9 & 4294967295 | sum >>> 23), sum = C + (A ^ B & (D ^ A)) +\n        X[15] + 3634488961 & 4294967295, C = D + (sum << 14 & 4294967295 | sum >>> 18), sum = B + (D ^ A & (C ^ D)) + X[4] + 3889429448 & 4294967295, B = C + (sum << 20 & 4294967295 | sum >>> 12), sum = A + (C ^ D & (B ^ C)) + X[9] + 568446438 & 4294967295, A = B + (sum << 5 & 4294967295 | sum >>> 27), sum = D + (B ^ C & (A ^ B)) + X[14] + 3275163606 & 4294967295, D = A + (sum << 9 & 4294967295 | sum >>> 23), sum = C + (A ^ B & (D ^ A)) + X[3] + 4107603335 & 4294967295, C = D + (sum << 14 & 4294967295 |\n        sum >>> 18), sum = B + (D ^ A & (C ^ D)) + X[8] + 1163531501 & 4294967295, B = C + (sum << 20 & 4294967295 | sum >>> 12), sum = A + (C ^ D & (B ^ C)) + X[13] + 2850285829 & 4294967295, A = B + (sum << 5 & 4294967295 | sum >>> 27), sum = D + (B ^ C & (A ^ B)) + X[2] + 4243563512 & 4294967295, D = A + (sum << 9 & 4294967295 | sum >>> 23), sum = C + (A ^ B & (D ^ A)) + X[7] + 1735328473 & 4294967295, C = D + (sum << 14 & 4294967295 | sum >>> 18), sum = B + (D ^ A & (C ^ D)) + X[12] + 2368359562 &\n        4294967295, B = C + (sum << 20 & 4294967295 | sum >>> 12), sum = A + (B ^ C ^ D) + X[5] + 4294588738 & 4294967295, A = B + (sum << 4 & 4294967295 | sum >>> 28), sum = D + (A ^ B ^ C) + X[8] + 2272392833 & 4294967295, D = A + (sum << 11 & 4294967295 | sum >>> 21), sum = C + (D ^ A ^ B) + X[11] + 1839030562 & 4294967295, C = D + (sum << 16 & 4294967295 | sum >>> 16), sum = B + (C ^ D ^ A) + X[14] + 4259657740 & 4294967295, B = C + (sum << 23 & 4294967295 | sum >>> 9), sum = A + (B ^ C ^ D) + X[1] +\n        2763975236 & 4294967295, A = B + (sum << 4 & 4294967295 | sum >>> 28), sum = D + (A ^ B ^ C) + X[4] + 1272893353 & 4294967295, D = A + (sum << 11 & 4294967295 | sum >>> 21), sum = C + (D ^ A ^ B) + X[7] + 4139469664 & 4294967295, C = D + (sum << 16 & 4294967295 | sum >>> 16), sum = B + (C ^ D ^ A) + X[10] + 3200236656 & 4294967295, B = C + (sum << 23 & 4294967295 | sum >>> 9), sum = A + (B ^ C ^ D) + X[13] + 681279174 & 4294967295, A = B + (sum << 4 & 4294967295 | sum >>> 28), sum = D + (A ^ B ^\n        C) + X[0] + 3936430074 & 4294967295, D = A + (sum << 11 & 4294967295 | sum >>> 21), sum = C + (D ^ A ^ B) + X[3] + 3572445317 & 4294967295, C = D + (sum << 16 & 4294967295 | sum >>> 16), sum = B + (C ^ D ^ A) + X[6] + 76029189 & 4294967295, B = C + (sum << 23 & 4294967295 | sum >>> 9), sum = A + (B ^ C ^ D) + X[9] + 3654602809 & 4294967295, A = B + (sum << 4 & 4294967295 | sum >>> 28), sum = D + (A ^ B ^ C) + X[12] + 3873151461 & 4294967295, D = A + (sum << 11 & 4294967295 | sum >>> 21), sum =\n        C + (D ^ A ^ B) + X[15] + 530742520 & 4294967295, C = D + (sum << 16 & 4294967295 | sum >>> 16), sum = B + (C ^ D ^ A) + X[2] + 3299628645 & 4294967295, B = C + (sum << 23 & 4294967295 | sum >>> 9), sum = A + (C ^ (B | ~D)) + X[0] + 4096336452 & 4294967295, A = B + (sum << 6 & 4294967295 | sum >>> 26), sum = D + (B ^ (A | ~C)) + X[7] + 1126891415 & 4294967295, D = A + (sum << 10 & 4294967295 | sum >>> 22), sum = C + (A ^ (D | ~B)) + X[14] + 2878612391 & 4294967295, C = D + (sum << 15 & 4294967295 |\n        sum >>> 17), sum = B + (D ^ (C | ~A)) + X[5] + 4237533241 & 4294967295, B = C + (sum << 21 & 4294967295 | sum >>> 11), sum = A + (C ^ (B | ~D)) + X[12] + 1700485571 & 4294967295, A = B + (sum << 6 & 4294967295 | sum >>> 26), sum = D + (B ^ (A | ~C)) + X[3] + 2399980690 & 4294967295, D = A + (sum << 10 & 4294967295 | sum >>> 22), sum = C + (A ^ (D | ~B)) + X[10] + 4293915773 & 4294967295, C = D + (sum << 15 & 4294967295 | sum >>> 17), sum = B + (D ^ (C | ~A)) + X[1] + 2240044497 & 4294967295, B =\n        C + (sum << 21 & 4294967295 | sum >>> 11), sum = A + (C ^ (B | ~D)) + X[8] + 1873313359 & 4294967295, A = B + (sum << 6 & 4294967295 | sum >>> 26), sum = D + (B ^ (A | ~C)) + X[15] + 4264355552 & 4294967295, D = A + (sum << 10 & 4294967295 | sum >>> 22), sum = C + (A ^ (D | ~B)) + X[6] + 2734768916 & 4294967295, C = D + (sum << 15 & 4294967295 | sum >>> 17), sum = B + (D ^ (C | ~A)) + X[13] + 1309151649 & 4294967295, B = C + (sum << 21 & 4294967295 | sum >>> 11), sum = A + (C ^ (B | ~D)) + X[4] +\n        4149444226 & 4294967295, A = B + (sum << 6 & 4294967295 | sum >>> 26), sum = D + (B ^ (A | ~C)) + X[11] + 3174756917 & 4294967295, D = A + (sum << 10 & 4294967295 | sum >>> 22), sum = C + (A ^ (D | ~B)) + X[2] + 718787259 & 4294967295, C = D + (sum << 15 & 4294967295 | sum >>> 17), sum = B + (D ^ (C | ~A)) + X[9] + 3951481745 & 4294967295;\n    this.chain_[0] = this.chain_[0] + A & 4294967295;\n    this.chain_[1] = this.chain_[1] + (C + (sum << 21 & 4294967295 | sum >>> 11)) & 4294967295;\n    this.chain_[2] = this.chain_[2] + C & 4294967295;\n    this.chain_[3] = this.chain_[3] + D & 4294967295;\n};\ngoog.crypt.Md5.prototype.update = function(bytes, opt_length) {\n    goog.isDef(opt_length) || (opt_length = bytes.length);\n    for (var lengthMinusBlock = opt_length - this.blockSize, block = this.block_, blockLength = this.blockLength_, i = 0;i < opt_length;) {\n        if (0 == blockLength) {\n            for (;i <= lengthMinusBlock;) {\n                this.compress_(bytes, i), i += this.blockSize;\n            }\n        }\n        if (goog.isString(bytes)) {\n            for (;i < opt_length;) {\n                if (block[blockLength++] = bytes.charCodeAt(i++), blockLength == this.blockSize) {\n                    this.compress_(block);\n                    blockLength = 0;\n                    break;\n                }\n            }\n        } else {\n            for (;i < opt_length;) {\n                if (block[blockLength++] = bytes[i++], blockLength == this.blockSize) {\n                    this.compress_(block);\n                    blockLength = 0;\n                    break;\n                }\n            }\n        }\n    }\n    this.blockLength_ = blockLength;\n    this.totalLength_ += opt_length;\n};\ngoog.crypt.Md5.prototype.digest = function() {\n    var pad = Array((56 > this.blockLength_ ? this.blockSize : 2 * this.blockSize) - this.blockLength_);\n    pad[0] = 128;\n    for (var i = 1;i < pad.length - 8;++i) {\n        pad[i] = 0;\n    }\n    for (var totalBits = 8 * this.totalLength_, i = pad.length - 8;i < pad.length;++i) {\n        pad[i] = totalBits & 255, totalBits /= 256;\n    }\n    this.update(pad);\n    for (var digest = Array(16), n = 0, i = 0;4 > i;++i) {\n        for (var j = 0;32 > j;j += 8) {\n            digest[n++] = this.chain_[i] >>> j & 255;\n        }\n    }\n    return digest;\n};\nee.Serializer = function(opt_isCompound) {\n    this.HASH_KEY = "__ee_hash__";\n    this.isCompound_ = !1 !== opt_isCompound;\n    this.scope_ = [];\n    this.encoded_ = {};\n    this.withHashes_ = [];\n};\ngoog.exportSymbol("ee.Serializer", ee.Serializer);\nee.Serializer.jsonSerializer_ = new goog.json.Serializer;\nee.Serializer.hash_ = new goog.crypt.Md5;\nee.Serializer.encode = function(obj, opt_isCompound) {\n    return (new ee.Serializer(goog.isDef(opt_isCompound) ? opt_isCompound : !0)).encode_(obj);\n};\nee.Serializer.toJSON = function(obj) {\n    return ee.Serializer.jsonSerializer_.serialize(ee.Serializer.encode(obj));\n};\nee.Serializer.toReadableJSON = function(obj) {\n    var encoded = (new ee.Serializer(!1)).encode_(obj);\n    return "JSON" in goog.global ? goog.global.JSON.stringify(encoded, null, "  ") : ee.Serializer.jsonSerializer_.serialize(encoded);\n};\nee.Serializer.prototype.encode_ = function(object) {\n    var value = this.encodeValue_(object);\n    this.isCompound_ && (value = goog.isObject(value) && "ValueRef" == value.type && 1 == this.scope_.length ? this.scope_[0][1] : {type:"CompoundValue", scope:this.scope_, value:value}, this.scope_ = [], goog.array.forEach(this.withHashes_, goog.bind(function(obj) {\n        delete obj[this.HASH_KEY];\n    }, this)), this.withHashes_ = [], this.encoded_ = {});\n    return value;\n};\nee.Serializer.prototype.encodeValue_ = function(object) {\n    if (!goog.isDef(object)) {\n        throw Error("Can\'t encode an undefined value.");\n    }\n    var result, hash = goog.isObject(object) ? object[this.HASH_KEY] : null;\n    if (this.isCompound_ && null != hash && this.encoded_[hash]) {\n        return {type:"ValueRef", value:this.encoded_[hash]};\n    }\n    if (null === object || goog.isBoolean(object) || goog.isNumber(object) || goog.isString(object)) {\n        return object;\n    }\n    if (goog.isDateLike(object)) {\n        return {type:"Invocation", functionName:"Date", arguments:{value:Math.floor(object.getTime())}};\n    }\n    if (object instanceof ee.Encodable) {\n        if (result = object.encode(goog.bind(this.encodeValue_, this)), !(goog.isArray(result) || goog.isObject(result) && "ArgumentRef" != result.type)) {\n            return result;\n        }\n    } else {\n        if (goog.isArray(object)) {\n            result = goog.array.map(object, function(element) {\n                return this.encodeValue_(element);\n            }, this);\n        } else {\n            if (goog.isObject(object) && !goog.isFunction(object)) {\n                var encodedObject = goog.object.map(object, function(element) {\n                    if (!goog.isFunction(element)) {\n                        return this.encodeValue_(element);\n                    }\n                }, this);\n                goog.object.remove(encodedObject, this.HASH_KEY);\n                result = {type:"Dictionary", value:encodedObject};\n            } else {\n                throw Error("Can\'t encode object: " + object);\n            }\n        }\n    }\n    if (this.isCompound_) {\n        ee.Serializer.hash_.reset();\n        ee.Serializer.hash_.update(ee.Serializer.jsonSerializer_.serialize(result));\n        var hash = ee.Serializer.hash_.digest().toString(), name;\n        this.encoded_[hash] ? name = this.encoded_[hash] : (name = String(this.scope_.length), this.scope_.push([name, result]), this.encoded_[hash] = name);\n        object[this.HASH_KEY] = hash;\n        this.withHashes_.push(object);\n        return {type:"ValueRef", value:name};\n    }\n    return result;\n};\nee.ComputedObject = function(func, args, opt_varName) {\n    if (!(this instanceof ee.ComputedObject)) {\n        return ee.ComputedObject.construct(ee.ComputedObject, arguments);\n    }\n    if (opt_varName && (func || args)) {\n        throw Error(\'When "opt_varName" is specified, "func" and "args" must be null.\');\n    }\n    if (func && !args) {\n        throw Error(\'When "func" is specified, "args" must not be null.\');\n    }\n    this.func = func;\n    this.args = args;\n    this.varName = opt_varName || null;\n};\ngoog.inherits(ee.ComputedObject, ee.Encodable);\ngoog.exportSymbol("ee.ComputedObject", ee.ComputedObject);\nee.ComputedObject.prototype.evaluate = function(callback) {\n    if (!callback || !goog.isFunction(callback)) {\n        throw Error("evaluate() requires a callback function.");\n    }\n    ee.data.getValue({json:this.serialize()}, callback);\n};\nee.ComputedObject.prototype.getInfo = function(opt_callback) {\n    return ee.data.getValue({json:this.serialize()}, opt_callback);\n};\nee.ComputedObject.prototype.encode = function(encoder) {\n    if (this.isVariable()) {\n        return {type:"ArgumentRef", value:this.varName};\n    }\n    var encodedArgs = {}, name;\n    for (name in this.args) {\n        goog.isDef(this.args[name]) && (encodedArgs[name] = encoder(this.args[name]));\n    }\n    var result = {type:"Invocation", arguments:encodedArgs}, func = encoder(this.func);\n    result[goog.isString(func) ? "functionName" : "function"] = func;\n    return result;\n};\nee.ComputedObject.prototype.serialize = function() {\n    return ee.Serializer.toJSON(this);\n};\nee.ComputedObject.prototype.toString = function() {\n    return "ee." + this.name() + "(" + ee.Serializer.toReadableJSON(this) + ")";\n};\ngoog.exportSymbol("ee.ComputedObject.prototype.toString", ee.ComputedObject.prototype.toString);\nee.ComputedObject.prototype.isVariable = function() {\n    return goog.isNull(this.func) && goog.isNull(this.args);\n};\nee.ComputedObject.prototype.name = function() {\n    return "ComputedObject";\n};\nee.ComputedObject.prototype.aside = function(func, var_args) {\n    var args = goog.array.clone(arguments);\n    args[0] = this;\n    func.apply(goog.global, args);\n    return this;\n};\nee.ComputedObject.prototype.castInternal = function(obj) {\n    if (obj instanceof this.constructor) {\n        return obj;\n    }\n    var klass = function() {\n    };\n    klass.prototype = this.constructor.prototype;\n    var result = new klass;\n    result.func = obj.func;\n    result.args = obj.args;\n    result.varName = obj.varName;\n    return result;\n};\nee.ComputedObject.construct = function(constructor, argsArray) {\n    function F() {\n        return constructor.apply(this, argsArray);\n    }\n    F.prototype = constructor.prototype;\n    return new F;\n};\nee.Types = {};\nee.Types.registeredClasses_ = {};\nee.Types.registerClasses = function(classes) {\n    ee.Types.registeredClasses_ = classes;\n};\nee.Types.nameToClass = function(name) {\n    return name in ee.Types.registeredClasses_ ? ee.Types.registeredClasses_[name] : null;\n};\nee.Types.classToName = function(klass) {\n    return klass.prototype instanceof ee.ComputedObject ? klass.prototype.name.call(null) : klass == Number ? "Number" : klass == String ? "String" : klass == Array ? "Array" : klass == Date ? "Date" : "Object";\n};\nee.Types.isSubtype = function(firstType, secondType) {\n    if (secondType == firstType) {\n        return !0;\n    }\n    switch(firstType) {\n        case "Element":\n            return "Element" == secondType || "Image" == secondType || "Feature" == secondType || "Collection" == secondType || "ImageCollection" == secondType || "FeatureCollection" == secondType;\n        case "FeatureCollection":\n        case "Collection":\n            return "Collection" == secondType || "ImageCollection" == secondType || "FeatureCollection" == secondType;\n        case "Object":\n            return !0;\n        default:\n            return !1;\n    }\n};\nee.Types.isNumber = function(obj) {\n    return goog.isNumber(obj) || obj instanceof ee.ComputedObject && "Number" == obj.name();\n};\nee.Types.isString = function(obj) {\n    return goog.isString(obj) || obj instanceof ee.ComputedObject && "String" == obj.name();\n};\nee.Types.isArray = function(obj) {\n    return goog.isArray(obj) || obj instanceof ee.ComputedObject && "List" == obj.name();\n};\nee.Types.isRegularObject = function(obj) {\n    if (goog.isObject(obj) && !goog.isFunction(obj)) {\n        var proto = Object.getPrototypeOf(obj);\n        return !goog.isNull(proto) && goog.isNull(Object.getPrototypeOf(proto));\n    }\n    return !1;\n};\nee.Function = function() {\n    if (!(this instanceof ee.Function)) {\n        return new ee.Function;\n    }\n};\ngoog.inherits(ee.Function, ee.Encodable);\ngoog.exportSymbol("ee.Function", ee.Function);\nee.Function.promoter_ = goog.functions.identity;\nee.Function.registerPromoter = function(promoter) {\n    ee.Function.promoter_ = promoter;\n};\nee.Function.prototype.call = function(var_args) {\n    return this.apply(this.nameArgs(Array.prototype.slice.call(arguments, 0)));\n};\nee.Function.prototype.apply = function(namedArgs) {\n    var result = new ee.ComputedObject(this, this.promoteArgs(namedArgs));\n    return ee.Function.promoter_(result, this.getReturnType());\n};\nee.Function.prototype.callOrApply = function(thisValue, args) {\n    var isInstance = goog.isDef(thisValue), signature = this.getSignature(), useKeywordArgs = !1;\n    if (1 == args.length && ee.Types.isRegularObject(args[0])) {\n        var params = signature.args;\n        isInstance && (params = params.slice(1));\n        params.length && (useKeywordArgs = !((1 == params.length || params[1].optional) && "Dictionary" == params[0].type));\n    }\n    var namedArgs;\n    if (useKeywordArgs) {\n        if (namedArgs = goog.object.clone(args[0]), isInstance) {\n            var firstArgName = signature.args[0].name;\n            if (firstArgName in namedArgs) {\n                throw Error("Named args for " + signature.name + " can\'t contain keyword " + firstArgName);\n            }\n            namedArgs[firstArgName] = thisValue;\n        }\n    } else {\n        namedArgs = this.nameArgs(isInstance ? [thisValue].concat(args) : args);\n    }\n    return this.apply(namedArgs);\n};\nee.Function.prototype.promoteArgs = function(args) {\n    for (var specs = this.getSignature().args, promotedArgs = {}, known = {}, i = 0;i < specs.length;i++) {\n        var name = specs[i].name;\n        if (name in args && goog.isDef(args[name])) {\n            promotedArgs[name] = ee.Function.promoter_(args[name], specs[i].type);\n        } else {\n            if (!specs[i].optional) {\n                throw Error("Required argument (" + name + ") missing to function: " + this);\n            }\n        }\n        known[name] = !0;\n    }\n    var unknown = [], argName;\n    for (argName in args) {\n        known[argName] || unknown.push(argName);\n    }\n    if (0 < unknown.length) {\n        throw Error("Unrecognized arguments (" + unknown + ") to function: " + this);\n    }\n    return promotedArgs;\n};\nee.Function.prototype.nameArgs = function(args) {\n    var specs = this.getSignature().args;\n    if (specs.length < args.length) {\n        throw Error("Too many (" + args.length + ") arguments to function: " + this);\n    }\n    for (var namedArgs = {}, i = 0;i < args.length;i++) {\n        namedArgs[specs[i].name] = args[i];\n    }\n    return namedArgs;\n};\nee.Function.prototype.getReturnType = function() {\n    return this.getSignature().returns;\n};\nee.Function.prototype.toString = function(opt_name, opt_isInstance) {\n    var signature = this.getSignature(), buffer = [];\n    buffer.push(opt_name || signature.name);\n    buffer.push("(");\n    buffer.push(goog.array.map(signature.args.slice(opt_isInstance ? 1 : 0), function(elem) {\n        return elem.name;\n    }).join(", "));\n    buffer.push(")\\n");\n    buffer.push("\\n");\n    signature.description ? buffer.push(signature.description) : buffer.push("Undocumented.");\n    buffer.push("\\n");\n    if (signature.args.length) {\n        buffer.push("\\nArgs:\\n");\n        for (var i = 0;i < signature.args.length;i++) {\n            opt_isInstance && 0 == i ? buffer.push("  this:") : buffer.push("\\n  ");\n            var arg = signature.args[i];\n            buffer.push(arg.name);\n            buffer.push(" (");\n            buffer.push(arg.type);\n            arg.optional && buffer.push(", optional");\n            buffer.push("): ");\n            arg.description ? buffer.push(arg.description) : buffer.push("Undocumented.");\n        }\n    }\n    return buffer.join("");\n};\nee.Function.prototype.serialize = function() {\n    return ee.Serializer.toJSON(this);\n};\nee.ApiFunction = function(name, opt_signature) {\n    if (!goog.isDef(opt_signature)) {\n        return ee.ApiFunction.lookup(name);\n    }\n    if (!(this instanceof ee.ApiFunction)) {\n        return ee.ComputedObject.construct(ee.ApiFunction, arguments);\n    }\n    this.signature_ = goog.object.unsafeClone(opt_signature);\n    this.signature_.name = name;\n};\ngoog.inherits(ee.ApiFunction, ee.Function);\ngoog.exportSymbol("ee.ApiFunction", ee.ApiFunction);\nee.ApiFunction._call = function(name, var_args) {\n    return ee.Function.prototype.call.apply(ee.ApiFunction.lookup(name), Array.prototype.slice.call(arguments, 1));\n};\nee.ApiFunction._apply = function(name, namedArgs) {\n    return ee.ApiFunction.lookup(name).apply(namedArgs);\n};\nee.ApiFunction.prototype.encode = function(encoder) {\n    return this.signature_.name;\n};\nee.ApiFunction.prototype.getSignature = function() {\n    return this.signature_;\n};\nee.ApiFunction.api_ = null;\nee.ApiFunction.boundSignatures_ = {};\nee.ApiFunction.allSignatures = function() {\n    ee.ApiFunction.initialize();\n    return goog.object.map(ee.ApiFunction.api_, function(func) {\n        return func.getSignature();\n    });\n};\nee.ApiFunction.unboundFunctions = function() {\n    ee.ApiFunction.initialize();\n    return goog.object.filter(ee.ApiFunction.api_, function(func, name) {\n        return !ee.ApiFunction.boundSignatures_[name];\n    });\n};\nee.ApiFunction.lookup = function(name) {\n    var func = ee.ApiFunction.lookupInternal(name);\n    if (!func) {\n        throw Error("Unknown built-in function name: " + name);\n    }\n    return func;\n};\nee.ApiFunction.lookupInternal = function(name) {\n    ee.ApiFunction.initialize();\n    return ee.ApiFunction.api_[name] || null;\n};\nee.ApiFunction.initialize = function(opt_successCallback, opt_failureCallback) {\n    if (ee.ApiFunction.api_) {\n        opt_successCallback && opt_successCallback();\n    } else {\n        var callback = function(data, opt_error) {\n            opt_error ? opt_failureCallback && opt_failureCallback(Error(opt_error)) : (ee.ApiFunction.api_ = goog.object.map(data, function(sig, name) {\n                sig.returns = sig.returns.replace(/<.*>/, "");\n                for (var i = 0;i < sig.args.length;i++) {\n                    sig.args[i].type = sig.args[i].type.replace(/<.*>/, "");\n                }\n                return new ee.ApiFunction(name, sig);\n            }), opt_successCallback && opt_successCallback());\n        };\n        opt_successCallback ? ee.data.getAlgorithms(callback) : callback(ee.data.getAlgorithms());\n    }\n};\nee.ApiFunction.reset = function() {\n    ee.ApiFunction.api_ = null;\n    ee.ApiFunction.boundSignatures_ = {};\n};\nee.ApiFunction.importApi = function(target, prefix, typeName, opt_prepend) {\n    ee.ApiFunction.initialize();\n    var prepend = opt_prepend || "";\n    goog.object.forEach(ee.ApiFunction.api_, function(apiFunc, name) {\n        var parts = name.split(".");\n        if (2 == parts.length && parts[0] == prefix) {\n            var fname = prepend + parts[1], signature = apiFunc.getSignature();\n            ee.ApiFunction.boundSignatures_[name] = !0;\n            var isInstance = !1;\n            if (signature.args.length) {\n                var firstArgType = signature.args[0].type, isInstance = "Object" != firstArgType && ee.Types.isSubtype(firstArgType, typeName);\n            }\n            var destination = isInstance ? target.prototype : target;\n            fname in destination && !destination[fname].signature || (destination[fname] = function(var_args) {\n                return apiFunc.callOrApply(isInstance ? this : void 0, Array.prototype.slice.call(arguments, 0));\n            }, destination[fname].toString = goog.bind(apiFunc.toString, apiFunc, fname, isInstance), destination[fname].signature = signature);\n        }\n    });\n};\nee.ApiFunction.clearApi = function(target$jscomp$0) {\n    var clear = function(target) {\n        for (var name in target) {\n            goog.isFunction(target[name]) && target[name].signature && delete target[name];\n        }\n    };\n    clear(target$jscomp$0);\n    clear(target$jscomp$0.prototype);\n};\nee.arguments = {};\nee.arguments.extract = function(fn, originalArgs) {\n    var paramNamesWithOptPrefix = ee.arguments.getParamNames_(fn), paramNames = goog.array.map(paramNamesWithOptPrefix, function(param) {\n        return param.replace(/^opt_/, "");\n    }), fnName = ee.arguments.getFnName_(fn), fnNameSnippet = fnName ? " to function " + fnName : "", args = {}, firstArg = originalArgs[0], firstArgCouldBeDictionary = goog.isObject(firstArg) && !goog.isFunction(firstArg) && !goog.isArray(firstArg) && !(firstArg instanceof ee.ComputedObject);\n    if (1 < originalArgs.length || !firstArgCouldBeDictionary) {\n        if (originalArgs.length > paramNames.length) {\n            throw Error("Received too many arguments" + fnNameSnippet + ". Expected at most " + paramNames.length + " but got " + originalArgs.length + ".");\n        }\n        for (var i = 0;i < originalArgs.length;i++) {\n            args[paramNames[i]] = originalArgs[i];\n        }\n    } else {\n        var seen = new goog.structs.Set(goog.object.getKeys(firstArg)), expected = new goog.structs.Set(paramNames);\n        if (expected.intersection(seen).isEmpty()) {\n            args[paramNames[0]] = originalArgs[0];\n        } else {\n            var unexpected = seen.difference(expected);\n            if (!unexpected.isEmpty()) {\n                throw Error("Unexpected arguments" + fnNameSnippet + ": " + unexpected.getValues().join(", "));\n            }\n            args = goog.object.clone(firstArg);\n        }\n    }\n    var provided = new goog.structs.Set(goog.object.getKeys(args)), missing = (new goog.structs.Set(goog.array.filter(paramNamesWithOptPrefix, function(param) {\n        return !goog.string.startsWith(param, "opt_");\n    }))).difference(provided);\n    if (!missing.isEmpty()) {\n        throw Error("Missing required arguments" + fnNameSnippet + ": " + missing.getValues().join(", "));\n    }\n    return args;\n};\nee.arguments.getParamNames_ = function(fn) {\n    var paramNames = [];\n    if (goog.global.EXPORTED_FN_INFO) {\n        var exportedFnInfo = goog.global.EXPORTED_FN_INFO[fn.toString()];\n        goog.asserts.assertObject(exportedFnInfo);\n        paramNames = exportedFnInfo.paramNames;\n        goog.asserts.assertArray(paramNames);\n    } else {\n        paramNames = fn.toString().replace(ee.arguments.JS_COMMENT_MATCHER_, "").match(ee.arguments.JS_PARAM_DECL_MATCHER_)[1].split(",") || [];\n    }\n    return paramNames;\n};\nee.arguments.getFnName_ = function(fn) {\n    return goog.global.EXPORTED_FN_INFO ? goog.global.EXPORTED_FN_INFO[fn.toString()].name.split(".").pop() + "()" : null;\n};\nee.arguments.JS_COMMENT_MATCHER_ = /((\\/\\/.*$)|(\\/\\*[\\s\\S]*?\\*\\/)|(\\s))/mg;\nee.arguments.JS_PARAM_DECL_MATCHER_ = /^function\\s*[^\\(]*\\(\\s*([^\\)]*)\\)/m;\nee.Element = function(func, args, opt_varName) {\n    ee.ComputedObject.call(this, func, args, opt_varName);\n    ee.Element.initialize();\n};\ngoog.inherits(ee.Element, ee.ComputedObject);\ngoog.exportSymbol("ee.Element", ee.Element);\nee.Element.initialized_ = !1;\nee.Element.initialize = function() {\n    ee.Element.initialized_ || (ee.ApiFunction.importApi(ee.Element, "Element", "Element"), ee.Element.initialized_ = !0);\n};\nee.Element.reset = function() {\n    ee.ApiFunction.clearApi(ee.Element);\n    ee.Element.initialized_ = !1;\n};\nee.Element.prototype.name = function() {\n    return "Element";\n};\nee.Element.prototype.set = function(var_args) {\n    var result;\n    if (1 >= arguments.length) {\n        var properties = arguments[0];\n        ee.Types.isRegularObject(properties) && goog.array.equals(goog.object.getKeys(properties), ["properties"]) && goog.isObject(properties.properties) && (properties = properties.properties);\n        if (ee.Types.isRegularObject(properties)) {\n            result = this;\n            for (var key in properties) {\n                var value = properties[key];\n                result = ee.ApiFunction._call("Element.set", result, key, value);\n            }\n        } else {\n            if (properties instanceof ee.ComputedObject && ee.ApiFunction.lookupInternal("Element.setMulti")) {\n                result = ee.ApiFunction._call("Element.setMulti", this, properties);\n            } else {\n                throw Error("When Element.set() is passed one argument, it must be a dictionary.");\n            }\n        }\n    } else {\n        if (0 != arguments.length % 2) {\n            throw Error("When Element.set() is passed multiple arguments, there must be an even number of them.");\n        }\n        result = this;\n        for (var i = 0;i < arguments.length;i += 2) {\n            key = arguments[i], value = arguments[i + 1], result = ee.ApiFunction._call("Element.set", result, key, value);\n        }\n    }\n    return this.castInternal(result);\n};\nee.Filter = function(opt_filter) {\n    if (!(this instanceof ee.Filter)) {\n        return ee.ComputedObject.construct(ee.Filter, arguments);\n    }\n    if (opt_filter instanceof ee.Filter) {\n        return opt_filter;\n    }\n    ee.Filter.initialize();\n    if (goog.isArray(opt_filter)) {\n        if (0 == opt_filter.length) {\n            throw Error("Empty list specified for ee.Filter().");\n        }\n        if (1 == opt_filter.length) {\n            return new ee.Filter(opt_filter[0]);\n        }\n        ee.ComputedObject.call(this, new ee.ApiFunction("Filter.and"), {filters:opt_filter});\n        this.filter_ = opt_filter;\n    } else {\n        if (opt_filter instanceof ee.ComputedObject) {\n            ee.ComputedObject.call(this, opt_filter.func, opt_filter.args, opt_filter.varName), this.filter_ = [opt_filter];\n        } else {\n            if (goog.isDef(opt_filter)) {\n                throw Error("Invalid argument specified for ee.Filter(): " + opt_filter);\n            }\n            ee.ComputedObject.call(this, null, null);\n            this.filter_ = [];\n        }\n    }\n};\ngoog.inherits(ee.Filter, ee.ComputedObject);\nee.Filter.initialized_ = !1;\nee.Filter.initialize = function() {\n    ee.Filter.initialized_ || (ee.ApiFunction.importApi(ee.Filter, "Filter", "Filter"), ee.Filter.initialized_ = !0);\n};\nee.Filter.reset = function() {\n    ee.ApiFunction.clearApi(ee.Filter);\n    ee.Filter.initialized_ = !1;\n};\nee.Filter.functionNames_ = {equals:"equals", less_than:"lessThan", greater_than:"greaterThan", contains:"stringContains", starts_with:"stringStartsWith", ends_with:"stringEndsWith"};\nee.Filter.prototype.append_ = function(newFilter) {\n    var prev = this.filter_.slice(0);\n    newFilter instanceof ee.Filter ? goog.array.extend(prev, newFilter.filter_) : newFilter instanceof Array ? goog.array.extend(prev, newFilter) : prev.push(newFilter);\n    return new ee.Filter(prev);\n};\nee.Filter.prototype.not = function() {\n    return ee.ApiFunction._call("Filter.not", this);\n};\nee.Filter.eq = function(name, value) {\n    var args = ee.arguments.extract(ee.Filter.eq, arguments);\n    return ee.ApiFunction._call("Filter.equals", args.name, args.value);\n};\nee.Filter.neq = function(name, value) {\n    var args = ee.arguments.extract(ee.Filter.neq, arguments);\n    return ee.Filter.eq(args.name, args.value).not();\n};\nee.Filter.lt = function(name, value) {\n    var args = ee.arguments.extract(ee.Filter.lt, arguments);\n    return ee.ApiFunction._call("Filter.lessThan", args.name, args.value);\n};\nee.Filter.gte = function(name, value) {\n    var args = ee.arguments.extract(ee.Filter.gte, arguments);\n    return ee.Filter.lt(args.name, args.value).not();\n};\nee.Filter.gt = function(name, value) {\n    var args = ee.arguments.extract(ee.Filter.gt, arguments);\n    return ee.ApiFunction._call("Filter.greaterThan", args.name, args.value);\n};\nee.Filter.lte = function(name, value) {\n    var args = ee.arguments.extract(ee.Filter.lte, arguments);\n    return ee.Filter.gt(args.name, args.value).not();\n};\nee.Filter.and = function(var_args) {\n    var args = Array.prototype.slice.call(arguments);\n    return ee.ApiFunction._call("Filter.and", args);\n};\nee.Filter.or = function(var_args) {\n    var args = Array.prototype.slice.call(arguments);\n    return ee.ApiFunction._call("Filter.or", args);\n};\nee.Filter.date = function(start, opt_end) {\n    var args = ee.arguments.extract(ee.Filter.date, arguments), range = ee.ApiFunction._call("DateRange", args.start, args.end);\n    return ee.ApiFunction._apply("Filter.dateRangeContains", {leftValue:range, rightField:"system:time_start"});\n};\nee.Filter.inList = function(opt_leftField, opt_rightValue, opt_rightField, opt_leftValue) {\n    var args = ee.arguments.extract(ee.Filter.inList, arguments);\n    return ee.ApiFunction._apply("Filter.listContains", {leftField:args.rightField, rightValue:args.leftValue, rightField:args.leftField, leftValue:args.rightValue});\n};\nee.Filter.bounds = function(geometry, opt_errorMargin) {\n    return ee.ApiFunction._apply("Filter.intersects", {leftField:".all", rightValue:ee.ApiFunction._call("Feature", geometry), maxError:opt_errorMargin});\n};\nee.Filter.prototype.name = function() {\n    return "Filter";\n};\nee.Filter.metadata = function(name, operator, value) {\n    operator = operator.toLowerCase();\n    var negated = !1;\n    goog.string.startsWith(operator, "not_") && (negated = !0, operator = operator.substring(4));\n    if (!(operator in ee.Filter.functionNames_)) {\n        throw Error("Unknown filtering operator: " + operator);\n    }\n    var filter = ee.ApiFunction._call("Filter." + ee.Filter.functionNames_[operator], name, value);\n    return negated ? filter.not() : filter;\n};\nee.Collection = function(func, args, opt_varName) {\n    ee.Element.call(this, func, args, opt_varName);\n    ee.Collection.initialize();\n};\ngoog.inherits(ee.Collection, ee.Element);\ngoog.exportSymbol("ee.Collection", ee.Collection);\nee.Collection.initialized_ = !1;\nee.Collection.initialize = function() {\n    ee.Collection.initialized_ || (ee.ApiFunction.importApi(ee.Collection, "Collection", "Collection"), ee.ApiFunction.importApi(ee.Collection, "AggregateFeatureCollection", "Collection", "aggregate_"), ee.Collection.initialized_ = !0);\n};\nee.Collection.reset = function() {\n    ee.ApiFunction.clearApi(ee.Collection);\n    ee.Collection.initialized_ = !1;\n};\nee.Collection.prototype.filter = function(newFilter) {\n    if (!newFilter) {\n        throw Error("Empty filters.");\n    }\n    return this.castInternal(ee.ApiFunction._call("Collection.filter", this, newFilter));\n};\nee.Collection.prototype.filterMetadata = function(name, operator, value) {\n    var args = ee.arguments.extract(ee.Collection.prototype.filterMetadata, arguments);\n    return this.filter(ee.Filter.metadata(args.name, args.operator, args.value));\n};\nee.Collection.prototype.filterBounds = function(geometry) {\n    return this.filter(ee.Filter.bounds(geometry));\n};\nee.Collection.prototype.filterDate = function(start, opt_end) {\n    var args = ee.arguments.extract(ee.Collection.prototype.filterDate, arguments);\n    return this.filter(ee.Filter.date(args.start, args.end));\n};\nee.Collection.prototype.limit = function(max, opt_property, opt_ascending) {\n    var args = ee.arguments.extract(ee.Collection.prototype.limit, arguments);\n    return this.castInternal(ee.ApiFunction._call("Collection.limit", this, args.max, args.property, args.ascending));\n};\nee.Collection.prototype.sort = function(property, opt_ascending) {\n    var args = ee.arguments.extract(ee.Collection.prototype.sort, arguments);\n    return this.castInternal(ee.ApiFunction._call("Collection.limit", this, void 0, args.property, args.ascending));\n};\nee.Collection.prototype.name = function() {\n    return "Collection";\n};\nee.Collection.prototype.elementType = function() {\n    return ee.Element;\n};\nee.Collection.prototype.map = function(algorithm, opt_dropNulls) {\n    var elementType = this.elementType();\n    return this.castInternal(ee.ApiFunction._call("Collection.map", this, function(e) {\n        return algorithm(new elementType(e));\n    }, opt_dropNulls));\n};\nee.Collection.prototype.iterate = function(algorithm, opt_first) {\n    var first = goog.isDef(opt_first) ? opt_first : null, elementType = this.elementType();\n    return ee.ApiFunction._call("Collection.iterate", this, function(e, p) {\n        return algorithm(new elementType(e), p);\n    }, first);\n};\nee.Number = function(number) {\n    if (!(this instanceof ee.Number)) {\n        return ee.ComputedObject.construct(ee.Number, arguments);\n    }\n    if (number instanceof ee.Number) {\n        return number;\n    }\n    ee.Number.initialize();\n    if (goog.isNumber(number)) {\n        ee.ComputedObject.call(this, null, null), this.number_ = number;\n    } else {\n        if (number instanceof ee.ComputedObject) {\n            ee.ComputedObject.call(this, number.func, number.args, number.varName), this.number_ = null;\n        } else {\n            throw Error("Invalid argument specified for ee.Number(): " + number);\n        }\n    }\n};\ngoog.inherits(ee.Number, ee.ComputedObject);\nee.Number.initialized_ = !1;\nee.Number.initialize = function() {\n    ee.Number.initialized_ || (ee.ApiFunction.importApi(ee.Number, "Number", "Number"), ee.Number.initialized_ = !0);\n};\nee.Number.reset = function() {\n    ee.ApiFunction.clearApi(ee.Number);\n    ee.Number.initialized_ = !1;\n};\nee.Number.prototype.encode = function(encoder) {\n    return goog.isNumber(this.number_) ? this.number_ : ee.Number.superClass_.encode.call(this, encoder);\n};\nee.Number.prototype.name = function() {\n    return "Number";\n};\nee.String = function(string) {\n    if (!(this instanceof ee.String)) {\n        return ee.ComputedObject.construct(ee.String, arguments);\n    }\n    if (string instanceof ee.String) {\n        return string;\n    }\n    ee.String.initialize();\n    if (goog.isString(string)) {\n        ee.ComputedObject.call(this, null, null), this.string_ = string;\n    } else {\n        if (string instanceof ee.ComputedObject) {\n            this.string_ = null, string.func && "String" == string.func.getSignature().returns ? ee.ComputedObject.call(this, string.func, string.args, string.varName) : ee.ComputedObject.call(this, new ee.ApiFunction("String"), {input:string}, null);\n        } else {\n            throw Error("Invalid argument specified for ee.String(): " + string);\n        }\n    }\n};\ngoog.inherits(ee.String, ee.ComputedObject);\nee.String.initialized_ = !1;\nee.String.initialize = function() {\n    ee.String.initialized_ || (ee.ApiFunction.importApi(ee.String, "String", "String"), ee.String.initialized_ = !0);\n};\nee.String.reset = function() {\n    ee.ApiFunction.clearApi(ee.String);\n    ee.String.initialized_ = !1;\n};\nee.String.prototype.encode = function(encoder) {\n    return goog.isString(this.string_) ? this.string_ : ee.String.superClass_.encode.call(this, encoder);\n};\nee.String.prototype.name = function() {\n    return "String";\n};\nee.CustomFunction = function(signature, body) {\n    if (!(this instanceof ee.CustomFunction)) {\n        return ee.ComputedObject.construct(ee.CustomFunction, arguments);\n    }\n    for (var vars = [], args = signature.args, i = 0;i < args.length;i++) {\n        var arg = args[i];\n        vars.push(ee.CustomFunction.variable(ee.Types.nameToClass(arg.type), arg.name));\n    }\n    if (!goog.isDef(body.apply(null, vars))) {\n        throw Error("User-defined methods must return a value.");\n    }\n    this.signature_ = ee.CustomFunction.resolveNamelessArgs_(signature, vars, body);\n    this.body_ = body.apply(null, vars);\n};\ngoog.inherits(ee.CustomFunction, ee.Function);\ngoog.exportSymbol("ee.CustomFunction", ee.CustomFunction);\nee.CustomFunction.prototype.encode = function(encoder) {\n    return {type:"Function", argumentNames:goog.array.map(this.signature_.args, function(arg) {\n        return arg.name;\n    }), body:encoder(this.body_)};\n};\nee.CustomFunction.prototype.getSignature = function() {\n    return this.signature_;\n};\nee.CustomFunction.variable = function(type, name) {\n    type = type || Object;\n    if (!(type.prototype instanceof ee.ComputedObject)) {\n        if (type && type != Object) {\n            if (type == String) {\n                type = ee.String;\n            } else {\n                if (type == Number) {\n                    type = ee.Number;\n                } else {\n                    if (type == Array) {\n                        type = goog.global.ee.List;\n                    } else {\n                        throw Error("Variables must be of an EE type, e.g. ee.Image or ee.Number.");\n                    }\n                }\n            }\n        } else {\n            type = ee.ComputedObject;\n        }\n    }\n    var klass = function() {\n    };\n    klass.prototype = type.prototype;\n    var obj = new klass;\n    obj.func = null;\n    obj.args = null;\n    obj.varName = name;\n    return obj;\n};\nee.CustomFunction.create = function(func, returnType, arg_types) {\n    var stringifyType = function(type) {\n        return goog.isString(type) ? type : ee.Types.classToName(type);\n    }, args = goog.array.map(arg_types, function(argType) {\n        return {name:null, type:stringifyType(argType)};\n    }), signature = {name:"", returns:stringifyType(returnType), args:args};\n    return new ee.CustomFunction(signature, func);\n};\nee.CustomFunction.resolveNamelessArgs_ = function(signature, vars, body) {\n    for (var namelessArgIndices = [], i = 0;i < vars.length;i++) {\n        goog.isNull(vars[i].varName) && namelessArgIndices.push(i);\n    }\n    if (0 == namelessArgIndices.length) {\n        return signature;\n    }\n    for (var countFunctions = function(expression) {\n        var count = 0;\n        goog.isObject(expression) && !goog.isFunction(expression) && ("Function" == expression.type && count++, goog.object.forEach(expression, function(subExpression) {\n            count += countFunctions(subExpression);\n        }));\n        return count;\n    }, serializedBody = ee.Serializer.encode(body.apply(null, vars)), baseName = "_MAPPING_VAR_" + countFunctions(serializedBody) + "_", i = 0;i < namelessArgIndices.length;i++) {\n        var index = namelessArgIndices[i], name = baseName + i;\n        vars[index].varName = name;\n        signature.args[index].name = name;\n    }\n    return signature;\n};\nee.Date = function(date, opt_tz) {\n    if (!(this instanceof ee.Date)) {\n        return ee.ComputedObject.construct(ee.Date, arguments);\n    }\n    if (date instanceof ee.Date) {\n        return date;\n    }\n    ee.Date.initialize();\n    var jsArgs = ee.arguments.extract(ee.Date, arguments);\n    date = jsArgs.date;\n    var tz = jsArgs.tz, func = new ee.ApiFunction("Date"), args = {}, varName = null;\n    if (ee.Types.isString(date)) {\n        if (args.value = date, tz) {\n            if (ee.Types.isString(tz)) {\n                args.timeZone = tz;\n            } else {\n                throw Error("Invalid argument specified for ee.Date(..., opt_tz): " + tz);\n            }\n        }\n    } else {\n        if (ee.Types.isNumber(date)) {\n            args.value = date;\n        } else {\n            if (goog.isDateLike(date)) {\n                args.value = Math.floor(date.getTime());\n            } else {\n                if (date instanceof ee.ComputedObject) {\n                    date.func && "Date" == date.func.getSignature().returns ? (func = date.func, args = date.args, varName = date.varName) : args.value = date;\n                } else {\n                    throw Error("Invalid argument specified for ee.Date(): " + date);\n                }\n            }\n        }\n    }\n    ee.ComputedObject.call(this, func, args, varName);\n};\ngoog.inherits(ee.Date, ee.ComputedObject);\nee.Date.initialized_ = !1;\nee.Date.initialize = function() {\n    ee.Date.initialized_ || (ee.ApiFunction.importApi(ee.Date, "Date", "Date"), ee.Date.initialized_ = !0);\n};\nee.Date.reset = function() {\n    ee.ApiFunction.clearApi(ee.Date);\n    ee.Date.initialized_ = !1;\n};\nee.Date.prototype.name = function() {\n    return "Date";\n};\nee.Geometry = function(geoJson, opt_proj, opt_geodesic, opt_evenOdd) {\n    if (!(this instanceof ee.Geometry)) {\n        return ee.ComputedObject.construct(ee.Geometry, arguments);\n    }\n    if (!("type" in geoJson)) {\n        var args = ee.arguments.extract(ee.Geometry, arguments);\n        geoJson = args.geoJson;\n        opt_proj = args.proj;\n        opt_geodesic = args.geodesic;\n        opt_evenOdd = args.evenOdd;\n    }\n    ee.Geometry.initialize();\n    var options = goog.isDefAndNotNull(opt_proj) || goog.isDefAndNotNull(opt_geodesic) || goog.isDefAndNotNull(opt_evenOdd);\n    if (geoJson instanceof ee.ComputedObject && !(geoJson instanceof ee.Geometry && geoJson.type_)) {\n        if (options) {\n            throw Error("Setting the CRS, geodesic, or evenOdd flag on a computed Geometry is not supported.  Use Geometry.transform().");\n        }\n        ee.ComputedObject.call(this, geoJson.func, geoJson.args, geoJson.varName);\n    } else {\n        geoJson instanceof ee.Geometry && (geoJson = geoJson.encode());\n        if (!ee.Geometry.isValidGeometry_(geoJson)) {\n            throw Error("Invalid GeoJSON geometry: " + JSON.stringify(geoJson));\n        }\n        ee.ComputedObject.call(this, null, null);\n        this.type_ = geoJson.type;\n        this.coordinates_ = geoJson.coordinates || null;\n        this.geometries_ = geoJson.geometries || null;\n        if (goog.isDefAndNotNull(opt_proj)) {\n            this.proj_ = opt_proj;\n        } else {\n            if ("crs" in geoJson) {\n                if (goog.isObject(geoJson.crs) && "name" == geoJson.crs.type && goog.isObject(geoJson.crs.properties) && goog.isString(geoJson.crs.properties.name)) {\n                    this.proj_ = geoJson.crs.properties.name;\n                } else {\n                    throw Error("Invalid CRS declaration in GeoJSON: " + (new goog.json.Serializer).serialize(geoJson.crs));\n                }\n            }\n        }\n        this.geodesic_ = opt_geodesic;\n        !goog.isDef(this.geodesic_) && "geodesic" in geoJson && (this.geodesic_ = !!geoJson.geodesic);\n        this.evenOdd_ = opt_evenOdd;\n        !goog.isDef(this.evenOdd_) && "evenOdd" in geoJson && (this.evenOdd_ = !!geoJson.evenOdd);\n    }\n};\ngoog.inherits(ee.Geometry, ee.ComputedObject);\nee.Geometry.initialized_ = !1;\nee.Geometry.initialize = function() {\n    ee.Geometry.initialized_ || (ee.ApiFunction.importApi(ee.Geometry, "Geometry", "Geometry"), ee.Geometry.initialized_ = !0);\n};\nee.Geometry.reset = function() {\n    ee.ApiFunction.clearApi(ee.Geometry);\n    ee.Geometry.initialized_ = !1;\n};\nee.Geometry.Point = function(coords, opt_proj) {\n    if (!(this instanceof ee.Geometry.Point)) {\n        return ee.Geometry.createInstance_(ee.Geometry.Point, arguments);\n    }\n    var init = ee.Geometry.construct_(ee.Geometry.Point, "Point", 1, arguments);\n    if (!(init instanceof ee.ComputedObject)) {\n        var xy = init.coordinates;\n        if (!goog.isArray(xy) || 2 != xy.length) {\n            throw Error("The Geometry.Point constructor requires 2 coordinates.");\n        }\n    }\n    ee.Geometry.call(this, init);\n};\ngoog.inherits(ee.Geometry.Point, ee.Geometry);\nee.Geometry.MultiPoint = function(coords, opt_proj) {\n    if (!(this instanceof ee.Geometry.MultiPoint)) {\n        return ee.Geometry.createInstance_(ee.Geometry.MultiPoint, arguments);\n    }\n    ee.Geometry.call(this, ee.Geometry.construct_(ee.Geometry.MultiPoint, "MultiPoint", 2, arguments));\n};\ngoog.inherits(ee.Geometry.MultiPoint, ee.Geometry);\nee.Geometry.Rectangle = function(coords, opt_proj, opt_geodesic, opt_maxError, opt_evenOdd) {\n    if (!(this instanceof ee.Geometry.Rectangle)) {\n        return ee.Geometry.createInstance_(ee.Geometry.Rectangle, arguments);\n    }\n    var init = ee.Geometry.construct_(ee.Geometry.Rectangle, "Rectangle", 2, arguments);\n    if (!(init instanceof ee.ComputedObject)) {\n        var xy = init.coordinates;\n        if (2 != xy.length) {\n            throw Error("The Geometry.Rectangle constructor requires 2 points or 4 coordinates.");\n        }\n        var x1 = xy[0][0], y1 = xy[0][1], x2 = xy[1][0], y2 = xy[1][1];\n        init.coordinates = [[[x1, y2], [x1, y1], [x2, y1], [x2, y2]]];\n        init.type = "Polygon";\n    }\n    ee.Geometry.call(this, init);\n};\ngoog.inherits(ee.Geometry.Rectangle, ee.Geometry);\nee.Geometry.LineString = function(coords, opt_proj, opt_geodesic, opt_maxError) {\n    if (!(this instanceof ee.Geometry.LineString)) {\n        return ee.Geometry.createInstance_(ee.Geometry.LineString, arguments);\n    }\n    ee.Geometry.call(this, ee.Geometry.construct_(ee.Geometry.LineString, "LineString", 2, arguments));\n};\ngoog.inherits(ee.Geometry.LineString, ee.Geometry);\nee.Geometry.LinearRing = function(coords, opt_proj, opt_geodesic, opt_maxError) {\n    if (!(this instanceof ee.Geometry.LinearRing)) {\n        return ee.Geometry.createInstance_(ee.Geometry.LinearRing, arguments);\n    }\n    ee.Geometry.call(this, ee.Geometry.construct_(ee.Geometry.LinearRing, "LinearRing", 2, arguments));\n};\ngoog.inherits(ee.Geometry.LinearRing, ee.Geometry);\nee.Geometry.MultiLineString = function(coords, opt_proj, opt_geodesic, opt_maxError) {\n    if (!(this instanceof ee.Geometry.MultiLineString)) {\n        return ee.Geometry.createInstance_(ee.Geometry.MultiLineString, arguments);\n    }\n    ee.Geometry.call(this, ee.Geometry.construct_(ee.Geometry.MultiLineString, "MultiLineString", 3, arguments));\n};\ngoog.inherits(ee.Geometry.MultiLineString, ee.Geometry);\nee.Geometry.Polygon = function(coords, opt_proj, opt_geodesic, opt_maxError, opt_evenOdd) {\n    if (!(this instanceof ee.Geometry.Polygon)) {\n        return ee.Geometry.createInstance_(ee.Geometry.Polygon, arguments);\n    }\n    ee.Geometry.call(this, ee.Geometry.construct_(ee.Geometry.Polygon, "Polygon", 3, arguments));\n};\ngoog.inherits(ee.Geometry.Polygon, ee.Geometry);\nee.Geometry.MultiPolygon = function(coords, opt_proj, opt_geodesic, opt_maxError, opt_evenOdd) {\n    if (!(this instanceof ee.Geometry.MultiPolygon)) {\n        return ee.Geometry.createInstance_(ee.Geometry.MultiPolygon, arguments);\n    }\n    ee.Geometry.call(this, ee.Geometry.construct_(ee.Geometry.MultiPolygon, "MultiPolygon", 4, arguments));\n};\ngoog.inherits(ee.Geometry.MultiPolygon, ee.Geometry);\nee.Geometry.prototype.encode = function(opt_encoder) {\n    if (!this.type_) {\n        if (!opt_encoder) {\n            throw Error("Must specify an encode function when encoding a computed geometry.");\n        }\n        return ee.ComputedObject.prototype.encode.call(this, opt_encoder);\n    }\n    var result = {type:this.type_};\n    "GeometryCollection" == this.type_ ? result.geometries = this.geometries_ : result.coordinates = this.coordinates_;\n    goog.isDefAndNotNull(this.proj_) && (result.crs = {type:"name", properties:{name:this.proj_}});\n    goog.isDefAndNotNull(this.geodesic_) && (result.geodesic = this.geodesic_);\n    goog.isDefAndNotNull(this.evenOdd_) && (result.evenOdd = this.evenOdd_);\n    return result;\n};\nee.Geometry.prototype.toGeoJSON = function() {\n    if (this.func) {\n        throw Error("Can\'t convert a computed Geometry to GeoJSON. Use getInfo() instead.");\n    }\n    return this.encode();\n};\nee.Geometry.prototype.toGeoJSONString = function() {\n    if (this.func) {\n        throw Error("Can\'t convert a computed Geometry to GeoJSON. Use getInfo() instead.");\n    }\n    return (new goog.json.Serializer).serialize(this.toGeoJSON());\n};\nee.Geometry.prototype.serialize = function() {\n    return ee.Serializer.toJSON(this);\n};\nee.Geometry.prototype.toString = function() {\n    return "ee.Geometry(" + this.toGeoJSONString() + ")";\n};\nee.Geometry.isValidGeometry_ = function(geometry) {\n    var type = geometry.type;\n    if ("GeometryCollection" == type) {\n        var geometries = geometry.geometries;\n        if (!goog.isArray(geometries)) {\n            return !1;\n        }\n        for (var i = 0;i < geometries.length;i++) {\n            if (!ee.Geometry.isValidGeometry_(geometries[i])) {\n                return !1;\n            }\n        }\n        return !0;\n    }\n    var coords = geometry.coordinates, nesting = ee.Geometry.isValidCoordinates_(coords);\n    return "Point" == type && 1 == nesting || "MultiPoint" == type && (2 == nesting || 0 == coords.length) || "LineString" == type && 2 == nesting || "LinearRing" == type && 2 == nesting || "MultiLineString" == type && (3 == nesting || 0 == coords.length) || "Polygon" == type && 3 == nesting || "MultiPolygon" == type && (4 == nesting || 0 == coords.length);\n};\nee.Geometry.isValidCoordinates_ = function(shape) {\n    if (!goog.isArray(shape)) {\n        return -1;\n    }\n    if (goog.isArray(shape[0])) {\n        for (var count = ee.Geometry.isValidCoordinates_(shape[0]), i = 1;i < shape.length;i++) {\n            if (ee.Geometry.isValidCoordinates_(shape[i]) != count) {\n                return -1;\n            }\n        }\n        return count + 1;\n    }\n    for (i = 0;i < shape.length;i++) {\n        if (!goog.isNumber(shape[i])) {\n            return -1;\n        }\n    }\n    return 0 == shape.length % 2 ? 1 : -1;\n};\nee.Geometry.coordinatesToLine_ = function(coordinates) {\n    if (!goog.isNumber(coordinates[0]) || 2 == coordinates.length) {\n        return coordinates;\n    }\n    if (0 != coordinates.length % 2) {\n        throw Error("Invalid number of coordinates: " + coordinates.length);\n    }\n    for (var line = [], i = 0;i < coordinates.length;i += 2) {\n        line.push([coordinates[i], coordinates[i + 1]]);\n    }\n    return line;\n};\nee.Geometry.construct_ = function(jsConstructorFn, apiConstructorName, depth, originalArgs) {\n    var eeArgs = ee.Geometry.getEeApiArgs_(jsConstructorFn, originalArgs);\n    if (ee.Geometry.hasServerValue_(eeArgs.coordinates) || goog.isDefAndNotNull(eeArgs.crs) || goog.isDefAndNotNull(eeArgs.geodesic) || goog.isDefAndNotNull(eeArgs.maxError)) {\n        return (new ee.ApiFunction("GeometryConstructors." + apiConstructorName)).apply(eeArgs);\n    }\n    eeArgs.type = apiConstructorName;\n    eeArgs.coordinates = ee.Geometry.fixDepth_(depth, eeArgs.coordinates);\n    !goog.isDefAndNotNull(eeArgs.evenOdd) && goog.array.contains(["Polygon", "Rectangle", "MultiPolygon"], apiConstructorName) && (eeArgs.evenOdd = !0);\n    return eeArgs;\n};\nee.Geometry.getEeApiArgs_ = function(jsConstructorFn, originalArgs) {\n    if (goog.array.every(originalArgs, ee.Types.isNumber)) {\n        return {coordinates:goog.array.toArray(originalArgs)};\n    }\n    var args = ee.arguments.extract(jsConstructorFn, originalArgs);\n    args.coordinates = args.coords;\n    delete args.coords;\n    args.crs = args.proj;\n    delete args.proj;\n    return goog.object.filter(args, goog.isDefAndNotNull);\n};\nee.Geometry.hasServerValue_ = function(coordinates) {\n    return goog.isArray(coordinates) ? goog.array.some(coordinates, ee.Geometry.hasServerValue_) : coordinates instanceof ee.ComputedObject;\n};\nee.Geometry.fixDepth_ = function(depth, coords) {\n    if (1 > depth || 4 < depth) {\n        throw Error("Unexpected nesting level.");\n    }\n    goog.array.every(coords, goog.isNumber) && (coords = ee.Geometry.coordinatesToLine_(coords));\n    for (var item = coords, count = 0;goog.isArray(item);) {\n        item = item[0], count++;\n    }\n    for (;count < depth;) {\n        coords = [coords], count++;\n    }\n    if (ee.Geometry.isValidCoordinates_(coords) != depth) {\n        throw Error("Invalid geometry");\n    }\n    for (item = coords;goog.isArray(item) && 1 == item.length;) {\n        item = item[0];\n    }\n    return goog.isArray(item) && 0 == item.length ? [] : coords;\n};\nee.Geometry.createInstance_ = function(klass, args) {\n    var f = function() {\n    };\n    f.prototype = klass.prototype;\n    var instance = new f, result = klass.apply(instance, args);\n    return void 0 !== result ? result : instance;\n};\nee.Geometry.prototype.name = function() {\n    return "Geometry";\n};\nee.Deserializer = function() {\n};\ngoog.exportSymbol("ee.Deserializer", ee.Deserializer);\nee.Deserializer.fromJSON = function(json) {\n    return ee.Deserializer.decode(goog.json.parse(json));\n};\nee.Deserializer.decode = function(json) {\n    var namedValues = {};\n    if (goog.isObject(json) && "CompoundValue" == json.type) {\n        for (var scopes = json.scope, i = 0;i < scopes.length;i++) {\n            var key = scopes[i][0], value = scopes[i][1];\n            if (key in namedValues) {\n                throw Error(\'Duplicate scope key "\' + key + \'" in scope #\' + i + ".");\n            }\n            namedValues[key] = ee.Deserializer.decodeValue_(value, namedValues);\n        }\n        json = json.value;\n    }\n    return ee.Deserializer.decodeValue_(json, namedValues);\n};\nee.Deserializer.decodeValue_ = function(json, namedValues) {\n    if (goog.isNull(json) || goog.isNumber(json) || goog.isBoolean(json) || goog.isString(json)) {\n        return json;\n    }\n    if (goog.isArray(json)) {\n        return goog.array.map(json, function(element) {\n            return ee.Deserializer.decodeValue_(element, namedValues);\n        });\n    }\n    if (!goog.isObject(json) || goog.isFunction(json)) {\n        throw Error("Cannot decode object: " + json);\n    }\n    var typeName = json.type;\n    switch(typeName) {\n        case "ValueRef":\n            if (json.value in namedValues) {\n                return namedValues[json.value];\n            }\n            throw Error("Unknown ValueRef: " + json);\n        case "ArgumentRef":\n            var varName = json.value;\n            if (!goog.isString(varName)) {\n                throw Error("Invalid variable name: " + varName);\n            }\n            return ee.CustomFunction.variable(Object, varName);\n        case "Date":\n            var microseconds = json.value;\n            if (!goog.isNumber(microseconds)) {\n                throw Error("Invalid date value: " + microseconds);\n            }\n            return new ee.Date(microseconds / 1E3);\n        case "Bytes":\n            var result = new ee.Encodable;\n            result.encode = function(encoder) {\n                return json;\n            };\n            return result;\n        case "Invocation":\n            var func;\n            func = "functionName" in json ? ee.ApiFunction.lookup(json.functionName) : ee.Deserializer.decodeValue_(json["function"], namedValues);\n            var args = goog.object.map(json.arguments, function(element) {\n                return ee.Deserializer.decodeValue_(element, namedValues);\n            });\n            if (func instanceof ee.Function) {\n                return func.apply(args);\n            }\n            if (func instanceof ee.ComputedObject) {\n                return new ee.ComputedObject(func, args);\n            }\n            throw Error("Invalid function value: " + json["function"]);\n        case "Dictionary":\n            return goog.object.map(json.value, function(element) {\n                return ee.Deserializer.decodeValue_(element, namedValues);\n            });\n        case "Function":\n            var body = ee.Deserializer.decodeValue_(json.body, namedValues), signature = {name:"", args:goog.array.map(json.argumentNames, function(argName) {\n                return {name:argName, type:"Object", optional:!1};\n            }), returns:"Object"};\n            return new ee.CustomFunction(signature, function() {\n                return body;\n            });\n        case "Point":\n        case "MultiPoint":\n        case "LineString":\n        case "MultiLineString":\n        case "Polygon":\n        case "MultiPolygon":\n        case "LinearRing":\n        case "GeometryCollection":\n            return new ee.Geometry(json);\n        case "CompoundValue":\n            throw Error("Nested CompoundValues are disallowed.");\n        default:\n            throw Error("Unknown encoded object type: " + typeName);\n    }\n};\nee.Dictionary = function(opt_dict) {\n    if (!(this instanceof ee.Dictionary)) {\n        return ee.ComputedObject.construct(ee.Dictionary, arguments);\n    }\n    if (opt_dict instanceof ee.Dictionary) {\n        return opt_dict;\n    }\n    ee.Dictionary.initialize();\n    ee.Types.isRegularObject(opt_dict) ? (ee.ComputedObject.call(this, null, null), this.dict_ = opt_dict) : (opt_dict instanceof ee.ComputedObject && opt_dict.func && "Dictionary" == opt_dict.func.getSignature().returns ? ee.ComputedObject.call(this, opt_dict.func, opt_dict.args, opt_dict.varName) : ee.ComputedObject.call(this, new ee.ApiFunction("Dictionary"), {input:opt_dict}, null), this.dict_ = null);\n};\ngoog.inherits(ee.Dictionary, ee.ComputedObject);\nee.Dictionary.initialized_ = !1;\nee.Dictionary.initialize = function() {\n    ee.Dictionary.initialized_ || (ee.ApiFunction.importApi(ee.Dictionary, "Dictionary", "Dictionary"), ee.Dictionary.initialized_ = !0);\n};\nee.Dictionary.reset = function() {\n    ee.ApiFunction.clearApi(ee.Dictionary);\n    ee.Dictionary.initialized_ = !1;\n};\nee.Dictionary.prototype.encode = function(encoder) {\n    return goog.isNull(this.dict_) ? ee.Dictionary.superClass_.encode.call(this, encoder) : encoder(this.dict_);\n};\nee.Dictionary.prototype.name = function() {\n    return "Dictionary";\n};\nee.Feature = function(geometry, opt_properties) {\n    if (!(this instanceof ee.Feature)) {\n        return ee.ComputedObject.construct(ee.Feature, arguments);\n    }\n    if (geometry instanceof ee.Feature) {\n        if (opt_properties) {\n            throw Error("Can\'t create Feature out of a Feature and properties.");\n        }\n        return geometry;\n    }\n    if (2 < arguments.length) {\n        throw Error("The Feature constructor takes at most 2 arguments (" + arguments.length + " given)");\n    }\n    ee.Feature.initialize();\n    if (geometry instanceof ee.Geometry || null === geometry) {\n        ee.Element.call(this, new ee.ApiFunction("Feature"), {geometry:geometry, metadata:opt_properties || null});\n    } else {\n        if (geometry instanceof ee.ComputedObject) {\n            ee.Element.call(this, geometry.func, geometry.args, geometry.varName);\n        } else {\n            if ("Feature" == geometry.type) {\n                var properties = geometry.properties || {};\n                if ("id" in geometry) {\n                    if ("system:index" in properties) {\n                        throw Error(\'Can\\\'t specify both "id" and "system:index".\');\n                    }\n                    properties = goog.object.clone(properties);\n                    properties["system:index"] = geometry.id;\n                }\n                ee.Element.call(this, new ee.ApiFunction("Feature"), {geometry:new ee.Geometry(geometry.geometry), metadata:properties});\n            } else {\n                ee.Element.call(this, new ee.ApiFunction("Feature"), {geometry:new ee.Geometry(geometry), metadata:opt_properties || null});\n            }\n        }\n    }\n};\ngoog.inherits(ee.Feature, ee.Element);\nee.Feature.initialized_ = !1;\nee.Feature.initialize = function() {\n    ee.Feature.initialized_ || (ee.ApiFunction.importApi(ee.Feature, "Feature", "Feature"), ee.Feature.initialized_ = !0);\n};\nee.Feature.reset = function() {\n    ee.ApiFunction.clearApi(ee.Feature);\n    ee.Feature.initialized_ = !1;\n};\nee.Feature.prototype.getMap = function(opt_visParams, opt_callback) {\n    var args = ee.arguments.extract(ee.Feature.prototype.getMap, arguments);\n    return ee.ApiFunction._call("Collection", [this]).getMap(args.visParams, args.callback);\n};\nee.Feature.prototype.name = function() {\n    return "Feature";\n};\nee.List = function(list) {\n    if (this instanceof ee.List) {\n        if (1 < arguments.length) {\n            throw Error("ee.List() only accepts 1 argument.");\n        }\n        if (list instanceof ee.List) {\n            return list;\n        }\n    } else {\n        return ee.ComputedObject.construct(ee.List, arguments);\n    }\n    ee.List.initialize();\n    if (goog.isArray(list)) {\n        ee.ComputedObject.call(this, null, null), this.list_ = list;\n    } else {\n        if (list instanceof ee.ComputedObject) {\n            ee.ComputedObject.call(this, list.func, list.args, list.varName), this.list_ = null;\n        } else {\n            throw Error("Invalid argument specified for ee.List(): " + list);\n        }\n    }\n};\ngoog.inherits(ee.List, ee.ComputedObject);\nee.List.initialized_ = !1;\nee.List.initialize = function() {\n    ee.List.initialized_ || (ee.ApiFunction.importApi(ee.List, "List", "List"), ee.List.initialized_ = !0);\n};\nee.List.reset = function() {\n    ee.ApiFunction.clearApi(ee.List);\n    ee.List.initialized_ = !1;\n};\nee.List.prototype.encode = function(opt_encoder) {\n    return goog.isArray(this.list_) ? goog.array.map(this.list_, function(elem) {\n        return opt_encoder(elem);\n    }) : ee.List.superClass_.encode.call(this, opt_encoder);\n};\nee.List.prototype.name = function() {\n    return "List";\n};\nee.FeatureCollection = function(args, opt_column) {\n    if (!(this instanceof ee.FeatureCollection)) {\n        return ee.ComputedObject.construct(ee.FeatureCollection, arguments);\n    }\n    if (args instanceof ee.FeatureCollection) {\n        return args;\n    }\n    if (2 < arguments.length) {\n        throw Error("The FeatureCollection constructor takes at most 2 arguments (" + arguments.length + " given)");\n    }\n    ee.FeatureCollection.initialize();\n    args instanceof ee.Geometry && (args = new ee.Feature(args));\n    args instanceof ee.Feature && (args = [args]);\n    if (ee.Types.isNumber(args) || ee.Types.isString(args)) {\n        var actualArgs = {tableId:args};\n        opt_column && (actualArgs.geometryColumn = opt_column);\n        ee.Collection.call(this, new ee.ApiFunction("Collection.loadTable"), actualArgs);\n    } else {\n        if (goog.isArray(args)) {\n            ee.Collection.call(this, new ee.ApiFunction("Collection"), {features:goog.array.map(args, function(elem) {\n                return new ee.Feature(elem);\n            })});\n        } else {\n            if (args instanceof ee.List) {\n                ee.Collection.call(this, new ee.ApiFunction("Collection"), {features:args});\n            } else {\n                if (args instanceof ee.ComputedObject) {\n                    ee.Collection.call(this, args.func, args.args, args.varName);\n                } else {\n                    throw Error("Unrecognized argument type to convert to a FeatureCollection: " + args);\n                }\n            }\n        }\n    }\n};\ngoog.inherits(ee.FeatureCollection, ee.Collection);\nee.FeatureCollection.initialized_ = !1;\nee.FeatureCollection.initialize = function() {\n    ee.FeatureCollection.initialized_ || (ee.ApiFunction.importApi(ee.FeatureCollection, "FeatureCollection", "FeatureCollection"), ee.FeatureCollection.initialized_ = !0);\n};\nee.FeatureCollection.reset = function() {\n    ee.ApiFunction.clearApi(ee.FeatureCollection);\n    ee.FeatureCollection.initialized_ = !1;\n};\nee.FeatureCollection.prototype.getMap = function(opt_visParams, opt_callback) {\n    var args = ee.arguments.extract(ee.FeatureCollection.prototype.getMap, arguments), painted = ee.ApiFunction._apply("Collection.draw", {collection:this, color:(args.visParams || {}).color || "000000"});\n    if (args.callback) {\n        painted.getMap(null, args.callback);\n    } else {\n        return painted.getMap();\n    }\n};\nee.FeatureCollection.prototype.getDownloadURL = function(opt_format, opt_selectors, opt_filename, opt_callback) {\n    var args = ee.arguments.extract(ee.FeatureCollection.prototype.getDownloadURL, arguments), request = {};\n    request.table = this.serialize();\n    args.format && (request.format = args.format.toUpperCase());\n    args.filename && (request.filename = args.filename);\n    if (args.selectors) {\n        var selectors = args.selectors;\n        goog.isArrayLike(selectors) && (selectors = selectors.join(","));\n        request.selectors = selectors;\n    }\n    if (args.callback) {\n        ee.data.getTableDownloadId(request, function(downloadId, error) {\n            downloadId ? args.callback(ee.data.makeTableDownloadUrl(downloadId)) : args.callback(null, error);\n        });\n    } else {\n        return ee.data.makeTableDownloadUrl(ee.data.getTableDownloadId(request));\n    }\n};\nee.FeatureCollection.prototype.select = function(selectors, opt_names) {\n    var varargs = arguments;\n    return this.map(function(feature) {\n        return feature.select.apply(feature, varargs);\n    });\n};\nee.FeatureCollection.prototype.name = function() {\n    return "FeatureCollection";\n};\nee.FeatureCollection.prototype.elementType = function() {\n    return ee.Feature;\n};\nee.Image = function(opt_args) {\n    if (!(this instanceof ee.Image)) {\n        return ee.ComputedObject.construct(ee.Image, arguments);\n    }\n    if (opt_args instanceof ee.Image) {\n        return opt_args;\n    }\n    ee.Image.initialize();\n    var argCount = arguments.length;\n    if (0 == argCount || 1 == argCount && !goog.isDef(opt_args)) {\n        ee.Element.call(this, new ee.ApiFunction("Image.mask"), {image:new ee.Image(0), mask:new ee.Image(0)});\n    } else {\n        if (1 == argCount) {\n            if (ee.Types.isNumber(opt_args)) {\n                ee.Element.call(this, new ee.ApiFunction("Image.constant"), {value:opt_args});\n            } else {\n                if (ee.Types.isString(opt_args)) {\n                    ee.Element.call(this, new ee.ApiFunction("Image.load"), {id:opt_args});\n                } else {\n                    if (goog.isArray(opt_args)) {\n                        return ee.Image.combine_(goog.array.map(opt_args, function(elem) {\n                            return new ee.Image(elem);\n                        }));\n                    }\n                    if (opt_args instanceof ee.ComputedObject) {\n                        "Array" == opt_args.name() ? ee.Element.call(this, new ee.ApiFunction("Image.constant"), {value:opt_args}) : ee.Element.call(this, opt_args.func, opt_args.args, opt_args.varName);\n                    } else {\n                        throw Error("Unrecognized argument type to convert to an Image: " + opt_args);\n                    }\n                }\n            }\n        } else {\n            if (2 == argCount) {\n                var id = arguments[0], version = arguments[1];\n                if (ee.Types.isString(id) && ee.Types.isNumber(version)) {\n                    ee.Element.call(this, new ee.ApiFunction("Image.load"), {id:id, version:version});\n                } else {\n                    throw Error("Unrecognized argument types to convert to an Image: " + arguments);\n                }\n            } else {\n                throw Error("The Image constructor takes at most 2 arguments (" + argCount + " given)");\n            }\n        }\n    }\n};\ngoog.inherits(ee.Image, ee.Element);\nee.Image.initialized_ = !1;\nee.Image.initialize = function() {\n    ee.Image.initialized_ || (ee.ApiFunction.importApi(ee.Image, "Image", "Image"), ee.ApiFunction.importApi(ee.Image, "Window", "Image", "focal_"), ee.Image.initialized_ = !0);\n};\nee.Image.reset = function() {\n    ee.ApiFunction.clearApi(ee.Image);\n    ee.Image.initialized_ = !1;\n};\nee.Image.prototype.getMap = function(opt_visParams, opt_callback) {\n    var args = ee.arguments.extract(ee.Image.prototype.getMap, arguments), request = args.visParams ? goog.object.clone(args.visParams) : {};\n    request.image = this.serialize();\n    if (args.callback) {\n        ee.data.getMapId(request, goog.bind(function(data, error) {\n            data && (data.image = this);\n            args.callback(data, error);\n        }, this));\n    } else {\n        var response = ee.data.getMapId(request);\n        response.image = this;\n        return response;\n    }\n};\nee.Image.prototype.getDownloadURL = function(params, opt_callback) {\n    var args = ee.arguments.extract(ee.Image.prototype.getDownloadURL, arguments), request = args.params ? goog.object.clone(args.params) : {};\n    request.image = this.serialize();\n    if (args.callback) {\n        var callback = args.callback;\n        ee.data.getDownloadId(request, function(downloadId, error) {\n            downloadId ? callback(ee.data.makeDownloadUrl(downloadId)) : callback(null, error);\n        });\n    } else {\n        return ee.data.makeDownloadUrl(ee.data.getDownloadId(request));\n    }\n};\nee.Image.prototype.getThumbURL = function(params, opt_callback) {\n    var args = ee.arguments.extract(ee.Image.prototype.getThumbURL, arguments), request = args.params ? goog.object.clone(args.params) : {};\n    request.image = this.serialize();\n    if (request.region) {\n        if (goog.isArray(request.region) || ee.Types.isRegularObject(request.region)) {\n            request.region = goog.json.serialize(request.region);\n        } else {\n            if (!goog.isString(request.region)) {\n                throw Error("The region parameter must be an array or a GeoJSON object.");\n            }\n        }\n    }\n    if (args.callback) {\n        ee.data.getThumbId(request, function(thumbId, opt_error) {\n            var thumbUrl = "";\n            if (!goog.isDef(opt_error)) {\n                try {\n                    thumbUrl = ee.data.makeThumbUrl(thumbId);\n                } catch (e) {\n                    opt_error = String(e.message);\n                }\n            }\n            args.callback(thumbUrl, opt_error);\n        });\n    } else {\n        return ee.data.makeThumbUrl(ee.data.getThumbId(request));\n    }\n};\nee.Image.rgb = function(r, g, b) {\n    var args = ee.arguments.extract(ee.Image.rgb, arguments);\n    return ee.Image.combine_([args.r, args.g, args.b], ["vis-red", "vis-green", "vis-blue"]);\n};\nee.Image.cat = function(var_args) {\n    var args = Array.prototype.slice.call(arguments);\n    return ee.Image.combine_(args, null);\n};\nee.Image.combine_ = function(images, opt_names) {\n    if (0 == images.length) {\n        return ee.ApiFunction._call("Image.constant", []);\n    }\n    for (var result = new ee.Image(images[0]), i = 1;i < images.length;i++) {\n        result = ee.ApiFunction._call("Image.addBands", result, images[i]);\n    }\n    opt_names && (result = result.select([".*"], opt_names));\n    return result;\n};\nee.Image.prototype.select = function(var_args) {\n    var args = Array.prototype.slice.call(arguments), algorithmArgs = {input:this, bandSelectors:args[0] || []};\n    if (2 < args.length || ee.Types.isString(args[0]) || ee.Types.isNumber(args[0])) {\n        for (var selectors = args, i = 0;i < selectors.length;i++) {\n            if (!(ee.Types.isString(selectors[i]) || ee.Types.isNumber(selectors[i]) || selectors[i] instanceof ee.ComputedObject)) {\n                throw Error("Illegal argument to select(): " + selectors[i]);\n            }\n        }\n        algorithmArgs.bandSelectors = selectors;\n    } else {\n        args[1] && (algorithmArgs.newNames = args[1]);\n    }\n    return ee.ApiFunction._apply("Image.select", algorithmArgs);\n};\nee.Image.prototype.expression = function(expression, opt_map) {\n    var originalArgs = ee.arguments.extract(ee.Image.prototype.expression, arguments), vars = ["DEFAULT_EXPRESSION_IMAGE"], eeArgs = {DEFAULT_EXPRESSION_IMAGE:this};\n    if (originalArgs.map) {\n        var map = originalArgs.map, name$jscomp$0;\n        for (name$jscomp$0 in map) {\n            vars.push(name$jscomp$0), eeArgs[name$jscomp$0] = new ee.Image(map[name$jscomp$0]);\n        }\n    }\n    var body = ee.ApiFunction._call("Image.parseExpression", originalArgs.expression, "DEFAULT_EXPRESSION_IMAGE", vars), func = new ee.Function;\n    func.encode = function(encoder) {\n        return body.encode(encoder);\n    };\n    func.getSignature = function() {\n        return {name:"", args:goog.array.map(vars, function(name) {\n            return {name:name, type:"Image", optional:!1};\n        }, this), returns:"Image"};\n    };\n    return func.apply(eeArgs);\n};\nee.Image.prototype.clip = function(geometry) {\n    try {\n        geometry = new ee.Geometry(geometry);\n    } catch (e) {\n    }\n    return ee.ApiFunction._call("Image.clip", this, geometry);\n};\nee.Image.prototype.rename = function(var_args) {\n    var names;\n    names = 1 != arguments.length || ee.Types.isString(arguments[0]) ? goog.array.clone(arguments) : arguments[0];\n    return ee.ApiFunction._call("Image.rename", this, names);\n};\nee.Image.prototype.name = function() {\n    return "Image";\n};\nee.ImageCollection = function(args) {\n    if (!(this instanceof ee.ImageCollection)) {\n        return ee.ComputedObject.construct(ee.ImageCollection, arguments);\n    }\n    if (args instanceof ee.ImageCollection) {\n        return args;\n    }\n    if (1 != arguments.length) {\n        throw Error("The ImageCollection constructor takes exactly 1 argument (" + arguments.length + " given)");\n    }\n    ee.ImageCollection.initialize();\n    args instanceof ee.Image && (args = [args]);\n    if (ee.Types.isString(args)) {\n        ee.Collection.call(this, new ee.ApiFunction("ImageCollection.load"), {id:args});\n    } else {\n        if (goog.isArray(args)) {\n            ee.Collection.call(this, new ee.ApiFunction("ImageCollection.fromImages"), {images:goog.array.map(args, function(elem) {\n                return new ee.Image(elem);\n            })});\n        } else {\n            if (args instanceof ee.List) {\n                ee.Collection.call(this, new ee.ApiFunction("ImageCollection.fromImages"), {images:args});\n            } else {\n                if (args instanceof ee.ComputedObject) {\n                    ee.Collection.call(this, args.func, args.args, args.varName);\n                } else {\n                    throw Error("Unrecognized argument type to convert to an ImageCollection: " + args);\n                }\n            }\n        }\n    }\n};\ngoog.inherits(ee.ImageCollection, ee.Collection);\nee.ImageCollection.initialized_ = !1;\nee.ImageCollection.initialize = function() {\n    ee.ImageCollection.initialized_ || (ee.ApiFunction.importApi(ee.ImageCollection, "ImageCollection", "ImageCollection"), ee.ApiFunction.importApi(ee.ImageCollection, "reduce", "ImageCollection"), ee.ImageCollection.initialized_ = !0);\n};\nee.ImageCollection.reset = function() {\n    ee.ApiFunction.clearApi(ee.ImageCollection);\n    ee.ImageCollection.initialized_ = !1;\n};\nee.ImageCollection.prototype.getMap = function(opt_visParams, opt_callback) {\n    var args = ee.arguments.extract(ee.ImageCollection.prototype.getMap, arguments), mosaic = ee.ApiFunction._call("ImageCollection.mosaic", this);\n    if (args.callback) {\n        mosaic.getMap(args.visParams, args.callback);\n    } else {\n        return mosaic.getMap(args.visParams);\n    }\n};\nee.ImageCollection.prototype.select = function(selectors, opt_names) {\n    var varargs = arguments;\n    return this.map(function(img) {\n        return img.select.apply(img, varargs);\n    });\n};\nee.ImageCollection.prototype.name = function() {\n    return "ImageCollection";\n};\nee.ImageCollection.prototype.elementType = function() {\n    return ee.Image;\n};\nee.Terrain = {};\nee.Terrain.initialized_ = !1;\nee.Terrain.initialize = function() {\n    ee.Terrain.initialized_ || (ee.ApiFunction.importApi(ee.Terrain, "Terrain", "Terrain"), ee.Terrain.initialized_ = !0);\n};\nee.Terrain.reset = function() {\n    ee.ApiFunction.clearApi(ee.Terrain);\n    ee.Terrain.initialized_ = !1;\n};\nee.initialize = function(opt_baseurl, opt_tileurl, opt_successCallback, opt_errorCallback, opt_xsrfToken) {\n    if (ee.ready_ != ee.InitState.READY || opt_baseurl || opt_tileurl) {\n        var isAsynchronous = goog.isDefAndNotNull(opt_successCallback);\n        if (opt_errorCallback) {\n            if (isAsynchronous) {\n                ee.errorCallbacks_.push(opt_errorCallback);\n            } else {\n                throw Error("Can\'t pass an error callback without a success callback.");\n            }\n        }\n        if (ee.ready_ == ee.InitState.LOADING && isAsynchronous) {\n            ee.successCallbacks_.push(opt_successCallback);\n        } else {\n            if (ee.ready_ = ee.InitState.LOADING, ee.data.initialize(opt_baseurl, opt_tileurl, opt_xsrfToken), isAsynchronous) {\n                ee.successCallbacks_.push(opt_successCallback), ee.ApiFunction.initialize(ee.initializationSuccess_, ee.initializationFailure_);\n            } else {\n                try {\n                    ee.ApiFunction.initialize(), ee.initializationSuccess_();\n                } catch (e) {\n                    throw ee.initializationFailure_(e), e;\n                }\n            }\n        }\n    } else {\n        opt_successCallback && opt_successCallback();\n    }\n};\nee.reset = function() {\n    ee.ready_ = ee.InitState.NOT_READY;\n    ee.data.reset();\n    ee.ApiFunction.reset();\n    ee.Date.reset();\n    ee.Dictionary.reset();\n    ee.Element.reset();\n    ee.Image.reset();\n    ee.Feature.reset();\n    ee.Collection.reset();\n    ee.ImageCollection.reset();\n    ee.FeatureCollection.reset();\n    ee.Filter.reset();\n    ee.Geometry.reset();\n    ee.List.reset();\n    ee.Number.reset();\n    ee.String.reset();\n    ee.Terrain.reset();\n    ee.resetGeneratedClasses_();\n    goog.object.clear(ee.Algorithms);\n};\nee.InitState = {NOT_READY:"not_ready", LOADING:"loading", READY:"ready"};\ngoog.exportSymbol("ee.InitState.NOT_READY", ee.InitState.NOT_READY);\ngoog.exportSymbol("ee.InitState.LOADING", ee.InitState.LOADING);\ngoog.exportSymbol("ee.InitState.READY", ee.InitState.READY);\nee.ready_ = ee.InitState.NOT_READY;\nee.successCallbacks_ = [];\nee.errorCallbacks_ = [];\nee.TILE_SIZE = 256;\nee.generatedClasses_ = [];\nee.Algorithms = {};\nee.ready = function() {\n    return ee.ready_;\n};\nee.call = function(func, var_args) {\n    goog.isString(func) && (func = new ee.ApiFunction(func));\n    var args = Array.prototype.slice.call(arguments, 1);\n    return ee.Function.prototype.call.apply(func, args);\n};\nee.apply = function(func, namedArgs) {\n    goog.isString(func) && (func = new ee.ApiFunction(func));\n    return func.apply(namedArgs);\n};\nee.initializationSuccess_ = function() {\n    if (ee.ready_ == ee.InitState.LOADING) {\n        try {\n            ee.Date.initialize(), ee.Dictionary.initialize(), ee.Element.initialize(), ee.Image.initialize(), ee.Feature.initialize(), ee.Collection.initialize(), ee.ImageCollection.initialize(), ee.FeatureCollection.initialize(), ee.Filter.initialize(), ee.Geometry.initialize(), ee.List.initialize(), ee.Number.initialize(), ee.String.initialize(), ee.Terrain.initialize(), ee.initializeGeneratedClasses_(), ee.initializeUnboundMethods_();\n        } catch (e) {\n            ee.initializationFailure_(e);\n            return;\n        }\n        ee.ready_ = ee.InitState.READY;\n        for (ee.errorCallbacks_ = [];0 < ee.successCallbacks_.length;) {\n            ee.successCallbacks_.shift()();\n        }\n    }\n};\nee.initializationFailure_ = function(e) {\n    if (ee.ready_ == ee.InitState.LOADING) {\n        for (ee.ready_ = ee.InitState.NOT_READY, ee.successCallbacks_ = [];0 < ee.errorCallbacks_.length;) {\n            ee.errorCallbacks_.shift()(e);\n        }\n    }\n};\nee.promote_ = function(arg, klass) {\n    if (goog.isNull(arg)) {\n        return null;\n    }\n    if (goog.isDef(arg)) {\n        var exportedEE = goog.global.ee;\n        switch(klass) {\n            case "Image":\n                return new ee.Image(arg);\n            case "Feature":\n                return arg instanceof ee.Collection ? ee.ApiFunction._call("Feature", ee.ApiFunction._call("Collection.geometry", arg)) : new ee.Feature(arg);\n            case "Element":\n                if (arg instanceof ee.Element) {\n                    return arg;\n                }\n                if (arg instanceof ee.Geometry) {\n                    return new ee.Feature(arg);\n                }\n                if (arg instanceof ee.ComputedObject) {\n                    return new ee.Element(arg.func, arg.args, arg.varName);\n                }\n                throw Error("Cannot convert " + arg + " to Element.");\n            case "Geometry":\n                return arg instanceof ee.FeatureCollection ? ee.ApiFunction._call("Collection.geometry", arg) : new ee.Geometry(arg);\n            case "FeatureCollection":\n            case "Collection":\n                return arg instanceof ee.Collection ? arg : new ee.FeatureCollection(arg);\n            case "ImageCollection":\n                return new ee.ImageCollection(arg);\n            case "Filter":\n                return new ee.Filter(arg);\n            case "Algorithm":\n                if (goog.isString(arg)) {\n                    return new ee.ApiFunction(arg);\n                }\n                if (goog.isFunction(arg)) {\n                    return ee.CustomFunction.create(arg, "Object", goog.array.repeat("Object", arg.length));\n                }\n                if (arg instanceof ee.Encodable) {\n                    return arg;\n                }\n                throw Error("Argument is not a function: " + arg);\n            case "String":\n                return ee.Types.isString(arg) || arg instanceof ee.String || arg instanceof ee.ComputedObject ? new ee.String(arg) : arg;\n            case "Dictionary":\n                return ee.Types.isRegularObject(arg) ? arg : new ee.Dictionary(arg);\n            case "List":\n                return new ee.List(arg);\n            case "Number":\n            case "Float":\n            case "Long":\n            case "Integer":\n            case "Short":\n            case "Byte":\n                return new ee.Number(arg);\n            default:\n                if (klass in exportedEE) {\n                    var ctor = ee.ApiFunction.lookupInternal(klass);\n                    if (arg instanceof exportedEE[klass]) {\n                        return arg;\n                    }\n                    if (ctor) {\n                        return new exportedEE[klass](arg);\n                    }\n                    if (goog.isString(arg)) {\n                        if (arg in exportedEE[klass]) {\n                            return exportedEE[klass][arg].call();\n                        }\n                        throw Error("Unknown algorithm: " + klass + "." + arg);\n                    }\n                    return new exportedEE[klass](arg);\n                }\n                return arg;\n        }\n    }\n};\nee.initializeUnboundMethods_ = function() {\n    var unbound = ee.ApiFunction.unboundFunctions();\n    goog.object.getKeys(unbound).sort().forEach(function(name) {\n        var func = unbound[name], signature = func.getSignature();\n        if (!signature.hidden) {\n            var nameParts = name.split("."), target = ee.Algorithms;\n            for (target.signature = {};1 < nameParts.length;) {\n                var first = nameParts[0];\n                first in target || (target[first] = {signature:{}});\n                target = target[first];\n                nameParts = goog.array.slice(nameParts, 1);\n            }\n            var bound = function(var_args) {\n                return func.callOrApply(void 0, Array.prototype.slice.call(arguments, 0));\n            };\n            bound.signature = signature;\n            bound.toString = goog.bind(func.toString, func);\n            target[nameParts[0]] = bound;\n        }\n    });\n};\nee.initializeGeneratedClasses_ = function() {\n    var signatures = ee.ApiFunction.allSignatures(), names = {}, returnTypes = {}, sig;\n    for (sig in signatures) {\n        var type;\n        type = -1 != sig.indexOf(".") ? sig.slice(0, sig.indexOf(".")) : sig;\n        names[type] = !0;\n        var rtype = signatures[sig].returns.replace(/<.*>/, "");\n        returnTypes[rtype] = !0;\n    }\n    var exportedEE = goog.global.ee, name;\n    for (name in names) {\n        name in returnTypes && !(name in exportedEE) && (exportedEE[name] = ee.makeClass_(name), ee.generatedClasses_.push(name), signatures[name] ? (exportedEE[name].signature = signatures[name], exportedEE[name].signature.isConstructor = !0, ee.ApiFunction.boundSignatures_[name] = !0) : exportedEE[name].signature = {});\n    }\n    ee.Types.registerClasses(exportedEE);\n};\nee.resetGeneratedClasses_ = function() {\n    for (var exportedEE = goog.global.ee, i = 0;i < ee.generatedClasses_.length;i++) {\n        var name = ee.generatedClasses_[i];\n        ee.ApiFunction.clearApi(exportedEE[name]);\n        delete exportedEE[name];\n    }\n    ee.generatedClasses_ = [];\n    ee.Types.registerClasses(exportedEE);\n};\nee.makeClass_ = function(name) {\n    var target = function(var_args) {\n        var klass = goog.global.ee[name], args = Array.prototype.slice.call(arguments), onlyOneArg = 1 == args.length;\n        if (onlyOneArg && args[0] instanceof klass) {\n            return args[0];\n        }\n        if (!(this instanceof klass)) {\n            return ee.ComputedObject.construct(klass, args);\n        }\n        var ctor = ee.ApiFunction.lookupInternal(name), firstArgIsPrimitive = !(args[0] instanceof ee.ComputedObject), shouldUseConstructor = !1;\n        ctor && (onlyOneArg ? firstArgIsPrimitive ? shouldUseConstructor = !0 : args[0].func != ctor && (shouldUseConstructor = !0) : shouldUseConstructor = !0);\n        if (shouldUseConstructor) {\n            ee.ComputedObject.call(this, ctor, ctor.promoteArgs(ctor.nameArgs(args)));\n        } else {\n            if (!onlyOneArg) {\n                throw Error("Too many arguments for ee." + name + "(): " + args);\n            }\n            if (firstArgIsPrimitive) {\n                throw Error("Invalid argument for ee." + name + "(): " + args + ". Must be a ComputedObject.");\n            }\n            var theOneArg = args[0];\n            ee.ComputedObject.call(this, theOneArg.func, theOneArg.args, theOneArg.varName);\n        }\n    };\n    goog.inherits(target, ee.ComputedObject);\n    target.prototype.name = function() {\n        return name;\n    };\n    ee.ApiFunction.importApi(target, name, name);\n    return target;\n};\nee.Function.registerPromoter(ee.promote_);\nee.FloatTileOverlay = function(url, mapId, token) {\n    ee.AbstractOverlay.call(this, url, mapId, token);\n    this.tileSize = new google.maps.Size(ee.FloatTileOverlay.TILE_EDGE_LENGTH, ee.FloatTileOverlay.TILE_EDGE_LENGTH);\n    this.floatTiles_ = new goog.structs.Map;\n    this.floatTileDivs_ = new goog.structs.Map;\n};\ngoog.inherits(ee.FloatTileOverlay, ee.AbstractOverlay);\nee.FloatTileOverlay.prototype.getTile = function(coord, zoom, ownerDocument) {\n    var tileId = this.getTileId(coord, zoom), src = [this.url, tileId].join("/") + "?token=" + this.token, uniqueTileId = [tileId, this.tileCounter, this.token].join("/");\n    this.tilesLoading.push(uniqueTileId);\n    this.tileCounter += 1;\n    var div = goog.dom.createDom("DIV"), floatTile = this.loadFloatTile_(src, coord, uniqueTileId, div);\n    this.dispatchTileEvent_();\n    return div;\n};\nee.FloatTileOverlay.TILE_EDGE_LENGTH = 256;\nee.FloatTileOverlay.prototype.loadFloatTile_ = function(tileUrl, coord, tileId, div) {\n    var tileRequest = goog.net.XmlHttp();\n    tileRequest.open("GET", tileUrl, !0);\n    tileRequest.responseType = "arraybuffer";\n    tileRequest.onreadystatechange = goog.bind(function() {\n        if (tileRequest.readyState === XMLHttpRequest.DONE && 200 === tileRequest.status) {\n            var tileResponse = tileRequest.response;\n            if (tileResponse) {\n                var floatBuffer = new Float32Array(tileResponse);\n                this.handleFloatTileLoaded_(floatBuffer, coord, tileId, div);\n            } else {\n                throw this.tilesFailed.add(tileId), Error("Unable to request floating point array buffers.");\n            }\n        }\n    }, this);\n    tileRequest.send();\n};\nee.FloatTileOverlay.prototype.handleFloatTileLoaded_ = function(floatTile, coord, tileId, div) {\n    this.floatTiles_.set(coord, floatTile);\n    this.floatTileDivs_.set(coord, div);\n    goog.array.remove(this.tilesLoading, tileId);\n    this.dispatchTileEvent_();\n};\nee.FloatTileOverlay.prototype.getAllFloatTiles = function() {\n    return this.floatTiles_;\n};\nee.FloatTileOverlay.prototype.getAllFloatTileDivs = function() {\n    return this.floatTileDivs_;\n};\nee.FloatTileOverlay.prototype.getLoadedFloatTilesCount = function() {\n    return this.floatTiles_.getCount();\n};\nee.FloatTileOverlay.prototype.dispatchTileEvent_ = function() {\n    this.dispatchEvent(new ee.TileEvent(this.tilesLoading.length));\n};\nee.FloatTileOverlay.prototype.disposeInternal = function() {\n    this.floatTileDivs_ = this.floatTiles_ = null;\n    ee.FloatTileOverlay.superClass_.disposeInternal.call(this);\n};\nee.MapTileManager = function() {\n    goog.events.EventTarget.call(this);\n    this.tokenPool_ = new ee.MapTileManager.TokenPool_(0, 4);\n    this.requests_ = new goog.structs.Map;\n};\ngoog.inherits(ee.MapTileManager, goog.events.EventTarget);\ngoog.addSingletonGetter(ee.MapTileManager);\nee.MapTileManager.MAX_RETRIES = 1;\nee.MapTileManager.ERROR_ID_IN_USE_ = "[ee.MapTileManager] ID in use";\nee.MapTileManager.prototype.getOutstandingCount = function() {\n    return this.requests_.getCount();\n};\nee.MapTileManager.prototype.send = function(id, url, opt_priority, opt_imageCompletedCallback, opt_maxRetries) {\n    if (this.requests_.get(id)) {\n        throw Error(ee.MapTileManager.ERROR_ID_IN_USE_);\n    }\n    var request = new ee.MapTileManager.Request_(id, url, opt_imageCompletedCallback, goog.bind(this.releaseRequest_, this), goog.isDef(opt_maxRetries) ? opt_maxRetries : ee.MapTileManager.MAX_RETRIES);\n    this.requests_.set(id, request);\n    var callback = goog.bind(this.handleAvailableToken_, this, request);\n    this.tokenPool_.getObject(callback, opt_priority);\n    return request;\n};\nee.MapTileManager.prototype.abort = function(id) {\n    var request = this.requests_.get(id);\n    request && (request.setAborted(!0), this.releaseRequest_(request));\n};\nee.MapTileManager.prototype.handleAvailableToken_ = function(request, token) {\n    if (request.getImageLoader() || request.getAborted()) {\n        this.releaseObject_(token);\n    } else {\n        if (request.setToken(token), token.setActive(!0), request.setImageLoader(new goog.net.ImageLoader), !request.retry()) {\n            throw Error("Cannot dispatch first request!");\n        }\n    }\n};\nee.MapTileManager.prototype.releaseRequest_ = function(request) {\n    this.requests_.remove(request.getId());\n    request.getImageLoader() && (this.releaseObject_(request.getToken()), request.getImageLoader().dispose());\n    request.fireImageEventCallback();\n};\nee.MapTileManager.prototype.releaseObject_ = function(token) {\n    token.setActive(!1);\n    if (!this.tokenPool_.releaseObject(token)) {\n        throw Error("Object not released");\n    }\n};\nee.MapTileManager.prototype.disposeInternal = function() {\n    ee.MapTileManager.superClass_.disposeInternal.call(this);\n    this.tokenPool_.dispose();\n    this.tokenPool_ = null;\n    var requests = this.requests_;\n    goog.array.forEach(requests.getValues(), function(value) {\n        value.dispose();\n    });\n    requests.clear();\n    this.requests_ = null;\n};\nee.MapTileManager.Request_ = function(id, url, opt_imageEventCallback, opt_requestCompleteCallback, opt_maxRetries) {\n    goog.Disposable.call(this);\n    this.id_ = id;\n    this.url_ = url;\n    this.maxRetries_ = goog.isDef(opt_maxRetries) ? opt_maxRetries : ee.MapTileManager.MAX_RETRIES;\n    this.imageEventCallback_ = opt_imageEventCallback;\n    this.requestCompleteCallback_ = opt_requestCompleteCallback;\n};\ngoog.inherits(ee.MapTileManager.Request_, goog.Disposable);\nee.MapTileManager.Request_.prototype.attemptCount_ = 0;\nee.MapTileManager.Request_.prototype.aborted_ = !1;\nee.MapTileManager.Request_.prototype.imageLoader_ = null;\nee.MapTileManager.Request_.prototype.token_ = null;\nee.MapTileManager.Request_.prototype.event_ = null;\nee.MapTileManager.Request_.prototype.profileId_ = null;\nee.MapTileManager.Request_.IMAGE_LOADER_EVENT_TYPES_ = [goog.events.EventType.LOAD, goog.net.EventType.ABORT, goog.net.EventType.ERROR];\nee.MapTileManager.Request_.prototype.getImageLoader = function() {\n    return this.imageLoader_;\n};\nee.MapTileManager.Request_.prototype.setImageLoader = function(imageLoader) {\n    this.imageLoader_ = imageLoader;\n};\nee.MapTileManager.Request_.prototype.getToken = function() {\n    return this.token_;\n};\nee.MapTileManager.Request_.prototype.setToken = function(token) {\n    this.token_ = token;\n};\nee.MapTileManager.Request_.prototype.addImageEventListener = function() {\n    goog.events.listenOnce(this.imageLoader_, ee.MapTileManager.Request_.IMAGE_LOADER_EVENT_TYPES_, goog.bind(this.handleImageEvent_, this));\n};\nee.MapTileManager.Request_.prototype.fireImageEventCallback = function() {\n    this.imageEventCallback_ && this.imageEventCallback_(this.event_, this.profileId_);\n};\nee.MapTileManager.Request_.prototype.getId = function() {\n    return this.id_;\n};\nee.MapTileManager.Request_.prototype.getUrl = function() {\n    return this.url_;\n};\nee.MapTileManager.Request_.prototype.getMaxRetries = function() {\n    return this.maxRetries_;\n};\nee.MapTileManager.Request_.prototype.getAttemptCount = function() {\n    return this.attemptCount_;\n};\nee.MapTileManager.Request_.prototype.increaseAttemptCount = function() {\n    this.attemptCount_++;\n};\nee.MapTileManager.Request_.prototype.hasReachedMaxRetries = function() {\n    return this.attemptCount_ > this.maxRetries_;\n};\nee.MapTileManager.Request_.prototype.setAborted = function(aborted) {\n    aborted && !this.aborted_ && (this.aborted_ = aborted, this.event_ = new goog.events.Event(goog.net.EventType.ABORT));\n};\nee.MapTileManager.Request_.prototype.getAborted = function() {\n    return this.aborted_;\n};\nee.MapTileManager.Request_.prototype.handleImageEvent_ = function(e) {\n    if (this.getAborted()) {\n        this.markCompleted_();\n    } else {\n        switch(e.type) {\n            case goog.events.EventType.LOAD:\n                this.handleSuccess_(e);\n                this.markCompleted_();\n                break;\n            case goog.net.EventType.ERROR:\n            case goog.net.EventType.ABORT:\n                this.handleError_(e);\n        }\n    }\n};\nee.MapTileManager.Request_.prototype.markCompleted_ = function() {\n    this.requestCompleteCallback_ && this.requestCompleteCallback_(this);\n};\nee.MapTileManager.Request_.prototype.handleSuccess_ = function(e) {\n    this.event_ = e;\n};\nee.MapTileManager.Request_.prototype.handleError_ = function(e) {\n    this.retry() || (this.event_ = e, this.markCompleted_());\n};\nee.MapTileManager.Request_.prototype.disposeInternal = function() {\n    ee.MapTileManager.Request_.superClass_.disposeInternal.call(this);\n    delete this.imageEventCallback_;\n    delete this.requestCompleteCallback_;\n};\nee.MapTileManager.Request_.prototype.retry = function() {\n    if (this.hasReachedMaxRetries()) {\n        return !1;\n    }\n    this.increaseAttemptCount();\n    this.imageLoader_.removeImage(this.id_);\n    setTimeout(goog.bind(this.start_, this), 0);\n    return !0;\n};\nee.MapTileManager.Request_.prototype.start_ = function() {\n    if (!this.getAborted()) {\n        var actuallyLoadImage = goog.bind(function(imageUrl) {\n            this.getAborted() || (this.imageLoader_.addImage(this.id_, imageUrl), this.addImageEventListener(), this.imageLoader_.start());\n        }, this), sourceUrl = this.getUrl();\n        if (goog.Uri.parse(sourceUrl).getQueryData().containsKey("profiling")) {\n            var xhrIo = new goog.net.XhrIo;\n            xhrIo.setResponseType(goog.net.XhrIo.ResponseType.BLOB);\n            xhrIo.listen(goog.net.EventType.COMPLETE, goog.bind(function(event) {\n                this.profileId_ = xhrIo.getResponseHeader(ee.data.PROFILE_HEADER) || null;\n                var objectUrl;\n                if (200 <= xhrIo.getStatus() && 300 > xhrIo.getStatus()) {\n                    try {\n                        objectUrl = URL.createObjectURL(xhrIo.getResponse());\n                    } catch (e) {\n                    }\n                }\n                actuallyLoadImage(objectUrl || sourceUrl);\n            }, this));\n            xhrIo.listenOnce(goog.net.EventType.READY, goog.bind(xhrIo.dispose, xhrIo));\n            xhrIo.send(sourceUrl, "GET");\n        } else {\n            actuallyLoadImage(sourceUrl);\n        }\n    }\n};\nee.MapTileManager.Token_ = function() {\n    this.active_ = !1;\n};\ngoog.inherits(ee.MapTileManager.Token_, goog.Disposable);\nee.MapTileManager.Token_.prototype.setActive = function(val) {\n    this.active_ = val;\n};\nee.MapTileManager.Token_.prototype.isActive = function() {\n    return this.active_;\n};\nee.MapTileManager.TokenPool_ = function(opt_minCount, opt_maxCount) {\n    goog.structs.PriorityPool.call(this, opt_minCount, opt_maxCount);\n};\ngoog.inherits(ee.MapTileManager.TokenPool_, goog.structs.PriorityPool);\nee.MapTileManager.TokenPool_.prototype.createObject = function() {\n    return new ee.MapTileManager.Token_;\n};\nee.MapTileManager.TokenPool_.prototype.disposeObject = function(obj) {\n    obj.dispose();\n};\nee.MapTileManager.TokenPool_.prototype.objectCanBeReused = function(obj) {\n    return !obj.isDisposed() && !obj.isActive();\n};\nee.MapLayerOverlay = function(url, mapId, token, init, opt_profiler) {\n    ee.AbstractOverlay.call(this, url, mapId, token, init, opt_profiler);\n    this.minZoom = init.minZoom || 0;\n    this.maxZoom = init.maxZoom || 20;\n    if (!window.google || !window.google.maps) {\n        throw Error("Google Maps API hasn\'t been initialized.");\n    }\n    this.tileSize = init.tileSize || new google.maps.Size(256, 256);\n    this.isPng = goog.isDef(init.isPng) ? init.isPng : !0;\n    this.name = init.name;\n    this.tiles_ = new goog.structs.Set;\n    this.opacity_ = 1;\n    this.visible_ = !0;\n    this.profiler_ = opt_profiler || null;\n};\ngoog.inherits(ee.MapLayerOverlay, ee.AbstractOverlay);\nee.MapLayerOverlay.prototype.addTileCallback = function(callback) {\n    return goog.events.listen(this, ee.AbstractOverlay.EventType.TILE_LOADED, callback);\n};\nee.MapLayerOverlay.prototype.removeTileCallback = function(callbackId) {\n    goog.events.unlistenByKey(callbackId);\n};\nee.MapLayerOverlay.prototype.dispatchTileEvent_ = function() {\n    this.dispatchEvent(new ee.TileEvent(this.tilesLoading.length));\n};\nee.MapLayerOverlay.prototype.getTile = function(coord, zoom, ownerDocument) {\n    var maxCoord;\n    if (zoom < this.minZoom || 0 > coord.y || coord.y >= 1 << zoom) {\n        var img = ownerDocument.createElement("IMG");\n        img.style.width = "0px";\n        img.style.height = "0px";\n        return img;\n    }\n    var profiling = this.profiler_ && this.profiler_.isEnabled(), tileId = this.getTileId(coord, zoom), src = [this.url, tileId].join("/") + "?token=" + this.token;\n    profiling && (src += "&profiling=1");\n    var uniqueTileId = [tileId, this.tileCounter, this.token].join("/");\n    this.tileCounter += 1;\n    var div = goog.dom.createDom("DIV", {id:uniqueTileId}), priority = (new Date).getTime() / 1E3;\n    this.tilesLoading.push(uniqueTileId);\n    ee.MapTileManager.getInstance().send(uniqueTileId, src, priority, goog.bind(this.handleImageCompleted_, this, div, uniqueTileId));\n    this.dispatchTileEvent_();\n    return div;\n};\nee.MapLayerOverlay.prototype.getLoadedTilesCount = function() {\n    return this.tiles_.getCount();\n};\nee.MapLayerOverlay.prototype.getLoadingTilesCount = function() {\n    return this.tilesLoading.length;\n};\nee.MapLayerOverlay.prototype.releaseTile = function(tileDiv) {\n    ee.MapTileManager.getInstance().abort(tileDiv.id);\n    var tileImg = goog.dom.getFirstElementChild(tileDiv);\n    this.tiles_.remove(tileImg);\n    "" !== tileDiv.id && (this.tilesFailed.remove(tileDiv.id), this.profiler_ && this.profiler_.removeTile(tileDiv.id));\n};\nee.MapLayerOverlay.prototype.setOpacity = function(opacity) {\n    this.opacity_ = opacity;\n    var iter = this.tiles_.__iterator__();\n    goog.iter.forEach(iter, function(tile) {\n        goog.style.setOpacity(tile, opacity);\n    });\n};\ngoog.exportProperty(ee.MapLayerOverlay.prototype, "getTile", ee.MapLayerOverlay.prototype.getTile);\ngoog.exportProperty(ee.MapLayerOverlay.prototype, "setOpacity", ee.MapLayerOverlay.prototype.setOpacity);\ngoog.exportProperty(ee.MapLayerOverlay.prototype, "releaseTile", ee.MapLayerOverlay.prototype.releaseTile);\nee.MapLayerOverlay.prototype.handleImageCompleted_ = function(div, tileId, e, profileId) {\n    if (e.type == goog.net.EventType.ERROR) {\n        goog.array.remove(this.tilesLoading, tileId), this.tilesFailed.add(tileId), this.dispatchEvent(e);\n    } else {\n        goog.array.remove(this.tilesLoading, tileId);\n        var tile;\n        e.target && e.type == goog.events.EventType.LOAD && (tile = e.target, this.tiles_.add(tile), 1 != this.opacity_ && goog.style.setOpacity(tile, this.opacity_), div.appendChild(tile));\n        this.dispatchTileEvent_();\n    }\n    this.profiler_ && !goog.isNull(profileId) && this.profiler_.addTile(tileId, profileId);\n};\nee.SavedFunction = function(path, signature) {\n    if (!(this instanceof ee.SavedFunction)) {\n        return new ee.SavedFunction(path, signature);\n    }\n    this.path_ = path;\n    this.signature_ = signature;\n};\ngoog.inherits(ee.SavedFunction, ee.Function);\ngoog.exportSymbol("ee.SavedFunction", ee.SavedFunction);\nee.SavedFunction.prototype.encode = function(encoder) {\n    return ee.ApiFunction._call("LoadAlgorithmById", this.path_).encode(encoder);\n};\nee.SavedFunction.prototype.getSignature = function() {\n    return this.signature_;\n};\nee.Package = function(opt_path) {\n    if (opt_path && ee.Package.importedPackages_[opt_path]) {\n        return ee.Package.importedPackages_[opt_path];\n    }\n    if (!(this instanceof ee.Package)) {\n        return new ee.Package(opt_path);\n    }\n    if (opt_path) {\n        for (var contents = ee.Package.getFolder(opt_path), i = 0;i < contents.length;i++) {\n            var parts = contents[i].id.split("/"), name = parts[parts.length - 1];\n            this[name] = ee.Package.makeInvocation_(opt_path, name, contents[i]);\n        }\n        ee.Package.importedPackages_[opt_path] = this;\n    }\n};\nee.Package.importedPackages_ = {};\nee.Package.makeFunction = function(signature, body) {\n    "string" == typeof signature && (signature = ee.Package.decodeDecl(signature));\n    var func = function() {\n        throw Error("Package not saved.");\n    };\n    func.body = body;\n    func.signature = signature;\n    return func;\n};\nee.Package.save = function(pkg, path) {\n    var args = ee.arguments.extract(ee.Package.save, arguments);\n    pkg = args.pkg;\n    path = args.path;\n    if (!path) {\n        throw Error("No path specified.");\n    }\n    var original = {}, name;\n    for (name in pkg) {\n        if (pkg.hasOwnProperty(name)) {\n            var member = pkg[name];\n            if (member instanceof Function) {\n                if (member.isSaved) {\n                    var expected = path + "/" + name;\n                    if (member.path != expected) {\n                        throw Error("Function name mismatch.  Expected path: " + expected + " but found: " + member.path);\n                    }\n                } else {\n                    if ("signature" in member) {\n                        original[name] = member, pkg[name] = ee.Package.makeInvocation_(path, name, member.signature);\n                    } else {\n                        throw Error("No signature for function: " + name);\n                    }\n                }\n            } else {\n                throw Error("Can\'t save constants: " + name);\n            }\n        }\n    }\n    var custom = [];\n    for (name in original) {\n        var body = original[name].body, signature = original[name].signature, func = new ee.CustomFunction(signature, body);\n        custom.push({name:name, algorithm:ee.ApiFunction._call("SavedAlgorithm", func, signature, {text:body.toString()})});\n    }\n    if (custom.length) {\n        try {\n            ee.data.createFolder(path);\n        } catch (e) {\n            if (!e.message.match(/exists/)) {\n                throw e;\n            }\n        }\n        for (var index = 0;index < custom.length;index++) {\n            name = custom[index].name;\n            var algorithm = custom[index].algorithm.serialize();\n            ee.data.createAsset(algorithm, path + "/" + name);\n        }\n    }\n};\nee.Package.getFolder = function(path) {\n    return ee.ApiFunction.lookup("LoadFolder").call(path).getInfo();\n};\nee.Package.decodeDecl = function(decl) {\n    var parts = decl.match(/\\w+|\\S/g), cur = 0, expect = function(regex) {\n        var match = parts[cur] && parts[cur].match(regex);\n        if (match) {\n            return cur++, match[0];\n        }\n        throw Error("Unable to decode declaration.");\n    }, type = expect(/\\w+/);\n    expect(/\\w+/);\n    expect(/\\(/);\n    for (var collected = [];parts[cur] && !parts[cur].match("\\\\)");) {\n        collected.length && expect(","), collected.push({type:expect(/\\w+/), name:expect(/\\w+/)});\n    }\n    expect(/\\)/);\n    ";" == parts[cur] && expect(";");\n    if (parts[cur]) {\n        throw Error("Unable to decode declaration.  Found extra trailing input.");\n    }\n    return {returns:type, args:collected};\n};\nee.Package.encodeDecl_ = function(signature, name) {\n    var out = [signature.returns, " ", name, "("];\n    if (signature.args) {\n        for (var i = 0;i < signature.args.length;i++) {\n            0 < i && out.push(", "), out.push(signature.args[i].type + " " + signature.args[i].name);\n        }\n    }\n    out.push(")");\n    return out.join("");\n};\nee.Package.makeInvocation_ = function(path, name, signature) {\n    var savedFunction = new ee.SavedFunction(path + "/" + name, signature), fn = function(var_args) {\n        var args = Array.prototype.slice.call(arguments);\n        return savedFunction.call.apply(savedFunction, args);\n    };\n    fn.toString = function() {\n        return signature.returns + " " + savedFunction.toString(name);\n    };\n    fn.isSaved = !0;\n    return fn;\n};\ngoog.async.Delay = function(listener, opt_interval, opt_handler) {\n    goog.Disposable.call(this);\n    this.listener_ = listener;\n    this.interval_ = opt_interval || 0;\n    this.handler_ = opt_handler;\n    this.callback_ = goog.bind(this.doAction_, this);\n};\ngoog.inherits(goog.async.Delay, goog.Disposable);\ngoog.Delay = goog.async.Delay;\ngoog.async.Delay.prototype.id_ = 0;\ngoog.async.Delay.prototype.disposeInternal = function() {\n    goog.async.Delay.superClass_.disposeInternal.call(this);\n    this.stop();\n    delete this.listener_;\n    delete this.handler_;\n};\ngoog.async.Delay.prototype.start = function(opt_interval) {\n    this.stop();\n    this.id_ = goog.Timer.callOnce(this.callback_, goog.isDef(opt_interval) ? opt_interval : this.interval_);\n};\ngoog.async.Delay.prototype.startIfNotActive = function(opt_interval) {\n    this.isActive() || this.start(opt_interval);\n};\ngoog.async.Delay.prototype.stop = function() {\n    this.isActive() && goog.Timer.clear(this.id_);\n    this.id_ = 0;\n};\ngoog.async.Delay.prototype.fire = function() {\n    this.stop();\n    this.doAction_();\n};\ngoog.async.Delay.prototype.fireIfActive = function() {\n    this.isActive() && this.fire();\n};\ngoog.async.Delay.prototype.isActive = function() {\n    return 0 != this.id_;\n};\ngoog.async.Delay.prototype.doAction_ = function() {\n    this.id_ = 0;\n    this.listener_ && this.listener_.call(this.handler_);\n};\nee.data.Profiler = function(format) {\n    goog.events.EventTarget.call(this);\n    this.format_ = format;\n    this.isEnabled_ = !1;\n    this.lastRefreshToken_ = null;\n    this.profileIds_ = Object.create(null);\n    this.tileProfileIds_ = Object.create(null);\n    this.showInternal_ = !1;\n    this.throttledRefresh_ = new goog.async.Delay(goog.bind(this.refresh_, this), ee.data.Profiler.DELAY_BEFORE_REFRESH_);\n    this.profileData_ = ee.data.Profiler.getEmptyProfile_(format);\n};\ngoog.inherits(ee.data.Profiler, goog.events.EventTarget);\nee.data.Profiler.DELAY_BEFORE_REFRESH_ = 500;\nee.data.Profiler.prototype.isEnabled = function() {\n    return this.isEnabled_;\n};\nee.data.Profiler.prototype.setEnabled = function(value) {\n    this.isEnabled_ = !!value;\n    this.dispatchEvent(new goog.events.Event(ee.data.Profiler.EventType.STATE_CHANGED));\n};\nee.data.Profiler.prototype.isLoading = function() {\n    return null !== this.lastRefreshToken_;\n};\nee.data.Profiler.prototype.isError = function() {\n    return goog.isDefAndNotNull(this.profileError_);\n};\nee.data.Profiler.prototype.getStatusText = function() {\n    if (this.profileError_) {\n        return this.profileError_;\n    }\n    if (this.lastRefreshToken_) {\n        return "Loading...";\n    }\n    var profiles = 0, nonTileProfiles = 0, tileProfiles = 0;\n    goog.object.forEach(this.profileIds_, function(refCount) {\n        profiles++;\n        Infinity === refCount ? nonTileProfiles++ : tileProfiles++;\n    }, this);\n    return "Viewing " + profiles + " profiles, " + nonTileProfiles + " from API calls and " + tileProfiles + " from map tiles.";\n};\nee.data.Profiler.prototype.getProfileData = function() {\n    return this.profileData_;\n};\nee.data.Profiler.prototype.clearAndDrop = function() {\n    this.profileIds_ = Object.create(null);\n    this.tileProfileIds_ = Object.create(null);\n    this.refresh_();\n};\nee.data.Profiler.prototype.getProfileHook = function() {\n    var profileIds = this.profileIds_;\n    return this.isEnabled_ ? goog.bind(function(profileId) {\n        profileIds[profileId] = Infinity;\n        this.throttledRefresh_.start();\n    }, this) : null;\n};\nee.data.Profiler.prototype.removeProfile_ = function(profileId) {\n    var count = this.profileIds_[profileId];\n    1 < count ? this.profileIds_[profileId]-- : void 0 !== count && (delete this.profileIds_[profileId], this.throttledRefresh_.start());\n};\nee.data.Profiler.prototype.refresh_ = function() {\n    var marker = {};\n    this.lastRefreshToken_ = marker;\n    var handleResponse = goog.bind(function(result, error) {\n        marker == this.lastRefreshToken_ && (this.profileData_ = (this.profileError_ = error) ? ee.data.Profiler.getEmptyProfile_(this.format_) : result, this.lastRefreshToken_ = null, this.dispatchEvent(ee.data.Profiler.EventType.STATE_CHANGED), this.dispatchEvent(ee.data.Profiler.EventType.DATA_CHANGED));\n    }, this), ids = goog.object.getKeys(this.profileIds_);\n    0 === ids.length ? handleResponse(ee.data.Profiler.getEmptyProfile_(this.format_), void 0) : (ee.ApiFunction._apply(this.showInternal_ ? "Profile.getProfilesInternal" : "Profile.getProfiles", {ids:ids, format:this.format_}).getInfo(handleResponse), this.dispatchEvent(ee.data.Profiler.EventType.STATE_CHANGED));\n};\nee.data.Profiler.prototype.addTile = function(tileId, profileId) {\n    this.tileProfileIds_[tileId] || (this.tileProfileIds_[tileId] = profileId, this.profileIds_[profileId] = (this.profileIds_[profileId] || 0) + 1, this.throttledRefresh_.start());\n};\nee.data.Profiler.prototype.removeTile = function(tileId) {\n    var profileId = this.tileProfileIds_[tileId];\n    profileId && (delete this.tileProfileIds_[tileId], this.removeProfile_(profileId));\n};\nee.data.Profiler.prototype.getShowInternal = function() {\n    return this.showInternal_;\n};\nee.data.Profiler.prototype.setShowInternal = function(value) {\n    this.showInternal_ = !!value;\n    this.throttledRefresh_.fire();\n};\nee.data.Profiler.prototype.setParentEventTarget = function(parent) {\n    throw Error("not applicable");\n};\nee.data.Profiler.getEmptyProfile_ = function(format) {\n    switch(format) {\n        case ee.data.Profiler.Format.TEXT:\n            return "";\n        case ee.data.Profiler.Format.JSON:\n            return ee.data.Profiler.EMPTY_JSON_PROFILE_;\n        default:\n            throw Error("Invalid Profiler data format: " + format);\n    }\n};\nee.data.Profiler.EMPTY_JSON_PROFILE_ = {cols:[], rows:[]};\nee.data.Profiler.EventType = {STATE_CHANGED:"statechanged", DATA_CHANGED:"datachanged"};\nee.data.Profiler.Format = {TEXT:"text", JSON:"json"};\n';
},function(module,exports){module.exports="(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.rbush = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nmodule.exports = rbush;\n\nvar quickselect = require('quickselect');\n\nfunction rbush(maxEntries, format) {\n    if (!(this instanceof rbush)) return new rbush(maxEntries, format);\n\n    // max entries in a node is 9 by default; min node fill is 40% for best performance\n    this._maxEntries = Math.max(4, maxEntries || 9);\n    this._minEntries = Math.max(2, Math.ceil(this._maxEntries * 0.4));\n\n    if (format) {\n        this._initFormat(format);\n    }\n\n    this.clear();\n}\n\nrbush.prototype = {\n\n    all: function () {\n        return this._all(this.data, []);\n    },\n\n    search: function (bbox) {\n\n        var node = this.data,\n            result = [],\n            toBBox = this.toBBox;\n\n        if (!intersects(bbox, node)) return result;\n\n        var nodesToSearch = [],\n            i, len, child, childBBox;\n\n        while (node) {\n            for (i = 0, len = node.children.length; i < len; i++) {\n\n                child = node.children[i];\n                childBBox = node.leaf ? toBBox(child) : child;\n\n                if (intersects(bbox, childBBox)) {\n                    if (node.leaf) result.push(child);\n                    else if (contains(bbox, childBBox)) this._all(child, result);\n                    else nodesToSearch.push(child);\n                }\n            }\n            node = nodesToSearch.pop();\n        }\n\n        return result;\n    },\n\n    collides: function (bbox) {\n\n        var node = this.data,\n            toBBox = this.toBBox;\n\n        if (!intersects(bbox, node)) return false;\n\n        var nodesToSearch = [],\n            i, len, child, childBBox;\n\n        while (node) {\n            for (i = 0, len = node.children.length; i < len; i++) {\n\n                child = node.children[i];\n                childBBox = node.leaf ? toBBox(child) : child;\n\n                if (intersects(bbox, childBBox)) {\n                    if (node.leaf || contains(bbox, childBBox)) return true;\n                    nodesToSearch.push(child);\n                }\n            }\n            node = nodesToSearch.pop();\n        }\n\n        return false;\n    },\n\n    load: function (data) {\n        if (!(data && data.length)) return this;\n\n        if (data.length < this._minEntries) {\n            for (var i = 0, len = data.length; i < len; i++) {\n                this.insert(data[i]);\n            }\n            return this;\n        }\n\n        // recursively build the tree with the given data from stratch using OMT algorithm\n        var node = this._build(data.slice(), 0, data.length - 1, 0);\n\n        if (!this.data.children.length) {\n            // save as is if tree is empty\n            this.data = node;\n\n        } else if (this.data.height === node.height) {\n            // split root if trees have the same height\n            this._splitRoot(this.data, node);\n\n        } else {\n            if (this.data.height < node.height) {\n                // swap trees if inserted one is bigger\n                var tmpNode = this.data;\n                this.data = node;\n                node = tmpNode;\n            }\n\n            // insert the small tree into the large tree at appropriate level\n            this._insert(node, this.data.height - node.height - 1, true);\n        }\n\n        return this;\n    },\n\n    insert: function (item) {\n        if (item) this._insert(item, this.data.height - 1);\n        return this;\n    },\n\n    clear: function () {\n        this.data = createNode([]);\n        return this;\n    },\n\n    remove: function (item, equalsFn) {\n        if (!item) return this;\n\n        var node = this.data,\n            bbox = this.toBBox(item),\n            path = [],\n            indexes = [],\n            i, parent, index, goingUp;\n\n        // depth-first iterative tree traversal\n        while (node || path.length) {\n\n            if (!node) { // go up\n                node = path.pop();\n                parent = path[path.length - 1];\n                i = indexes.pop();\n                goingUp = true;\n            }\n\n            if (node.leaf) { // check current node\n                index = findItem(item, node.children, equalsFn);\n\n                if (index !== -1) {\n                    // item found, remove the item and condense tree upwards\n                    node.children.splice(index, 1);\n                    path.push(node);\n                    this._condense(path);\n                    return this;\n                }\n            }\n\n            if (!goingUp && !node.leaf && contains(node, bbox)) { // go down\n                path.push(node);\n                indexes.push(i);\n                i = 0;\n                parent = node;\n                node = node.children[0];\n\n            } else if (parent) { // go right\n                i++;\n                node = parent.children[i];\n                goingUp = false;\n\n            } else node = null; // nothing found\n        }\n\n        return this;\n    },\n\n    toBBox: function (item) { return item; },\n\n    compareMinX: compareNodeMinX,\n    compareMinY: compareNodeMinY,\n\n    toJSON: function () { return this.data; },\n\n    fromJSON: function (data) {\n        this.data = data;\n        return this;\n    },\n\n    _all: function (node, result) {\n        var nodesToSearch = [];\n        while (node) {\n            if (node.leaf) result.push.apply(result, node.children);\n            else nodesToSearch.push.apply(nodesToSearch, node.children);\n\n            node = nodesToSearch.pop();\n        }\n        return result;\n    },\n\n    _build: function (items, left, right, height) {\n\n        var N = right - left + 1,\n            M = this._maxEntries,\n            node;\n\n        if (N <= M) {\n            // reached leaf level; return leaf\n            node = createNode(items.slice(left, right + 1));\n            calcBBox(node, this.toBBox);\n            return node;\n        }\n\n        if (!height) {\n            // target height of the bulk-loaded tree\n            height = Math.ceil(Math.log(N) / Math.log(M));\n\n            // target number of root entries to maximize storage utilization\n            M = Math.ceil(N / Math.pow(M, height - 1));\n        }\n\n        node = createNode([]);\n        node.leaf = false;\n        node.height = height;\n\n        // split the items into M mostly square tiles\n\n        var N2 = Math.ceil(N / M),\n            N1 = N2 * Math.ceil(Math.sqrt(M)),\n            i, j, right2, right3;\n\n        multiSelect(items, left, right, N1, this.compareMinX);\n\n        for (i = left; i <= right; i += N1) {\n\n            right2 = Math.min(i + N1 - 1, right);\n\n            multiSelect(items, i, right2, N2, this.compareMinY);\n\n            for (j = i; j <= right2; j += N2) {\n\n                right3 = Math.min(j + N2 - 1, right2);\n\n                // pack each entry recursively\n                node.children.push(this._build(items, j, right3, height - 1));\n            }\n        }\n\n        calcBBox(node, this.toBBox);\n\n        return node;\n    },\n\n    _chooseSubtree: function (bbox, node, level, path) {\n\n        var i, len, child, targetNode, area, enlargement, minArea, minEnlargement;\n\n        while (true) {\n            path.push(node);\n\n            if (node.leaf || path.length - 1 === level) break;\n\n            minArea = minEnlargement = Infinity;\n\n            for (i = 0, len = node.children.length; i < len; i++) {\n                child = node.children[i];\n                area = bboxArea(child);\n                enlargement = enlargedArea(bbox, child) - area;\n\n                // choose entry with the least area enlargement\n                if (enlargement < minEnlargement) {\n                    minEnlargement = enlargement;\n                    minArea = area < minArea ? area : minArea;\n                    targetNode = child;\n\n                } else if (enlargement === minEnlargement) {\n                    // otherwise choose one with the smallest area\n                    if (area < minArea) {\n                        minArea = area;\n                        targetNode = child;\n                    }\n                }\n            }\n\n            node = targetNode || node.children[0];\n        }\n\n        return node;\n    },\n\n    _insert: function (item, level, isNode) {\n\n        var toBBox = this.toBBox,\n            bbox = isNode ? item : toBBox(item),\n            insertPath = [];\n\n        // find the best node for accommodating the item, saving all nodes along the path too\n        var node = this._chooseSubtree(bbox, this.data, level, insertPath);\n\n        // put the item into the node\n        node.children.push(item);\n        extend(node, bbox);\n\n        // split on node overflow; propagate upwards if necessary\n        while (level >= 0) {\n            if (insertPath[level].children.length > this._maxEntries) {\n                this._split(insertPath, level);\n                level--;\n            } else break;\n        }\n\n        // adjust bboxes along the insertion path\n        this._adjustParentBBoxes(bbox, insertPath, level);\n    },\n\n    // split overflowed node into two\n    _split: function (insertPath, level) {\n\n        var node = insertPath[level],\n            M = node.children.length,\n            m = this._minEntries;\n\n        this._chooseSplitAxis(node, m, M);\n\n        var splitIndex = this._chooseSplitIndex(node, m, M);\n\n        var newNode = createNode(node.children.splice(splitIndex, node.children.length - splitIndex));\n        newNode.height = node.height;\n        newNode.leaf = node.leaf;\n\n        calcBBox(node, this.toBBox);\n        calcBBox(newNode, this.toBBox);\n\n        if (level) insertPath[level - 1].children.push(newNode);\n        else this._splitRoot(node, newNode);\n    },\n\n    _splitRoot: function (node, newNode) {\n        // split root node\n        this.data = createNode([node, newNode]);\n        this.data.height = node.height + 1;\n        this.data.leaf = false;\n        calcBBox(this.data, this.toBBox);\n    },\n\n    _chooseSplitIndex: function (node, m, M) {\n\n        var i, bbox1, bbox2, overlap, area, minOverlap, minArea, index;\n\n        minOverlap = minArea = Infinity;\n\n        for (i = m; i <= M - m; i++) {\n            bbox1 = distBBox(node, 0, i, this.toBBox);\n            bbox2 = distBBox(node, i, M, this.toBBox);\n\n            overlap = intersectionArea(bbox1, bbox2);\n            area = bboxArea(bbox1) + bboxArea(bbox2);\n\n            // choose distribution with minimum overlap\n            if (overlap < minOverlap) {\n                minOverlap = overlap;\n                index = i;\n\n                minArea = area < minArea ? area : minArea;\n\n            } else if (overlap === minOverlap) {\n                // otherwise choose distribution with minimum area\n                if (area < minArea) {\n                    minArea = area;\n                    index = i;\n                }\n            }\n        }\n\n        return index;\n    },\n\n    // sorts node children by the best axis for split\n    _chooseSplitAxis: function (node, m, M) {\n\n        var compareMinX = node.leaf ? this.compareMinX : compareNodeMinX,\n            compareMinY = node.leaf ? this.compareMinY : compareNodeMinY,\n            xMargin = this._allDistMargin(node, m, M, compareMinX),\n            yMargin = this._allDistMargin(node, m, M, compareMinY);\n\n        // if total distributions margin value is minimal for x, sort by minX,\n        // otherwise it's already sorted by minY\n        if (xMargin < yMargin) node.children.sort(compareMinX);\n    },\n\n    // total margin of all possible split distributions where each node is at least m full\n    _allDistMargin: function (node, m, M, compare) {\n\n        node.children.sort(compare);\n\n        var toBBox = this.toBBox,\n            leftBBox = distBBox(node, 0, m, toBBox),\n            rightBBox = distBBox(node, M - m, M, toBBox),\n            margin = bboxMargin(leftBBox) + bboxMargin(rightBBox),\n            i, child;\n\n        for (i = m; i < M - m; i++) {\n            child = node.children[i];\n            extend(leftBBox, node.leaf ? toBBox(child) : child);\n            margin += bboxMargin(leftBBox);\n        }\n\n        for (i = M - m - 1; i >= m; i--) {\n            child = node.children[i];\n            extend(rightBBox, node.leaf ? toBBox(child) : child);\n            margin += bboxMargin(rightBBox);\n        }\n\n        return margin;\n    },\n\n    _adjustParentBBoxes: function (bbox, path, level) {\n        // adjust bboxes along the given tree path\n        for (var i = level; i >= 0; i--) {\n            extend(path[i], bbox);\n        }\n    },\n\n    _condense: function (path) {\n        // go through the path, removing empty nodes and updating bboxes\n        for (var i = path.length - 1, siblings; i >= 0; i--) {\n            if (path[i].children.length === 0) {\n                if (i > 0) {\n                    siblings = path[i - 1].children;\n                    siblings.splice(siblings.indexOf(path[i]), 1);\n\n                } else this.clear();\n\n            } else calcBBox(path[i], this.toBBox);\n        }\n    },\n\n    _initFormat: function (format) {\n        // data format (minX, minY, maxX, maxY accessors)\n\n        // uses eval-type function compilation instead of just accepting a toBBox function\n        // because the algorithms are very sensitive to sorting functions performance,\n        // so they should be dead simple and without inner calls\n\n        var compareArr = ['return a', ' - b', ';'];\n\n        this.compareMinX = new Function('a', 'b', compareArr.join(format[0]));\n        this.compareMinY = new Function('a', 'b', compareArr.join(format[1]));\n\n        this.toBBox = new Function('a',\n            'return {minX: a' + format[0] +\n            ', minY: a' + format[1] +\n            ', maxX: a' + format[2] +\n            ', maxY: a' + format[3] + '};');\n    }\n};\n\nfunction findItem(item, items, equalsFn) {\n    if (!equalsFn) return items.indexOf(item);\n\n    for (var i = 0; i < items.length; i++) {\n        if (equalsFn(item, items[i])) return i;\n    }\n    return -1;\n}\n\n// calculate node's bbox from bboxes of its children\nfunction calcBBox(node, toBBox) {\n    distBBox(node, 0, node.children.length, toBBox, node);\n}\n\n// min bounding rectangle of node children from k to p-1\nfunction distBBox(node, k, p, toBBox, destNode) {\n    if (!destNode) destNode = createNode(null);\n    destNode.minX = Infinity;\n    destNode.minY = Infinity;\n    destNode.maxX = -Infinity;\n    destNode.maxY = -Infinity;\n\n    for (var i = k, child; i < p; i++) {\n        child = node.children[i];\n        extend(destNode, node.leaf ? toBBox(child) : child);\n    }\n\n    return destNode;\n}\n\nfunction extend(a, b) {\n    a.minX = Math.min(a.minX, b.minX);\n    a.minY = Math.min(a.minY, b.minY);\n    a.maxX = Math.max(a.maxX, b.maxX);\n    a.maxY = Math.max(a.maxY, b.maxY);\n    return a;\n}\n\nfunction compareNodeMinX(a, b) { return a.minX - b.minX; }\nfunction compareNodeMinY(a, b) { return a.minY - b.minY; }\n\nfunction bboxArea(a)   { return (a.maxX - a.minX) * (a.maxY - a.minY); }\nfunction bboxMargin(a) { return (a.maxX - a.minX) + (a.maxY - a.minY); }\n\nfunction enlargedArea(a, b) {\n    return (Math.max(b.maxX, a.maxX) - Math.min(b.minX, a.minX)) *\n           (Math.max(b.maxY, a.maxY) - Math.min(b.minY, a.minY));\n}\n\nfunction intersectionArea(a, b) {\n    var minX = Math.max(a.minX, b.minX),\n        minY = Math.max(a.minY, b.minY),\n        maxX = Math.min(a.maxX, b.maxX),\n        maxY = Math.min(a.maxY, b.maxY);\n\n    return Math.max(0, maxX - minX) *\n           Math.max(0, maxY - minY);\n}\n\nfunction contains(a, b) {\n    return a.minX <= b.minX &&\n           a.minY <= b.minY &&\n           b.maxX <= a.maxX &&\n           b.maxY <= a.maxY;\n}\n\nfunction intersects(a, b) {\n    return b.minX <= a.maxX &&\n           b.minY <= a.maxY &&\n           b.maxX >= a.minX &&\n           b.maxY >= a.minY;\n}\n\nfunction createNode(children) {\n    return {\n        children: children,\n        height: 1,\n        leaf: true,\n        minX: Infinity,\n        minY: Infinity,\n        maxX: -Infinity,\n        maxY: -Infinity\n    };\n}\n\n// sort an array so that items come in groups of n unsorted items, with groups sorted between each other;\n// combines selection algorithm with binary divide & conquer approach\n\nfunction multiSelect(arr, left, right, n, compare) {\n    var stack = [left, right],\n        mid;\n\n    while (stack.length) {\n        right = stack.pop();\n        left = stack.pop();\n\n        if (right - left <= n) continue;\n\n        mid = left + Math.ceil((right - left) / n / 2) * n;\n        quickselect(arr, mid, left, right, compare);\n\n        stack.push(left, mid, mid, right);\n    }\n}\n\n},{\"quickselect\":2}],2:[function(require,module,exports){\n'use strict';\n\nmodule.exports = partialSort;\n\n// Floyd-Rivest selection algorithm:\n// Rearrange items so that all items in the [left, k] range are smaller than all items in (k, right];\n// The k-th element will have the (k - left + 1)th smallest value in [left, right]\n\nfunction partialSort(arr, k, left, right, compare) {\n\n    while (right > left) {\n        if (right - left > 600) {\n            var n = right - left + 1;\n            var m = k - left + 1;\n            var z = Math.log(n);\n            var s = 0.5 * Math.exp(2 * z / 3);\n            var sd = 0.5 * Math.sqrt(z * s * (n - s) / n) * (m - n / 2 < 0 ? -1 : 1);\n            var newLeft = Math.max(left, Math.floor(k - m * s / n + sd));\n            var newRight = Math.min(right, Math.floor(k + (n - m) * s / n + sd));\n            partialSort(arr, k, newLeft, newRight, compare);\n        }\n\n        var t = arr[k];\n        var i = left;\n        var j = right;\n\n        swap(arr, left, k);\n        if (compare(arr[right], t) > 0) swap(arr, left, right);\n\n        while (i < j) {\n            swap(arr, i, j);\n            i++;\n            j--;\n            while (compare(arr[i], t) < 0) i++;\n            while (compare(arr[j], t) > 0) j--;\n        }\n\n        if (compare(arr[left], t) === 0) swap(arr, left, j);\n        else {\n            j++;\n            swap(arr, j, right);\n        }\n\n        if (j <= k) left = j + 1;\n        if (k <= j) right = j - 1;\n    }\n}\n\nfunction swap(arr, i, j) {\n    var tmp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = tmp;\n}\n\nfunction defaultCompare(a, b) {\n    return a < b ? -1 : a > b ? 1 : 0;\n}\n\n},{}]},{},[1])(1)\n});"},function(module,exports,__webpack_require__){__webpack_require__(75)(__webpack_require__(162))},function(module,exports,__webpack_require__){__webpack_require__(75)(__webpack_require__(163))},function(module,exports,__webpack_require__){"use strict";function TinyQueue(data,compare){if(!(this instanceof TinyQueue))return new TinyQueue(data,compare);if(this.data=data||[],this.length=this.data.length,this.compare=compare||defaultCompare,data)for(var i=Math.floor(this.length/2);i>=0;i--)this._down(i)}function defaultCompare(a,b){return a<b?-1:a>b?1:0}function swap(data,i,j){var tmp=data[i];data[i]=data[j],data[j]=tmp}module.exports=TinyQueue,TinyQueue.prototype={push:function(item){this.data.push(item),this.length++,this._up(this.length-1)},pop:function(){var top=this.data[0];return this.data[0]=this.data[this.length-1],this.length--,this.data.pop(),this._down(0),top},peek:function(){return this.data[0]},_up:function(pos){for(var data=this.data,compare=this.compare;pos>0;){var parent=Math.floor((pos-1)/2);if(!(compare(data[pos],data[parent])<0))break;swap(data,parent,pos),pos=parent}},_down:function(pos){for(var data=this.data,compare=this.compare,len=this.length;;){var left=2*pos+1,right=left+1,min=pos;if(left<len&&compare(data[left],data[min])<0&&(min=left),right<len&&compare(data[right],data[min])<0&&(min=right),min===pos)return;swap(data,min,pos),pos=min}}}},function(module,exports){module.exports.RADIUS=6378137,module.exports.FLATTENING=1/298.257223563,module.exports.POLAR_RADIUS=6356752.3142},function(module,exports,__webpack_require__){"use strict";function boundary(options){return new Boundary(options)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Boundary=void 0,exports.default=boundary;var _GeoJson=__webpack_require__(18),Boundary=exports.Boundary=_GeoJson.GeoJson.extend({options:{style:{opacity:1,fillOpacity:0,fill:!1,radius:5},highlightStyle:{weight:3}},initialize:function(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};options.pointToLayer||(options.pointToLayer=this.pointToLayer.bind(this)),_GeoJson.GeoJson.prototype.initialize.call(this,options)},addLayer:function(layer){var prop=layer.feature.properties;prop.style&&layer.setStyle(prop.style),_GeoJson.GeoJson.prototype.addLayer.call(this,layer)},setOpacity:function(opacity){this.setStyle({opacity:opacity})},pointToLayer:function(geojson,latlng){return this.options.style.pane=this.options.pane,new L.CircleMarker(latlng,this.options.style)},highlight:function(id){var layer=this.findById(id);if(this.removeHighlight(),layer)return this._highlight=layer.setStyle({fillOpacity:.5}),layer},removeHighlight:function(){this._highlight&&this._highlight.setStyle({fillOpacity:0})}})},function(module,exports,__webpack_require__){"use strict";function choropleth(options){return new Choropleth(options)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Choropleth=void 0,exports.default=choropleth;var _GeoJson=__webpack_require__(18),Choropleth=exports.Choropleth=_GeoJson.GeoJson.extend({options:{style:{color:"#333",weight:1,fillOpacity:.8},highlightStyle:{weight:3},valueKey:"value",colorKey:"color",radiusKey:"radius"},initialize:function(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};options.pointToLayer||(options.pointToLayer=this.pointToLayer.bind(this)),_GeoJson.GeoJson.prototype.initialize.call(this,options)},addLayer:function(layer){var prop=layer.feature.properties,color=prop[this.options.colorKey],radius=prop[this.options.radiusKey];color&&layer.setStyle&&layer.setStyle({fillColor:color}),radius&&layer.setRadius&&layer.setRadius(radius),_GeoJson.GeoJson.prototype.addLayer.call(this,layer)},highlight:function(id){var layer=this.findById(id);if(this.removeHighlight(),layer)return this._highlight=layer.setStyle(this.options.highlightStyle),layer},removeHighlight:function(){this._highlight&&this._highlight.setStyle(this.options.resetStyle)},pointToLayer:function(feature,latlng){return L.circleMarker(latlng,{pane:this.options.pane})}})},function(module,exports,__webpack_require__){"use strict";function circles(options){return new Circles(options)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Circles=void 0,exports.default=circles;var _GeoJson=__webpack_require__(18),Circles=exports.Circles=_GeoJson.GeoJson.extend({options:{radius:1e3,style:{color:"#95c8fb",weight:1}},initialize:function(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};options.pointToLayer||(options.pointToLayer=this.pointToLayer.bind(this)),_GeoJson.GeoJson.prototype.initialize.call(this,options)},pointToLayer:function(feature,latlng){return L.circle(latlng,this.options.radius)}})},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function dots(options){return new Dots(options)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Dots=void 0,exports.default=dots;var _GeoJson=__webpack_require__(18),_CircleMarker=__webpack_require__(24),_CircleMarker2=_interopRequireDefault(_CircleMarker),Dots=exports.Dots=_GeoJson.GeoJson.extend({initialize:function(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};options.pointToLayer||(options.pointToLayer=this.pointToLayer.bind(this)),_GeoJson.GeoJson.prototype.initialize.call(this,options),this.on("click",this.onMarkerClick,this)},onMarkerClick:function(evt){evt.layer.showPopup()},pointToLayer:function(feature){return(0,_CircleMarker2.default)(feature,this.options)}})},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function earthEngine(options){return new EarthEngine(options)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.EarthEngine=void 0,exports.default=earthEngine;var _leaflet=__webpack_require__(2),_leaflet2=_interopRequireDefault(_leaflet);__webpack_require__(164);var EarthEngine=exports.EarthEngine=_leaflet2.default.LayerGroup.extend({options:{url:"https://earthengine.googleapis.com/map/{mapid}/{z}/{x}/{y}?token={token}",tokenType:"Bearer",aggregation:"none",popup:"{name}: {value} {unit}"},initialize:function(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_leaflet2.default.setOptions(this,options),this._layers={},this._legend=options.legend||this.createLegend()},onAdd:function(){this.getAuthToken(this.onValidAuthToken.bind(this))},onRemove:function(map){this._popup&&map.closePopup(this._popup),_leaflet2.default.GeoJSON.prototype.onRemove.call(this,map)},getAuthToken:function(callback){var accessToken=this.options.accessToken;accessToken&&(accessToken instanceof Function?accessToken(callback):callback(accessToken))},onValidAuthToken:function(token){ee.data.setAuthToken(token.client_id,this.options.tokenType,token.access_token,token.expires_in,null,null,!1),ee.data.setAuthTokenRefresher(this.refreshAccessToken.bind(this)),ee.initialize(),this.createImage(),this.fire("initialized")},refreshAccessToken:function(authArgs,callback){var self=this;this.getAuthToken(function(token){callback({token_type:self.options.tokenType,access_token:token.access_token,state:authArgs.scope,expires_in:token.expires_in})})},createImage:function(){var options=this.options,eeCollection=void 0,eeImage=void 0;options.filter?(eeCollection=ee.ImageCollection(options.id),eeCollection=this.applyFilter(eeCollection),"mosaic"===options.aggregation?(this.eeCollection=eeCollection,eeImage=eeCollection.mosaic()):eeImage=ee.Image(eeCollection.first())):eeImage=ee.Image(options.id),options.band&&(eeImage=eeImage.select(options.band)),options.mask&&(eeImage=eeImage.updateMask(eeImage.gt(0))),eeImage=this.runMethods(eeImage),this.eeImage=eeImage,options.legend||(eeImage=this.classifyImage(eeImage)),this.addLayer(this.visualize(eeImage))},addLayer:function(eeImage){var eeMap=eeImage.getMap(),layer=_leaflet2.default.tileLayer(this.options.url,_leaflet2.default.extend({token:eeMap.token,mapid:eeMap.mapid},this.options));_leaflet2.default.LayerGroup.prototype.addLayer.call(this,layer)},applyFilter:function(collection,filterOpt){var filter=filterOpt||this.options.filter;if(filter){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=filter[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var item=_step.value;collection=collection.filter(ee.Filter[item.type].apply(this,item.arguments))}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}return collection},runMethods:function(image){var methods=this.options.methods,eeImage=image;return methods&&Object.keys(methods).forEach(function(method){eeImage[method]&&(eeImage=eeImage[method].apply(eeImage,methods[method]))}),eeImage},classifyImage:function(eeImage){for(var item,legend=this._legend,zones=void 0,i=0;i<legend.length-1;i++)item=legend[i],zones=zones?zones.add(eeImage.gt(item.to)):eeImage.gt(item.to);return zones},visualize:function(eeImage){var options=this.options;return eeImage.visualize(options.legend?options.params:{min:0,max:this._legend.length-1,palette:options.params.palette})},createLegend:function(){var params=this.options.params,min=params.min,max=params.max,palette=params.palette.split(","),step=(params.max-min)/(palette.length-(min>0?2:1)),from=min,to=Math.round(min+step);return palette.map(function(color,index){var item={color:color};return 0===index&&min>0?(item.from=0,item.to=min,item.name="< "+item.to,to=min):from<max?(item.from=from,item.to=to,item.name=item.from+" - "+item.to):(item.from=from,item.name="> "+item.from),from=to,to=Math.round(min+step*(index+(min>0?1:2))),item})},getLegend:function(){var options=this.options,legend='<div class="dhis2-legend">';legend+="<h2>"+options.name,options.image&&(legend+=" "+options.image),legend+="</h2>",options.description&&(legend+="<p>"+options.description+"</p>"),legend+="<dl>",options.unit&&(legend+="<dt></dt><dd><strong>"+options.unit+"</strong></dd>");for(var item,i=0;i<this._legend.length;i++)item=this._legend[i],legend+='<dt style="background-color:'+item.color+';box-shadow:1px 1px 2px #aaa;"></dt>',legend+="<dd>"+item.name;return legend+="</dl>",options.attribution&&(legend+="<p>Data: "+options.attribution+"</p>"),legend+="<div>"},setOpacity:function(opacity){this.options.opacity=opacity,this.eachLayer(function(layer){return layer.setOpacity(opacity)})},getValue:function(latlng,callback){var point=ee.Geometry.Point(latlng.lng,latlng.lat),options=this.options,dictionary=void 0;dictionary="mosaic"===options.aggregation?this.eeImage.reduceRegion(ee.Reducer.mean(),point,options.resolution,options.projection):this.eeImage.reduceRegion(ee.Reducer.mean(),point),dictionary.getInfo(function(valueObj){var band=options.band||Object.keys(valueObj)[0],value=valueObj[band];options.legend&&options.legend[value]?value=options.legend[value].name:options.value&&(value=options.value(value)),callback(value)})},showValue:function(latlng){var _this=this,options=this.options;this.getValue(latlng,function(value){_this._popup=_leaflet2.default.popup().setLatLng(latlng).setContent(_leaflet2.default.Util.template(options.popup,_leaflet2.default.extend({},options,{value:value}))).openOn(_this._map)})}})},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function fitBounds(options){return new FitBounds(options)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FitBounds=void 0,exports.default=fitBounds;var _leaflet=__webpack_require__(2),_leaflet2=_interopRequireDefault(_leaflet),FitBounds=exports.FitBounds=_leaflet2.default.Control.extend({options:{position:"topleft"},onAdd:function(map){return this._map=map,this._initLayout(),this._toggleControl(map.getLayersBounds().isValid()),map.on("layeradd",this._onLayerChange,this),map.on("layerremove",this._onLayerChange,this),this._container},onRemove:function(map){map.off("layeradd",this._onLayerChange,this),map.off("layerremove",this._onLayerChange,this),_leaflet2.default.Control.prototype.onRemove.call(this,map)},_initLayout:function(){var container=this._container=_leaflet2.default.DomUtil.create("div","leaflet-control-fit-bounds");
_leaflet2.default.DomEvent.disableClickPropagation(container),_leaflet2.default.Browser.touch||_leaflet2.default.DomEvent.disableScrollPropagation(container),container.title="Zoom to content",_leaflet2.default.DomEvent.on(container,"click",this._onClick,this)},_onClick:function(){var bounds=this._map.getLayersBounds();bounds.isValid()&&this._map.fitBounds(bounds)},_onLayerChange:function(evt){evt.layer instanceof _leaflet2.default.FeatureGroup&&this._toggleControl(this._map.getLayersBounds().isValid())},_toggleControl:function(isValidBounds){isValidBounds?this._container.style.display="block":this._container.style.display="none"}})},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function googleLayer(options){return new GoogleLayer(options)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.GoogleLayer=void 0,exports.default=googleLayer;var _leaflet=__webpack_require__(2),_leaflet2=_interopRequireDefault(_leaflet);__webpack_require__(158);var GoogleLayer=exports.GoogleLayer=_leaflet2.default.GridLayer.GoogleMutant.extend({options:{style:"ROADMAP",version:"3.26",apiKey:"AIzaSyBjlDmwuON9lJbPMDlh_LI3zGpGtpK9erc"},initialize:function(){var opts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},options=_leaflet2.default.setOptions(this,opts);options.type=options.style.toLowerCase(),this.googleMapsApiLoaded()||GoogleLayer._mapsApiLoading||this.loadGoogleMapsApi(),_leaflet2.default.GridLayer.GoogleMutant.prototype.initialize.call(this)},onAdd:function(map){_leaflet2.default.DomUtil.addClass(map.getContainer(),"leaflet-google"),_leaflet2.default.GridLayer.GoogleMutant.prototype.onAdd.call(this,map)},onRemove:function(map){_leaflet2.default.DomUtil.removeClass(map.getContainer(),"leaflet-google"),_leaflet2.default.GridLayer.GoogleMutant.prototype.onRemove.call(this,map)},googleMapsApiLoaded:function(){return"undefined"!=typeof google&&"undefined"!=typeof google.maps},loadGoogleMapsApi:function(){GoogleLayer._mapsApiLoading=!0;var script=document.createElement("script");script.src="//maps.googleapis.com/maps/api/js?key="+this.options.apiKey+"&v="+this.options.version,document.getElementsByTagName("head")[0].appendChild(script)}})},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function label(latlng,options){return new Label(latlng,options)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Label=void 0,exports.default=label;var _leaflet=__webpack_require__(2),_leaflet2=_interopRequireDefault(_leaflet),Label=exports.Label=_leaflet2.default.Marker.extend({options:{html:"Label",className:"leaflet-div-label",iconSize:null},initialize:function(latlng,opts){var options=_leaflet2.default.setOptions(this,opts);this._latlng=_leaflet2.default.latLng(latlng),options.icon=_leaflet2.default.divIcon(options)},onAdd:function(map){_leaflet2.default.Marker.prototype.onAdd.call(this,map);var options=this.options,iconDiv=this._icon;options.labelStyle&&_leaflet2.default.extend(iconDiv.style,options.labelStyle),iconDiv.style.marginLeft="-"+iconDiv.offsetWidth/2+"px","below"!==options.position&&(iconDiv.style.marginTop="-"+iconDiv.offsetHeight/2+"px")}})},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function legend(options){return new Legend(options)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Legend=void 0,exports.default=legend;var _leaflet=__webpack_require__(2),_leaflet2=_interopRequireDefault(_leaflet),Legend=exports.Legend=_leaflet2.default.Control.extend({options:{position:"topright",collapsed:!0,offset:[0,0]},initialize:function(opts){var options=_leaflet2.default.setOptions(this,opts);this._content=options.content||"",this._handlingClick=!1},onAdd:function(map){return this._initLayout(),this._map=map,this._container},setContent:function(content){this._legend.innerHTML=content,this._content=content},getContent:function(){return this._content},_initLayout:function(){var className="leaflet-control-legend",container=this._container=_leaflet2.default.DomUtil.create("div",className);if(container.setAttribute("aria-haspopup",!0),_leaflet2.default.DomEvent.disableClickPropagation(container),_leaflet2.default.Browser.touch||_leaflet2.default.DomEvent.disableScrollPropagation(container),this.options.collapsed){_leaflet2.default.Browser.android||_leaflet2.default.DomEvent.on(container,{mouseenter:this._expand,mouseleave:this._collapse},this);var link=this._legendLink=_leaflet2.default.DomUtil.create("a",className+"-toggle",container);link.href="#",link.title="Legend",_leaflet2.default.Browser.touch?_leaflet2.default.DomEvent.on(link,"click",_leaflet2.default.DomEvent.stop).on(link,"click",this._expand,this):_leaflet2.default.DomEvent.on(link,"focus",this._expand,this),this._map.on("click",this._collapse,this)}else this._expand();this._legend=_leaflet2.default.DomUtil.create("div",className+"-content",container),this.setContent(this._content)},_expand:function(){var offset=_leaflet2.default.point(this.options.offset);_leaflet2.default.DomUtil.addClass(this._container,"leaflet-control-legend-expanded"),this._container.style.left=offset.x+"px",this._container.style.top=offset.y+"px"},_collapse:function(){_leaflet2.default.DomUtil.removeClass(this._container,"leaflet-control-legend-expanded"),this._container.style.left=0,this._container.style.top=0}})},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function map(id,options){return new Map(id,options)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Map=void 0,exports.default=map,__webpack_require__(156),__webpack_require__(157);var _TileLayer=__webpack_require__(179),_TileLayer2=_interopRequireDefault(_TileLayer),_WmsLayer=__webpack_require__(180),_WmsLayer2=_interopRequireDefault(_WmsLayer),_GoogleLayer=__webpack_require__(174),_GoogleLayer2=_interopRequireDefault(_GoogleLayer),_Boundary=__webpack_require__(168),_Boundary2=_interopRequireDefault(_Boundary),_Dots=__webpack_require__(171),_Dots2=_interopRequireDefault(_Dots),_Markers=__webpack_require__(178),_Markers2=_interopRequireDefault(_Markers),_Circles=__webpack_require__(170),_Circles2=_interopRequireDefault(_Circles),_Choropleth=__webpack_require__(169),_Choropleth2=_interopRequireDefault(_Choropleth),_ClientCluster=__webpack_require__(181),_ClientCluster2=_interopRequireDefault(_ClientCluster),_ServerCluster=__webpack_require__(183),_ServerCluster2=_interopRequireDefault(_ServerCluster),_EarthEngine=__webpack_require__(172),_EarthEngine2=_interopRequireDefault(_EarthEngine),_Legend=__webpack_require__(176),_Legend2=_interopRequireDefault(_Legend),_FitBounds=__webpack_require__(173),_FitBounds2=_interopRequireDefault(_FitBounds),Map=exports.Map=L.Map.extend({options:{className:"leaflet-dhis2",layerTypes:{tileLayer:_TileLayer2.default,wmsLayer:_WmsLayer2.default,googleLayer:_GoogleLayer2.default,boundary:_Boundary2.default,dots:_Dots2.default,markers:_Markers2.default,circles:_Circles2.default,choropleth:_Choropleth2.default,clientCluster:_ClientCluster2.default,serverCluster:_ServerCluster2.default,earthEngine:_EarthEngine2.default},controlTypes:{legend:_Legend2.default,fitBounds:_FitBounds2.default},zoomControl:!1,controls:[],worldCopyJump:!0},initialize:function(id,opts){var options=L.setOptions(this,opts);this._baseLayers={},this._overlays={},L.Map.prototype.initialize.call(this,id,options),this.attributionControl.setPrefix(""),L.DomUtil.addClass(this.getContainer(),options.className),L.Icon.Default.imagePath="/images/",this.on("mousedown",function(e){e.originalEvent.stopPropagation()}),options.bounds&&this.fitBounds(options.bounds);var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=options.controls[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var control=_step.value;this.addControl(control)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}},addLayer:function(layer){var layerTypes=this.options.layerTypes,newLayer=layer;return layer.type&&layerTypes[layer.type]&&(newLayer=this.createLayer(layer),layer.baseLayer===!0?this._baseLayers[layer.name]=newLayer:layer.overlay===!0&&(this._overlays[layer.name]=newLayer)),L.Map.prototype.addLayer.call(this,newLayer),newLayer},createLayer:function(layer){return this.options.layerTypes[layer.type](layer)},addControl:function(control){var controlTypes=this.options.controlTypes,newControl=control;return control.type&&controlTypes[control.type]?newControl=controlTypes[control.type](control):control.type&&L.control[control.type]&&(newControl=L.control[control.type](control)),L.Map.prototype.addControl.call(this,newControl),newControl},getLayersBounds:function(){var bounds=new L.LatLngBounds;return this.eachLayer(function(layer){layer.getBounds&&"circles"!==layer.options.type&&bounds.extend(layer.getBounds())}),bounds}})},function(module,exports,__webpack_require__){"use strict";function markers(options){return new Markers(options)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Markers=void 0,exports.default=markers;var _GeoJson=__webpack_require__(18),Markers=exports.Markers=_GeoJson.GeoJson.extend({options:{highlightStyle:!1,markerOptions:{riseOnHover:!0},iconProperty:"icon"},initialize:function(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};options.pointToLayer||(options.pointToLayer=this.pointToLayer.bind(this)),_GeoJson.GeoJson.prototype.initialize.call(this,options)},pointToLayer:function(feature,latlng){var iconProperty=this.options.iconProperty,markerOptions=L.extend({},this.options.markerOptions);return this.options.label&&(markerOptions.label=L.Util.template(this.options.label,feature.properties),markerOptions.labelStyle=this.options.labelStyle),iconProperty&&feature.properties[iconProperty]&&(markerOptions.icon=L.icon(feature.properties[iconProperty])),L.marker(latlng,markerOptions)},setOpacity:function(opacity){this.eachLayer(function(layer){layer.setOpacity(opacity)})},highlight:function(id){var layer=this.findById(id);if(this.removeHighlight(),layer)return this._highlight=L.circleMarker(layer.getLatLng(),{radius:5,color:"orange",fillOpacity:0,className:"leaflet-marker-highlight"}).addTo(this._map),layer},removeHighlight:function(){this._highlight&&this._map.removeLayer(this._highlight)}})},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function tileLayer(options){return new TileLayer(options)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.TileLayer=void 0,exports.default=tileLayer;var _leaflet=__webpack_require__(2),_leaflet2=_interopRequireDefault(_leaflet),TileLayer=exports.TileLayer=_leaflet2.default.TileLayer.extend({options:{errorTileUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="},initialize:function(){var opts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},options=_leaflet2.default.setOptions(this,opts);_leaflet2.default.TileLayer.prototype.initialize.call(this,options.url,options),this.on("load",this.onLoad,this)},onLoad:function(){this.fire("ready"),this.off("load",this.onLoad,this)}})},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function wmsLayer(options){return new WmsLayer(options)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.WmsLayer=void 0,exports.default=wmsLayer;var _leaflet=__webpack_require__(2),_leaflet2=_interopRequireDefault(_leaflet),WmsLayer=exports.WmsLayer=_leaflet2.default.TileLayer.WMS.extend({initialize:function(opts){var options=_leaflet2.default.extend({errorTileUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=",format:"image/png",transparent:!0},opts);_leaflet2.default.TileLayer.WMS.prototype.initialize.call(this,options.url,options)}})},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function clientCluster(options){return new ClientCluster(options)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ClientCluster=void 0,exports.default=clientCluster;var _leaflet=__webpack_require__(2),_leaflet2=_interopRequireDefault(_leaflet),_ClusterIcon=__webpack_require__(76),_ClusterIcon2=_interopRequireDefault(_ClusterIcon),_CircleMarker=__webpack_require__(24),_CircleMarker2=_interopRequireDefault(_CircleMarker),_d3Scale=__webpack_require__(67);__webpack_require__(160);var ClientCluster=exports.ClientCluster=_leaflet2.default.MarkerClusterGroup.extend({options:{maxClusterRadius:40,showCoverageOnHover:!1,iconCreateFunction:function(cluster){var count=cluster.getChildCount();return cluster.options.opacity=this.opacity,(0,_ClusterIcon2.default)({color:this.color,opacity:this.opacity,size:this.scale(count),count:count})},domain:[1,1e3],range:[16,40],radius:6},initialize:function(opts){var options=_leaflet2.default.setOptions(this,opts);_leaflet2.default.MarkerClusterGroup.prototype.initialize.call(this,options),options.data&&this.addData(options.data),this.on("click",this.onMarkerClick,this)},onMarkerClick:function(evt){evt.layer.showPopup()},addData:function(data){var options=this.options;data.length&&(options.domain=[1,data.length],options.scale=(0,_d3Scale.scaleLog)().domain(options.domain).range(options.range).clamp(!0),this.addLayers(data.map(function(d){return(0,_CircleMarker2.default)(d,options)})))},setOpacity:function(opacity){this.options.opacity=opacity,this.eachLayer(function(layer){return layer.setOpacity(opacity)}),this._featureGroup.eachLayer(function(layer){return layer.setOpacity(opacity)})}})},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function clusterMarker(feature,options){return new ClusterMarker(feature,options)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ClusterMarker=void 0,exports.default=clusterMarker;var _leaflet=__webpack_require__(2),_leaflet2=_interopRequireDefault(_leaflet),_ClusterIcon=__webpack_require__(76),_ClusterIcon2=_interopRequireDefault(_ClusterIcon),_CircleMarker=__webpack_require__(24),_CircleMarker2=_interopRequireDefault(_CircleMarker),ClusterMarker=exports.ClusterMarker=_leaflet2.default.Marker.extend({initialize:function(feature,options){this._feature=feature,this._latlng=_leaflet2.default.GeoJSON.coordsToLatLng(feature.geometry.coordinates),options.icon=(0,_ClusterIcon2.default)({size:feature.properties.size,count:feature.properties.count,color:options.color}),_leaflet2.default.setOptions(this,options)},getFeature:function(){return this._feature},getBounds:function(){return this._feature.properties.bounds},spiderify:function(){if(!this._spiderified){var feature=this._feature,options=this.options,map=this._map,latlng=this.getLatLng(),center=map.latLngToLayerPoint(latlng),ids=(this._feature.id||"").split(","),count=feature.properties.count,legOptions={weight:1.5,color:"#222",opacity:.5},_2PI=2*Math.PI,circumference=13*(2+count),startAngle=Math.PI/6,legLength=circumference/_2PI,angleStep=_2PI/count;this._spiderLegs=_leaflet2.default.featureGroup(),this._spiderMarkers=_leaflet2.default.featureGroup(),this._spiderMarkers.on("click",this.onSpiderMarkerClick,this);for(var angle,point,id,newPos,i=count-1;i>=0;i--)angle=startAngle+i*angleStep,point=_leaflet2.default.point(center.x+legLength*Math.cos(angle),center.y+legLength*Math.sin(angle))._round(),id=ids[i],newPos=map.layerPointToLatLng(point),this._spiderLegs.addLayer(_leaflet2.default.polyline([latlng,newPos],legOptions)),this._spiderMarkers.addLayer((0,_CircleMarker2.default)({type:"Feature",id:id,geometry:{type:"Point",coordinates:[newPos.lng,newPos.lat]}},this.options));this._spiderLegs.addTo(map),this._spiderMarkers.addTo(map),this._originalOpacity=options.opacity,this.setOpacity(.1),this._spiderified=!0}return this},unspiderify:function(){var map=this._map;return this.setOpacity(this._originalOpacity),this._spiderLegs&&map.hasLayer(this._spiderLegs)&&map.removeLayer(this._spiderLegs),this._spiderMarkers&&map.hasLayer(this._spiderMarkers)&&(map.removeLayer(this._spiderMarkers),this._spiderMarkers.off("click",this.onSpiderMarkerClick,this)),this._spiderified=!1,this},onSpiderMarkerClick:function(evt){evt.layer.showPopup()},onRemove:function(map){this._spiderified&&this.unspiderify(),_leaflet2.default.Marker.prototype.onRemove.call(this,map)}})},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function serverCluster(options){return new ServerCluster(options)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ServerCluster=void 0,exports.default=serverCluster;var _leaflet=__webpack_require__(2),_leaflet2=_interopRequireDefault(_leaflet),_d3Scale=__webpack_require__(67),_ClusterMarker=__webpack_require__(182),_ClusterMarker2=_interopRequireDefault(_ClusterMarker),_CircleMarker=__webpack_require__(24),_CircleMarker2=_interopRequireDefault(_CircleMarker),ServerCluster=exports.ServerCluster=_leaflet2.default.GridLayer.extend({options:{pane:"markerPane",tileSize:512,clusterSize:110,color:"red",opacity:1,domain:[1,1e4],range:[16,40]},initialize:function(opts){var options=_leaflet2.default.setOptions(this,opts);this._clusters=_leaflet2.default.featureGroup(),this._tileClusters={},this._scale=(0,_d3Scale.scaleLog)().base(Math.E).domain(options.domain).range(options.range).clamp(!0),this._clusters.on("click",this.onClusterClick,this),this._bounds=options.bounds},onAdd:function(map){this._levels={},this._tiles={},this._resetView(),this._update(),map.addLayer(this._clusters),map.on("zoomstart",this._onZoomStart,this)},onRemove:function(map){this._clusters.clearLayers(),map.removeLayer(this._clusters),map.off("zoomstart",this._onZoomStart,this)},createTile:function(coords){var _this=this,tileId=this._tileCoordsToKey(coords),clusters=this._tileClusters[tileId];if(clusters)return void clusters.forEach(function(cluster){return _this._clusters.addLayer(cluster)});var options=this.options,map=this._map,bounds=this._tileCoordsToBounds(coords),params={tileId:tileId,bbox:bounds.toBBoxString(),clusterSize:Math.round(this.getResolution(coords.z)*options.clusterSize),includeClusterPoints:map.getZoom()===map.getMaxZoom()};options.load&&options.load(params,_leaflet2.default.bind(this.addClusters,this),this)},_addTile:function(coords){var key=this._tileCoordsToKey(coords);this._tiles[key]={coords:coords,current:!0},this.createTile(this._wrapCoords(coords)),this.fire("tileloadstart",{key:key,coords:coords})},onClusterClick:function(evt){var marker=evt.layer,map=this._map;marker.getBounds?map.getZoom()!==map.getMaxZoom()?map.fitBounds(marker.getBounds()):(this._spider&&this._spider.unspiderify(),this._spider=marker.spiderify()):this.options.popup&&marker.showPopup()},addClusters:function(tileId,clusters){var _this2=this,tileClusters=[];clusters.forEach(function(d){var cluster=_this2.createCluster(d);_this2._tiles[tileId]&&_this2._clusters.addLayer(cluster),tileClusters.push(cluster)}),this._tileClusters[tileId]=tileClusters},createCluster:function(feature){var marker=void 0;return 1===feature.properties.count?marker=(0,_CircleMarker2.default)(feature,this.options):(feature.properties.size=this._scale(feature.properties.count),marker=(0,_ClusterMarker2.default)(feature,this.options)),marker},getResolution:function(zoom){return Math.PI*_leaflet2.default.Projection.SphericalMercator.R*2/256/Math.pow(2,zoom)},getBounds:function(){return this._bounds?_leaflet2.default.latLngBounds(this._bounds):this._clusters.getBounds()},setOpacity:function(opacity){var tileClusters=this._tileClusters,tileId=void 0,layer=void 0;for(tileId in tileClusters)if(tileClusters.hasOwnProperty(tileId)){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=tileClusters[tileId][Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0)layer=_step.value,layer.setOpacity(opacity)}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}this.options.opacity=opacity},_removeTile:function(key){var _this3=this,tile=this._tiles[key];if(tile){var clusters=this._tileClusters[key];clusters&&clusters.forEach(function(layer){return _this3._clusters.removeLayer(layer)}),delete this._tiles[key],this.fire("tileunload",{tileId:key,coords:this._keyToTileCoords(key)})}},_onZoomStart:function(){this._clusters.clearLayers()},_animateZoom:function(){}})},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _Map=__webpack_require__(177),_Map2=_interopRequireDefault(_Map);__webpack_require__(233),exports.default=_Map2.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ContextMenu(gis,layer,instance,latlng){var mapContainer=gis.instance.getContainer(),isRelocate=!!GIS.app&&!!gis.init.user.isAdmin,menuItems=[];if(instance){var feature=instance.feature,isPoint="Point"===feature.geometry.type,att=feature.properties,showRelocate=function(){gis.relocate.window&&gis.relocate.window.destroy(),gis.relocate.window=Ext.create("Ext.window.Window",{title:GIS.i18n.relocate_facility,layout:"fit",iconCls:"gis-window-title-icon-relocate",cls:"gis-container-default",setMinWidth:function(minWidth){this.setWidth(this.getWidth()<minWidth?minWidth:this.getWidth())},items:{html:att.name,cls:"gis-container-inner"},bbar:["->",{xtype:"button",hideLabel:!0,text:GIS.i18n.cancel,handler:stopRelocate}],listeners:{close:stopRelocate}}),gis.relocate.window.show(),gis.relocate.window.setMinWidth(220),gis.util.gui.window.setPositionTopRight(gis.relocate.window),gis.instance.on("click",onRelocate),mapContainer.style.cursor="crosshair"},stopRelocate=function(){gis.relocate.window.destroy(),gis.relocate.active=!1,mapContainer.style.cursor="auto",mapContainer.style.cursor="-webkit-grab",mapContainer.style.cursor="-moz-grab",gis.instance.off("click",onRelocate)},onRelocate=function(evt){var id=feature.id,latlng=evt.latlng,coordinates="["+latlng.lng.toFixed(6)+","+latlng.lat.toFixed(6)+"]";Ext.Ajax.request({url:encodeURI(gis.init.apiPath+"organisationUnits/"+id),method:"PATCH",headers:{"Content-Type":"application/json"},params:JSON.stringify({coordinates:coordinates}),success:function(r){instance.setLatLng(latlng),stopRelocate(),console.log(gis.relocate.feature.properties.name+" relocated to "+coordinates)}})},showInfo=function(){layer.infrastructuralWindow&&(layer.infrastructuralWindow.destroy(),layer.widget.infrastructuralDataElementValuesStore.removeAll());var orgUnitInfo=Ext.create("Ext.panel.Panel",{cls:"gis-container-inner",width:150,bodyStyle:"padding-right:5px;",items:[{html:GIS.i18n.name,cls:"gis-panel-html-title"},{html:att.name||"",cls:"gis-panel-html"},{cls:"gis-panel-html-separator"}]}),onPeriodChange=function(cmp){var period=cmp.getValue(),url=gis.init.analyticsPath+"analytics.json?",iig=gis.init.systemSettings.infrastructuralIndicatorGroup||{},ideg=gis.init.systemSettings.infrastructuralDataElementGroup||{},indicators=iig.indicators||[],dataElements=ideg.dataElements||[],data=[].concat(indicators,dataElements),paramString="dimension=dx:";data.forEach(function(d,i){return paramString+=d.id+(i<data.length-1?";":"")}),paramString+="&filter=pe:"+period,paramString+="&dimension=ou:"+att.id,Ext.Ajax.request({url:encodeURI(url+paramString),success:function(r){var records=[],dxIndex=void 0,valueIndex=void 0;r=JSON.parse(r.responseText),!r.rows&&r.rows.length||(r.headers.forEach(function(header,i){"dx"===header.name&&(dxIndex=i),"value"===header.name&&(valueIndex=i)}),r.rows.forEach(function(row){var value=row[valueIndex];records.push({name:r.metaData.names[row[dxIndex]],value:(0,_isNumeric2.default)(value)?parseFloat(value):value})}),layer.widget.infrastructuralDataElementValuesStore.loadData(records))}})},orgUnitDataCombo=Ext.create("Ext.form.field.ComboBox",{fieldLabel:GIS.i18n.period,editable:!1,valueField:"id",displayField:"name",emptyText:"Select period",forceSelection:!0,width:340,labelWidth:70,store:{fields:["id","name"],data:function(){var periodType=gis.init.systemSettings.infrastructuralPeriodType.id,generator=gis.init.periodGenerator,periods=generator.filterFuturePeriodsExceptCurrent(generator.generateReversedPeriods(periodType,void 0))||[];return(0,_isArray2.default)(periods)&&periods.length&&(periods.forEach(function(period){return period.id=period.iso}),periods=periods.slice(0,5)),periods}()},lockPosition:!1,listeners:{change:onPeriodChange,render:function(){this.select(this.getStore().getAt(0))}}}),orgUnitDataGrid=Ext.create("Ext.grid.Panel",{xtype:"grid",cls:"gis-grid plain",height:163,width:340,scroll:"vertical",columns:[{id:"name",text:GIS.i18n.dataelement,dataIndex:"name",sortable:!0,width:190},{id:"value",header:GIS.i18n.value,dataIndex:"value",sortable:!0,width:150}],disableSelection:!0,store:layer.widget.infrastructuralDataElementValuesStore}),orgUnitForm=Ext.create("Ext.panel.Panel",{cls:"gis-container-inner gis-form-widget",bodyStyle:"padding-left:4px;",width:350,items:[{html:GIS.i18n.infrastructural_data,cls:"gis-panel-html-title"},{cls:"gis-panel-html-separator"},orgUnitDataCombo,orgUnitDataGrid]});layer.infrastructuralWindow=Ext.create("Ext.window.Window",{title:GIS.i18n.information,layout:"column",iconCls:"gis-window-title-icon-information",cls:"gis-container-default",height:250,period:null,items:[orgUnitInfo,orgUnitForm]}),layer.infrastructuralWindow.show(),gis.util.gui.window.setPositionTopRight(layer.infrastructuralWindow),Ext.Ajax.request({url:encodeURI(gis.init.apiPath+"organisationUnits/"+att.id+".json?fields=id,"+gis.init.namePropertyUrl+",code,address,email,phoneNumber,coordinates,parent[id,"+gis.init.namePropertyUrl+"],organisationUnitGroups[id,"+gis.init.namePropertyUrl+"]"),success:function(r){var ou=JSON.parse(r.responseText);if(ou.parent&&orgUnitInfo.add({html:GIS.i18n.parent_unit,cls:"gis-panel-html-title"},{html:ou.parent.name,cls:"gis-panel-html"},{cls:"gis-panel-html-separator"}),ou.code&&orgUnitInfo.add({html:GIS.i18n.code,cls:"gis-panel-html-title"},{html:ou.code,cls:"gis-panel-html"},{cls:"gis-panel-html-separator"}),ou.address&&orgUnitInfo.add({html:GIS.i18n.address,cls:"gis-panel-html-title"},{html:ou.address,cls:"gis-panel-html"},{cls:"gis-panel-html-separator"}),ou.email&&orgUnitInfo.add({html:GIS.i18n.email,cls:"gis-panel-html-title"},{html:ou.email,cls:"gis-panel-html"},{cls:"gis-panel-html-separator"}),ou.phoneNumber&&orgUnitInfo.add({html:GIS.i18n.phone_number,cls:"gis-panel-html-title"},{html:ou.phoneNumber,cls:"gis-panel-html"},{cls:"gis-panel-html-separator"}),(0,_isString2.default)(ou.coordinates)){var co=JSON.parse(ou.coordinates);"number"==typeof co[0]&&orgUnitInfo.add({html:GIS.i18n.coordinates,cls:"gis-panel-html-title"},{html:co.join(", "),cls:"gis-panel-html"},{cls:"gis-panel-html-separator"})}if((0,_isArray2.default)(ou.organisationUnitGroups)&&ou.organisationUnitGroups.length){var html="";ou.organisationUnitGroups.forEach(function(group,index){html+=group.name,html+=index<ou.organisationUnitGroups.length-1?"<br/>":""}),orgUnitInfo.add({html:GIS.i18n.groups,cls:"gis-panel-html-title"},{html:html,cls:"gis-panel-html"},{cls:"gis-panel-html-separator"})}}})},drill=function(parentId,parentGraph,level){var dimConf=gis.conf.finals.dimension,view=Ext.clone(layer.view);if(view.parentGraphMap={},view.parentGraphMap[parentId]=parentGraph,view.rows=[{dimension:dimConf.organisationUnit.objectName,items:[{id:parentId},{id:"LEVEL-"+level}]}],view){var handler=layer.handler(gis,layer);handler.updateGui=!0,handler.zoomToVisibleExtent=!0,handler.hideMask=!0,handler.isDrillDown=!0,handler.load(view)}};"facility"!==layer.id&&(menuItems.push(Ext.create("Ext.menu.Item",{text:GIS.i18n.drill_up_one_level,iconCls:"gis-menu-item-icon-float",cls:"gis-plugin",disabled:!att.hasCoordinatesUp,handler:function(){drill(att.grandParentId,att.grandParentParentGraph,parseInt(att.level)-1)}})),menuItems.push(Ext.create("Ext.menu.Item",{text:GIS.i18n.drill_down_one_level,iconCls:"gis-menu-item-icon-drill",cls:"gis-menu-item-first gis-plugin",disabled:!att.hasCoordinatesDown,handler:function(){drill(att.id,att.parentGraph,parseInt(att.level)+1)}}))),isRelocate&&isPoint&&("facility"!==layer.id&&menuItems.push({xtype:"menuseparator"}),menuItems.push(Ext.create("Ext.menu.Item",{text:GIS.i18n.relocate,iconCls:"gis-menu-item-icon-relocate",disabled:!gis.init.user.isAdmin,handler:function(item){gis.relocate.active=!0,gis.relocate.feature=feature,showRelocate()}})),menuItems.push(Ext.create("Ext.menu.Item",{text:GIS.i18n.swap_lon_lat,iconCls:"gis-menu-item-icon-relocate",disabled:!gis.init.user.isAdmin,handler:function(item){var id=feature.properties.id,coordinates=feature.geometry.coordinates,swappedCoordinates=coordinates.slice(0).reverse();gis.init.user.isAdmin&&Ext.Ajax.request({url:encodeURI(gis.init.apiPath+"organisationUnits/"+id),method:"PATCH",headers:{"Content-Type":"application/json"},params:'{"coordinates": "'+JSON.stringify(swappedCoordinates)+'"}',success:function(r){instance.setLatLng(coordinates),feature.geometry.coordinates=swappedCoordinates}})}}))),gis.plugin||menuItems.push(Ext.create("Ext.menu.Item",{text:GIS.i18n.show_information_sheet,iconCls:"gis-menu-item-icon-information",handler:showInfo}))}if(gis.layer.earthEngine.instance&&gis.instance.hasLayer(gis.layer.earthEngine.instance)){var name=gis.layer.earthEngine.instance.options.name.toLowerCase();menuItems.push(Ext.create("Ext.menu.Item",{text:GIS.i18n.show+" "+name,iconCls:"gis-menu-item-icon-earthengine",handler:function(item){gis.layer.earthEngine.instance.showValue(latlng)}}))}!latlng||instance&&"Point"===instance.feature.geometry.type||menuItems.push(Ext.create("Ext.menu.Item",{text:GIS.i18n.show_lon_lat,iconCls:"gis-menu-item-icon-relocate",handler:function(item){L.popup().setLatLng(latlng).setContent("Longitude: "+latlng.lng.toFixed(6)+"<br />Latitude: "+latlng.lat.toFixed(6)).openOn(gis.instance)}})),menuItems[menuItems.length-1].addCls("gis-menu-item-last");var onMapClick=function(){contextMenu.hide()},contextMenu=new Ext.menu.Menu({baseCls:"gis-plugin gis-popupmenu",shadow:!1,showSeparator:!1,defaults:{bodyStyle:"padding-right:6px"},items:menuItems,listeners:{show:function(){gis.instance.on("click",onMapClick)},hide:function(){gis.instance.off("click",onMapClick)}}});return contextMenu}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=ContextMenu;var _isArray=__webpack_require__(0),_isArray2=_interopRequireDefault(_isArray),_isNumeric=__webpack_require__(201),_isNumeric2=_interopRequireDefault(_isNumeric),_isString=__webpack_require__(4),_isString2=_interopRequireDefault(_isString)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function LayerHandlerBoundary(gis,layer){var contextMenu=void 0,compareView=function(view,doExecute){var src=layer.view;if(!src)return doExecute&&loadOrganisationUnits(view),gis.conf.finals.widget.loadtype_organisationunit;var viewIds=[],viewDim=view.rows[0],srcIds=[],srcDim=src.rows[0];
return viewDim.items.length===srcDim.items.length?(viewDim.items.forEach(function(item){return viewIds.push(item.id)}),srcDim.items.forEach(function(item){return srcIds.push(item.id)}),0!==(0,_arrayDifference2.default)(viewIds,srcIds).length?(doExecute&&loadOrganisationUnits(view),gis.conf.finals.widget.loadtype_organisationunit):(doExecute&&(loader.zoomToVisibleExtent=!1,loadData(view)),gis.conf.finals.widget.loadtype_legend)):(doExecute&&loadOrganisationUnits(view),gis.conf.finals.widget.loadtype_organisationunit)},loadOrganisationUnits=function(view){var items=view.rows[0].items,propertyMap={name:"name",displayName:"name",shortName:"shortName",displayShortName:"shortName"},keyAnalysisDisplayProperty=gis.init.userAccount.settings.keyAnalysisDisplayProperty,displayProperty=propertyMap[keyAnalysisDisplayProperty]||propertyMap[xLayout.displayProperty]||"name",url=function(){var params="?ou=ou:"+items.map(function(item){return item.id}).join(";");return params+="&displayProperty="+displayProperty.toUpperCase(),(0,_isArray2.default)(view.userOrgUnit)&&view.userOrgUnit.length&&(params+="&userOrgUnit="+view.userOrgUnit.map(function(unit){return unit}).join(";")),gis.init.apiPath+"geoFeatures.json"+params}(),_success=function(r){var features=gis.util.geojson.decode(r,"ASC"),colors=["black","blue","red","green","yellow"],weights=[2,1,.75,.5,.5],levelStyle={},levels=[];if(!r.length)return gis.mask.hide(),void gis.alert(GIS.i18n.no_valid_coordinates_found);for(var i=0;i<r.length;i++)levels.push(parseInt(r[i].le));levels=(0,_arrayUnique2.default)(levels).sort();for(var _i=0;_i<levels.length;_i++)levelStyle[levels[_i]]={color:colors[_i],weight:1===levels.length?1:weights[_i]};for(var feature,_i2=0;_i2<features.length;_i2++)feature=features[_i2],feature.properties.style=levelStyle[feature.properties.level];layer.featureStore.loadFeatures(features.slice(0)),layer.features=features,loadData(view,features)};Ext.Ajax.request({url:encodeURI(url),disableCaching:!1,success:function(r){_success(JSON.parse(r.responseText))},failure:function(){gis.mask&&gis.mask.hide(),gis.alert(GIS.i18n.coordinates_could_not_be_loaded)}})},loadData=function(view,features){features=features||layer.features,features.forEach(function(feature){feature.properties.labelStyle={paddingTop:"Point"===feature.geometry.type?5+(view.radiusLow||5)+"px":"0"}});var layerConfig=Ext.applyIf({data:features,hoverLabel:"{name}",style:{opacity:1,fillOpacity:0,fill:!1}},layer.config);view.labels&&Ext.apply(layerConfig,{label:"{name}",labelStyle:{fontSize:view.labelFontSize,fontStyle:view.labelFontStyle}}),view.radiusLow&&(layerConfig.style.radius=view.radiusLow),layer.instance&&gis.instance.hasLayer(layer.instance)&&(layer.instance.off("click",onFeatureClick),layer.instance.off("contextmenu",onFeatureRightClick),gis.instance.off("click",onMapClick),gis.instance.removeLayer(layer.instance)),layer.instance=gis.instance.addLayer(layerConfig),layer.instance.on("click",onFeatureClick),layer.instance.on("contextmenu",onFeatureRightClick),gis.instance.on("click",onMapClick),layer.view=view,afterLoad(view)},onFeatureClick=function(evt){var attr=evt.layer.feature.properties,content='<div class="leaflet-popup-orgunit"><em>'+attr.name+"</em>";attr.level&&(content+="<br/>"+GIS.i18n.level+": "+attr.level),attr.parentName&&(content+="<br/>"+GIS.i18n.parent_unit+": "+attr.parentName),content+="</div>",L.popup().setLatLng(evt.latlng).setContent(content).openOn(gis.instance)},onFeatureRightClick=function(evt){L.DomEvent.stopPropagation(evt),contextMenu=GIS.core.ContextMenu(gis,layer,evt.layer,evt.latlng),contextMenu.showAt([evt.originalEvent.x,evt.originalEvent.pageY||evt.originalEvent.y])},onMapClick=function(){contextMenu&&contextMenu.destroy(),contextMenu=null},afterLoad=function(view){layer.item?layer.item.setValue(!0,view.opacity):layer.instance.setOpacity(view.opacity),loader.updateGui&&(0,_isObject2.default)(layer.widget)&&layer.widget.setGui(view),loader.zoomToVisibleExtent&&gis.instance.fitBounds(layer.instance.getBounds()),loader.hideMask&&gis.mask.hide(),loader.callBack?loader.callBack(layer):(gis.map=null,gis.viewport.shareButton&&gis.viewport.shareButton.enable()),layer.unregisterMouseDownEvent&&layer.unregisterMouseDownEvent()},loader={compare:!1,updateGui:!1,zoomToVisibleExtent:!1,hideMask:!1,callBack:null,load:function(view){gis.mask&&!gis.skipMask&&gis.mask.show(),this.compare?compareView(view,!0):loadOrganisationUnits(view)},loadData:loadData};return loader}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=LayerHandlerBoundary;var _isArray=__webpack_require__(0),_isArray2=_interopRequireDefault(_isArray),_isObject=__webpack_require__(3),_isObject2=_interopRequireDefault(_isObject),_arrayDifference=__webpack_require__(28),_arrayDifference2=_interopRequireDefault(_arrayDifference),_arrayUnique=__webpack_require__(77),_arrayUnique2=_interopRequireDefault(_arrayUnique)},function(module,exports,__webpack_require__){"use strict";function LayerHandlerEarthEngine(gis,layer){var datasets={"USGS/SRTMGL1_003":{name:"Elevation",unit:"metres",band:"elevation",mask:!0,description:"Elevation above sea-level.",attribution:'<a href="https://explorer.earthengine.google.com/#detail/USGS%2FSRTMGL1_003" target="_blank">NASA / USGS / JPL-Caltech</a>'},"WorldPop/POP":{name:"Population density",unit:"people per km<sup>2</sup>",aggregation:"mosaic",mask:!0,methods:{multiply:[100]},resolution:100,projection:"EPSG:4326",value:function(_value){return Math.round(_value)},description:"Population density estimates with national totals adjusted to match UN population division estimates.",attribution:'<a href="https://explorer.earthengine.google.com/#detail/WorldPop%2FPOP" target="_blank">WorldPop</a>'},"NOAA/DMSP-OLS/NIGHTTIME_LIGHTS":{name:"Nighttime lights",unit:"light intensity",band:"stable_lights",mask:!0,popup:"{name}: {value}",description:"Light intensity from cities, towns, and other sites with persistent lighting, including gas flares.",attribution:'<a href="https://explorer.earthengine.google.com/#detail/NOAA%2FDMSP-OLS%2FNIGHTTIME_LIGHTS" target="_blank">NOAA</a>'},"UCSB-CHG/CHIRPS/PENTAD":{name:"Precipitation",unit:"millimeter",band:"precipitation",mask:!0,value:function(_value2){return _value2.toFixed(1)},description:"Precipitation collected from satellite and weather stations on the ground.",attribution:'<a href="https://explorer.earthengine.google.com/#detail/UCSB-CHG%2FCHIRPS%2FPENTAD" target="_blank">UCSB/CHG</a>'},"MODIS/MOD11A2":{name:"Temperature",unit:"C during daytime",band:"LST_Day_1km",mask:!0,methods:{toFloat:[],multiply:[.02],subtract:[273.15]},value:function(_value3){return Math.round(_value3)},popup:"{name}: {value}{unit}",description:"Land surface temperatures collected from satellite. Blank spots will appear in areas with a persistent cloud cover.",attribution:'<a href="https://explorer.earthengine.google.com/#detail/MODIS%2FMOD11A2" target="_blank">NASA LP DAAC</a>'},"MODIS/051/MCD12Q1":{name:"Landcover",unit:"",band:"Land_Cover_Type_1",params:{min:0,max:17,palette:"aec3d6,162103,235123,399b38,38eb38,39723b,6a2424,c3a55f,b76124,d99125,92af1f,10104c,cdb400,cc0202,332808,d7cdcc,f7e174,743411"},mask:!1,legend:[{color:"#aec3d6",name:"Water"},{color:"#162103",name:"Evergreen Needleleaf forest"},{color:"#235123",name:"Evergreen Broadleaf forest"},{color:"#399b38",name:"Deciduous Needleleaf forest"},{color:"#38eb38",name:"Deciduous Broadleaf forest"},{color:"#39723b",name:"Mixed forest"},{color:"#6a2424",name:"Closed shrublands"},{color:"#c3a55f",name:"Open shrublands"},{color:"#b76124",name:"Woody savannas"},{color:"#d99125",name:"Savannas"},{color:"#92af1f",name:"Grasslands"},{color:"#10104c",name:"Permanent wetlands"},{color:"#cdb400",name:"Croplands"},{color:"#cc0202",name:"Urban and built-up"},{color:"#332808",name:"Cropland/Natural vegetation mosaic"},{color:"#d7cdcc",name:"Snow and ice"},{color:"#f7e174",name:"Barren or sparsely vegetated"},{color:"#743411",name:"Unclassified"}],popup:"{name}: {value}",description:"Distinct landcover types collected from satellites.",attribution:'<a href="https://code.earthengine.google.com/dataset/MODIS/051/MCD12Q1" target="_blank">NASA LP DAAC</a>'}},createLayer=function(view){var layerConfig={};"string"==typeof view.config&&(view.config=JSON.parse(view.config)),view.config.id&&(Object.assign(layerConfig,{type:"earthEngine",accessToken:function(callback){Ext.Ajax.request({url:gis.init.apiPath+"tokens/google",disableCaching:!1,failure:function(r){gis.alert(r)},success:function(r){callback(JSON.parse(r.responseText))}})}},layer.config,datasets[view.config.id],view.config),layer.instance&&gis.instance.hasLayer(layer.instance)&&(layer.instance.off("initialized",hideMask),gis.instance.removeLayer(layer.instance)),layer.instance=gis.instance.addLayer(layerConfig),layer.instance.on("initialized",hideMask),addLegend(),afterLoad(view))},hideMask=function(){gis.mask&&loader.hideMask&&gis.mask.hide()},addLegend=function(){var legend=layer.instance.getLegend();layer.legendPanel?layer.legendPanel.update(legend):gis.legend?gis.legend.setContent(gis.legend.getContent()+legend):gis.legend=gis.instance.addControl({type:"legend",offset:[0,-64],content:legend})},afterLoad=function(view){layer.view={config:JSON.stringify(view.config)},gis.viewport&&gis.viewport.eastRegion.doLayout(),layer.legendPanel&&layer.legendPanel.expand(),layer.item?layer.item.setValue(!0,view.opacity):layer.instance.setOpacity(view.opacity),loader.updateGui&&layer.widget&&layer.widget.setGui(view),loader.callBack?loader.callBack(layer):(gis.map=null,gis.viewport.shareButton&&gis.viewport.shareButton.enable())},loader={compare:!1,updateGui:!1,zoomToVisibleExtent:!1,hideMask:!1,callBack:null,load:function(view){gis.mask&&!gis.skipMask&&gis.mask.show(),createLayer(view)}};return loader}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=LayerHandlerEarthEngine},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function LayerHandlerEvent(gis,layer){var spatialSupport=gis.init.systemInfo.databaseInfo.spatialSupport,displayElements={},eventCoordinateFieldName=void 0,loadData=function(view){view=view||layer.view;var paramString="?";if(!view.programStage)return void gis.alert(GIS.i18n.no_program_stage_selected);paramString+="stage="+view.programStage.id,view.filters?paramString+="&filter=pe:"+view.filters[0].items[0].id:(paramString+="&startDate="+view.startDate,paramString+="&endDate="+view.endDate),view.rows[0]&&"ou"===view.rows[0].dimension&&(0,_isArray2.default)(view.rows[0].items)&&(paramString+="&dimension=ou:"+view.rows[0].items.map(function(ou){return ou.id}).join(";")),view.columns&&view.columns.forEach(function(element){"dx"!==element.dimension&&(paramString+="&dimension="+element.dimension+(element.filter?":"+element.filter:""))}),view.eventCoordinateField&&(paramString+="&dimension="+view.eventCoordinateField,paramString+="&coordinateField="+view.eventCoordinateField),paramString+="&coordinatesOnly=true";var _success=function(r){var features=[],rows=[],names=Ext.clone(r.metaData.names),booleanNames={true:GIS.i18n.yes||"Yes",false:GIS.i18n.no||"No"},lonIndex=void 0,latIndex=void 0,optionSetIndex=void 0,optionSetHeader=void 0,updateFeatures=function(){r.headers.forEach(function(header){return names[header.name]=header.column}),rows.forEach(function(row){var properties={},coord=void 0;if(row.forEach(function(value,i){properties[r.headers[i].name]=booleanNames[value]||r.metaData.optionNames[value]||names[value]||value}),view.eventCoordinateField){var eventCoordinate=properties[view.eventCoordinateField];(0,_isArray2.default)(eventCoordinate)?coord=eventCoordinate:(0,_isString2.default)(eventCoordinate)&&(coord=JSON.parse(eventCoordinate))}else coord=[properties.longitude,properties.latitude];gis.util.map.isValidCoordinate(coord)&&features.push({type:"Feature",id:properties.psi,properties:properties,geometry:{type:"Point",coordinates:coord}})}),updateMap(view,features)},getOptionSets=function(){optionSetHeader?dhis2.gis.store.get("optionSets",optionSetHeader.optionSet).done(function(obj){Ext.apply(r.metaData.optionNames,gis.util.array.getObjectMap(obj.options,"code","name")),updateFeatures()}):updateFeatures()};return r.metaData.optionNames={},r.headers.forEach(function(header,i){names[header.name]=header.column,"longitude"===header.name&&(lonIndex=i),"latitude"===header.name&&(latIndex=i),(0,_isString2.default)(header.optionSet)&&header.optionSet.length&&(optionSetIndex=i,optionSetHeader=header)}),(0,_isArray2.default)(r.rows)&&r.rows.length&&r.rows.forEach(function(row){row[lonIndex]&&row[latIndex]&&rows.push(row)}),rows.length?void getOptionSets():(gis.alert(GIS.i18n.no_event_coordinates_found),void gis.mask.hide())},loadEvents=function(){Ext.Ajax.request({url:encodeURI(gis.init.analyticsPath+"analytics/events/query/"+view.program.id+".json"+paramString),disableCaching:!1,failure:function(r){gis.alert(r)},success:function(r){_success(JSON.parse(r.responseText))}})},onEventCountSuccess=function(r){if(r.extent){var extent=r.extent.match(/([-\d\.]+)/g),bounds=[[extent[1],extent[0]],[extent[3],extent[2]]];view.bounds=bounds,layer.instance||gis.instance.fitBounds(bounds)}if(r.count<2e3)loadEvents();else{var url=gis.init.analyticsPath+"analytics/events/cluster/"+view.program.id+".json"+paramString;updateMap(view,url)}};spatialSupport&&view.eventClustering?Ext.Ajax.request({url:encodeURI(gis.init.analyticsPath+"analytics/events/count/"+view.program.id+".json"+paramString),disableCaching:!1,failure:function(r){gis.alert(r)},success:function(r){onEventCountSuccess(JSON.parse(r.responseText))}}):loadEvents();var getDataElementOptionSets=function(dataElement){dataElement.optionSet&&dataElement.optionSet.id&&dhis2.gis.store.get("optionSets",dataElement.optionSet.id).done(function(optionSet){optionSet.options.forEach(function(option){return dataElement.optionSet[option.code]=option.name})})};(function(){Ext.Ajax.request({url:encodeURI(gis.init.apiPath+"programStages/"+view.programStage.id+".json?fields=programStageDataElements[displayInReports,dataElement[id,"+gis.init.namePropertyUrl+",optionSet]]"),disableCaching:!1,failure:function(r){gis.alert(r)},success:function(r){var data=JSON.parse(r.responseText);data.programStageDataElements&&data.programStageDataElements.forEach(function(el){el.displayInReports?(displayElements[el.dataElement.id]=el.dataElement,getDataElementOptionSets(el.dataElement)):view.eventCoordinateField&&el.dataElement.id===view.eventCoordinateField&&(eventCoordinateFieldName=el.dataElement.name)})}})})()},toGeoJson=function(data){var header={},features=[];return data.headers.forEach(function(h,i){return header[h.name]=i}),(0,_isArray2.default)(data.rows)&&data.rows.forEach(function(row){var extent=row[header.extent].match(/([-\d\.]+)/g),coords=row[header.center].match(/([-\d\.]+)/g);coords[0]=Number(Math.round(coords[0]+"e6")+"e-6"),coords[1]=Number(Math.round(coords[1]+"e6")+"e-6"),features.push({type:"Feature",id:row[header.points],geometry:{type:"Point",coordinates:coords},properties:{count:parseInt(row[header.count],10),bounds:[[extent[1],extent[0]],[extent[3],extent[2]]]}})}),features},onFeaturePopup=function(feature,callback){var coord=feature.geometry.coordinates;Ext.Ajax.request({url:encodeURI(gis.init.apiPath+"events/"+feature.id+".json"),disableCaching:!1,failure:function(r){gis.alert(r)},success:function(r){var data=JSON.parse(r.responseText),time=data.eventDate.substring(0,10)+" "+data.eventDate.substring(11,16),dataValues=data.dataValues,content="<table><tbody>";(0,_isArray2.default)(dataValues)&&(dataValues.forEach(function(dataValue){var displayEl=displayElements[dataValue.dataElement];if(displayEl){var value=dataValue.value;displayEl.optionSet&&(value=displayEl.optionSet[value]),content+="<tr><th>"+displayEl.name+"</th><td>"+value+"</td></tr>"}}),content+='<tr style="height:5px;"><th></th><td></td></tr>'),content+="<tr><th>"+GIS.i18n.organisation_unit+"</th><td>"+data.orgUnitName+"</td></tr>\n                            <tr><th>"+GIS.i18n.event_time+"</th><td>"+time+"</td></tr>\n                            <tr><th>"+(eventCoordinateFieldName||GIS.i18n.event_location)+"</th><td>"+coord[0]+", "+coord[1]+"</td></tr>\n                            </tbody></table>",callback(content)}})},updateMap=function(view,features){var layerConfig=void 0,layerUpdate=!1;layerConfig=(0,_isString2.default)(features)?Ext.applyIf({type:"serverCluster",bounds:view.bounds,color:"#"+view.eventPointColor,radius:view.eventPointRadius,load:function(params,callback){Ext.Ajax.request({url:encodeURI(features+"&bbox="+params.bbox+"&clusterSize="+params.clusterSize+"&includeClusterPoints="+params.includeClusterPoints),disableCaching:!1,failure:function(r){gis.alert(r)},success:function(r){callback(params.tileId,toGeoJson(JSON.parse(r.responseText)))}})},popup:onFeaturePopup},layer.config):view.eventClustering?Ext.applyIf({type:"clientCluster",data:features,popup:onFeaturePopup,color:"#"+view.eventPointColor,radius:view.eventPointRadius},layer.config):Ext.applyIf({data:features,popup:onFeaturePopup,color:"#"+view.eventPointColor,radius:view.eventPointRadius},layer.config),layer.instance&&gis.instance.hasLayer(layer.instance)&&(gis.instance.removeLayer(layer.instance),layerUpdate=!0),layer.instance=gis.instance.addLayer(layerConfig),!layerUpdate&&handler.zoomToVisibleExtent&&layer.instance.getBounds().isValid()&&gis.instance.fitBounds(layer.instance.getBounds()),afterLoad(view)},afterLoad=function(view){layer.view=view,layer.item?layer.item.setValue(!0,view.opacity):layer.instance.setOpacity(view.opacity),handler.updateGui&&(0,_isObject2.default)(layer.widget)&&layer.widget.setGui(view),handler.hideMask&&gis.mask.hide(),handler.callBack?handler.callBack(layer):gis.map=null},handler={compare:!1,updateGui:!1,zoomToVisibleExtent:!1,hideMask:!1,callBack:null,load:function(view){gis.mask&&!gis.skipMask&&gis.mask.show(),loadData(view)},loadData:loadData};return handler}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=LayerHandlerEvent;var _isArray=__webpack_require__(0),_isArray2=_interopRequireDefault(_isArray),_isObject=__webpack_require__(3),_isObject2=_interopRequireDefault(_isObject),_isString=__webpack_require__(4),_isString2=_interopRequireDefault(_isString)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function LayerHandlerExternal(gis,layer){var createLayer=function(view){"string"==typeof view.config&&(view.config=JSON.parse(view.config));var config=view.config,layerConfig={type:"tileLayer",url:config.url,attribution:config.attribution,pane:"external_"+config.mapLayerPosition.toLowerCase()};"TMS"===config.mapService&&(layerConfig.tms=!0),"WMS"===config.mapService&&(layerConfig.type="wmsLayer",layerConfig.layers=config.layers,"JPG"===config.imageFormat&&(layerConfig.format="image/jpeg")),layer.instance&&gis.instance.hasLayer(layer.instance)&&gis.instance.removeLayer(layer.instance),layer.instance=gis.instance.addLayer(layerConfig),addLegend(view)},addLegend=function(view,legend){var config=view.config,html='<div class="dhis2-legend"><h2>'+config.name+"</h2>";createLegend(config,function(legend){html+=legend,config.attribution&&(html+="<p>Source: "+config.attribution+"</p>"),html+="</div>",layer.legendPanel?layer.legendPanel.update(html):gis.legend?gis.legend.setContent(gis.legend.getContent()+html):gis.legend=gis.instance.addControl({type:"legend",offset:[0,-64],content:html}),afterLoad(view)})},createLegend=function(config,callback){if(config.legendSet&&config.legendSet.id)Ext.Ajax.request({url:encodeURI(gis.init.apiPath+"legendSets/"+config.legendSet.id+".json?fields="+gis.conf.url.legendSetFields.join(",")),scope:this,disableCaching:!1,success:function(r){var legend=JSON.parse(r.responseText).legends;(0,_arraySort2.default)(legend,"ASC","startValue");var html='<dl class="dhis2-legend-predefined">';legend.forEach(function(item){var label=item.startValue+" - "+item.endValue;html+='<dt style="background-color:'+item.color+';"></dt>',html+=item.name!==label?"<dd><strong>"+(item.name||"")+"</strong>"+label+"</dd>":'<dd style="line-height:23px">'+label+"</dd>"}),html+="</dl>",callback(html)}});else if(config.legendSetUrl){var externalImage=new Image;callback('<img id="dhis2-legend-img" style="padding:5px 0;" />'),externalImage.onload=function(){document.getElementById("dhis2-legend-img").src=this.src,gis.viewport&&gis.viewport.eastRegion.doLayout()},externalImage.src=config.legendSetUrl}else callback("")},afterLoad=function(view){layer.view={config:JSON.stringify(view.config)},gis.viewport&&gis.viewport.eastRegion.doLayout(),layer.legendPanel&&layer.legendPanel.expand(),layer.item?layer.item.setValue(!0,view.opacity):layer.instance.setOpacity(view.opacity),loader.updateGui&&layer.widget&&layer.widget.setGui(view),gis.mask&&loader.hideMask&&gis.mask.hide(),loader.callBack?loader.callBack(layer):(gis.map=null,gis.viewport.shareButton&&gis.viewport.shareButton.enable())},loader={compare:!1,updateGui:!1,zoomToVisibleExtent:!1,hideMask:!1,callBack:null,load:function(view){gis.mask&&!gis.skipMask&&gis.mask.show(),createLayer(view)}};return loader}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=LayerHandlerExternal;var _arraySort=__webpack_require__(41),_arraySort2=_interopRequireDefault(_arraySort)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function LayerHandlerFacility(gis,layer){var loadOrganisationUnitGroups=function(view){var url=gis.init.apiPath+"organisationUnitGroupSets/"+view.organisationUnitGroupSet.id+".json?fields=organisationUnitGroups[id,"+gis.init.namePropertyUrl+",symbol]";Ext.Ajax.request({url:encodeURI(url),success:function(r){var data=JSON.parse(r.responseText);loadOrganisationUnits(view,data.organisationUnitGroups)}})},loadOrganisationUnits=function(view,orgUnitGroups){var items=view.rows[0].items,propertyMap={name:"name",displayName:"name",shortName:"shortName",displayShortName:"shortName"},keyAnalysisDisplayProperty=gis.init.userAccount.settings.keyAnalysisDisplayProperty,displayProperty=propertyMap[keyAnalysisDisplayProperty]||propertyMap[xLayout.displayProperty]||"name",url=function(){var params="?ou=ou:"+items.map(function(item){return item.id}).join(";");return params+="&displayProperty="+displayProperty.toUpperCase(),(0,_isArray2.default)(view.userOrgUnit)&&view.userOrgUnit.length&&(params+="&userOrgUnit="+view.userOrgUnit.map(function(unit){return unit}).join(";")),gis.init.apiPath+"geoFeatures.json"+params+"&includeGroupSets=true"}(),_success=function(data){var indicator=view.organisationUnitGroupSet.id,orgUnitGroupSymbols={};orgUnitGroups.forEach(function(group,index){group.symbol||(group.symbol=21+index+".png"),orgUnitGroupSymbols[group.name]=group.symbol});var features=[];return data.forEach(function(facility){if(1===facility.ty){var coord=JSON.parse(facility.co),group=facility.dimensions[indicator];gis.util.map.isValidCoordinate(coord)&&group&&(facility.icon={iconUrl:gis.init.contextPath+"/images/orgunitgroup/"+orgUnitGroupSymbols[group],iconSize:[16,16]},facility.name=facility.na,facility.label=facility.na+" ("+group+")",features.push({type:"Feature",id:facility.id,properties:facility,geometry:{type:"Point",coordinates:coord}}))}}),features.length?(layer.featureStore.loadFeatures(features.slice(0)),layer.features=features,updateLegend(orgUnitGroups,orgUnitGroupSymbols),void updateMap(view,features)):void gis.alert(GIS.i18n.no_valid_coordinates_found)};Ext.Ajax.request({url:url,disableCaching:!1,success:function(r){_success(JSON.parse(r.responseText))},failure:function(){gis.mask&&gis.mask.hide(),gis.alert(GIS.i18n.coordinates_could_not_be_loaded)}})},updateMap=function(view,features){var layerConfig=Ext.applyIf({data:features,hoverLabel:"{label}"},layer.config);view.labels&&Ext.apply(layerConfig,{label:"{name}",labelStyle:{color:view.labelFontColor,fontSize:view.labelFontSize,fontStyle:view.labelFontStyle,fontWeight:view.labelFontWeight,paddingTop:"10px"}}),layer.areaInstance&&gis.instance.hasLayer(layer.areaInstance)&&gis.instance.removeLayer(layer.areaInstance),view.areaRadius&&(layer.areaInstance=gis.instance.addLayer({type:"circles",radius:view.areaRadius,highlightStyle:!1,data:features})),layer.instance&&gis.instance.hasLayer(layer.instance)&&(layer.instance.off("click",onFeatureClick),layer.instance.off("contextmenu",onFeatureRightClick),gis.instance.removeLayer(layer.instance)),layer.instance=gis.instance.addLayer(layerConfig),layer.instance.on("click",onFeatureClick),layer.instance.on("contextmenu",onFeatureRightClick),afterLoad(view)},onFeatureClick=function(evt){var attr=evt.layer.feature.properties,content='<div class="leaflet-popup-orgunit"><em>'+attr.name+"</em>";(0,_isObject2.default)(attr.dimensions)&&(content+="<br/>"+GIS.i18n.groups+": "+Object.keys(attr.dimensions).map(function(id){return attr.dimensions[id]}).join(", ")),attr.pn&&(content+="<br/>"+GIS.i18n.parent_unit+": "+attr.pn),content+="</div>",L.popup().setLatLng(evt.latlng).setContent(content).openOn(gis.instance)},onFeatureRightClick=function(evt){L.DomEvent.stopPropagation(evt);var menu=GIS.core.ContextMenu(gis,layer,evt.layer,evt.latlng);menu.showAt([evt.originalEvent.x,evt.originalEvent.y])},updateLegend=function(items,symbols){var html='<div class="dhis2-legend"><dl class="dhis2-legend-image">';items.forEach(function(item){html+='<dt style="background-image:url('+gis.init.contextPath+"/images/orgunitgroup/"+item.symbol+');"></dt>',html+="<dd>"+item.name+"</dd>"}),html+="</dl></div>",layer.legendPanel?layer.legendPanel.update(html):gis.legend?gis.legend.setContent(gis.legend.getContent()+html):gis.legend=gis.instance.addControl({type:"legend",offset:[0,-64],content:html})},afterLoad=function(view){layer.view=view,gis.viewport&&gis.viewport.eastRegion.doLayout(),layer.legendPanel&&layer.legendPanel.expand(),layer.item?layer.item.setValue(!0,view.opacity):layer.instance.setOpacity(view.opacity),loader.updateGui&&(0,_isObject2.default)(layer.widget)&&layer.widget.setGui(view),loader.zoomToVisibleExtent&&gis.instance.fitBounds(layer.instance.getBounds()),loader.hideMask&&gis.mask.hide(),loader.callBack?loader.callBack(layer):(gis.map=null,gis.viewport.shareButton&&gis.viewport.shareButton.enable())},loader={compare:!1,updateGui:!1,zoomToVisibleExtent:!1,hideMask:!1,callBack:null,load:function(view){gis.mask&&!gis.skipMask&&gis.mask.show(),loadOrganisationUnitGroups(view)}};return loader}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=LayerHandlerFacility;var _isArray=__webpack_require__(0),_isArray2=_interopRequireDefault(_isArray),_isObject=__webpack_require__(3),_isObject2=_interopRequireDefault(_isObject),_arrayDifference=__webpack_require__(28);_interopRequireDefault(_arrayDifference)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function LayerHandlerThematic(gis,layer){var loadOrganisationUnits=function(view){var items=view.rows[0].items,propertyMap={name:"name",displayName:"name",shortName:"shortName",displayShortName:"shortName"},keyAnalysisDisplayProperty=gis.init.userAccount.settings.keyAnalysisDisplayProperty,displayProperty=propertyMap[keyAnalysisDisplayProperty]||propertyMap[view.displayProperty]||"name",url=function(){var params="?ou=ou:"+items.map(function(item){return item.id}).join(";");return params+="&displayProperty="+displayProperty.toUpperCase(),(0,_isArray2.default)(view.userOrgUnit)&&view.userOrgUnit.length&&(params+="&userOrgUnit="+view.userOrgUnit.join(";")),gis.init.apiPath+"geoFeatures.json"+params}(),_success=function(r){var features=gis.util.geojson.decode(r,"ASC");return features.length?(layer.featureStore.loadFeatures(features.slice(0)),layer.features=features,void loadData(view,features)):void gis.alert(GIS.i18n.no_valid_coordinates_found)};Ext.Ajax.request({url:encodeURI(url),disableCaching:!1,success:function(r){_success(JSON.parse(r.responseText))},failure:function(){gis.alert(GIS.i18n.coordinates_could_not_be_loaded)}})},loadData=function(view,features){view=view||layer.view,features=features||layer.featureStore.features;var dimConf=gis.conf.finals.dimension,dxItems=view.columns[0].items,isOperand=view.columns[0].dimension===dimConf.operand.objectName,peItems=view.filters[0].items,ouItems=view.rows[0].items,propertyMap={name:"name",displayName:"name",shortName:"shortName",displayShortName:"shortName"},keyAnalysisDisplayProperty=gis.init.userAccount.settings.keyAnalysisDisplayProperty,displayProperty=propertyMap[keyAnalysisDisplayProperty]||propertyMap[view.displayProperty]||"name",paramString="?dimension=ou:"+ouItems.map(function(item){return item.id}).join(";");paramString+="&dimension=dx:"+dxItems.map(function(item){return isOperand?item.id.split(".")[0]:item.id}).join(";"),"ds"===view.valueType&&(paramString+=".REPORTING_RATE"),paramString+=isOperand?"&dimension=co":"",paramString+="&filter=pe:"+peItems.map(function(item){return item.id}).join(";"),paramString+="&displayProperty="+displayProperty.toUpperCase(),(0,_isArray2.default)(view.userOrgUnit)&&view.userOrgUnit.length&&(paramString+="&userOrgUnit="+view.userOrgUnit.join(";")),view.relativePeriodDate&&(paramString+="&relativePeriodDate="+view.relativePeriodDate),view.aggregationType&&(paramString+="&aggregationType="+view.aggregationType);var _success2=function(json){var response=gis.api.response.Response(json),featureMap={},valueMap={},valueFeatures=[],values=[],aggregationType=(GIS.i18n[(view.aggregationType||"").toLowerCase()]||"").toLowerCase(),ouIndex=void 0,valueIndex=void 0;if(!response)return void(gis.mask&&gis.mask.hide());for(var i=0;i<response.headers.length;i++)response.headers[i].name===dimConf.organisationUnit.dimensionName?ouIndex=i:response.headers[i].name===dimConf.value.dimensionName&&(valueIndex=i);features.forEach(function(feature){featureMap[feature.id]=!0}),response.rows.forEach(function(row){valueMap[row[ouIndex]]=parseFloat(row[valueIndex])}),features.forEach(function(feature){var id=feature.id;featureMap.hasOwnProperty(id)&&valueMap.hasOwnProperty(id)&&(feature.properties.value=valueMap[id],feature.properties.aggregationType=aggregationType,valueFeatures.push(feature),values.push(valueMap[id]))}),values.sort(function(a,b){return a-b}),gis.data={metaData:response.metaData,features:valueFeatures,values:values,aggregationType:aggregationType},gis.response=response,loadLegend(view)};Ext.Ajax.request({url:encodeURI(gis.init.analyticsPath+"analytics.json"+paramString),disableCaching:!1,failure:function(r){gis.alert(r)},success:function(r){_success2(JSON.parse(r.responseText))}})},loadLegend=function(view,metaData,features,values){view=view||layer.view,metaData=metaData||gis.data.metaData,features=features||gis.data.features,values=values||gis.data.values;var dimConf=gis.conf.finals.dimension,bounds=[],colors=[],names=[],count={},legends=[],addNames=function(response){for(var dimension,dimensions=(0,_arrayClean2.default)([].concat(view.columns||[],view.rows||[],view.filters||[])),metaData=response.metaData,peIds=metaData[dimConf.period.objectName],i=0;i<dimensions.length;i++){dimension=dimensions[i];for(var item,j=0;j<dimension.items.length;j++)item=dimension.items[j],item.name=metaData.names[item.id]}view.filters[0].items[0].name=metaData.names[peIds[peIds.length-1]]},fn=function(){addNames(gis.response);var options={indicator:gis.conf.finals.widget.value,method:view.method,numClasses:view.classes,bounds:bounds,colors:view.colorScale?view.colorScale.split(","):colors,count:count,minSize:view.radiusLow,maxSize:view.radiusHigh,minValue:values[0],maxValue:values[values.length-1],colorLow:view.colorLow,colorHigh:view.colorHigh};layer.view=view,layer.minValue=options.minValue,
layer.maxValue=options.maxValue,applyClassification(options,features,values),loader.isDrillDown||updateLegend(view,metaData,options),updateMap(view,features),afterLoad(view)},loadLegendSet=function(view){Ext.Ajax.request({url:encodeURI(gis.init.apiPath+"legendSets/"+view.legendSet.id+".json?fields="+gis.conf.url.legendSetFields.join(",")),scope:this,disableCaching:!1,success:function(r){legends=JSON.parse(r.responseText).legends,(0,_arraySort2.default)(legends,"ASC","startValue");for(var i=0;i<legends.length;i++)bounds[bounds.length-1]!==legends[i].startValue&&(0!==bounds.length&&(colors.push("#F0F0F0"),names.push("")),bounds.push(legends[i].startValue)),colors.push(legends[i].color),names.push(legends[i].name),bounds.push(legends[i].endValue);view.legendSet.names=names,view.legendSet.bounds=bounds,view.legendSet.colors=colors,view.legendSet.count=count},callback:function(){fn()}})};if(view.legendSet)view.method=1,loadLegendSet(view);else{var elementMap={in:"indicators",de:"dataElements",ds:"dataSets"},elementUrl=elementMap[view.columns[0].objectName],id=view.columns[0].items[0].id;if(!elementUrl)return void fn();Ext.Ajax.request({url:encodeURI(gis.init.apiPath+""+elementUrl+".json?fields=legendSet[id,displayName~rename(name)]&paging=false&filter=id:eq:"+id),success:function(r){var elements=JSON.parse(r.responseText)[elementUrl],set=void 0;(0,_arrayFrom2.default)(elements).length&&(set=(0,_isObject2.default)(elements[0])?elements[0].legendSet||null:null),set?(view.legendSet=set,loadLegendSet(view)):fn()},failure:function(){fn()}})}},applyClassification=function(options,features,values){var method=options.method,bounds=[],colors=[];if(1===method)bounds=options.bounds,colors=options.colors;else if(2===method){for(var i=0;i<=options.numClasses;i++)bounds[i]=options.minValue+i*(options.maxValue-options.minValue)/options.numClasses;options.bounds=bounds,options.colors.length||(options.colors=getColorsByRgbInterpolation(options.colorLow,options.colorHigh,options.numClasses))}else if(3===method){var binSize=Math.round(values.length/options.numClasses),binLastValPos=0===binSize?0:binSize;if(values.length>0){bounds[0]=values[0];for(var _i=1;_i<options.numClasses;_i++)bounds[_i]=values[binLastValPos],binLastValPos+=binSize,binLastValPos>values.length-1&&(binLastValPos=values.length-1);bounds.push(values[values.length-1])}for(var j=0;j<bounds.length;j++)bounds[j]=parseFloat(bounds[j]);options.bounds=bounds,options.colors.length||(options.colors=getColorsByRgbInterpolation(options.colorLow,options.colorHigh,options.numClasses))}if(bounds.length)for(var prop,value,classNumber,_i2=0;_i2<features.length;_i2++)prop=features[_i2].properties,value=prop[options.indicator],classNumber=getClass(value,bounds),prop.color=options.colors[classNumber-1],prop.radius=(value-options.minValue)/(options.maxValue-options.minValue)*(options.maxSize-options.minSize)+options.minSize,options.count[classNumber]?options.count[classNumber]++:options.count[classNumber]=1},getClass=function(value,bounds){if(value>=bounds[0]){for(var i=1;i<bounds.length;i++)if(value<bounds[i])return i;if(value===bounds[bounds.length-1])return bounds.length-1}return null},getColorsByRgbInterpolation=function(firstColor,lastColor,nbColors){var colors=[],colorA=hexToRgb("#"+firstColor),colorB=hexToRgb("#"+lastColor);if(1==nbColors)return["#"+firstColor];for(var i=0;i<nbColors;i++)colors.push(rgbToHex({r:parseInt(colorA.r+i*(colorB.r-colorA.r)/(nbColors-1)),g:parseInt(colorA.g+i*(colorB.g-colorA.g)/(nbColors-1)),b:parseInt(colorA.b+i*(colorB.b-colorA.b)/(nbColors-1))}));return colors},hexToRgb=function(hex){var result=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);return result?{r:parseInt(result[1],16),g:parseInt(result[2],16),b:parseInt(result[3],16)}:null},rgbToHex=function(rgb){return"#"+((1<<24)+(rgb.r<<16)+(rgb.g<<8)+rgb.b).toString(16).slice(1)},updateMap=function(view,features){var layerConfig=Ext.applyIf({data:features,hoverLabel:"{name} ({value})"},layer.config);view.labels&&Ext.apply(layerConfig,{label:"{name}",labelStyle:{fontSize:view.labelFontSize,fontStyle:view.labelFontStyle}}),layer.instance&&gis.instance.hasLayer(layer.instance)&&gis.instance.removeLayer(layer.instance),layer.instance=gis.instance.addLayer(layerConfig),layer.instance.on("click",onFeatureClick),layer.instance.on("contextmenu",onFeatureRightClick),loader.onReady&&(0,_isFunction2.default)(loader.onReady)&&layer.instance.on("ready",loader.onReady),layer.view=view},onFeatureClick=function(evt){var view=layer.view,indicator=view.columns[0].items[0].name,period=view.filters[0].items[0].name,name=evt.layer.feature.properties.name,value=evt.layer.feature.properties.value,aggregationType=evt.layer.feature.properties.aggregationType,content='<div class="leaflet-popup-orgunit"><em>'+name+"</em><br>"+indicator+"<br>"+period+": "+value+" "+(aggregationType?"("+aggregationType+")":"")+"</div>";L.popup().setLatLng(evt.latlng).setContent(content).openOn(gis.instance)},onFeatureRightClick=function(evt){L.DomEvent.stopPropagation(evt);var contextMenu=GIS.core.ContextMenu(gis,layer,evt.layer,evt.latlng);contextMenu.showAt([evt.originalEvent.x,evt.originalEvent.pageY||evt.originalEvent.y])},updateLegend=function(view,metaData,options){var bounds=options.bounds,colors=options.colors,legendNames=view.legendSet?view.legendSet.names||{}:{},aggregationType=gis.data.aggregationType,id=view.columns[0].items[0].id;"di"===view.valueType&&(id=view.program.id+"."+id);var name=view.columns[0].items[0].name,html='<div class="dhis2-legend"><h2>'+(metaData.names[id]||name||id);if(aggregationType&&(html+=" ("+aggregationType+")"),id=view.filters[0].items[0].id,name=view.filters[0].items[0].name,html+=" <span>"+(metaData.names[id]||name||id)+"</span></h2>",1===view.method&&view.legendSet){html+='<dl class="dhis2-legend-predefined">';for(var _name,label,count,i=0;i<bounds.length-1;i++)_name=legendNames[i],label=bounds[i]+" - "+bounds[i+1],count=" ("+(options.count[i+1]||0)+")",html+='<dt style="background-color:'+colors[i]+';"></dt>',html+=_name!==label?"<dd><strong>"+(_name||"")+"</strong>"+label+count+"</dd>":'<dd style="line-height:23px">'+label+count+"</dd>"}else{html+='<dl class="dhis2-legend-automatic">';for(var _label,_i3=0;_i3<bounds.length-1;_i3++)_label=bounds[_i3].toFixed(1)+" - "+bounds[_i3+1].toFixed(1)+" ("+(options.count[_i3+1]||0)+")",html+='<dt style="background-color:'+colors[_i3]+';"></dt>',html+="<dd>"+_label+"</dd>"}html+="</dl></div>",layer.legendPanel?layer.legendPanel.update(html):gis.legend?gis.legend.setContent(gis.legend.getContent()+html):gis.legend=gis.instance.addControl({type:"legend",offset:[0,-64],content:html})},afterLoad=function(view){gis.viewport&&gis.viewport.eastRegion.doLayout(),layer.legendPanel&&layer.legendPanel.expand(),layer.instance.setOpacity(view.opacity),layer.item&&layer.item.setValue(!0),layer.filterWindow&&layer.filterWindow.isVisible()&&layer.filterWindow.filter(),loader.updateGui&&(0,_isObject2.default)(layer.widget)&&layer.widget.setGui(view,loader.isDrillDown),loader.zoomToVisibleExtent&&gis.instance.fitBounds(layer.instance.getBounds()),loader.hideMask&&gis.mask&&gis.mask.hide(),loader.callBack?loader.callBack(layer):(gis.map=null,gis.viewport&&gis.viewport.shareButton&&gis.viewport.shareButton.enable()),GIS.isSessionStorage&&gis.util.layout.setSessionStorage("map",gis.util.layout.getAnalytical())},loader={updateGui:!1,zoomToVisibleExtent:!1,hideMask:!1,callBack:null,isDrillDown:!1,load:function(view){gis.mask&&!gis.skipMask&&gis.mask.show(),loadOrganisationUnits(view)},loadData:loadData,loadLegend:loadLegend};return loader}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=LayerHandlerThematic;var _isArray=__webpack_require__(0),_isArray2=_interopRequireDefault(_isArray),_isObject=__webpack_require__(3),_isObject2=_interopRequireDefault(_isObject),_isFunction=__webpack_require__(29),_isFunction2=_interopRequireDefault(_isFunction),_arrayClean=__webpack_require__(10),_arrayClean2=_interopRequireDefault(_arrayClean),_arrayDifference=__webpack_require__(28),_arrayFrom=(_interopRequireDefault(_arrayDifference),__webpack_require__(25)),_arrayFrom2=_interopRequireDefault(_arrayFrom),_arraySort=__webpack_require__(41),_arraySort2=_interopRequireDefault(_arraySort)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function MapLoader(gis,isSession,applyConfig){var layersReady=[],onMapReady=gis.map.onReady,layersToLoad=void 0,getMap=function(){var url=gis.init.apiPath+"maps/"+gis.map.id+".json?fields="+gis.conf.url.mapFields.join(","),_success=function(r){gis.map=r,setMap()},_failure=function(r){gis.mask&&gis.mask.hide(),r=JSON.parse(r.responseText),(0,_arrayContains2.default)([403],parseInt(r.httpStatusCode))&&(r.message=GIS.i18n.you_do_not_have_access_to_all_items_in_this_favorite||r.message),gis.alert(r)};Ext.Ajax.request({url:encodeURI(url),success:function(r){_success(JSON.parse(r.responseText))},failure:function(r){_failure(r)}})},setMap=function(){var basemap=gis.map.basemap||"osmLight",applyViews=(0,_isObject2.default)(applyConfig)&&(0,_arrayFrom2.default)(applyConfig.mapViews).length?applyConfig.mapViews:null,register=[],views=gis.map.mapViews;if(gis.dashboard&&gis.container&&gis.map&&gis.map.name&&(gis.container.childNodes[0].innerText=gis.map.name),!(0,_isArray2.default)(views)||!views.length)return gis.mask&&gis.mask.hide(),void gis.alert(GIS.i18n.favorite_outdated_create_new);for(var applyView,i=0;i<views.length;i++)applyView=applyViews?applyViews[i]:null,views[i]=gis.api.layout.Layout(views[i],applyView);if(views=(0,_arrayClean2.default)(views),!views.length)return void(gis.mask&&gis.mask.hide());if(gis.viewport&&gis.viewport.favoriteWindow&&gis.viewport.favoriteWindow.isVisible()&&gis.viewport.favoriteWindow.destroy(),clearAllLayers(),layersToLoad=("none"===basemap?0:1)+views.length,"none"!==basemap){var layer=gis.layer[basemap]||gis.layer.osmLight;layer.instance?gis.instance.addLayer(layer.instance):(layer.instance=gis.instance.addLayer(layer.config),layer.instance.on("ready",onLayerReady)),layer.item&&layer.item.setValue(!0,1)}views.forEach(function(layout){var layer=gis.layer[layout.layer],handler=layer.handler(gis,layer);handler.onReady=onLayerReady,handler.updateGui=!gis.el,handler.callBack=function(layer){register.push(layer),register.length===gis.map.mapViews.length&&afterLoad()},handler.load(layout)})},onLayerReady=function(evt){layersReady.push(evt.target),layersToLoad===layersReady.length&&onMapReady&&(0,_isFunction2.default)(onMapReady)&&onMapReady()},clearAllLayers=function(){for(var type in gis.layer)if(gis.layer.hasOwnProperty(type)){var layer=gis.layer[type];layer.instance&&gis.instance.hasLayer(layer.instance)&&(gis.instance.removeLayer(layer.instance),layer.areaInstance&&gis.instance.removeLayer(layer.areaInstance)),layer.widget&&layer.widget.reset&&layer.widget.reset(),layer.legendPanel&&(layer.legendPanel.update(""),layer.legendPanel.collapse()),layer.item&&layer.item.checkbox.setValue(!1)}},afterLoad=function(){var lon=parseFloat(gis.map.longitude)||0,lat=parseFloat(gis.map.latitude)||20,zoom=gis.map.zoom||3,validLatLng=lon>=-180&&lon<=180&&lat>=-90&&lat<=90,layersBounds=gis.instance.getLayersBounds();layersBounds&&layersBounds.isValid()?gis.instance.fitBounds(layersBounds):validLatLng&&gis.instance.setView([lat,lon],zoom),gis.viewport&&gis.viewport.shareButton&&gis.viewport.shareButton.enable(),GIS.isSessionStorage&&gis.util.layout.setSessionStorage("map",gis.util.layout.getAnalytical()),gis.mask&&gis.mask.hide(),gis.postDataStatistics(gis.map.id)},loader={load:function(views){gis.mask&&!gis.skipMask&&gis.mask.show(),gis.map&&gis.map.id?getMap():(views&&(gis.map={mapViews:views}),setMap())}};return loader}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=MapLoader;var _isArray=__webpack_require__(0),_isArray2=_interopRequireDefault(_isArray),_isObject=__webpack_require__(3),_isObject2=_interopRequireDefault(_isObject),_isFunction=__webpack_require__(29),_isFunction2=_interopRequireDefault(_isFunction),_arrayClean=__webpack_require__(10),_arrayClean2=_interopRequireDefault(_arrayClean),_arrayContains=__webpack_require__(20),_arrayContains2=_interopRequireDefault(_arrayContains),_arrayFrom=__webpack_require__(25),_arrayFrom2=_interopRequireDefault(_arrayFrom)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getInstance(init){var conf={},util={},api={},store={},gis={},dimConf=void 0;return gis.alert=function(){},function(){conf.finals={url:{path_commons:"/dhis-web-commons-ajax-json/"},layer:{type_base:"base",type_vector:"vector",category_thematic:"thematic"},dimension:{data:{id:"data",value:"data",param:"dx",dimensionName:"dx",objectName:"dx"},category:{name:GIS.i18n.categories,dimensionName:"co",objectName:"co"},indicator:{id:"indicator",value:"indicators",param:"in",dimensionName:"dx",objectName:"in",itemType:"INDICATOR"},dataElement:{id:"dataElement",value:"dataElement",param:"de",dimensionName:"dx",objectName:"de",itemType:"AGGREGATE_DATA_ELEMENT"},operand:{id:"operand",value:"operand",param:"dc",dimensionName:"dx",objectName:"dc",itemType:"DATA_ELEMENT_OPERAND"},dataSet:{value:"dataSets",dimensionName:"dx",objectName:"ds",itemType:"DATA_SET"},eventDataItem:{value:"eventDataItem",dimensionName:"dx",objectName:"di"},programDataElement:{value:"programDataElement",dimensionName:"dx",objectName:"di",itemType:"PROGRAM_DATA_ELEMENT"},programAttribute:{value:"programAttribute",dimensionName:"dx",objectName:"di",itemType:"PROGRAM_ATTRIBUTE"},programIndicator:{value:"programIndicator",dimensionName:"dx",objectName:"pi",itemType:"PROGRAM_INDICATOR"},period:{id:"period",value:"period",param:"pe",dimensionName:"pe",objectName:"pe"},organisationUnit:{id:"organisationUnit",value:"organisationUnit",param:"ou",dimensionName:"ou",objectName:"ou"},value:{id:"value",value:"value",param:"value",dimensionName:"value",objectName:"value"}},widget:{value:"value",legendtype_automatic:"automatic",legendtype_predefined:"predefined",symbolizer_color:"color",symbolizer_image:"image",loadtype_organisationunit:"organisationUnit",loadtype_data:"data",loadtype_legend:"legend"},openLayers:{point_classname:"OpenLayers.Geometry.Point"},mapfish:{classify_with_bounds:1,classify_by_equal_intervals:2,classify_by_quantils:3},root:{id:"root"}},function(){dimConf=conf.finals.dimension,dimConf.objectNameMap={},dimConf.objectNameMap[dimConf.indicator.objectName]=dimConf.indicator,dimConf.objectNameMap[dimConf.dataElement.objectName]=dimConf.dataElement,dimConf.objectNameMap[dimConf.operand.objectName]=dimConf.operand,dimConf.objectNameMap[dimConf.dataSet.objectName]=dimConf.dataSet,dimConf.objectNameMap[dimConf.programDataElement.objectName]=dimConf.programDataElement,dimConf.objectNameMap[dimConf.programAttribute.objectName]=dimConf.programAttribute,dimConf.objectNameMap[dimConf.programIndicator.objectName]=dimConf.programIndicator}(),function(){dimConf=conf.finals.dimension,dimConf.itemTypeMap={},dimConf.itemTypeMap[dimConf.indicator.itemType]=dimConf.indicator,dimConf.itemTypeMap[dimConf.dataElement.itemType]=dimConf.dataElement,dimConf.itemTypeMap[dimConf.operand.itemType]=dimConf.operand,dimConf.itemTypeMap[dimConf.dataSet.itemType]=dimConf.dataSet,dimConf.itemTypeMap[dimConf.programDataElement.itemType]=dimConf.programDataElement,dimConf.itemTypeMap[dimConf.programAttribute.itemType]=dimConf.programAttribute,dimConf.itemTypeMap[dimConf.programIndicator.itemType]=dimConf.programIndicator}(),conf.layout={widget:{item_width:288,itemlabel_width:95,window_width:306},tool:{item_width:228,itemlabel_width:95,window_width:250},grid:{row_height:27},layer:{opacity:.8}},conf.period={periodTypes:[{id:"relativePeriods",name:GIS.i18n.relative},{id:"Daily",name:GIS.i18n.daily},{id:"Weekly",name:GIS.i18n.weekly},{id:"Monthly",name:GIS.i18n.monthly},{id:"BiMonthly",name:GIS.i18n.bimonthly},{id:"Quarterly",name:GIS.i18n.quarterly},{id:"SixMonthly",name:GIS.i18n.sixmonthly},{id:"SixMonthlyApril",name:GIS.i18n.sixmonthly_april},{id:"Yearly",name:GIS.i18n.yearly},{id:"FinancialOct",name:GIS.i18n.financial_oct},{id:"FinancialJuly",name:GIS.i18n.financial_july},{id:"FinancialApril",name:GIS.i18n.financial_april}],relativePeriods:[{id:"TODAY",name:GIS.i18n.today},{id:"YESTERDAY",name:GIS.i18n.yesterday},{id:"THIS_WEEK",name:GIS.i18n.this_week},{id:"LAST_WEEK",name:GIS.i18n.last_week},{id:"LAST_4_WEEKS",name:GIS.i18n.last_4_weeks},{id:"LAST_12_WEEKS",name:GIS.i18n.last_12_weeks},{id:"LAST_52_WEEKS",name:GIS.i18n.last_52_weeks},{id:"THIS_MONTH",name:GIS.i18n.this_month},{id:"LAST_MONTH",name:GIS.i18n.last_month},{id:"LAST_3_MONTHS",name:GIS.i18n.last_3_months},{id:"LAST_6_MONTHS",name:GIS.i18n.last_6_months},{id:"LAST_12_MONTHS",name:GIS.i18n.last_12_months},{id:"THIS_BIMONTH",name:GIS.i18n.this_bimonth},{id:"LAST_BIMONTH",name:GIS.i18n.last_bimonth},{id:"LAST_6_BIMONTHS",name:GIS.i18n.last_6_bimonths},{id:"THIS_QUARTER",name:GIS.i18n.this_quarter},{id:"LAST_QUARTER",name:GIS.i18n.last_quarter},{id:"LAST_4_QUARTERS",name:GIS.i18n.last_4_quarters},{id:"THIS_SIX_MONTH",name:GIS.i18n.this_sixmonth},{id:"LAST_SIX_MONTH",name:GIS.i18n.last_sixmonth},{id:"LAST_2_SIX_MONTHS",name:GIS.i18n.last_2_sixmonths},{id:"THIS_FINANCIAL_YEAR",name:GIS.i18n.this_financial_year},{id:"LAST_FINANCIAL_YEAR",name:GIS.i18n.last_financial_year},{id:"LAST_5_FINANCIAL_YEARS",name:GIS.i18n.last_5_financial_years},{id:"THIS_YEAR",name:GIS.i18n.this_year},{id:"LAST_YEAR",name:GIS.i18n.last_year},{id:"LAST_5_YEARS",name:GIS.i18n.last_5_years}],relativePeriodsMap:{},relativePeriodRecordsMap:{}},conf.period.relativePeriods.forEach(function(obj){conf.period.relativePeriodsMap[obj.id]=obj.name,conf.period.relativePeriodRecordsMap[obj.id]={id:obj.id,name:obj.name}}),conf.valueType={numericTypes:["NUMBER","UNIT_INTERVAL","PERCENTAGE","INTEGER","INTEGER_POSITIVE","INTEGER_NEGATIVE","INTEGER_ZERO_OR_POSITIVE"],textTypes:["TEXT","LONG_TEXT","LETTER","PHONE_NUMBER","EMAIL"],booleanTypes:["BOOLEAN","TRUE_ONLY"],dateTypes:["DATE","DATETIME"],aggregateTypes:["NUMBER","UNIT_INTERVAL","PERCENTAGE","INTEGER","INTEGER_POSITIVE","INTEGER_NEGATIVE","INTEGER_ZERO_OR_POSITIVE","BOOLEAN","TRUE_ONLY"]},conf.url={},conf.url.baseFields=["id","user","displayName~rename(name)","longitude","latitude","zoom","basemap"],conf.url.analysisFields=["*","columns[dimension,filter,items[dimensionItem~rename(id),dimensionItemType,"+init.namePropertyUrl+"]]","rows[dimension,filter,items[dimensionItem~rename(id),dimensionItemType,"+init.namePropertyUrl+"]]","filters[dimension,filter,items[dimensionItem~rename(id),dimensionItemType,"+init.namePropertyUrl+"]]","dataDimensionItems","program[id,"+init.namePropertyUrl+"]","programStage[id,displayName~rename(name)]","legendSet[id,displayName~rename(name)]","!lastUpdated","!href","!created","!publicAccess","!rewindRelativePeriods","!userOrganisationUnit","!userOrganisationUnitChildren","!userOrganisationUnitGrandChildren","!externalAccess","!access","!relativePeriods","!columnDimensions","!rowDimensions","!filterDimensions","!user","!organisationUnitGroups","!itemOrganisationUnitGroups","!userGroupAccesses","!indicators","!dataElements","!dataElementOperands","!dataElementGroups","!dataSets","!periods","!organisationUnitLevels","!organisationUnits","!sortOrder","!topLimit"],conf.url.mapFields=[conf.url.baseFields.join(","),"mapViews["+conf.url.analysisFields.join(",")+"]"],conf.url.legendFields=["*","!created","!lastUpdated","!displayName","!externalAccess","!access","!userGroupAccesses"],conf.url.legendSetFields=["id,displayName~rename(name),legends["+conf.url.legendFields.join(",")+"]"]}(),function(){util.map={},util.map.isValidCoordinate=function(coord){return(0,_isArray2.default)(coord)&&2===coord.length&&coord[0]>=-180&&coord[0]<=180&&coord[1]>=-90&&coord[1]<=90},util.map.getBasemap=function(){for(var layerId in gis.layer)if(gis.layer.hasOwnProperty(layerId)){var layer=gis.layer[layerId];if("base"===layer.layerType&&layer.instance&&gis.instance.hasLayer(layer.instance))return layerId}return"none"},util.map.getVisibleVectorLayers=function(){return gis.overlayLayers.filter(function(layer){return layer.instance&&gis.instance.hasLayer(layer.instance)})},util.geojson={},util.geojson.decode=function(organisationUnits,levelOrder){var features=[];return levelOrder=levelOrder||"ASC",util.array.sort(organisationUnits,levelOrder,"le"),organisationUnits.forEach(function(ou){var coord=JSON.parse(ou.co),gpid="",gppg="",type=void 0;if(coord&&coord.length){if(type="Point",2===ou.ty&&(type="Polygon","[[[["===ou.co.substring(0,4)&&(type="MultiPolygon")),(0,_isString2.default)(ou.pg)&&ou.pg.length){var ids=(0,_arrayClean2.default)(ou.pg.split("/"));ids.length>=2&&(gpid=ids[ids.length-2]),ids.length>2&&(gppg="/"+ids.slice(0,ids.length-2).join("/"))}features.push({type:"Feature",id:ou.id,geometry:{type:type,coordinates:coord},properties:{id:ou.id,name:ou.na,hasCoordinatesDown:ou.hcd,hasCoordinatesUp:ou.hcu,level:ou.le,grandParentParentGraph:gppg,grandParentId:gpid,parentGraph:ou.pg,parentId:ou.pi,parentName:ou.pn}})}}),features},util.gui={},util.gui.combo={},util.gui.combo.setQueryMode=function(cmpArray,mode){cmpArray.forEach(function(cmp){return cmp.queryMode=mode})},util.object={},util.object.getLength=function(object){var size=0;for(var key in object)object.hasOwnProperty(key)&&size++;return size},util.array={},util.array.getLength=function(array,suppressWarning){return(0,_isArray2.default)(array)?array.length:(suppressWarning||console.log("support.prototype.array.getLength: not an array"),null)},util.array.sort=function(array,direction,key,emptyFirst){if(util.array.getLength(array,!0))return key=key||(0,_isNumber2.default)(key)?key:"name",array.sort(function(a,b){return(0,_isObject2.default)(a)&&(0,_isObject2.default)(b)&&(a=a[key],b=b[key]),(0,_isArray2.default)(a)&&(0,_isArray2.default)(b)&&(a=a[key],b=b[key]),(0,_isString2.default)(a)&&(0,_isString2.default)(b)?(a=a.toLowerCase(),b=b.toLowerCase(),"DESC"===direction?a<b?1:a>b?-1:0:a<b?-1:a>b?1:0):(0,_isNumber2.default)(a)&&(0,_isNumber2.default)(b)?"DESC"===direction?b-a:a-b:void 0===a||null===a?emptyFirst?-1:1:(void 0===b||null===b)&&emptyFirst?1:-1}),array},util.array.getObjectMap=function(array,idProperty,nameProperty,namePrefix){if(!(0,_isArray2.default)(array)||!array.length)return{};var o={};return idProperty=idProperty||"id",nameProperty=nameProperty||"name",namePrefix=namePrefix||"",array.forEach(function(obj){return o[namePrefix+obj[idProperty]]=obj[nameProperty]}),o},util.layout={},util.layout.getAnalytical=function(map){var layout=void 0,layer=void 0;if((0,_isObject2.default)(map)&&(0,_isArray2.default)(map.mapViews)&&map.mapViews.length)map.mapViews.forEach(function(view){var id=view.layer;if(gis.layer.hasOwnProperty(id)&&gis.layer[id].layerCategory===gis.conf.finals.layer.category_thematic){var _layout=gis.api.layout.Layout(view);if(_layout)return _layout}});else for(var key in gis.layer)if(gis.layer.hasOwnProperty(key)&&key.substring(0,8)===gis.conf.finals.layer.category_thematic&&gis.layer[key].view&&(layer=gis.layer[key],layout=gis.api.layout.Layout(layer.view)))return!layout.parentGraphMap&&layer.widget&&(layout.parentGraphMap=layer.widget.getParentGraphMap()),layout},util.layout.getPluginConfig=function(){var layers=gis.util.map.getVisibleVectorLayers(),map={};return gis.map?gis.map:(map.mapViews=[],layers.forEach(function(layer){layer.view&&(layer.view.layer=layer.id,map.mapViews.push(layer.view))}),map)},util.layout.setSessionStorage=function(session,obj,url){if(GIS.isSessionStorage){var dhis2=JSON.parse(sessionStorage.getItem("dhis2"))||{};dhis2[session]=obj,sessionStorage.setItem("dhis2",JSON.stringify(dhis2)),(0,_isString2.default)(url)&&(window.location.href=url)}},util.layout.getDataDimensionsFromLayout=function(layout){var dimensions=(0,_arrayClean2.default)([].concat(layout.columns||[],layout.rows||[],layout.filters||[])),ignoreKeys=["pe","ou"];return dimensions.filter(function(dim){return!(0,_arrayContains2.default)(ignoreKeys,dim.dimension)})},util.date={},util.date.getYYYYMMDD=function(param){if(!(0,_isString2.default)(param)&&("[object Date]"!==Object.prototype.toString.call(param)||"Invalid date"===param.toString()))return null;var date=new Date(param),month=""+(1+date.getMonth()),day=""+date.getDate();return month=1===month.length?"0"+month:month,day=1===day.length?"0"+day:day,date.getFullYear()+"-"+month+"-"+day},util.message={},util.message.alert=function(obj){if(obj&&(!(0,_isObject2.default)(obj)||obj.message||obj.responseText)){(0,_isObject2.default)(obj)&&obj.responseText&&!obj.message&&(obj=JSON.parse(obj.responseText)),(0,_isString2.default)(obj)&&(obj={status:"ERROR",message:obj});var html=obj.httpStatusCode?"Code: "+obj.httpStatusCode+"<br>":"";if(html+=obj.httpStatus?"Status: "+obj.httpStatus+"<br><br>":"",html+=obj.message+("."===obj.message.substr(obj.message.length-1)?"":"."),gis.viewport&&gis.viewport.centerRegion)Ext.create("Ext.window.Window",{title:obj.status,modal:!0,destroyOnBlur:!0,html:html,bodyStyle:"padding: 12px; background: #fff; max-width: 600px; max-height: "+gis.viewport.centerRegion.getHeight()/2+"px",listeners:{show:function(win){win.setPosition(win.getPosition()[0],win.getPosition()[1]/2),win.hasDestroyOnBlurHandler||gis.util.gui.window.addDestroyOnBlurHandler(win)}}}).show();else if(gis.container){gis.instance.getContainer().style.display="none";var alertDiv=document.createElement("div");alertDiv.className="dhis2-map-widget-alert",alertDiv.innerHTML=html,gis.container.appendChild(alertDiv)}gis.mask&&gis.mask.hide()}},util.dhis={},util.dhis.getDataDimensionItemTypes=function(dataDimensionItems){var types=[];if((0,_isArray2.default)(dataDimensionItems)&&dataDimensionItems.length)for(var i=0;i<dataDimensionItems.length;i++)(0,_isObject2.default)(dataDimensionItems[i])&&types.push(dataDimensionItems[i].dataDimensionItemType);return types}}(),gis.init=init,gis.conf=conf,gis.util=util,function(){var dimConf=gis.conf.finals.dimension;api.layout={},api.response={},api.layout.Record=function(config){if((0,_isObject2.default)(config)){if(!(0,_isString2.default)(config.id))return void console.log("Record id is not text",config);var record=Ext.clone(config);return(0,_isString2.default)(config.name)&&(record.name=config.name),record}},api.layout.Dimension=function(config){var dimension={};if((0,_isObject2.default)(config)){if(!(0,_isString2.default)(config.dimension))return void console.log("Dimension name is not text",config);if(config.dimension!==conf.finals.dimension.category.objectName){var records=[];if(!(0,_isArray2.default)(config.items))return void console.log("Dimension items is not an array",config);for(var record,i=0;i<config.items.length;i++)record=api.layout.Record(config.items[i]),record&&records.push(record);config.items=records}return dimension.dimension=config.dimension,dimension.items=config.items,config.objectName&&(dimension.objectName=config.objectName),config.filter&&(dimension.filter=config.filter),Ext.clone(dimension)}},api.layout.Layout=function(config,applyConfig,forceApplyConfig){config=Ext.apply(config,applyConfig);var layout={},getValidatedDimensionArray=function(dimensionArray){var dimensions=[];if(dimensionArray&&(0,_isArray2.default)(dimensionArray)&&dimensionArray.length){for(var dimension,i=0;i<dimensionArray.length;i++)dimension=api.layout.Dimension(dimensionArray[i]),dimension&&dimensions.push(dimension);return dimensionArray=dimensions,dimensionArray.length?dimensionArray:null}},validateSpecialCases=function(config){var dimensions=(0,_arrayClean2.default)([].concat(config.columns||[],config.rows||[],config.filters||[])),dxDim=void 0,peDim=void 0,ouDim=void 0;return dimensions.forEach(function(dim){dim.dimension===dimConf.data.objectName?dxDim=dim:dim.dimension===dimConf.period.objectName?peDim=dim:dim.dimension===dimConf.organisationUnit.objectName&&(ouDim=dim)}),ouDim?(dxDim&&(dxDim.items=[dxDim.items[0]]),"event"!==config.layer&&(config.columns=[dxDim]),"event"!==config.layer&&(config.rows=[ouDim]),"event"!==config.layer&&(config.filters=[peDim]),config):void gis.alert(GIS.i18n.no_organisation_units_specified)};return function(){var objectNames=[],dimConf=conf.finals.dimension,isOu=!1,isOuc=!1,isOugc=!1;if(config=validateSpecialCases(config)){if(config.columns=getValidatedDimensionArray(config.columns),config.rows=getValidatedDimensionArray(config.rows),config.filters=getValidatedDimensionArray(config.filters),!config.rows)return void console.log("Organisation unit dimension is invalid",config.rows);if(!(0,_arrayContains2.default)([gis.layer.thematic1.id,gis.layer.thematic2.id,gis.layer.thematic3.id,gis.layer.thematic4.id],config.layer)||config.columns){for(var dim,i=0,dims=(0,_arrayClean2.default)([].concat(config.columns,config.rows,config.filters));i<dims.length;i++)if(dim=dims[i],dim&&((0,_isString2.default)(dim.dimension)&&objectNames.push(dim.dimension),dim.dimension===dimConf.organisationUnit.objectName&&(0,_isArray2.default)(dim.items)))for(var j=0;j<dim.items.length;j++)"USER_ORGUNIT"===dim.items[j].id?isOu=!0:"USER_ORGUNIT_CHILDREN"===dim.items[j].id?isOuc=!0:"USER_ORGUNIT_GRANDCHILDREN"===dim.items[j].id&&(isOugc=!0);return layout.columns=config.columns,layout.rows=config.rows,layout.filters=config.filters,(0,_isObject2.default)(config.program)&&config.program.id&&(layout.program=config.program),(0,_isObject2.default)(config.programStage)&&config.programStage.id&&(layout.programStage=config.programStage),config.startDate&&(layout.startDate=config.startDate.substring(0,10)),config.endDate&&(layout.endDate=config.endDate.substring(0,10)),config.valueType&&(layout.valueType=config.valueType),config.eventCoordinateField&&(layout.eventCoordinateField=config.eventCoordinateField),config.eventClustering&&(layout.eventClustering=config.eventClustering),config.eventPointColor&&(layout.eventPointColor=config.eventPointColor),config.eventPointRadius&&(layout.eventPointRadius=config.eventPointRadius),layout.layer=(0,_isString2.default)(config.layer)&&!(0,_isEmpty2.default)(config.layer)?config.layer:"thematic1",layout.classes=(0,_isNumber2.default)(config.classes)&&!(0,_isEmpty2.default)(config.classes)?config.classes:5,layout.method=(0,_isNumber2.default)(config.method)&&!(0,_isEmpty2.default)(config.method)?config.method:2,layout.colorLow=(0,_isString2.default)(config.colorLow)&&!(0,_isEmpty2.default)(config.colorLow)?config.colorLow:"ff0000",layout.colorHigh=(0,_isString2.default)(config.colorHigh)&&!(0,_isEmpty2.default)(config.colorHigh)?config.colorHigh:"00ff00",layout.radiusLow=(0,_isNumber2.default)(config.radiusLow)&&!(0,_isEmpty2.default)(config.radiusLow)?config.radiusLow:5,layout.radiusHigh=(0,_isNumber2.default)(config.radiusHigh)&&!(0,_isEmpty2.default)(config.radiusHigh)?config.radiusHigh:15,layout.opacity=(0,_isNumber2.default)(config.opacity)&&!(0,_isEmpty2.default)(config.opacity)?config.opacity:gis.conf.layout.layer.opacity,layout.areaRadius=config.areaRadius,layout.labels=!!config.labels,layout.labelFontSize=config.labelFontSize||"11px",layout.labelFontSize=parseInt(layout.labelFontSize)+"px",layout.labelFontWeight=(0,_isString2.default)(config.labelFontWeight)||(0,_isNumber2.default)(config.labelFontWeight)?config.labelFontWeight:"normal",layout.labelFontWeight=(0,_arrayContains2.default)(["normal","bold","bolder","lighter"],layout.labelFontWeight)?layout.labelFontWeight:"normal",layout.labelFontWeight=(0,_isNumber2.default)(parseInt(layout.labelFontWeight))&&parseInt(layout.labelFontWeight)<=1e3?layout.labelFontWeight.toString():layout.labelFontWeight,layout.labelFontStyle=(0,_arrayContains2.default)(["normal","italic","oblique"],config.labelFontStyle)?config.labelFontStyle:"normal",layout.labelFontColor=(0,_isString2.default)(config.labelFontColor)||(0,_isNumber2.default)(config.labelFontColor)?config.labelFontColor:"normal",
layout.labelFontColor=(0,_isNumber2.default)(layout.labelFontColor)?layout.labelFontColor.toString():layout.labelFontColor,layout.labelFontColor="#"!==layout.labelFontColor.charAt(0)?"#"+layout.labelFontColor:layout.labelFontColor,layout.hidden=!!config.hidden,layout.userOrganisationUnit=isOu,layout.userOrganisationUnitChildren=isOuc,layout.userOrganisationUnitGrandChildren=isOugc,layout.parentGraphMap=(0,_isObject2.default)(config.parentGraphMap)?config.parentGraphMap:null,layout.organisationUnitGroupSet=config.organisationUnitGroupSet,layout.dataDimensionItems=config.dataDimensionItems,layout.key=config.key,config.config&&(layout.config=config.config),config.legendSet&&(layout.legendSet=config.legendSet),config.colorScale&&(layout.colorScale=config.colorScale),(0,_arrayFrom2.default)(config.userOrgUnit).length&&(layout.userOrgUnit=(0,_arrayFrom2.default)(config.userOrgUnit)),util.date.getYYYYMMDD(config.relativePeriodDate)&&(layout.relativePeriodDate=support.prototype.date.getYYYYMMDD(config.relativePeriodDate)),config.aggregationType&&(layout.aggregationType=config.aggregationType),Ext.apply(layout,forceApplyConfig)}}}()},api.response.Header=function(config){var header={};return function(){return(0,_isObject2.default)(config)?(0,_isString2.default)(config.name)?(0,_isBoolean2.default)(config.meta)?(header.name=config.name,header.meta=config.meta,Ext.clone(header)):void console.log("Header meta is not boolean",config):void console.log("Header name is not text",config):void console.log("Header is not an object",config)}()},api.response.Response=function(config){var response={};return function(){var headers=[];if(!config||!(0,_isObject2.default)(config))return gis.alert("Data response invalid",config),!1;if(!config.headers||!(0,_isArray2.default)(config.headers))return gis.alert("Data response invalid",config),!1;for(var header,i=0;i<config.headers.length;i++)header=api.response.Header(config.headers[i]),header&&headers.push(header);return config.headers=headers,config.headers.length?(0,_isArray2.default)(config.rows)&&config.rows.length>0?config.headers.length!==config.rows[0].length?(gis.alert("Data invalid",config),!1):(response.headers=config.headers,response.metaData=config.metaData,response.width=config.width,response.height=config.height,response.rows=config.rows,response):(gis.alert("No values found",config),!1):void gis.alert("No valid response headers",config)}()}}(),gis.postDataStatistics=function(mapId){(0,_isObject2.default)(GIS.app)&&!(0,_isObject2.default)(GIS.plugin,gis.init.apiPath)&&Ext.Ajax.request({url:gis.init.apiPath+"dataStatistics?eventType=MAP_VIEW"+(mapId?"&favorite="+mapId:""),method:"POST"})},gis.alert=util.message.alert,gis.api=api,gis.store=store,gis.layer=GIS.core.getLayers(gis),gis.thematicLayers=[gis.layer.thematic1,gis.layer.thematic2,gis.layer.thematic3,gis.layer.thematic4],gis.orderedLayers=[gis.layer.googleHybrid,gis.layer.googleStreets,gis.layer.openStreetMap,gis.layer.osmLight,gis.layer.earthEngine,gis.layer.thematic4,gis.layer.thematic3,gis.layer.thematic2,gis.layer.thematic1,gis.layer.boundary,gis.layer.facility,gis.layer.event],gis.overlayLayers=[gis.layer.earthEngine,gis.layer.thematic4,gis.layer.thematic3,gis.layer.thematic2,gis.layer.thematic1,gis.layer.boundary,gis.layer.external,gis.layer.facility,gis.layer.event],gis.relocate={},gis.instance=GIS.core.getMap(gis),GIS.core.instances.push(gis),gis.instance.on("contextmenu",function(evt){var menu=GIS.core.ContextMenu(gis,null,null,evt.latlng);menu.showAt([evt.originalEvent.x,evt.originalEvent.pageY||evt.originalEvent.y])}),gis}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=getInstance;var _isArray=__webpack_require__(0),_isArray2=_interopRequireDefault(_isArray),_isEmpty=__webpack_require__(78),_isEmpty2=_interopRequireDefault(_isEmpty),_isBoolean=__webpack_require__(27),_isBoolean2=_interopRequireDefault(_isBoolean),_isNumber=__webpack_require__(42),_isNumber2=_interopRequireDefault(_isNumber),_isObject=__webpack_require__(3),_isObject2=_interopRequireDefault(_isObject),_isString=__webpack_require__(4),_isString2=_interopRequireDefault(_isString),_arrayClean=__webpack_require__(10),_arrayClean2=_interopRequireDefault(_arrayClean),_arrayContains=__webpack_require__(20),_arrayContains2=_interopRequireDefault(_arrayContains),_arrayFrom=__webpack_require__(25),_arrayFrom2=_interopRequireDefault(_arrayFrom)},function(module,exports,__webpack_require__){"use strict";function getLayers(gis){for(var number,layerNumbers=["1","2","3","4"],layers={osmLight:{id:"osmLight",name:GIS.i18n.osm_light,layerType:"base",layerOpacity:1,config:{type:"tileLayer",url:"//cartodb-basemaps-{s}.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png",attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>, &copy; <a href="http://cartodb.com/attributions">CartoDB</a>'}},openStreetMap:{id:"openStreetMap",name:GIS.i18n.openstreetmap,layerType:"base",layerOpacity:1,config:{type:"tileLayer",url:"//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}},googleStreets:{id:"googleStreets",name:GIS.i18n.google_streets,layerType:"base",layerOpacity:1,config:{type:"googleLayer",style:"ROADMAP",apiKey:gis.init.systemInfo.googleMapsKey}},googleHybrid:{id:"googleHybrid",name:GIS.i18n.google_hybrid,layerOpacity:1,layerType:"base",config:{type:"googleLayer",style:"HYBRID",apiKey:gis.init.systemInfo.googleMapsKey}},earthEngine:{id:"earthEngine",name:GIS.i18n.earthengine_layer,layerOpacity:.9,config:{pane:"earthEngine"},handler:GIS.core.LayerHandlerEarthEngine},external:{id:"external",name:GIS.i18n.external_layer,layerOpacity:.9,handler:GIS.core.LayerHandlerExternal},event:{id:"event",name:GIS.i18n.event_layer,layerOpacity:.95,config:{type:"dots",pane:"event"},handler:GIS.core.LayerHandlerEvent},facility:{id:"facility",name:GIS.i18n.facility_layer,layerOpacity:1,zIndex:150,config:{type:"markers",pane:"facility"},handler:GIS.core.LayerHandlerFacility,featureStore:Ext.create("Ext.data.Store",{fields:["id","name"],features:[],loadFeatures:function(features){if(features&&features.length){for(var data=[],i=0;i<features.length;i++)data.push([features[i].id,features[i].properties.name]);this.loadData(data),this.sortStore(),this.features=features}else this.removeAll()},sortStore:function(){this.sort("name","ASC")}})},boundary:{id:"boundary",name:GIS.i18n.boundary_layer,layerOpacity:1,zIndex:100,config:{type:"boundary",pane:"boundary"},handler:GIS.core.LayerHandlerBoundary,featureStore:Ext.create("Ext.data.Store",{fields:["id","name"],features:[],loadFeatures:function(features){if(features&&features.length){for(var data=[],i=0;i<features.length;i++)data.push([features[i].id,features[i].properties.name]);this.loadData(data),this.sortStore(),this.features=features}else this.removeAll()},sortStore:function(){this.sort("name","ASC")}})}},i=0;i<layerNumbers.length;i++)number=layerNumbers[i],layers["thematic"+number]={id:"thematic"+number,name:GIS.i18n.thematic_layer+" "+number,layerOpacity:.8,zIndex:450-10*i,config:{type:"choropleth",pane:"thematic"+number},handler:GIS.core.LayerHandlerThematic,featureStore:Ext.create("Ext.data.Store",{fields:["id","name"],features:[],loadFeatures:function(features){if(features&&features.length){for(var data=[],i=0;i<features.length;i++)data.push([features[i].id,features[i].properties.name]);this.loadData(data),this.sortStore(),this.features=features}else this.removeAll()},sortStore:function(){this.sort("name","ASC")}})};return layers}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=getLayers},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getMap(){var map=(0,_src2.default)(document.createElement("div"));return map.createPane("event"),map.getPane("event").style.zIndex=630,map.createPane("facility"),map.getPane("facility").style.zIndex=620,map.createPane("boundary"),map.getPane("boundary").style.zIndex=460,map.createPane("thematic1"),map.getPane("thematic1").style.zIndex=450,map.createPane("thematic2"),map.getPane("thematic2").style.zIndex=440,map.createPane("thematic3"),map.getPane("thematic3").style.zIndex=430,map.createPane("thematic4"),map.getPane("thematic4").style.zIndex=420,map.createPane("earthEngine"),map.getPane("earthEngine").style.zIndex=300,map.createPane("external_overlay"),map.getPane("external_overlay").style.zIndex=470,map.getPane("external_overlay").style.pointerEvents="none",map.createPane("external_basemap"),map.getPane("external_basemap").style.zIndex=250,map}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=getMap;var _src=__webpack_require__(184),_src2=_interopRequireDefault(_src)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(12)(),exports.push([module.i,".leaflet-pelias-input {\n  box-sizing: border-box;\n  position: absolute;\n  left: 0;\n  top: 0;\n  height: 100%;\n  width: 100%;\n  border: none;\n  border-radius: 4px;\n  padding-left: 26px;\n  text-indent: 6px;\n  font-size: 14px;\n  background-color: transparent; /* Should inherit color from control */\n  cursor: pointer;\n}\n\n.leaflet-pelias-control {\n  width: 26px;\n  height: 26px;\n  background-color: white;\n  -webkit-transition: width .1s, height .1s;\n  -moz-transition: width .1s, height .1s;\n  -ms-transition: width .1s, height .1s;\n  -o-transition: width .1s, height .1s;\n  transition: width .1s, height .1s;\n  z-index: 810; /* place above .leaflet-control; z-index is 7 in Leaflet v0.7, 800 in v1 */\n  box-sizing: content-box;\n}\n\n/* For old IE, match other leaflet controls' appearance */\n.leaflet-oldie .leaflet-pelias-control {\n  border: 1px solid #999;\n}\n\n/* Match touch styles in Leaflet v1 */\n.leaflet-touch .leaflet-pelias-control {\n  width: 30px;\n  height: 30px;\n  line-height: 30px;\n}\n\n/* Expanded state in touch style, overrides touch style above */\n.leaflet-touch .leaflet-pelias-control.leaflet-pelias-expanded {\n  width: 280px;\n  height: 44px;\n  line-height: 32px; /* The height will be expanded with additional padding */\n}\n\n.leaflet-touch .leaflet-pelias-input {\n  background-size: 30px;\n}\n\n.leaflet-pelias-expanded {\n  width: 280px;\n  height: 44px;\n}\n\n.leaflet-pelias-expanded .leaflet-pelias-input {\n  padding-right: 30px; /* Space for close button */\n  /*background-color: white; /* Only show background color when expanded */\n\n  /* The properties below should be tweaked if height of .leaflet-pelias-expanded is changed */\n  padding-top: 5px;\n  padding-bottom: 5px;\n  line-height: 32px;\n}\n\n/* This layer icon has different margins */\n/* In popup */\nspan.leaflet-pelias-layer-icon-container {\n  display: inline-block;\n  width: 16px;\n  height: 16px;\n  margin-right: 5px;\n  vertical-align: text-bottom;\n}\n\n/* in results list */\n.leaflet-pelias-results span.leaflet-pelias-layer-icon-container {\n  margin-right: 9px;\n}\n\nimg.leaflet-pelias-layer-icon {\n  width: 16px;\n}\n\n.leaflet-pelias-layer-icon {\n  vertical-align: top;\n}\n\n.leaflet-pelias-layer-icon-point,\n.leaflet-pelias-layer-icon-polygon {\n  width: 100%;\n  height: 100%;\n  display: inline-block;\n  background-repeat: no-repeat;\n  background-position: center center;\n  background-size: contain;\n}\n\n.leaflet-pelias-layer-icon-point {\n  background-image: url("+__webpack_require__(206)+");\n}\n\n.leaflet-pelias-layer-icon-polygon {\n  background-image: url("+__webpack_require__(208)+");\n}\n\n@media only screen and (min--moz-device-pixel-ratio: 2),\nonly screen and (-o-min-device-pixel-ratio: 2/1),\nonly screen and (-webkit-min-device-pixel-ratio: 2),\nonly screen and (min-device-pixel-ratio: 2) {\n  .leaflet-pelias-layer-icon-point {\n    background-image: url("+__webpack_require__(207)+");\n  }\n\n  .leaflet-pelias-layer-icon-polygon {\n    background-image: url("+__webpack_require__(209)+");\n  }\n}\n\n.leaflet-pelias-close {\n  display: none; /* Do not show by default */\n  position: absolute;\n  right: 0;\n  width: 26px;\n  height: 100%;\n  padding-right: 2px;\n  text-align: center;\n  vertical-align: middle;\n  font: normal 18px/26px 'Lucida Console', Monaco, monospace;\n  background-color: transparent;\n  cursor: pointer;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n.leaflet-pelias-expanded .leaflet-pelias-close {\n  display: table-cell; /* Show when expanded by default */\n  background-color: inherit; /* Masks input on IE8 */\n  border-top-right-radius: 4px; /* Need to match input border radius if this has a solid background, overflow:hidden is not available; */\n  border-bottom-right-radius: 4px;\n}\n\n/* Plugin logic dictates when the reset button is hidden\n   while the search bar is expanded. This hidden helper class\n   is only ever used on the reset button */\n.leaflet-pelias-expanded .leaflet-pelias-close.leaflet-pelias-hidden {\n  display: none;\n}\n\n/* Vertical centering ghost element - IE8+ */\n.leaflet-pelias-close:before {\n  content: '';\n  display: inline-block;\n  height: 100%;\n  vertical-align: middle;\n}\n\n.leaflet-touch .leaflet-pelias-input.leaflet-bar {\n  border-radius: 4px;\n  border: 0 none;\n}\n\n.leaflet-touch .leaflet-pelias-results.leaflet-bar {\n  border-radius: 2px;\n  border: 0 none;\n}\n\n.leaflet-pelias-search-icon {\n  position: absolute;\n  height: 100%;\n  background-image: url("+__webpack_require__(210)+");\n  background-repeat: no-repeat;\n  background-position: center center;\n  background-size: 16px;\n  z-index: 10; /* Places the icon above the input */\n  cursor: pointer;\n}\n\n/* Overrides to .leaflet-bar a */\n.leaflet-bar a.leaflet-pelias-search-icon {\n  border-radius: 4px;\n  border-bottom: 0;\n  height: 100%;\n}\n\n/* Overrides to .leaflet-bar a, which provides a white background\n   By making it transparent (unless hovered) it prevents situations\n   where the background color overlaps a parent element unexpectedly */\n.leaflet-bar a.leaflet-pelias-search-icon:not(:hover) {\n  background-color: transparent;\n}\n\n/* When expanded, search icon doesn't need right-side radii */\n.leaflet-pelias-expanded a.leaflet-pelias-search-icon {\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n}\n\n.leaflet-pelias-search-icon.leaflet-pelias-loading {\n  background-image: url("+__webpack_require__(204)+");\n}\n\n@media only screen and (min--moz-device-pixel-ratio: 2),\nonly screen and (-o-min-device-pixel-ratio: 2/1),\nonly screen and (-webkit-min-device-pixel-ratio: 2),\nonly screen and (min-device-pixel-ratio: 2) {\n  .leaflet-pelias-search-icon {\n    background-image: url("+__webpack_require__(211)+");\n  }\n  .leaflet-pelias-search-icon.leaflet-pelias-loading {\n    background-image: url("+__webpack_require__(205)+");\n  }\n}\n\n.leaflet-pelias-input:focus {\n  outline: none;\n  cursor: text;\n}\n\n.leaflet-pelias-input::-ms-clear {\n  display: none;\n}\n\n.leaflet-pelias-results {\n  width: 100%;\n  position: absolute;\n  left: 0;\n  overflow-y: auto;\n  overflow-x: hidden;\n  display: none;\n}\n\n.leaflet-touch .leaflet-pelias-results {\n  box-shadow: 0 0 0 2px rgba(0,0,0,0.2);\n}\n\n/* For old IE, match other leaflet controls' appearance */\n.leaflet-oldie .leaflet-pelias-results {\n  border: 1px solid #999;\n  left: -1px;\n}\n\n.leaflet-top .leaflet-pelias-results {\n  /* This should be adjusted for proper positioning if height of .leaflet-pelias-expanded is changed */\n  top: 50px;\n}\n\n.leaflet-bottom .leaflet-pelias-results {\n  /* This should be adjusted for proper positioning if height of .leaflet-pelias-expanded is changed */\n  bottom: 50px;\n}\n\n.leaflet-pelias-list {\n  list-style: none;\n  margin: 0;\n  padding: 0;\n}\n\n.leaflet-pelias-results .leaflet-pelias-result {\n  font-size: 13px;\n  padding: 7px;\n  background-color: white;\n  border-top: 1px solid #f1f1f1;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  cursor: pointer;\n}\n\n.leaflet-pelias-results .leaflet-pelias-result:first-child {\n  border: none;\n}\n\n.leaflet-pelias-results .leaflet-pelias-result:hover {\n  background-color: #d5f1f3;\n  border-color: #d5f1f3;\n}\n\n.leaflet-pelias-results .leaflet-pelias-result.leaflet-pelias-selected,\n.leaflet-pelias-results .leaflet-pelias-result.leaflet-pelias-selected:hover {\n  background-color: #b2e3e7;\n  border-color: #b2e3e7;\n}\n\n.leaflet-pelias-message {\n  font-size: 13px;\n  padding: 7px;\n  background-color: white;\n  overflow-x: auto;\n}\n\n/* styles when positioned on right */\n\n.leaflet-right .leaflet-pelias-results {\n  left: auto;\n  right: 0;\n}\n\n.leaflet-right .leaflet-pelias-input {\n  left: auto;\n  right: 0;\n}\n",""])},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(12)(),exports.push([module.i,".leaflet-control-measure h3,.leaflet-measure-resultpopup h3{margin:0 0 12px 0;padding-bottom:10px;line-height:1em;font-weight:normal;font-size:1.1em;border-bottom:solid 1px #DDD}.leaflet-control-measure p,.leaflet-measure-resultpopup p{margin:10px 0 0;line-height:1em}.leaflet-control-measure p:first-child,.leaflet-measure-resultpopup p:first-child{margin-top:0}.leaflet-control-measure a,.leaflet-measure-resultpopup a{color:#5E66CC;text-decoration:none}.leaflet-control-measure a:hover,.leaflet-measure-resultpopup a:hover{opacity:0.5;text-decoration:none}.leaflet-control-measure .tasks,.leaflet-measure-resultpopup .tasks{margin:12px 0 0;padding:10px 0 0;border-top:solid 1px #DDD;list-style:none;list-style-image:none}.leaflet-control-measure .tasks li,.leaflet-measure-resultpopup .tasks li{display:inline;margin:0 10px 0 0}.leaflet-control-measure .tasks li:last-child,.leaflet-measure-resultpopup .tasks li:last-child{margin-right:0}.leaflet-control-measure .coorddivider,.leaflet-measure-resultpopup .coorddivider{color:#999}.leaflet-control-measure{background:#fff;border-radius:5px;box-shadow:0 1px 5px rgba(0,0,0,0.4)}.leaflet-control-measure .leaflet-control-measure-toggle,.leaflet-control-measure .leaflet-control-measure-toggle:hover{display:block;width:36px;height:36px;background-position:50% 50%;background-repeat:no-repeat;background-image:url("+__webpack_require__(218)+");border-radius:5px;text-indent:100%;white-space:nowrap;overflow:hidden}.leaflet-retina .leaflet-control-measure .leaflet-control-measure-toggle,.leaflet-retina .leaflet-control-measure .leaflet-control-measure-toggle:hover{background-image:url("+__webpack_require__(219)+");background-size:16px 16px}.leaflet-touch .leaflet-control-measure .leaflet-control-measure-toggle,.leaflet-touch .leaflet-control-measure .leaflet-control-measure-toggle:hover{width:44px;height:44px}.leaflet-control-measure .startprompt h3{margin-bottom:10px}.leaflet-control-measure .startprompt .tasks{margin-top:0;padding-top:0;border-top:0}.leaflet-control-measure .leaflet-control-measure-interaction{padding:10px 12px}.leaflet-control-measure .results .group{margin-top:10px;padding-top:10px;border-top:dotted 1px #eaeaea}.leaflet-control-measure .results .group:first-child{margin-top:0;padding-top:0;border-top:0}.leaflet-control-measure .results .heading{margin-right:5px;color:#999}.leaflet-control-measure a.start{padding-left:18px;background-repeat:no-repeat;background-position:0% 50%;background-image:url("+__webpack_require__(220)+")}.leaflet-retina .leaflet-control-measure a.start{background-image:url("+__webpack_require__(221)+");background-size:12px 12px}.leaflet-control-measure a.cancel{padding-left:18px;background-repeat:no-repeat;background-position:0% 50%;background-image:url("+__webpack_require__(212)+")}.leaflet-retina .leaflet-control-measure a.cancel{background-image:url("+__webpack_require__(213)+");background-size:12px 12px}.leaflet-control-measure a.finish{padding-left:18px;background-repeat:no-repeat;background-position:0% 50%;background-image:url("+__webpack_require__(214)+")}.leaflet-retina .leaflet-control-measure a.finish{background-image:url("+__webpack_require__(215)+");background-size:12px 12px}.leaflet-measure-resultpopup a.zoomto{padding-left:18px;background-repeat:no-repeat;background-position:0% 50%;background-image:url("+__webpack_require__(216)+")}.leaflet-retina .leaflet-measure-resultpopup a.zoomto{background-image:url("+__webpack_require__(217)+");background-size:12px 12px}.leaflet-measure-resultpopup a.deletemarkup{padding-left:18px;background-repeat:no-repeat;background-position:0% 50%;background-image:url("+__webpack_require__(222)+")}.leaflet-retina .leaflet-measure-resultpopup a.deletemarkup{background-image:url("+__webpack_require__(223)+");background-size:11px 12px}\n",""])},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(12)(),exports.push([module.i,".leaflet-cluster-anim .leaflet-marker-icon, .leaflet-cluster-anim .leaflet-marker-shadow {\r\n\t-webkit-transition: -webkit-transform 0.3s ease-out, opacity 0.3s ease-in;\r\n\t-moz-transition: -moz-transform 0.3s ease-out, opacity 0.3s ease-in;\r\n\t-o-transition: -o-transform 0.3s ease-out, opacity 0.3s ease-in;\r\n\ttransition: transform 0.3s ease-out, opacity 0.3s ease-in;\r\n}\r\n\r\n.leaflet-cluster-spider-leg {\r\n\t/* stroke-dashoffset (duration and function) should match with leaflet-marker-icon transform in order to track it exactly */\r\n\t-webkit-transition: -webkit-stroke-dashoffset 0.3s ease-out, -webkit-stroke-opacity 0.3s ease-in;\r\n\t-moz-transition: -moz-stroke-dashoffset 0.3s ease-out, -moz-stroke-opacity 0.3s ease-in;\r\n\t-o-transition: -o-stroke-dashoffset 0.3s ease-out, -o-stroke-opacity 0.3s ease-in;\r\n\ttransition: stroke-dashoffset 0.3s ease-out, stroke-opacity 0.3s ease-in;\r\n}\r\n",""])},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(12)(),exports.push([module.i,"/* required styles */\r\n\r\n.leaflet-pane,\r\n.leaflet-tile,\r\n.leaflet-marker-icon,\r\n.leaflet-marker-shadow,\r\n.leaflet-tile-container,\r\n.leaflet-pane > svg,\r\n.leaflet-pane > canvas,\r\n.leaflet-zoom-box,\r\n.leaflet-image-layer,\r\n.leaflet-layer {\r\n\tposition: absolute;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\t}\r\n.leaflet-container {\r\n\toverflow: hidden;\r\n\t}\r\n.leaflet-tile,\r\n.leaflet-marker-icon,\r\n.leaflet-marker-shadow {\r\n\t-webkit-user-select: none;\r\n\t   -moz-user-select: none;\r\n\t        user-select: none;\r\n\t  -webkit-user-drag: none;\r\n\t}\r\n/* Safari renders non-retina tile on retina better with this, but Chrome is worse */\r\n.leaflet-safari .leaflet-tile {\r\n\timage-rendering: -webkit-optimize-contrast;\r\n\t}\r\n/* hack that prevents hw layers \"stretching\" when loading new tiles */\r\n.leaflet-safari .leaflet-tile-container {\r\n\twidth: 1600px;\r\n\theight: 1600px;\r\n\t-webkit-transform-origin: 0 0;\r\n\t}\r\n.leaflet-marker-icon,\r\n.leaflet-marker-shadow {\r\n\tdisplay: block;\r\n\t}\r\n/* .leaflet-container svg: reset svg max-width decleration shipped in Joomla! (joomla.org) 3.x */\r\n/* .leaflet-container img: map is broken in FF if you have max-width: 100% on tiles */\r\n.leaflet-container .leaflet-overlay-pane svg,\r\n.leaflet-container .leaflet-marker-pane img,\r\n.leaflet-container .leaflet-shadow-pane img,\r\n.leaflet-container .leaflet-tile-pane img,\r\n.leaflet-container img.leaflet-image-layer {\r\n\tmax-width: none !important;\r\n\t}\r\n\r\n.leaflet-container.leaflet-touch-zoom {\r\n\t-ms-touch-action: pan-x pan-y;\r\n\ttouch-action: pan-x pan-y;\r\n\t}\r\n.leaflet-container.leaflet-touch-drag {\r\n\t-ms-touch-action: pinch-zoom;\r\n\t}\r\n.leaflet-container.leaflet-touch-drag.leaflet-touch-zoom {\r\n\t-ms-touch-action: none;\r\n\ttouch-action: none;\r\n}\r\n.leaflet-tile {\r\n\tfilter: inherit;\r\n\tvisibility: hidden;\r\n\t}\r\n.leaflet-tile-loaded {\r\n\tvisibility: inherit;\r\n\t}\r\n.leaflet-zoom-box {\r\n\twidth: 0;\r\n\theight: 0;\r\n\t-moz-box-sizing: border-box;\r\n\t     box-sizing: border-box;\r\n\tz-index: 800;\r\n\t}\r\n/* workaround for https://bugzilla.mozilla.org/show_bug.cgi?id=888319 */\r\n.leaflet-overlay-pane svg {\r\n\t-moz-user-select: none;\r\n\t}\r\n\r\n.leaflet-pane         { z-index: 400; }\r\n\r\n.leaflet-tile-pane    { z-index: 200; }\r\n.leaflet-overlay-pane { z-index: 400; }\r\n.leaflet-shadow-pane  { z-index: 500; }\r\n.leaflet-marker-pane  { z-index: 600; }\r\n.leaflet-tooltip-pane   { z-index: 650; }\r\n.leaflet-popup-pane   { z-index: 700; }\r\n\r\n.leaflet-map-pane canvas { z-index: 100; }\r\n.leaflet-map-pane svg    { z-index: 200; }\r\n\r\n.leaflet-vml-shape {\r\n\twidth: 1px;\r\n\theight: 1px;\r\n\t}\r\n.lvml {\r\n\tbehavior: url(#default#VML);\r\n\tdisplay: inline-block;\r\n\tposition: absolute;\r\n\t}\r\n\r\n\r\n/* control positioning */\r\n\r\n.leaflet-control {\r\n\tposition: relative;\r\n\tz-index: 800;\r\n\tpointer-events: visiblePainted; /* IE 9-10 doesn't have auto */\r\n\tpointer-events: auto;\r\n\t}\r\n.leaflet-top,\r\n.leaflet-bottom {\r\n\tposition: absolute;\r\n\tz-index: 1000;\r\n\tpointer-events: none;\r\n\t}\r\n.leaflet-top {\r\n\ttop: 0;\r\n\t}\r\n.leaflet-right {\r\n\tright: 0;\r\n\t}\r\n.leaflet-bottom {\r\n\tbottom: 0;\r\n\t}\r\n.leaflet-left {\r\n\tleft: 0;\r\n\t}\r\n.leaflet-control {\r\n\tfloat: left;\r\n\tclear: both;\r\n\t}\r\n.leaflet-right .leaflet-control {\r\n\tfloat: right;\r\n\t}\r\n.leaflet-top .leaflet-control {\r\n\tmargin-top: 10px;\r\n\t}\r\n.leaflet-bottom .leaflet-control {\r\n\tmargin-bottom: 10px;\r\n\t}\r\n.leaflet-left .leaflet-control {\r\n\tmargin-left: 10px;\r\n\t}\r\n.leaflet-right .leaflet-control {\r\n\tmargin-right: 10px;\r\n\t}\r\n\r\n\r\n/* zoom and fade animations */\r\n\r\n.leaflet-fade-anim .leaflet-tile {\r\n\twill-change: opacity;\r\n\t}\r\n.leaflet-fade-anim .leaflet-popup {\r\n\topacity: 0;\r\n\t-webkit-transition: opacity 0.2s linear;\r\n\t   -moz-transition: opacity 0.2s linear;\r\n\t     -o-transition: opacity 0.2s linear;\r\n\t        transition: opacity 0.2s linear;\r\n\t}\r\n.leaflet-fade-anim .leaflet-map-pane .leaflet-popup {\r\n\topacity: 1;\r\n\t}\r\n.leaflet-zoom-animated {\r\n\t-webkit-transform-origin: 0 0;\r\n\t    -ms-transform-origin: 0 0;\r\n\t        transform-origin: 0 0;\r\n\t}\r\n.leaflet-zoom-anim .leaflet-zoom-animated {\r\n\twill-change: transform;\r\n\t}\r\n.leaflet-zoom-anim .leaflet-zoom-animated {\r\n\t-webkit-transition: -webkit-transform 0.25s cubic-bezier(0,0,0.25,1);\r\n\t   -moz-transition:    -moz-transform 0.25s cubic-bezier(0,0,0.25,1);\r\n\t     -o-transition:      -o-transform 0.25s cubic-bezier(0,0,0.25,1);\r\n\t        transition:         transform 0.25s cubic-bezier(0,0,0.25,1);\r\n\t}\r\n.leaflet-zoom-anim .leaflet-tile,\r\n.leaflet-pan-anim .leaflet-tile {\r\n\t-webkit-transition: none;\r\n\t   -moz-transition: none;\r\n\t     -o-transition: none;\r\n\t        transition: none;\r\n\t}\r\n\r\n.leaflet-zoom-anim .leaflet-zoom-hide {\r\n\tvisibility: hidden;\r\n\t}\r\n\r\n\r\n/* cursors */\r\n\r\n.leaflet-interactive {\r\n\tcursor: pointer;\r\n\t}\r\n.leaflet-grab {\r\n\tcursor: -webkit-grab;\r\n\tcursor:    -moz-grab;\r\n\t}\r\n.leaflet-crosshair,\r\n.leaflet-crosshair .leaflet-interactive {\r\n\tcursor: crosshair;\r\n\t}\r\n.leaflet-popup-pane,\r\n.leaflet-control {\r\n\tcursor: auto;\r\n\t}\r\n.leaflet-dragging .leaflet-grab,\r\n.leaflet-dragging .leaflet-grab .leaflet-interactive,\r\n.leaflet-dragging .leaflet-marker-draggable {\r\n\tcursor: move;\r\n\tcursor: -webkit-grabbing;\r\n\tcursor:    -moz-grabbing;\r\n\t}\r\n\r\n/* marker & overlays interactivity */\r\n.leaflet-marker-icon,\r\n.leaflet-marker-shadow,\r\n.leaflet-image-layer,\r\n.leaflet-pane > svg path,\r\n.leaflet-tile-container {\r\n\tpointer-events: none;\r\n\t}\r\n\r\n.leaflet-marker-icon.leaflet-interactive,\r\n.leaflet-image-layer.leaflet-interactive,\r\n.leaflet-pane > svg path.leaflet-interactive {\r\n\tpointer-events: visiblePainted; /* IE 9-10 doesn't have auto */\r\n\tpointer-events: auto;\r\n\t}\r\n\r\n/* visual tweaks */\r\n\r\n.leaflet-container {\r\n\tbackground: #ddd;\r\n\toutline: 0;\r\n\t}\r\n.leaflet-container a {\r\n\tcolor: #0078A8;\r\n\t}\r\n.leaflet-container a.leaflet-active {\r\n\toutline: 2px solid orange;\r\n\t}\r\n.leaflet-zoom-box {\r\n\tborder: 2px dotted #38f;\r\n\tbackground: rgba(255,255,255,0.5);\r\n\t}\r\n\r\n\r\n/* general typography */\r\n.leaflet-container {\r\n\tfont: 12px/1.5 \"Helvetica Neue\", Arial, Helvetica, sans-serif;\r\n\t}\r\n\r\n\r\n/* general toolbar styles */\r\n\r\n.leaflet-bar {\r\n\tbox-shadow: 0 1px 5px rgba(0,0,0,0.65);\r\n\tborder-radius: 4px;\r\n\t}\r\n.leaflet-bar a,\r\n.leaflet-bar a:hover {\r\n\tbackground-color: #fff;\r\n\tborder-bottom: 1px solid #ccc;\r\n\twidth: 26px;\r\n\theight: 26px;\r\n\tline-height: 26px;\r\n\tdisplay: block;\r\n\ttext-align: center;\r\n\ttext-decoration: none;\r\n\tcolor: black;\r\n\t}\r\n.leaflet-bar a,\r\n.leaflet-control-layers-toggle {\r\n\tbackground-position: 50% 50%;\r\n\tbackground-repeat: no-repeat;\r\n\tdisplay: block;\r\n\t}\r\n.leaflet-bar a:hover {\r\n\tbackground-color: #f4f4f4;\r\n\t}\r\n.leaflet-bar a:first-child {\r\n\tborder-top-left-radius: 4px;\r\n\tborder-top-right-radius: 4px;\r\n\t}\r\n.leaflet-bar a:last-child {\r\n\tborder-bottom-left-radius: 4px;\r\n\tborder-bottom-right-radius: 4px;\r\n\tborder-bottom: none;\r\n\t}\r\n.leaflet-bar a.leaflet-disabled {\r\n\tcursor: default;\r\n\tbackground-color: #f4f4f4;\r\n\tcolor: #bbb;\r\n\t}\r\n\r\n.leaflet-touch .leaflet-bar a {\r\n\twidth: 30px;\r\n\theight: 30px;\r\n\tline-height: 30px;\r\n\t}\r\n\r\n\r\n/* zoom control */\r\n\r\n.leaflet-control-zoom-in,\r\n.leaflet-control-zoom-out {\r\n\tfont: bold 18px 'Lucida Console', Monaco, monospace;\r\n\ttext-indent: 1px;\r\n\t}\r\n.leaflet-control-zoom-out {\r\n\tfont-size: 20px;\r\n\t}\r\n\r\n.leaflet-touch .leaflet-control-zoom-in {\r\n\tfont-size: 22px;\r\n\t}\r\n.leaflet-touch .leaflet-control-zoom-out {\r\n\tfont-size: 24px;\r\n\t}\r\n\r\n\r\n/* layers control */\r\n\r\n.leaflet-control-layers {\r\n\tbox-shadow: 0 1px 5px rgba(0,0,0,0.4);\r\n\tbackground: #fff;\r\n\tborder-radius: 5px;\r\n\t}\r\n.leaflet-control-layers-toggle {\r\n\tbackground-image: url("+__webpack_require__(225)+");\r\n\twidth: 36px;\r\n\theight: 36px;\r\n\t}\r\n.leaflet-retina .leaflet-control-layers-toggle {\r\n\tbackground-image: url("+__webpack_require__(224)+");\r\n\tbackground-size: 26px 26px;\r\n\t}\r\n.leaflet-touch .leaflet-control-layers-toggle {\r\n\twidth: 44px;\r\n\theight: 44px;\r\n\t}\r\n.leaflet-control-layers .leaflet-control-layers-list,\r\n.leaflet-control-layers-expanded .leaflet-control-layers-toggle {\r\n\tdisplay: none;\r\n\t}\r\n.leaflet-control-layers-expanded .leaflet-control-layers-list {\r\n\tdisplay: block;\r\n\tposition: relative;\r\n\t}\r\n.leaflet-control-layers-expanded {\r\n\tpadding: 6px 10px 6px 6px;\r\n\tcolor: #333;\r\n\tbackground: #fff;\r\n\t}\r\n.leaflet-control-layers-scrollbar {\r\n\toverflow-y: scroll;\r\n\tpadding-right: 5px;\r\n\t}\r\n.leaflet-control-layers-selector {\r\n\tmargin-top: 2px;\r\n\tposition: relative;\r\n\ttop: 1px;\r\n\t}\r\n.leaflet-control-layers label {\r\n\tdisplay: block;\r\n\t}\r\n.leaflet-control-layers-separator {\r\n\theight: 0;\r\n\tborder-top: 1px solid #ddd;\r\n\tmargin: 5px -10px 5px -6px;\r\n\t}\r\n\r\n/* Default icon URLs */\r\n.leaflet-default-icon-path {\r\n\tbackground-image: url("+__webpack_require__(226)+');\r\n\t}\r\n\r\n\r\n/* attribution and scale controls */\r\n\r\n.leaflet-container .leaflet-control-attribution {\r\n\tbackground: #fff;\r\n\tbackground: rgba(255, 255, 255, 0.7);\r\n\tmargin: 0;\r\n\t}\r\n.leaflet-control-attribution,\r\n.leaflet-control-scale-line {\r\n\tpadding: 0 5px;\r\n\tcolor: #333;\r\n\t}\r\n.leaflet-control-attribution a {\r\n\ttext-decoration: none;\r\n\t}\r\n.leaflet-control-attribution a:hover {\r\n\ttext-decoration: underline;\r\n\t}\r\n.leaflet-container .leaflet-control-attribution,\r\n.leaflet-container .leaflet-control-scale {\r\n\tfont-size: 11px;\r\n\t}\r\n.leaflet-left .leaflet-control-scale {\r\n\tmargin-left: 5px;\r\n\t}\r\n.leaflet-bottom .leaflet-control-scale {\r\n\tmargin-bottom: 5px;\r\n\t}\r\n.leaflet-control-scale-line {\r\n\tborder: 2px solid #777;\r\n\tborder-top: none;\r\n\tline-height: 1.1;\r\n\tpadding: 2px 5px 1px;\r\n\tfont-size: 11px;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\t-moz-box-sizing: border-box;\r\n\t     box-sizing: border-box;\r\n\r\n\tbackground: #fff;\r\n\tbackground: rgba(255, 255, 255, 0.5);\r\n\t}\r\n.leaflet-control-scale-line:not(:first-child) {\r\n\tborder-top: 2px solid #777;\r\n\tborder-bottom: none;\r\n\tmargin-top: -2px;\r\n\t}\r\n.leaflet-control-scale-line:not(:first-child):not(:last-child) {\r\n\tborder-bottom: 2px solid #777;\r\n\t}\r\n\r\n.leaflet-touch .leaflet-control-attribution,\r\n.leaflet-touch .leaflet-control-layers,\r\n.leaflet-touch .leaflet-bar {\r\n\tbox-shadow: none;\r\n\t}\r\n.leaflet-touch .leaflet-control-layers,\r\n.leaflet-touch .leaflet-bar {\r\n\tborder: 2px solid rgba(0,0,0,0.2);\r\n\tbackground-clip: padding-box;\r\n\t}\r\n\r\n\r\n/* popup */\r\n\r\n.leaflet-popup {\r\n\tposition: absolute;\r\n\ttext-align: center;\r\n\tmargin-bottom: 20px;\r\n\t}\r\n.leaflet-popup-content-wrapper {\r\n\tpadding: 1px;\r\n\ttext-align: left;\r\n\tborder-radius: 12px;\r\n\t}\r\n.leaflet-popup-content {\r\n\tmargin: 13px 19px;\r\n\tline-height: 1.4;\r\n\t}\r\n.leaflet-popup-content p {\r\n\tmargin: 18px 0;\r\n\t}\r\n.leaflet-popup-tip-container {\r\n\twidth: 40px;\r\n\theight: 20px;\r\n\tposition: absolute;\r\n\tleft: 50%;\r\n\tmargin-left: -20px;\r\n\toverflow: hidden;\r\n\tpointer-events: none;\r\n\t}\r\n.leaflet-popup-tip {\r\n\twidth: 17px;\r\n\theight: 17px;\r\n\tpadding: 1px;\r\n\r\n\tmargin: -10px auto 0;\r\n\r\n\t-webkit-transform: rotate(45deg);\r\n\t   -moz-transform: rotate(45deg);\r\n\t    -ms-transform: rotate(45deg);\r\n\t     -o-transform: rotate(45deg);\r\n\t        transform: rotate(45deg);\r\n\t}\r\n.leaflet-popup-content-wrapper,\r\n.leaflet-popup-tip {\r\n\tbackground: white;\r\n\tcolor: #333;\r\n\tbox-shadow: 0 3px 14px rgba(0,0,0,0.4);\r\n\t}\r\n.leaflet-container a.leaflet-popup-close-button {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tpadding: 4px 4px 0 0;\r\n\tborder: none;\r\n\ttext-align: center;\r\n\twidth: 18px;\r\n\theight: 14px;\r\n\tfont: 16px/14px Tahoma, Verdana, sans-serif;\r\n\tcolor: #c3c3c3;\r\n\ttext-decoration: none;\r\n\tfont-weight: bold;\r\n\tbackground: transparent;\r\n\t}\r\n.leaflet-container a.leaflet-popup-close-button:hover {\r\n\tcolor: #999;\r\n\t}\r\n.leaflet-popup-scrolled {\r\n\toverflow: auto;\r\n\tborder-bottom: 1px solid #ddd;\r\n\tborder-top: 1px solid #ddd;\r\n\t}\r\n\r\n.leaflet-oldie .leaflet-popup-content-wrapper {\r\n\tzoom: 1;\r\n\t}\r\n.leaflet-oldie .leaflet-popup-tip {\r\n\twidth: 24px;\r\n\tmargin: 0 auto;\r\n\r\n\t-ms-filter: "progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678)";\r\n\tfilter: progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678);\r\n\t}\r\n.leaflet-oldie .leaflet-popup-tip-container {\r\n\tmargin-top: -1px;\r\n\t}\r\n\r\n.leaflet-oldie .leaflet-control-zoom,\r\n.leaflet-oldie .leaflet-control-layers,\r\n.leaflet-oldie .leaflet-popup-content-wrapper,\r\n.leaflet-oldie .leaflet-popup-tip {\r\n\tborder: 1px solid #999;\r\n\t}\r\n\r\n\r\n/* div icon */\r\n\r\n.leaflet-div-icon {\r\n\tbackground: #fff;\r\n\tborder: 1px solid #666;\r\n\t}\r\n\r\n\r\n/* Tooltip */\r\n/* Base styles for the element that has a tooltip */\r\n.leaflet-tooltip {\r\n\tposition: absolute;\r\n\tpadding: 6px;\r\n\tbackground-color: #fff;\r\n\tborder: 1px solid #fff;\r\n\tborder-radius: 3px;\r\n\tcolor: #222;\r\n\twhite-space: nowrap;\r\n\t-webkit-user-select: none;\r\n\t-moz-user-select: none;\r\n\t-ms-user-select: none;\r\n\tuser-select: none;\r\n\tpointer-events: none;\r\n\tbox-shadow: 0 1px 3px rgba(0,0,0,0.4);\r\n\t}\r\n.leaflet-tooltip.leaflet-clickable {\r\n\tcursor: pointer;\r\n\tpointer-events: auto;\r\n\t}\r\n.leaflet-tooltip-top:before,\r\n.leaflet-tooltip-bottom:before,\r\n.leaflet-tooltip-left:before,\r\n.leaflet-tooltip-right:before {\r\n\tposition: absolute;\r\n\tpointer-events: none;\r\n\tborder: 6px solid transparent;\r\n\tbackground: transparent;\r\n\tcontent: "";\r\n\t}\r\n\r\n/* Directions */\r\n\r\n.leaflet-tooltip-bottom {\r\n\tmargin-top: 6px;\r\n}\r\n.leaflet-tooltip-top {\r\n\tmargin-top: -6px;\r\n}\r\n.leaflet-tooltip-bottom:before,\r\n.leaflet-tooltip-top:before {\r\n\tleft: 50%;\r\n\tmargin-left: -6px;\r\n\t}\r\n.leaflet-tooltip-top:before {\r\n\tbottom: 0;\r\n\tmargin-bottom: -12px;\r\n\tborder-top-color: #fff;\r\n\t}\r\n.leaflet-tooltip-bottom:before {\r\n\ttop: 0;\r\n\tmargin-top: -12px;\r\n\tmargin-left: -6px;\r\n\tborder-bottom-color: #fff;\r\n\t}\r\n.leaflet-tooltip-left {\r\n\tmargin-left: -6px;\r\n}\r\n.leaflet-tooltip-right {\r\n\tmargin-left: 6px;\r\n}\r\n.leaflet-tooltip-left:before,\r\n.leaflet-tooltip-right:before {\r\n\ttop: 50%;\r\n\tmargin-top: -6px;\r\n\t}\r\n.leaflet-tooltip-left:before {\r\n\tright: 0;\r\n\tmargin-right: -12px;\r\n\tborder-left-color: #fff;\r\n\t}\r\n.leaflet-tooltip-right:before {\r\n\tleft: 0;\r\n\tmargin-left: -12px;\r\n\tborder-right-color: #fff;\r\n\t}\r\n',""]);
},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(12)(),exports.i(__webpack_require__(199),""),exports.i(__webpack_require__(198),""),exports.i(__webpack_require__(196),""),exports.i(__webpack_require__(197),""),exports.push([module.i,'.leaflet-dhis2 {\n  background: #fff; }\n  .leaflet-dhis2 .leaflet-bar {\n    border-radius: 0; }\n    .leaflet-dhis2 .leaflet-bar a:first-child, .leaflet-dhis2 .leaflet-bar a:last-child {\n      border-radius: 0; }\n  .leaflet-dhis2.leaflet-touch .leaflet-bar {\n    border: 0;\n    box-shadow: 0 1px 5px rgba(0, 0, 0, 0.65); }\n    .leaflet-dhis2.leaflet-touch .leaflet-bar a {\n      width: 26px;\n      height: 26px;\n      line-height: 26px;\n      font-size: 20px; }\n  .leaflet-dhis2 .leaflet-control-attribution {\n    font-size: 9px; }\n    .leaflet-dhis2 .leaflet-control-attribution a {\n      color: #333; }\n  .leaflet-dhis2 .leaflet-control-layers {\n    border-radius: 0; }\n  .leaflet-dhis2 .leaflet-control-layers-toggle {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAVbSURBVEiJrZZfSFt3FMe/v3tvbmLUZleNKSHE/LGRiNbGRovTtrA9lcFkpcOnMvawwhhjrb3soQ8djGFhXMQNRqEvY3R9kJVuPpRRWQebcdKYxkaHqcHchKJ2rVo1WhNz//z2UOLUadVuv9fvOedzfuec3x9CKcV+1qVLlwgAdHV17cuR7AfU29tb43a73wWAVCr1Q0dHx8T/Curu7i5ubGw843K5ms1mMwBgdXUV6XQ6HI1Gb3Z2dj7/z6C+vr6T1dXVp6xWa+l2+uzs7PLk5OTP7e3tv70S6Pr1647q6uoOt9vtYRjmpcnouo5UKiVPTk72nj17dmpPIEmS+IaGhnaPx3O8tLSU3ahRSotyudzrAGAymf4ghGQ36svLy5osywOxWKxPFMX8jqBbt241ejyed+x2e9nWjPL5fK2iKC2UUiMAEELWDAbDEM/z41ttZ2Zmnsmy/OPp06ejm0DXrl2rqK2tPeNyuQ7zPL9pi5qmVaytrZ3Qdf3gdiVhGOYvo9H4O8uyc1sSI+l0enR8fPzmuXPn5sjt27ff8nq9bwiCYNpSJsPa2lqzqqr1AF7eJEDnOG7MaDSGCSHKRmFhYSGXTCZ/Zd1u93dOp3NJEAS9ICqK4snlcm/puu4EQHaBAADRdf2gqqo1hJBllmUXCsLjx4+L7t69e4Ztamqaffjw4QepVOr5oUOHDKqqvqkoShAAvwfA1sVrmlataVqlqqqzvb29lnA43KwoymeEUoqenp7XdF3vW11dPX7s2DHi9XpfgfHPSiaTuHfvHjWbzQMMw7SfP39+kUSj0ZOU0qsA/EtLSwiHwygpKUFraysOHDiwL0Amk8Hg4CBWVlbQ3NwMi8UCAHFCyIesw+H43uFwuAwGg9lkMsHj8SCfzyMUCkFRFNhsNux2YDVNQzQaRSgUgsvlwtGjR2EyvZitbDbL9Pf3H2YDgcD8xMREk67rCZvN5iSEkLKyMrjdbsiyjJGREVgslh13NzU1hf7+fui6jra2NlitVhBCQCmlo6OjoYGBASWbzX5BKKW4cuWKhRDyk67rJ4LBIFNRUbEeaHZ2FpFIBDabDS0tLSgqKipkiqGhITx58gTBYBBWq3XdZ25uDpFIhLIsO8jzfPuFCxeekTt37rQCuAqgfmVlBfF4HOXl5Thy5Ah4/sXgUUoRj8chyzIaGhoAALFYDB6PB36/H4S8OAH5fB4PHjzA/Pw8/H4/SkpKACAB4CPW6/XeqKysrOI4rpjnedjtdmSzWUSjURgMBgiCAEIIrFYrHA4HxsfHsbi4iNbWVtjt9nWILMsYGhpCeXk5ampqYDQaC3AyPDxcSy5evPg2IaTL6XTO+3y+NkIIAwCKoiCRSEBVVTQ1Ne3Yo0wmg+HhYXAcB5/PB4PBUJBoMpkclGW5lFJ6mVBKIYpiMYDLHMedCgQCnCAI/oL1wsICEokEHA4H6uvr1ydQ13WMjY1hamoKPp8PgiBshE/ev38/oyjKLwA+lyTp+abbWxTFOgDfCIKAQCAQ4DiutNCjdDqNp0+fIhAIAABGRkZQWVkJl8u1Xj5N01Zjsdjw3NwcBfCxJEl/FmL/6z0SRZEAeJ8QIvp8vsWqqqqWgpbL5RCPxwEAfr9//awAwPT0dDgejxfput4D4FtJkjYF3vGFFUWxHMCXRqPxcDAYtBYXF1dtZ5fNZmcikcijbDY7DuBTSZLmt7Pb9c8gimIbIeQrm82Wqaura2EYxggAlFI1Ho8PTk9PmymlnZIkhV4WZ0+/IFEUOQCdDMO8V19fn2NZ1hCLxaimaTcAdEuSpO4WY1//OlEUnQC+BkABfCJJ0qO9+v4NmO9xnZob3WcAAAAASUVORK5CYII="); }\n  .leaflet-dhis2 .leaflet-retina .leaflet-control-layers-toggle {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAYAAADFeBvrAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAbrwAAG68BXhqRHAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAArPSURBVGiB3Zp7TFvXHce/916/eBhCDInJwDjGBhvjQHi5SclaKRL5Z1Wl/rEq/WNr11TJmkpMw900pLVrplJ1cadFarp0zdZmmpZpf3SqNrUKfSnKgwI2sQPGBmNjAsUOxCW8bGzfe8/+SEAkMfa1A5m075/2+f3O+Z7X595zLkUIwf+T6EdRSWdnp7izs1P8KOqitnqE3n///QMajeYZAPD7/R8fPXr00lbWt2WGTp48qdRoNC/s2bNHXVhYyALA/Py86Pr16wG/3//hq6++GtqKejfdUGdnJ6XT6Q4bDIZWjUaTNLnf76fcbvdlr9d7vqura1MbsKmGTp8+XadWqw/v3bu3UCQS8anKsixLX7t2bT4QCJw/fvy4c7PasCmGTpw4Ia+qqnrRZDIZSkpK2ExiZ2dnRYODg+7R0dE/v/baa4sP25aHNnT27Nkf6HS6QwaD4aF2TLfbzXu93gtHjhz5z8PkydrQqVOnKtVq9Y/q6uqUubm5GY3KRopEIiKn0xkKBAJ/bW9v92WTI2NDnZ2dYoPB8ILRaGwoKyvjsqk0naamphiXyzXgdrs/7OrqSmQSm5GhM2fOHNBoNM/U1dVJKYoSFEgIEcVisWYAkEql/RRFCRpNQgjldDpjfr//42PHjglmlyBDJ0+eVO7evfsndXV1FatMEaJEIqGOx+MHCCFyAKAoalEikVwSi8UBoTnm5+dFTqdzYnx8/C9C2JXS0CpT9Hr9gcrKypTb8HrxPJ+/srJygOf53cn+p2l6XCaTXaJpekloTp/PR3s8nkvp2LWhoXfffbderVYfbmhoKEjHlPVtjcVidSzLNhFCUj67URSVEIlENqlU6gQgKD/LsvTAwMBCIBA4/8orrziS5r3f0IkTJ+Q6ne6IyWQy7NixQ/CCZFm2NB6PP8Hz/HahMQBA0/R3EonkokgkCgqNmZmZEQ8ODrq9Xu/Z+9l1j6EPPvjgKZ1Od6impoYSmpzneVksFtvHcZxBaEwyMQzjlkqlPTRNrwiNGR4eJl6v98JLL73079XfKEIITp06VVlRUfHj+vr6nZkwJR6P6xOJxH5CiCxTA8lEUdSKWCy+KpFIPEJjIpGIyOFw3JyYmDjX3t7uo86dO3fUaDQ2lJeXCzbCcdz2WCz2BM/zpdk1PbVomg5KpdKLDMN8JzRmcnJS5HK5Bhi9Xv9RcXHx7V27dqUd6rtMMcfj8YOEkIKHa3bKeuQsy9bwPC9mGCZEUVTaTWNsbKzQbrc/RXV0dBAAMYVCcfnpp5+eKC4uTmrsfqY8KqVj161bt2SffPJJRTgcbgUgZVpbW3sIIQei0Wij0+ksmZubW9DpdEsUdWdf4Hk+PxqNHmRZtgWA9NFZWZOU4zgdy7LFd0crDgCEEHz66aelX3zxxfcjkUg9gAmapg8zV65c8fX09PwpHo/zhJC22dnZ2oGBARQUFCwVFBTUxOPxQ4QQxf/AyD0ihBSxLFtDCCFerzdy/vz5PcFg8CAhRAqgSy6XP/fmm2+O3LNtd3R0VFEU9R6AgyKRiNfr9fS+ffsgFj+S8420SiQS6Onpgcfj4VmWpQF8SQh5+Z133hldLSNaH/Dss8+GGYYJ3Lhxg9jtdnpoaAiTk5NoampCdXX1IzewXiMjI7DZbJifn4dMJqPNZjNRqVQBjuPC68utjhA1MDDwPIDfASgG7vSGw+HA2NgYAEClUmH//v0oKip6pEbm5uZw9epV3LhxAwCg1WpRX1+/ftbcAvCLhoaGjwAQyuFwGDmOOwOgNVnCcDiMvr4+zM3NQSaTwWg0orm5GTS9tUd6PM+jv78fLpcLKysrKCoqQktLCxSKDZfzZYZhjjFarfYfKpWqmabppAslNzcXWq0WMpkMwWAQU1NTCAQCyM/Px7Zt27bEzMTEBD7//HP4fD5QFIWGhgaYzWbk5uZuGMNxXPHXX39tYkwm07nh4eGZ3Nxcz/bt27+XrDBFUVAoFNBoNIhEIggGg/D5fLh9+zaUSuWmbRqRSAQXL15EX18flpeXoVKp8OSTT0KpVGIVI8nk8/n6uru7xYuLi3WrHDr07bffmvx+f295eTktkUiSwlMsFkOlUqGkpAQzMzMIBoPwer0AAKVS+VBmHA4HvvrqK4RCIeTl5aG1tRU1NTUpO2t5eXn6s88+Gx4fHzcDmKVp+jBFCMEbb7whW1xc/BWAXwJgKysrbS0tLY9TFCXaKBnP8xgaGoLb7QbHcSgtLcW+ffsyNhYKhdDT04NgMAiGYWAwGFBbW5tyjRJC2L6+vis+n68Jd3bqt+Vy+Vuvv/76yoYcysvLi5nNZmm6Bi4sLMBmsyEUCkEsFkOv1+Oxxx5LOw0TiQS++eYbeDweJBIJKJVKNDU1oaAg9SNiKBRCb28vu7y8LEISDt1jqLu7ezuAt0Oh0IsjIyNUPB5HeXk5mpubIZWmfuqZmJiA3W7HysoKCgsLU7LrPqagsbERFRUVKfPHYjH09/djcnISEokE1dXVUCqV/wLQ3tbWNvmAoe7u7ucBnMRdDrEsC6/Xu5bAZDKhqqoq5eJMxy4BTHlAhBCMjo5icHAQqx2s0+kgEq2thiUAvwFwqq2tjaUuXLhQA+CPAL6fLOHCwgJcLhcWFxeFsADAg+yqra0FAAwNDQllygN55HI5jEZjqil5HcBPmerq6r/t2LFjL8MwOclKSaVSlJWVQSKRIBQKwefzIRqNYufOnRsu3GTsmp6eFswUlmVht9ths9mQSCRQVVUFo9EImWzjF2OO4+ROp1NPdXR0JAAsaLVat0ajeXzDCNyZxx6PBzdv3kROTg727t0LtVqdKgTRaBR2ux0A0NjYiJycpP22pkAggGvXrq11ml6vT7t+p6en+10uVykhpIzq6OhoA/AegEqxWOxsamrKl8vllakShMNhDA8Pr1VqNpuRn5+fstJ0WlpaQm9v71pn1dTUpJ2S0Wh02mazTUajUTMAH4CXKUIILBaLDMAqh+iSkpIre/bsaWEYZsN5wfM8/H4/AoEAKIqCwWCAyWRKuWkkEyEEg4ODcLvdIIRArVZDo9Gk5ZDb7b4yNTW1xiEAb1mt1ns5ZLFYqnBntA5SFDVlNBqDu3btak7VoOXlZXg8HoTDYeTn56OlpUUwXEOhEPr6+rC0tASFQgG9Xo+8vLyUMeFweNDhcEg5jqsC8CWAl61Wa3IOrTP2HIDfA9iZk5PT29TUVJ6Tk7MrXeNGRkYghF0bMCWlkUQiMWe324cWFhZaAcwA+LnVav37/eU2PAq2WCyFALoAHAMQLSsrsxkMhpSPQ+nYJYApSeX3+y+PjY3VANgG4AyATqvVOp+sbNrbB4vF0nw3SQPDMKP19fUxhUJhShWTjF0AMmEKAGBxcdFns9mWEolEHYABAMesVmt/qhhB1ykWi4UBcBzAbwHICwoKLjc2NtaKxeINX18JIZicnMTY2Bh4/s6xGk3T0Gq1KC8vT7l5cBwXuX79et/s7OzjAKIAfg3gtNVqTXvBltGFl8ViKQXwBwA/BPCdVqsd1mg0Sd90V7XKLgAZMwXAPwH8zGq1Cj7Iz+qO1WKxZMyudErGFKvV2p1pnqwvjbNhVzKlYko27Xroa/1s2LWqdEzJRpv2JUkm7BLKlGy0qZ/GCGFXJkzJRlvyNVYydkkkktxMmZKNtuzzsvvZBYADEEEGTMlGW/4B4Dp2ARkyJRv9F9vsxWD/43R9AAAAAElFTkSuQmCC"); }\n  .leaflet-dhis2 .leaflet-control-scale-line {\n    padding: 2px 2px 1px; }\n\n.leaflet-dhis2.leaflet-google .leaflet-control-scale-line {\n  margin-left: 76px; }\n\n.leaflet-dhis2 .leaflet-marker-label {\n  position: absolute;\n  display: inline-block;\n  width: 160px;\n  margin-left: -80px;\n  text-align: center; }\n\n.leaflet-dhis2 .leaflet-div-label {\n  text-align: center;\n  line-height: 12px;\n  text-shadow: -1px 0 #f5f5f5, 0 1px #f5f5f5, 1px 0 #f5f5f5, 0 -1px #f5f5f5;\n  min-width: 80px;\n  pointer-events: none; }\n\n.leaflet-dhis2 .leaflet-marker-highlight {\n  -webkit-animation: pulse 2s ease-out;\n  animation: pulse 2s ease-out;\n  -webkit-animation-iteration-count: infinite;\n  animation-iteration-count: infinite; }\n\n@-webkit-keyframes pulse {\n  from {\n    stroke-width: 15;\n    stroke-opacity: 1; }\n  to {\n    stroke-width: 50;\n    stroke-opacity: 0; } }\n\n@keyframes pulse {\n  from {\n    stroke-width: 15;\n    stroke-opacity: 1; }\n  to {\n    stroke-width: 50;\n    stroke-opacity: 0; } }\n\n.leaflet-dhis2 .leaflet-popup-content-wrapper {\n  border-radius: 0; }\n  .leaflet-dhis2 .leaflet-popup-content-wrapper .leaflet-popup-content em {\n    font-style: normal;\n    font-weight: bold; }\n\n.leaflet-dhis2 .leaflet-tooltip {\n  border-radius: 0;\n  padding: 0 6px;\n  font: 12px/20px "Helvetica Neue", Arial, Helvetica, sans-serif; }\n\n.leaflet-dhis2 .leaflet-tooltip-left {\n  margin-left: -8px; }\n\n.leaflet-dhis2 .leaflet-tooltip-right {\n  margin-left: 13px; }\n\n.leaflet-dhis2 .leaflet-tooltip-left:before {\n  border-left-color: transparent; }\n\n.leaflet-dhis2 .leaflet-tooltip-right:before {\n  border-right-color: transparent; }\n\n.leaflet-dhis2 .marker-cluster {\n  background-color: rgba(255, 255, 255, 0.6);\n  background-clip: padding-box;\n  border-radius: 20px; }\n  .leaflet-dhis2 .marker-cluster div {\n    background-color: rgba(255, 255, 255, 0.8);\n    width: 30px;\n    height: 30px;\n    margin-left: 5px;\n    margin-top: 5px;\n    text-align: center;\n    border-radius: 15px;\n    font: 12px "Helvetica Neue", Arial, Helvetica, sans-serif; }\n  .leaflet-dhis2 .marker-cluster span {\n    line-height: 30px; }\n\n.leaflet-dhis2 .leaflet-cluster-icon {\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.65);\n  color: #fff;\n  border-radius: 50%;\n  text-align: center;\n  display: flex;\n  justify-content: center;\n  background-clip: padding-box; }\n  .leaflet-dhis2 .leaflet-cluster-icon span {\n    align-self: center; }\n\n.leaflet-dhis2 .marker-cluster-small {\n  background-color: rgba(181, 226, 140, 0.6); }\n\n.leaflet-dhis2 .marker-cluster-small div {\n  background-color: rgba(110, 204, 57, 0.6); }\n\n.leaflet-dhis2 .marker-cluster-medium {\n  background-color: rgba(241, 211, 87, 0.6); }\n\n.leaflet-dhis2 .marker-cluster-medium div {\n  background-color: rgba(240, 194, 12, 0.6); }\n\n.leaflet-dhis2 .marker-cluster-large {\n  background-color: rgba(253, 156, 115, 0.6); }\n\n.leaflet-dhis2 .marker-cluster-large div {\n  background-color: rgba(241, 128, 23, 0.6); }\n\n.leaflet-dhis2 .leaflet-tile-cluster-debug {\n  background: rgba(255, 0, 0, 0.1);\n  border: 1px dashed black; }\n\n.leaflet-dhis2 .leaflet-control-measure {\n  border-radius: 0;\n  box-shadow: 0 1px 5px rgba(0, 0, 0, 0.65); }\n  .leaflet-dhis2 .leaflet-control-measure .leaflet-control-measure-toggle {\n    width: 26px;\n    height: 26px;\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAAGJJREFUOI1jYGBgOM3AwPAfCTMwMDA8QxPDhT8xoAlIM5AG/jMi2QoDjKQYwITEkSFRM9w2qrkA5oqBc8EIDYNHDAzkp0I4QE/fMDF5YvnoBsiTwscWBiQBJgYGhpMU6D8CAJDrOVecOVsbAAAAAElFTkSuQmCC"); }\n    .leaflet-retina .leaflet-dhis2 .leaflet-control-measure .leaflet-control-measure-toggle {\n      background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAALdJREFUWIXtl0EKwkAMRZ+iR1LwCC5ceekKHsSqN3ARF5pFi41lmGQU8iDQkkB/0k/aATgCV0AmQjkbNaXRAdy+FCmdgwDBSGzwRQBZGgUrZwEALBiOearGAwGwJhDCJwFbXl1rhAsIefdKesASoF5oJiD3QAi5B9IDuQeaeyDU8SNOwEOVRP4LDvirPSAe9yXd7oB1rXzJBKrm50ygasdj5kzAlZ/4FtwbPr8HOLwvPE6+VlyA/ROEjYEpRhLQZgAAAABJRU5ErkJggg=="); }\n  .leaflet-dhis2 .leaflet-control-measure a.start {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAAY1JREFUKJF9kL9PEwEcxd/3y+XaXrwKCZsx4uLQiQQRZHOUmYEU45mL1CCVpH+JwxEx6CB6HfixM7KQ8sM2TB2cHHRzMCTt2cbe+zrUSxsHP+PLey/v+xX8ZaXWKHgddxNAmcYSACjQNpW69jtv9vYe9QBAAKActu44TnpMwlXRyEQuhzW2IMAWgcSZ4OMPOw++yUqtUfC6TgvEl8QflI9eL/3CGJVK0+uB+4TencoV59TruJsk3MwcvLiaCZ635rLA7u79hIm7qqR/3bt+qQDKKhplzTROm6aNp+ufq1kojme7prpNsTWlsTTanKEuRKIn683DtVfnxeGxcqHUkuI/iBj/1RwF2gZbAHCWiST7KlL79G5+Z2TlQwBtNZW6AFuVStMDgHSAHxOwxY9j5jA89QGpQiSWIDjJpzm/qeBXJu5qHM92xyeE4an/W3MHgN2aLEzOCwA827i8PUj1WEnfVLcFcjGaIVUjfxJcrr9f/C5ZUxCc5M29sTF8nZaGqrUhEt/MF99G0b0+APwB15Gn8fy9beQAAAAASUVORK5CYII="); }\n    .leaflet-retina .leaflet-dhis2 .leaflet-control-measure a.start {\n      background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAA41JREFUSImNlU9oVFcUxn/ne28UxKWIRKiYpRaqZpIUagm6aZfiQlLNRBzyT+nGNmiLe2nUtkLBJhnRxolRoVBc1GXqIoqZTEoW6sZN/VNqTXdWsJl553YxkzSkM5N8m/feved837mP891jNMCx44XmJFEnsA/3nQ6bAEzMG3pMYNIU3Rgb2f1bPQ6rtdjV82A7Fp8j+EFJalSEu7vJfkzKOjVxpeXpqgKZ3kImBIYlbagSlGS6G2Aa+APAjCag3d07JKWqUm/M1T92OX29rkB338xpsK8AHN5aCN/E5eji1at75muedGBus8oLJx1OSloPEEIYzOdav/6fQKa3kDHTNYDg4YlH0YHrI3seN/o9/wkV3rVEt81oroocyedaJ5YEunoebAc9lLQheHgS4tTe8eFdr9ZCvoijJ6a3eCm6Z0Yz7n8HaWd+NP1MAFI8JGmDw1uPogMrybPZ2SYINRtiEWOX2l8G6SD4AtJGgyEAO3a80Fwq8USSQghn87nWMyuTM30zA0Y4UEJdN0bTfzUS6u4pXED63N3dPWpWkqhTkty9FJeji/VT9VHkYe5IT/HDRgK2LlwAEkmKY+8UsA9Aprv1umVJQrY1Er909xa/rPfLxi61vwSmANzDfuG+E6Da52tBhHE201O880lfcVPNiBAKlYK0Q4v2p2qitcJkH0ce5jJ9xb01dn+vPH1zw2tgNUgWVo0xMQ9L9l87AndCKtmVH01P1djcWqV/FRt6DJW7ZU3ETtktnBnPpc9D7RN4oF0G4I9EYBLA3Tu6BuY2N+QOPHfzjvFc67l65NnsbJNkH1TibVKm6Ia7u6SUygsn65EH959tXbJ7PNd2v1ERpTgMAhGQmNlNA8j0zdwy7JC7/0NMeny47eHypKMnpreMXWr7s17Vi8gMFHaHMtOSUrhPXLvcdkQASVmnwN9IWm+Jbh89Mb1leWLFPI3Js9nZJnN+kpRyeJ3gpwEEMHGl5am5+gHMaPZSdK+r/9f3GhGurLwcJ/dB2wAM671++f0Xlfdl6O4tDmKcr3z5As53ti5cqNq/ZtWlOAwG90+XJlsIn13LtX67GFNjZM4cthBGkDZWlxJgqmL/RYeGrR5or3ZLBODw2rDe/GjLreV8NS+sTF/xHYMhdz+02tAHEtxvKcUXP3zf9nzlZsMhcjg7uy2OvdM97Je0A7zqE70Cf+TBJs3sZn40/awex78erYTTwi3/3gAAAABJRU5ErkJggg=="); }\n  .leaflet-dhis2 .leaflet-control-measure a.cancel {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAATdJREFUKJF9kD9OAnEQhb8ZfoFdoognsCMROo322GlNBRrin0atOAuJ2iEGzmBJbKy0MpzAAxASDUvhjMWyxBj0tfPey/dGWKjReY6LH/lroGluVQCFsasMdf5x0+/XEwABaJ69boXw9Qi6zQoZjEPODu9v99+l0XmOi5/h9S/zz9BmobSrKUZmljPHh5nJnQd3O1/g1abJ9CoAzWWL20FR5DQBc8dj4WKG9JZ38VYwt6qKAqAixwl4BOcIzPCeIK0soKZV/c3qjgNMJpGs2hIUxsBOxpxieK9QnnlMigecLOrGwVWGsgiAPc2QniAtEUjATfxJXdKAyEDa7VH0VVh/Uaj991Y3eyvH5T3t9+tJyNmhpWh/mg076nYr8+WwdnsUeX7t0sRbalrNmBEZbESlu263Mgf4Bt5AgnBCemxgAAAAAElFTkSuQmCC"); }\n    .leaflet-retina .leaflet-dhis2 .leaflet-control-measure a.cancel {\n      background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAAmJJREFUSImllbFPU2EUxc89fZMyGqIuhi4aOpm2xsQJNlcHU4GHAfsgXTVCTBxkMcG/gJaKtoUCCf+AicGVtOgkLC5CnGBEXOi718GCj/bR+uoZz7v5nXu/fN+7gg6ayNXivs8MgCGoJhS4AgBCHAq4C8OmMLZayt/+fhFDwsyx7NYAxHkD0wck2akJVVWhbPgNzlSXkntdA1yv5pphgeSlTuCQqGNRTpeKqZWge6678an6rAjL0eEAwMtGLLte/VnQPZvA9WquCMvRwe0ys9HKYrp6FjCW3RoA+LW3zkOk+tPIRKWQ2icAkM78/8BV9dc5g+wTYB4AZCJXi5+c4Fu329JBJV8bL2PifITgZiBUVWNx+j4zvcPt/cC15ORK8e4PwHLnhyAdRzMEMNQ7PPVkbk708dT2LTWptlao2jChmoiMNnsXhPuKTySuttaRHOTp82+XfoCiEQaPX09lu8GbjP7Qs1cgXy6k7yNmj4Ih0eDNKYQ4bDVjkC+AWDmf3jgN6QUO8IAC7rYdA/yFca+eBYBmyL3ocADQHRn3tl9A8Drko6mIt5xPvz11osEBNZulMLaqqhoyntBs0fVqk73AAfgisiYA4E7V1wXy8MI+jK/MkIsAB1Sr5eKdUQKA3+AMoMfhlRQRzEWBK3DkQ2eB5j6oLiX3RDn9z911kUC8P7+PwMIpFVMrMDz/b7rZ00ohuf43rEWuVx8RszzIvihcBY4E4gXhQMvKBIDKYrpqZALAWvjtapMP1aoT00QrPHSCoEYmP99wHM2o2jDJQUD7m30dALqjJpsislYppPYvYvwGUmgrzv9OguAAAAAASUVORK5CYII="); }\n  .leaflet-dhis2 .leaflet-control-measure a.finish {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAASxJREFUKJF1kDFLQmEUhp9z/NSrlNUvaBPSzbClJRuCmp2MuNBWTc79hiAQqjFBt7aGRpuccpL7C1pbBAsN7/kaTBLynvGc57znfY/wW/VmP5cfZ66AhnkrAShEXqWr0/Fdu12bAAhA43yw7Vz8ArrDijKIXMqOH+/33qXe7Ofyn26QBC8vbWULuzq3kQyb58nMvhTKo8noUoFGoqz3t3khFNUIwMSf6iLgXM4+luFA5HqCPQtUAdS0pH9zXlOxK3mz4TIMerh81ClEQEWEg1k6PkvPvvedC+JVMPjIeZWuQAVAkJuZy6Zn2NF/GBDpSBj2gji7/qZQTgwPeLPhZm6zqu12beJSdmxza4mwYSetVnEqi2YY9gKfWbuYv05LC8+IdDaCwkOrVZwC/AArVn3aeAO77wAAAABJRU5ErkJggg=="); }\n    .leaflet-retina .leaflet-dhis2 .leaflet-control-measure a.finish {\n      background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAAmJJREFUSImllbFPU2EUxc89fZMyGqIuhi4aOpm2xsQJNlcHU4GHAfsgXTVCTBxkMcG/gJaKtoUCCf+AicGVtOgkLC5CnGBEXOi718GCj/bR+uoZz7v5nXu/fN+7gg6ayNXivs8MgCGoJhS4AgBCHAq4C8OmMLZayt/+fhFDwsyx7NYAxHkD0wck2akJVVWhbPgNzlSXkntdA1yv5pphgeSlTuCQqGNRTpeKqZWge6678an6rAjL0eEAwMtGLLte/VnQPZvA9WquCMvRwe0ys9HKYrp6FjCW3RoA+LW3zkOk+tPIRKWQ2icAkM78/8BV9dc5g+wTYB4AZCJXi5+c4Fu329JBJV8bL2PifITgZiBUVWNx+j4zvcPt/cC15ORK8e4PwHLnhyAdRzMEMNQ7PPVkbk708dT2LTWptlao2jChmoiMNnsXhPuKTySuttaRHOTp82+XfoCiEQaPX09lu8GbjP7Qs1cgXy6k7yNmj4Ih0eDNKYQ4bDVjkC+AWDmf3jgN6QUO8IAC7rYdA/yFca+eBYBmyL3ocADQHRn3tl9A8Drko6mIt5xPvz11osEBNZulMLaqqhoyntBs0fVqk73AAfgisiYA4E7V1wXy8MI+jK/MkIsAB1Sr5eKdUQKA3+AMoMfhlRQRzEWBK3DkQ2eB5j6oLiX3RDn9z911kUC8P7+PwMIpFVMrMDz/b7rZ00ohuf43rEWuVx8RszzIvihcBY4E4gXhQMvKBIDKYrpqZALAWvjtapMP1aoT00QrPHSCoEYmP99wHM2o2jDJQUD7m30dALqjJpsislYppPYvYvwGUmgrzv9OguAAAAAASUVORK5CYII="); }\n\n.leaflet-dhis2 .leaflet-measure-resultpopup a.zoomto {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAAOlJREFUKJGVkTFSg2AQRt+uwAlsvEfoqegsLC2SNAGuwTEEbRwyY5mhTPfXkos44wnI8K+FkGGSqOO279tv38zCP0cAHvPDbQi5mUWquNcqdgDroku8JxGR/gj1W734VIAQciD9pTgdMwQAZhYBrnmOy3lqvOSWWVcC0WlBFTeFVpvDA/gnVM3EiqaK2zmX89urzfsHN3Ivg+gAu+3L4m7O9cJW1WQQHcRfsklpXXTJ5GxihUd2mCKQnfMAwHuSscA1VdwC7bx1zgMAEemBdJl15Q9/SDD2J6Uj1OF3Q3TNG2Mf+r66yv6aL/+GW0INfl4YAAAAAElFTkSuQmCC"); }\n  .leaflet-retina .leaflet-dhis2 .leaflet-measure-resultpopup a.zoomto {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAAXpJREFUSIntlbtOG1EQhr8ZbxCVqcxDUEZGcQs9QqmJXMVrngCeITwBrCMhoKCLAjWiTWOhlChPEGMkhIREsbszFBi0XgJnuTbkl04xc/7/zOXc4D8CkKLR/tr/DLaO6nTRv500hX+gHfe9aBs2FJHOzsbs3o1PxyV3F38MFG1I7knRF40zrhe/L+Myyrx23PdygqUKXh6vHiAKU2CpezSjebbmMKeK43IoIitbSfM4pA32eql7NFPL7RdKveh3OFdohYIEW6R5toZSx/1HCo1aqtM4ewJTBt+C+hDBYQ4gFenuJs3Tzc2PQ6tFMYCYzT87gCoOMJnqbTuz9LLSMYYqm+xyiLCQR9b7svw7ztJLmdCoN5o9CCYYIojIisM5wqJaNpioffiLyAJmZ46vPipAO+57+X3ZSprHCi2HfcwuRuOn462d75/+hPSV7sHoKC5W4T5YwWvgbZ8Kw4aKNsp9rPofjDAoGmMViEgHs5MnJgswMKTzDP17xBX5QotAi7AKyQAAAABJRU5ErkJggg=="); }\n\n.leaflet-dhis2 .leaflet-measure-resultpopup a.deletemarkup {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAMCAYAAAC0qUeeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAALlJREFUKJFjZEACcWmn5zMwMCbA+P///ZuzeI5ZKozPaF+/n4WBgYFB7gmfKiPj30PfeP/Irem3+h5SeIyT4yvLQxZGFuv7Eh/vMzAwMDDGpJz6wcTExM5AEPz7BbX+zH98ymDyTMiCsamnq7HRMICimJGRsQUbjVUxIUAvxf8ZqrDSSCoY49JO/UtLO8OFzbSkpCO8cSlnfjMwMDCwMDAw/mdgOD3nBwPDp7i0MxiK/0BsmMbAwMAAACl8PxDSJvyvAAAAAElFTkSuQmCC"); }\n  .leaflet-retina .leaflet-dhis2 .leaflet-measure-resultpopup a.deletemarkup {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAYCAYAAAD+vg1LAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAAW5JREFUSIntlbtKA2EQhc8/axIVrUQFBRsRRLCL+gIRQeuAxbpNLq2laGklpLYxVkkh2lip4AsIZkmZRiy0sPCCoEYwlxmLJLLZi+wmYpXTnRnmm/mHYVfBQ+uJq/EwhfJQHANItWdZAFxWQfrRQfTZrZ68wGEtlIHCshMKNGK0EhLsedW7FDWn1bR7ACGImsllF26teSNVmIaSG2ZUVEQm8/tLLw5wPH6iPc6NtjWYehjaVkrtQnCey0bX3JobKfMMCqsQ7NxNvGesubHSkygjaX6CMOD1pM7EZRJCBUD9L7ECqv0YI22KkTalU5i93vMqutX/g/XkdVlPm29+vV19nh2JBoN43xN3qx64B3bK847B/CFEdd/eLzh3uDgcxNvVXIVYPvTi+lf5Xc4ay465DAAbieJsUKyRKM43EPzaijVXoYSlcEoKutKkZKTNoBM3MXRsAwMRrm5+aeERMMeIKNC1MDMrogvur221Yt/I6IasMWr/dwAAAABJRU5ErkJggg=="); }\n\n.leaflet-dhis2 .leaflet-control-fit-bounds {\n  width: 26px;\n  height: 26px;\n  box-shadow: 0 1px 5px rgba(0, 0, 0, 0.65);\n  cursor: pointer;\n  background-position: 50% 50%;\n  background-repeat: no-repeat;\n  background-color: #fff;\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAwVpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NDcwNzFDMTZDODRBMTFFNTg1MzFEQjY0MEU0MEY4RDciIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NDcwNzFDMTVDODRBMTFFNTg1MzFEQjY0MEU0MEY4RDciIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wICI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSI3MTRDNEJCNEM4MEZBOERDRUNDRkMwNEJERkMyRTE5MyIgc3RSZWY6ZG9jdW1lbnRJRD0iNzE0QzRCQjRDODBGQThEQ0VDQ0ZDMDRCREZDMkUxOTMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4nLlFTAAABcklEQVR42mJggIGS8qq///5jAqAgUIoBDRSWlP/HC4AKsKv+9/fP2jWrq6uqKiurVqxc9ePnb3Q9BcWlcKH9e3epqSgh2ywrr7h563a4AqBiBjjnxNGDEEUq6podHR2dHR262loQke2798GVQTX8/f1LVlIcKJeQkoHs9OL8bKAgn6Do1+8/UTRs37QeKCElp4jpXS11FaDUspVrIFwmiKVXrl0DklExCQwYID01CazgBoQL1cDIyAgkf//+hanh1+/fIHWMMD7Eor27tgHZomISmE5SkJUCSq1etxHFD8AI0FBRBEr4BoS8+/AJIvT96+e4qHCgoJmlLXooAcH1KxfZWUAu5OcXysjMys3NERcVhrjC0Nj0+YuXUA3IEXfh3GlzUxNkDzi7uNlYW4ECUEb24eMnIA2YCenggf29YLBr915wYvltqK8LVCYhJX35yhWiEt+Pb1/0dbWByorKaxgIJm8I+PLp/eTJUx49fQ4QYACpprSK2+4o1AAAAABJRU5ErkJggg=="); }\n  .leaflet-retina .leaflet-dhis2 .leaflet-control-fit-bounds {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAwVpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RjUxNDc5NkRDODJDMTFFNTg1MzFEQjY0MEU0MEY4RDciIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RjUxNDc5NkNDODJDMTFFNTg1MzFEQjY0MEU0MEY4RDciIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wICI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSI3MTRDNEJCNEM4MEZBOERDRUNDRkMwNEJERkMyRTE5MyIgc3RSZWY6ZG9jdW1lbnRJRD0iNzE0QzRCQjRDODBGQThEQ0VDQ0ZDMDRCREZDMkUxOTMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7TUqTmAAACyklEQVR42mJgwAYaWjouXb3+n2gAVAzUwkAkINV00uwgz3Ri7aDEdMJ2EGP6h/dA8OHfP9LtwGP6owf3WhrrXZ2dFOTlebh5uLl5ZOXkbe0dyqtqb9y8TZQduE3/V5CTwcKEL1SjEtI+f/+Nzw5cpt+7ecVAW52YVCctr3Ls1HmcdmA1/dmDW4LcbFjMkpGRk5XFZgvTqQvXsNrBgDUQdVQVkHULikpAPPr3799///7dvnVzYm+XgrQksho+Eenf2IzCYkF3YwWyTje/4LefvmIq+/PjW1p8JLLK6NQCwhb8+vYJOVKtHL3xJ9ykqCBkOx6+eE/AgoXTeuGqGVk5P/34RzBzSQrzwbWU1LahyaKnwU3bd8PZ6dl5vOyMBFNRRWkhnH34wF50aTQLzfS14FJ7j14gpnh4du8aC8wZ0gqqBHzw6fNnKIuZQ1ldlZh8IKmoJi3GD2F//Pz188//KOkXTTUjIxPca39//yaqfP/36/fvv1BXMTExoxqJboGgID9M288bV68SY/7969eevfsC1c7Px8XKiM8CZUVFOHve/HnEWDB73jzkrE4gkjevXIAse+fxK/wx/OPzW3YWhPrGrskEc/Iffg6EDkU1na8/fuOxwMbMAMk9zO8+/yBcVCyfOw3ZEyoaOmcuXMFS3N66bmtuiKxy2vxVRJVFQODlbIsWkiFhUUuXrTh/8dLly5fWrlmVkhjHjJEFGzt6sViAtbj++e2TvqYyA+mgqqEZ3QJcFc6fb59C/b3IsKO8tgHFAvwV8pzpk+VlpHCZJSwqvnjF2sMHd6OJ17d2oliA346/v39u2rA2PTXF3s5OUwMING1t7WLjEhYsWf7pC7Se2LdzEy5/UK1RtH/nZvQ4b+9FsYByO04c2oNmx9df/6jcuDuweyvcKG5h2R9//lO/AXni0F49XR19Q9PTF66iBxEVG6lwABBgAGg9e4vCctzZAAAAAElFTkSuQmCC");\n    background-size: 16px 16px; }\n\n.leaflet-dhis2 .leaflet-control-legend {\n  box-shadow: 0 1px 5px rgba(0, 0, 0, 0.65);\n  background-color: #fff; }\n  .leaflet-dhis2 .leaflet-control-legend .leaflet-control-legend-content {\n    display: none; }\n\n.leaflet-dhis2 .leaflet-control-legend-toggle {\n  width: 26px;\n  height: 26px;\n  background-position: 50% 50%;\n  background-repeat: no-repeat;\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAy5pVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIEVsZW1lbnRzIDE0LjAgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OUJCQzgyMDdDRTU2MTFFNTk1Q0ZGQzk2MTlGNkY2NjYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OUJCQzgyMDhDRTU2MTFFNTk1Q0ZGQzk2MTlGNkY2NjYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5QkJDODIwNUNFNTYxMUU1OTVDRkZDOTYxOUY2RjY2NiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5QkJDODIwNkNFNTYxMUU1OTVDRkZDOTYxOUY2RjY2NiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PnV8j0MAAABmSURBVHjaYqxXZ/nPAAUffoOZjBPu/mEgFrDgkmBkZPxPkQE21lbEuQDqbKyOINYFjAwUAJxeOHzkKHEGZKn9g/vh+U8mBlJdNAhiAersoRwLtj6W8MD6+PnrUIwFqLPJjgWAAAMAR5ghoelZsw4AAAAASUVORK5CYII=");\n  display: block; }\n  .leaflet-retina .leaflet-dhis2 .leaflet-control-legend-toggle {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAy5pVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIEVsZW1lbnRzIDE0LjAgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6M0VDMTEyQzZDRTU4MTFFNTk1Q0ZGQzk2MTlGNkY2NjYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6M0VDMTEyQzdDRTU4MTFFNTk1Q0ZGQzk2MTlGNkY2NjYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5QkJDODIwOUNFNTYxMUU1OTVDRkZDOTYxOUY2RjY2NiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5QkJDODIwQUNFNTYxMUU1OTVDRkZDOTYxOUY2RjY2NiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PjzimhsAAACgSURBVHjaYqxXZ/nPgAN8+A2WYgQRE+7+YaAFYGIYYMBCqgZGRsb/wyoEhl4U2FhbDawDjhw9xkhVB0Cz2sCFgAArI14fkepAmofAgCfCw0eODrNsmKX2D2ccPP/JBK8LRgui0bpgtC6gWV0AzWoDFwKS7P/w+ohUB9I8BEbrAqqHgK2PJc6S7ePnr6N1wWhdMFoX0L4ugGa1AQsBgAADAHQ1NZdoV4oTAAAAAElFTkSuQmCC");\n    background-size: 16px 16px; }\n\n.leaflet-dhis2 .leaflet-control-legend-expanded {\n  position: relative; }\n  .leaflet-dhis2 .leaflet-control-legend-expanded .leaflet-control-legend-toggle {\n    display: none; }\n  .leaflet-dhis2 .leaflet-control-legend-expanded .leaflet-control-legend-content {\n    overflow-y: auto;\n    min-width: 150px;\n    max-width: 200px;\n    min-height: 80px;\n    max-height: 260px;\n    padding: 6px 10px 6px 6px;\n    color: #333;\n    display: block; }\n\n.dhis2-legend {\n  display: block;\n  padding-top: 15px; }\n  .dhis2-legend h2 {\n    font-weight: bold;\n    font-size: 13px;\n    line-height: 13px;\n    margin: 0; }\n    .dhis2-legend h2 span {\n      display: block;\n      font-size: 12px;\n      font-weight: normal; }\n  .dhis2-legend p {\n    margin: 5px 0; }\n  .dhis2-legend dl {\n    margin: 10px 0; }\n    .dhis2-legend dl dt {\n      float: left;\n      clear: left;\n      width: 30px;\n      height: 16px; }\n    .dhis2-legend dl dd {\n      margin: 0;\n      padding: 1px 0 1px 38px;\n      height: 16px;\n      font-size: 11px;\n      line-height: 14px;\n      white-space: nowrap; }\n      .dhis2-legend dl dd strong {\n        line-height: 12px;\n        font-weight: bold;\n        display: block; }\n  .dhis2-legend .dhis2-legend-predefined dt {\n    height: 25px; }\n  .dhis2-legend .dhis2-legend-predefined dd {\n    height: 25px; }\n  .dhis2-legend .dhis2-legend-image dt {\n    width: 16px;\n    background-repeat: no-repeat;\n    background-position: center center; }\n  .dhis2-legend .dhis2-legend-image dd {\n    padding-left: 23px; }\n\n.dhis2-legend:first-child {\n  padding-top: 0; }\n\n.leaflet-dhis2.leaflet-touch .leaflet-pelias-control {\n  border: 0;\n  width: 26px;\n  height: 26px;\n  box-shadow: 0 1px 5px rgba(0, 0, 0, 0.65); }\n  .leaflet-dhis2.leaflet-touch .leaflet-pelias-control a {\n    width: 26px;\n    height: 26px;\n    line-height: 26px;\n    font-size: 20px; }\n  .leaflet-dhis2.leaflet-touch .leaflet-pelias-control.leaflet-pelias-expanded {\n    width: 280px;\n    height: 44px;\n    line-height: 32px; }\n    .leaflet-dhis2.leaflet-touch .leaflet-pelias-control.leaflet-pelias-expanded .leaflet-pelias-search-icon {\n      line-height: 32px;\n      height: 44px; }\n      .leaflet-dhis2.leaflet-touch .leaflet-pelias-control.leaflet-pelias-expanded .leaflet-pelias-search-icon:hover {\n        background-color: #fff; }\n',""])},function(module,exports,__webpack_require__){"use strict";(function(global){function _typeof(obj){return obj&&"undefined"!=typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj}function isNumeric(param){return"symbol"!==("undefined"==typeof param?"undefined":_typeof(param))&&(!isNaN(parseFloat(param))&&global.isFinite(param))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=isNumeric}).call(exports,__webpack_require__(19))},function(module,exports,__webpack_require__){"use strict";(function(global){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=Number.isFinite||function(param){return"number"==typeof param&&global.isFinite(param)}}).call(exports,__webpack_require__(19))},function(module,__webpack_exports__,__webpack_require__){"use strict";function defaultLocale(definition){return locale=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__locale__.a)(definition),timeFormat=locale.format,timeParse=locale.parse,utcFormat=locale.utcFormat,utcParse=locale.utcParse,locale}var __WEBPACK_IMPORTED_MODULE_0__locale__=__webpack_require__(236);__webpack_require__.d(__webpack_exports__,"b",function(){return timeFormat}),__webpack_require__.d(__webpack_exports__,"c",function(){return timeParse}),__webpack_require__.d(__webpack_exports__,"d",function(){return utcFormat}),__webpack_require__.d(__webpack_exports__,"e",function(){return utcParse}),__webpack_exports__.a=defaultLocale;var locale,timeFormat,timeParse,utcFormat,utcParse;defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"dda534f1dda728b20cab17c110f045a0.gif"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"180d93b8dc975569a116957bedf4f489.gif"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"56241392fa07c5f0642f3a728676ac3d.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"6cd23a7f76ef28e1631558a475e92391.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"98a924171a0f0aab3d6f6ad1a9cafc6d.png";
},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"6ef227b7ae8f7667e52694e0425d3862.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"470dd7e70f2af6d6f36138ac402dd007.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"7c557b08798b1e59339f73ba04ba6cd7.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"a125a94a27dd1861000e758112763ce8.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"dfe909b6d6bd25a28eba048ebeb10ec8.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"5ea1f90871826c846d00f373f37e64ea.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"059ff2d8f238c1ade1e82441ac4fe897.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"66840eb3d2c9bc03004b9a514287fb3d.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"e72f9ce6979f0b48a3e558643a693ca1.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"d9346322c9d6bf1eca75aa3052c0b2e6.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"abadb7662cf8d44da79bd020b6d2a821.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"7840262626264b41a2565e6763c4897e.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"d0dbabd6fe2691c224664de1e7568ead.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"23467f39fbf4a6befa961eb2c280f77a.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"ef234ef64bddaa2da6ec85b0c7f854f3.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"5a3f04ef09ef10c6775b244447d8a7a0.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"be63be18e72a0a62651b900774eae210.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"17cdb72eb75381f1beefee8b65f1d4ae.png"},function(module,exports){function isBoolean(value){return value===!0||value===!1||isObjectLike(value)&&objectToString.call(value)==boolTag}function isObjectLike(value){return!!value&&"object"==typeof value}var boolTag="[object Boolean]",objectProto=Object.prototype,objectToString=objectProto.toString;module.exports=isBoolean},function(module,exports){function isFunction(value){var tag=isObject(value)?objectToString.call(value):"";return tag==funcTag||tag==genTag}function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}var funcTag="[object Function]",genTag="[object GeneratorFunction]",objectProto=Object.prototype,objectToString=objectProto.toString;module.exports=isFunction},function(module,exports,__webpack_require__){(function(global,module){function baseUnary(func){return function(value){return func(value)}}function getValue(object,key){return null==object?void 0:object[key]}function isHostObject(value){var result=!1;if(null!=value&&"function"!=typeof value.toString)try{result=!!(value+"")}catch(e){}return result}function baseGetTag(value){return objectToString.call(value)}function baseIsMap(value){return isObjectLike(value)&&getTag(value)==mapTag}function baseIsNative(value){if(!isObject(value)||isMasked(value))return!1;var pattern=isFunction(value)||isHostObject(value)?reIsNative:reIsHostCtor;return pattern.test(toSource(value))}function getNative(object,key){var value=getValue(object,key);return baseIsNative(value)?value:void 0}function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}function toSource(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}function isFunction(value){var tag=isObject(value)?objectToString.call(value):"";return tag==funcTag||tag==genTag}function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}function isObjectLike(value){return!!value&&"object"==typeof value}var funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",objectTag="[object Object]",promiseTag="[object Promise]",setTag="[object Set]",weakMapTag="[object WeakMap]",dataViewTag="[object DataView]",reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,freeGlobal="object"==typeof global&&global&&global.Object===Object&&global,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),freeExports="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,freeProcess=moduleExports&&freeGlobal.process,nodeUtil=function(){try{return freeProcess&&freeProcess.binding("util")}catch(e){}}(),nodeIsMap=nodeUtil&&nodeUtil.isMap,funcProto=Function.prototype,objectProto=Object.prototype,coreJsData=root["__core-js_shared__"],maskSrcKey=function(){var uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return uid?"Symbol(src)_1."+uid:""}(),funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),DataView=getNative(root,"DataView"),Map=getNative(root,"Map"),Promise=getNative(root,"Promise"),Set=getNative(root,"Set"),WeakMap=getNative(root,"WeakMap"),dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap),getTag=baseGetTag;(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag||Map&&getTag(new Map)!=mapTag||Promise&&getTag(Promise.resolve())!=promiseTag||Set&&getTag(new Set)!=setTag||WeakMap&&getTag(new WeakMap)!=weakMapTag)&&(getTag=function(value){var result=objectToString.call(value),Ctor=result==objectTag?value.constructor:void 0,ctorString=Ctor?toSource(Ctor):void 0;if(ctorString)switch(ctorString){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return result});var isMap=nodeIsMap?baseUnary(nodeIsMap):baseIsMap;module.exports=isMap}).call(exports,__webpack_require__(19),__webpack_require__(79)(module))},function(module,exports){function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}module.exports=isObject},function(module,exports,__webpack_require__){(function(global,module){function baseUnary(func){return function(value){return func(value)}}function getValue(object,key){return null==object?void 0:object[key]}function isHostObject(value){var result=!1;if(null!=value&&"function"!=typeof value.toString)try{result=!!(value+"")}catch(e){}return result}function baseGetTag(value){return objectToString.call(value)}function baseIsNative(value){if(!isObject(value)||isMasked(value))return!1;var pattern=isFunction(value)||isHostObject(value)?reIsNative:reIsHostCtor;return pattern.test(toSource(value))}function baseIsSet(value){return isObjectLike(value)&&getTag(value)==setTag}function getNative(object,key){var value=getValue(object,key);return baseIsNative(value)?value:void 0}function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}function toSource(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}function isFunction(value){var tag=isObject(value)?objectToString.call(value):"";return tag==funcTag||tag==genTag}function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}function isObjectLike(value){return!!value&&"object"==typeof value}var funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",objectTag="[object Object]",promiseTag="[object Promise]",setTag="[object Set]",weakMapTag="[object WeakMap]",dataViewTag="[object DataView]",reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,freeGlobal="object"==typeof global&&global&&global.Object===Object&&global,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),freeExports="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,freeProcess=moduleExports&&freeGlobal.process,nodeUtil=function(){try{return freeProcess&&freeProcess.binding("util")}catch(e){}}(),nodeIsSet=nodeUtil&&nodeUtil.isSet,funcProto=Function.prototype,objectProto=Object.prototype,coreJsData=root["__core-js_shared__"],maskSrcKey=function(){var uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return uid?"Symbol(src)_1."+uid:""}(),funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),DataView=getNative(root,"DataView"),Map=getNative(root,"Map"),Promise=getNative(root,"Promise"),Set=getNative(root,"Set"),WeakMap=getNative(root,"WeakMap"),dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap),getTag=baseGetTag;(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag||Map&&getTag(new Map)!=mapTag||Promise&&getTag(Promise.resolve())!=promiseTag||Set&&getTag(new Set)!=setTag||WeakMap&&getTag(new WeakMap)!=weakMapTag)&&(getTag=function(value){var result=objectToString.call(value),Ctor=result==objectTag?value.constructor:void 0,ctorString=Ctor?toSource(Ctor):void 0;if(ctorString)switch(ctorString){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return result});var isSet=nodeIsSet?baseUnary(nodeIsSet):baseIsSet;module.exports=isSet}).call(exports,__webpack_require__(19),__webpack_require__(79)(module))},function(module,exports){function isObjectLike(value){return!!value&&"object"==typeof value}function isString(value){return"string"==typeof value||!isArray(value)&&isObjectLike(value)&&objectToString.call(value)==stringTag}var stringTag="[object String]",objectProto=Object.prototype,objectToString=objectProto.toString,isArray=Array.isArray;module.exports=isString},function(module,exports,__webpack_require__){var content=__webpack_require__(200);"string"==typeof content&&(content=[[module.i,content,""]]);__webpack_require__(81)(content,{});content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){"use strict";function arrayMax(array,comparisonFn){for(var item,i=0,ln=array.length,max=array[0];i<ln;i++)item=array[i],comparisonFn?comparisonFn(max,item)===-1&&(max=item):item>max&&(max=item);return max}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=arrayMax},function(module,__webpack_exports__,__webpack_require__){"use strict";function formatIsoNative(date){return date.toISOString()}var __WEBPACK_IMPORTED_MODULE_0__defaultLocale__=__webpack_require__(203);__webpack_require__.d(__webpack_exports__,"b",function(){return isoSpecifier});var isoSpecifier="%Y-%m-%dT%H:%M:%S.%LZ",formatIso=Date.prototype.toISOString?formatIsoNative:__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__defaultLocale__.d)(isoSpecifier);__webpack_exports__.a=formatIso},function(module,__webpack_exports__,__webpack_require__){"use strict";function localDate(d){if(0<=d.y&&d.y<100){var date=new Date(-1,d.m,d.d,d.H,d.M,d.S,d.L);return date.setFullYear(d.y),date}return new Date(d.y,d.m,d.d,d.H,d.M,d.S,d.L)}function utcDate(d){if(0<=d.y&&d.y<100){var date=new Date(Date.UTC(-1,d.m,d.d,d.H,d.M,d.S,d.L));return date.setUTCFullYear(d.y),date}return new Date(Date.UTC(d.y,d.m,d.d,d.H,d.M,d.S,d.L))}function newYear(y){return{y:y,m:0,d:1,H:0,M:0,S:0,L:0}}function formatLocale(locale){function newFormat(specifier,formats){return function(date){var c,pad,format,string=[],i=-1,j=0,n=specifier.length;for(date instanceof Date||(date=new Date(+date));++i<n;)37===specifier.charCodeAt(i)&&(string.push(specifier.slice(j,i)),null!=(pad=pads[c=specifier.charAt(++i)])?c=specifier.charAt(++i):pad="e"===c?" ":"0",(format=formats[c])&&(c=format(date,pad)),string.push(c),j=i+1);return string.push(specifier.slice(j,i)),string.join("")}}function newParse(specifier,newDate){return function(string){var d=newYear(1900),i=parseSpecifier(d,specifier,string+="",0);if(i!=string.length)return null;if("p"in d&&(d.H=d.H%12+12*d.p),"W"in d||"U"in d){"w"in d||(d.w="W"in d?1:0);var day="Z"in d?utcDate(newYear(d.y)).getUTCDay():newDate(newYear(d.y)).getDay();d.m=0,d.d="W"in d?(d.w+6)%7+7*d.W-(day+5)%7:d.w+7*d.U-(day+6)%7}return"Z"in d?(d.H+=d.Z/100|0,d.M+=d.Z%100,utcDate(d)):newDate(d)}}function parseSpecifier(d,specifier,string,j){for(var c,parse,i=0,n=specifier.length,m=string.length;i<n;){if(j>=m)return-1;if(c=specifier.charCodeAt(i++),37===c){if(c=specifier.charAt(i++),parse=parses[c in pads?specifier.charAt(i++):c],!parse||(j=parse(d,string,j))<0)return-1}else if(c!=string.charCodeAt(j++))return-1}return j}function parsePeriod(d,string,i){var n=periodRe.exec(string.slice(i));return n?(d.p=periodLookup[n[0].toLowerCase()],i+n[0].length):-1}function parseShortWeekday(d,string,i){var n=shortWeekdayRe.exec(string.slice(i));return n?(d.w=shortWeekdayLookup[n[0].toLowerCase()],i+n[0].length):-1}function parseWeekday(d,string,i){var n=weekdayRe.exec(string.slice(i));return n?(d.w=weekdayLookup[n[0].toLowerCase()],i+n[0].length):-1}function parseShortMonth(d,string,i){var n=shortMonthRe.exec(string.slice(i));return n?(d.m=shortMonthLookup[n[0].toLowerCase()],i+n[0].length):-1}function parseMonth(d,string,i){var n=monthRe.exec(string.slice(i));return n?(d.m=monthLookup[n[0].toLowerCase()],i+n[0].length):-1}function parseLocaleDateTime(d,string,i){return parseSpecifier(d,locale_dateTime,string,i)}function parseLocaleDate(d,string,i){return parseSpecifier(d,locale_date,string,i)}function parseLocaleTime(d,string,i){return parseSpecifier(d,locale_time,string,i)}function formatShortWeekday(d){return locale_shortWeekdays[d.getDay()]}function formatWeekday(d){return locale_weekdays[d.getDay()]}function formatShortMonth(d){return locale_shortMonths[d.getMonth()]}function formatMonth(d){return locale_months[d.getMonth()]}function formatPeriod(d){return locale_periods[+(d.getHours()>=12)]}function formatUTCShortWeekday(d){return locale_shortWeekdays[d.getUTCDay()]}function formatUTCWeekday(d){return locale_weekdays[d.getUTCDay()]}function formatUTCShortMonth(d){return locale_shortMonths[d.getUTCMonth()]}function formatUTCMonth(d){return locale_months[d.getUTCMonth()]}function formatUTCPeriod(d){return locale_periods[+(d.getUTCHours()>=12)]}var locale_dateTime=locale.dateTime,locale_date=locale.date,locale_time=locale.time,locale_periods=locale.periods,locale_weekdays=locale.days,locale_shortWeekdays=locale.shortDays,locale_months=locale.months,locale_shortMonths=locale.shortMonths,periodRe=formatRe(locale_periods),periodLookup=formatLookup(locale_periods),weekdayRe=formatRe(locale_weekdays),weekdayLookup=formatLookup(locale_weekdays),shortWeekdayRe=formatRe(locale_shortWeekdays),shortWeekdayLookup=formatLookup(locale_shortWeekdays),monthRe=formatRe(locale_months),monthLookup=formatLookup(locale_months),shortMonthRe=formatRe(locale_shortMonths),shortMonthLookup=formatLookup(locale_shortMonths),formats={a:formatShortWeekday,A:formatWeekday,b:formatShortMonth,B:formatMonth,c:null,d:formatDayOfMonth,e:formatDayOfMonth,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:formatPeriod,S:formatSeconds,U:formatWeekNumberSunday,w:formatWeekdayNumber,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},utcFormats={a:formatUTCShortWeekday,A:formatUTCWeekday,b:formatUTCShortMonth,B:formatUTCMonth,c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:formatUTCPeriod,S:formatUTCSeconds,U:formatUTCWeekNumberSunday,w:formatUTCWeekdayNumber,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},parses={a:parseShortWeekday,A:parseWeekday,b:parseShortMonth,B:parseMonth,c:parseLocaleDateTime,d:parseDayOfMonth,e:parseDayOfMonth,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:parsePeriod,S:parseSeconds,U:parseWeekNumberSunday,w:parseWeekdayNumber,W:parseWeekNumberMonday,x:parseLocaleDate,X:parseLocaleTime,y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};return formats.x=newFormat(locale_date,formats),formats.X=newFormat(locale_time,formats),formats.c=newFormat(locale_dateTime,formats),utcFormats.x=newFormat(locale_date,utcFormats),utcFormats.X=newFormat(locale_time,utcFormats),utcFormats.c=newFormat(locale_dateTime,utcFormats),{format:function(specifier){var f=newFormat(specifier+="",formats);return f.toString=function(){return specifier},f},parse:function(specifier){var p=newParse(specifier+="",localDate);return p.toString=function(){return specifier},p},utcFormat:function(specifier){var f=newFormat(specifier+="",utcFormats);return f.toString=function(){return specifier},f},utcParse:function(specifier){var p=newParse(specifier,utcDate);return p.toString=function(){return specifier},p}}}function pad(value,fill,width){var sign=value<0?"-":"",string=(sign?-value:value)+"",length=string.length;return sign+(length<width?new Array(width-length+1).join(fill)+string:string)}function requote(s){return s.replace(requoteRe,"\\$&")}function formatRe(names){return new RegExp("^(?:"+names.map(requote).join("|")+")","i")}function formatLookup(names){for(var map={},i=-1,n=names.length;++i<n;)map[names[i].toLowerCase()]=i;return map}function parseWeekdayNumber(d,string,i){var n=numberRe.exec(string.slice(i,i+1));return n?(d.w=+n[0],i+n[0].length):-1}function parseWeekNumberSunday(d,string,i){var n=numberRe.exec(string.slice(i));return n?(d.U=+n[0],i+n[0].length):-1}function parseWeekNumberMonday(d,string,i){var n=numberRe.exec(string.slice(i));return n?(d.W=+n[0],i+n[0].length):-1}function parseFullYear(d,string,i){var n=numberRe.exec(string.slice(i,i+4));return n?(d.y=+n[0],i+n[0].length):-1}function parseYear(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.y=+n[0]+(+n[0]>68?1900:2e3),i+n[0].length):-1}function parseZone(d,string,i){var n=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(string.slice(i,i+6));return n?(d.Z=n[1]?0:-(n[2]+(n[3]||"00")),i+n[0].length):-1}function parseMonthNumber(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.m=n[0]-1,i+n[0].length):-1}function parseDayOfMonth(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.d=+n[0],i+n[0].length):-1}function parseDayOfYear(d,string,i){var n=numberRe.exec(string.slice(i,i+3));return n?(d.m=0,d.d=+n[0],i+n[0].length):-1}function parseHour24(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.H=+n[0],i+n[0].length):-1}function parseMinutes(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.M=+n[0],i+n[0].length):-1}function parseSeconds(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.S=+n[0],i+n[0].length):-1}function parseMilliseconds(d,string,i){var n=numberRe.exec(string.slice(i,i+3));return n?(d.L=+n[0],i+n[0].length):-1}function parseLiteralPercent(d,string,i){var n=percentRe.exec(string.slice(i,i+1));return n?i+n[0].length:-1}function formatDayOfMonth(d,p){return pad(d.getDate(),p,2)}function formatHour24(d,p){return pad(d.getHours(),p,2)}function formatHour12(d,p){return pad(d.getHours()%12||12,p,2)}function formatDayOfYear(d,p){return pad(1+__WEBPACK_IMPORTED_MODULE_0_d3_time__.a.count(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d3_time__.b)(d),d),p,3)}function formatMilliseconds(d,p){return pad(d.getMilliseconds(),p,3)}function formatMonthNumber(d,p){return pad(d.getMonth()+1,p,2)}function formatMinutes(d,p){return pad(d.getMinutes(),p,2)}function formatSeconds(d,p){return pad(d.getSeconds(),p,2)}function formatWeekNumberSunday(d,p){return pad(__WEBPACK_IMPORTED_MODULE_0_d3_time__.c.count(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d3_time__.b)(d),d),p,2)}function formatWeekdayNumber(d){return d.getDay()}function formatWeekNumberMonday(d,p){return pad(__WEBPACK_IMPORTED_MODULE_0_d3_time__.d.count(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d3_time__.b)(d),d),p,2)}function formatYear(d,p){return pad(d.getFullYear()%100,p,2)}function formatFullYear(d,p){return pad(d.getFullYear()%1e4,p,4)}function formatZone(d){var z=d.getTimezoneOffset();return(z>0?"-":(z*=-1,"+"))+pad(z/60|0,"0",2)+pad(z%60,"0",2)}function formatUTCDayOfMonth(d,p){return pad(d.getUTCDate(),p,2)}function formatUTCHour24(d,p){return pad(d.getUTCHours(),p,2)}function formatUTCHour12(d,p){return pad(d.getUTCHours()%12||12,p,2)}function formatUTCDayOfYear(d,p){return pad(1+__WEBPACK_IMPORTED_MODULE_0_d3_time__.e.count(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d3_time__.f)(d),d),p,3)}function formatUTCMilliseconds(d,p){return pad(d.getUTCMilliseconds(),p,3)}function formatUTCMonthNumber(d,p){return pad(d.getUTCMonth()+1,p,2)}function formatUTCMinutes(d,p){return pad(d.getUTCMinutes(),p,2)}function formatUTCSeconds(d,p){return pad(d.getUTCSeconds(),p,2)}function formatUTCWeekNumberSunday(d,p){return pad(__WEBPACK_IMPORTED_MODULE_0_d3_time__.g.count(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d3_time__.f)(d),d),p,2)}function formatUTCWeekdayNumber(d){return d.getUTCDay()}function formatUTCWeekNumberMonday(d,p){return pad(__WEBPACK_IMPORTED_MODULE_0_d3_time__.h.count(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d3_time__.f)(d),d),p,2)}function formatUTCYear(d,p){return pad(d.getUTCFullYear()%100,p,2)}function formatUTCFullYear(d,p){return pad(d.getUTCFullYear()%1e4,p,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}var __WEBPACK_IMPORTED_MODULE_0_d3_time__=__webpack_require__(264);__webpack_exports__.a=formatLocale;var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _ColorScale=__webpack_require__(259),_extendInstance=(_interopRequireDefault(_ColorScale),__webpack_require__(258)),_extendInstance2=_interopRequireDefault(_extendInstance),_createExtensions=__webpack_require__(257),_createExtensions2=_interopRequireDefault(_createExtensions),_LayerMenu=__webpack_require__(246),_LayerMenu2=_interopRequireDefault(_LayerMenu),_LayersPanel=__webpack_require__(253),_LayersPanel2=_interopRequireDefault(_LayersPanel),_WidgetWindow=__webpack_require__(256),_WidgetWindow2=_interopRequireDefault(_WidgetWindow),_LayerWidgetEvent=__webpack_require__(249),_LayerWidgetEvent2=_interopRequireDefault(_LayerWidgetEvent),_LayerWidgetFacility=__webpack_require__(251),_LayerWidgetFacility2=_interopRequireDefault(_LayerWidgetFacility),_LayerWidgetThematic=__webpack_require__(252),_LayerWidgetThematic2=_interopRequireDefault(_LayerWidgetThematic),_LayerWidgetBoundary=__webpack_require__(247),_LayerWidgetBoundary2=_interopRequireDefault(_LayerWidgetBoundary),_LayerWidgetEarthEngine=__webpack_require__(248),_LayerWidgetEarthEngine2=_interopRequireDefault(_LayerWidgetEarthEngine),_LayerWidgetExternal=__webpack_require__(250),_LayerWidgetExternal2=_interopRequireDefault(_LayerWidgetExternal),_FavoriteWindow=__webpack_require__(242),_FavoriteWindow2=_interopRequireDefault(_FavoriteWindow),_SharingWindow=__webpack_require__(255),_SharingWindow2=_interopRequireDefault(_SharingWindow),_DownloadWindow=__webpack_require__(241),_DownloadWindow2=_interopRequireDefault(_DownloadWindow),_AboutWindow=__webpack_require__(240),_AboutWindow2=_interopRequireDefault(_AboutWindow),_SearchWindow=__webpack_require__(254),_SearchWindow2=_interopRequireDefault(_SearchWindow),_InterpretationWindow=__webpack_require__(245),_InterpretationWindow2=_interopRequireDefault(_InterpretationWindow),_FilterWindow=__webpack_require__(243),_FilterWindow2=_interopRequireDefault(_FilterWindow),_FilterWindowFacility=__webpack_require__(244),_FilterWindowFacility2=_interopRequireDefault(_FilterWindowFacility);exports.default={extendInstance:_extendInstance2.default,createExtensions:_createExtensions2.default,LayerMenu:_LayerMenu2.default,LayersPanel:_LayersPanel2.default,WidgetWindow:_WidgetWindow2.default,LayerWidgetEvent:_LayerWidgetEvent2.default,LayerWidgetFacility:_LayerWidgetFacility2.default,LayerWidgetThematic:_LayerWidgetThematic2.default,LayerWidgetBoundary:_LayerWidgetBoundary2.default,LayerWidgetEarthEngine:_LayerWidgetEarthEngine2.default,LayerWidgetExternal:_LayerWidgetExternal2.default,FavoriteWindow:_FavoriteWindow2.default,SharingWindow:_SharingWindow2.default,DownloadWindow:_DownloadWindow2.default,AboutWindow:_AboutWindow2.default,SearchWindow:_SearchWindow2.default,InterpretationWindow:_InterpretationWindow2.default,FilterWindow:_FilterWindow2.default,FilterWindowFacility:_FilterWindowFacility2.default}},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(root,definition){"use strict";__WEBPACK_AMD_DEFINE_FACTORY__=definition,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(this,function(){"use strict";function realMethod(methodName){return typeof console!==undefinedType&&(void 0!==console[methodName]?bindMethod(console,methodName):void 0!==console.log?bindMethod(console,"log"):noop)}function bindMethod(obj,methodName){var method=obj[methodName];if("function"==typeof method.bind)return method.bind(obj);try{return Function.prototype.bind.call(method,obj)}catch(e){return function(){return Function.prototype.apply.apply(method,[obj,arguments])}}}function enableLoggingWhenConsoleArrives(methodName,level,loggerName){return function(){typeof console!==undefinedType&&(replaceLoggingMethods.call(this,level,loggerName),this[methodName].apply(this,arguments))}}function replaceLoggingMethods(level,loggerName){for(var i=0;i<logMethods.length;i++){var methodName=logMethods[i];this[methodName]=i<level?noop:this.methodFactory(methodName,level,loggerName)}}function defaultMethodFactory(methodName,level,loggerName){return realMethod(methodName)||enableLoggingWhenConsoleArrives.apply(this,arguments)}function Logger(name,defaultLevel,factory){function persistLevelIfPossible(levelNum){var levelName=(logMethods[levelNum]||"silent").toUpperCase();try{return void(window.localStorage[storageKey]=levelName)}catch(ignore){}try{window.document.cookie=encodeURIComponent(storageKey)+"="+levelName+";"}catch(ignore){}}function getPersistedLevel(){var storedLevel;try{storedLevel=window.localStorage[storageKey]}catch(ignore){}if(typeof storedLevel===undefinedType)try{var cookie=window.document.cookie,location=cookie.indexOf(encodeURIComponent(storageKey)+"=");location&&(storedLevel=/^([^;]+)/.exec(cookie.slice(location))[1])}catch(ignore){}return void 0===self.levels[storedLevel]&&(storedLevel=void 0),storedLevel}var currentLevel,self=this,storageKey="loglevel";name&&(storageKey+=":"+name),self.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},self.methodFactory=factory||defaultMethodFactory,self.getLevel=function(){return currentLevel},self.setLevel=function(level,persist){if("string"==typeof level&&void 0!==self.levels[level.toUpperCase()]&&(level=self.levels[level.toUpperCase()]),!("number"==typeof level&&level>=0&&level<=self.levels.SILENT))throw"log.setLevel() called with invalid level: "+level;if(currentLevel=level,persist!==!1&&persistLevelIfPossible(level),replaceLoggingMethods.call(self,level,name),typeof console===undefinedType&&level<self.levels.SILENT)return"No console available for logging"},self.setDefaultLevel=function(level){getPersistedLevel()||self.setLevel(level,!1)},self.enableAll=function(persist){self.setLevel(self.levels.TRACE,persist)},self.disableAll=function(persist){self.setLevel(self.levels.SILENT,persist)};var initialLevel=getPersistedLevel();null==initialLevel&&(initialLevel=null==defaultLevel?"WARN":defaultLevel),self.setLevel(initialLevel,!1)}var noop=function(){},undefinedType="undefined",logMethods=["trace","debug","info","warn","error"],defaultLogger=new Logger,_loggersByName={};defaultLogger.getLogger=function(name){if("string"!=typeof name||""===name)throw new TypeError("You must supply a name when creating a logger.");var logger=_loggersByName[name];return logger||(logger=_loggersByName[name]=new Logger(name,defaultLogger.getLevel(),defaultLogger.methodFactory)),logger};var _log=typeof window!==undefinedType?window.log:void 0;return defaultLogger.noConflict=function(){return typeof window!==undefinedType&&window.log===defaultLogger&&(window.log=_log),defaultLogger},defaultLogger})},,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function AboutWindow(gis){return Ext.create("Ext.window.Window",{title:GIS.i18n.about,bodyStyle:"background:#fff; padding:6px",modal:!0,resizable:!1,destroyOnBlur:!0,listeners:{show:function(w){Ext.Ajax.request({url:encodeURI(gis.init.apiPath+"system/info.json"),success:function(r){var info=JSON.parse(r.responseText),divStyle="padding:3px",html='<div class="user-select">';(0,_isObject2.default)(info)?(html+='<div style="'+divStyle+'"><b>'+GIS.i18n.time_since_last_data_update+": </b>"+info.intervalSinceLastAnalyticsTableSuccess+"</div>",html+='<div style="'+divStyle+'"><b>'+GIS.i18n.version+": </b>"+info.version+"</div>",html+='<div style="'+divStyle+'"><b>'+GIS.i18n.revision+": </b>"+info.revision+"</div>",html+='<div style="'+divStyle+'"><b>'+GIS.i18n.username+": </b>"+gis.init.userAccount.username+"</div>",html+="</div>"):html+=GIS.i18n.no_system_info_found,w.update(html)},failure:function(r){w.update(r.status+"\n"+r.statusText+"\n"+r.responseText)},callback:function(){document.body.oncontextmenu=!0,gis.util.gui.window.setAnchorPosition(w,gis.viewport.aboutButton)}}),w.hasDestroyOnBlurHandler||gis.util.gui.window.addDestroyOnBlurHandler(w)},hide:function(){document.body.oncontextmenu=function(){return!1}},destroy:function(){document.body.oncontextmenu=function(){return!1}}}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=AboutWindow;var _isObject=__webpack_require__(3),_isObject2=_interopRequireDefault(_isObject)},function(module,exports,__webpack_require__){"use strict";function DownloadWindow(gis){var downloadWindow,format,name,button;return format=Ext.create("Ext.form.field.ComboBox",{cls:"gis-combo",width:60,style:"margin-bottom:0; margin-left:1px",valueField:"id",displayField:"text",editable:!1,queryMode:"local",forceSelection:!0,value:"png",store:Ext.create("Ext.data.ArrayStore",{fields:["id","text"],data:[["png","PNG"],["pdf","PDF"]]})}),name=Ext.create("Ext.form.field.Text",{cls:"gis-textfield",width:230,fieldStyle:"padding-left:4px",style:"margin-bottom:0",
emptyText:GIS.i18n.please_enter_map_title}),button=Ext.create("Ext.button.Button",{text:GIS.i18n.download,handler:function(){html2canvas(gis.instance.getContainer(),{logging:!0,useCORS:!0,width:1e3,height:800,onrendered:function(canvas){window.open(canvas.toDataURL())}})}}),downloadWindow=Ext.create("Ext.window.Window",{title:GIS.i18n.download_map_as_png,layout:"column",iconCls:"gis-window-title-icon-download",cls:"gis-container-default",bodyStyle:"padding:1px",resizable:!0,modal:!0,destroyOnBlur:!0,items:[name,format],bbar:["->",button],listeners:{show:function(w){this.setPosition(253,33),w.hasDestroyOnBlurHandler||gis.util.gui.window.addDestroyOnBlurHandler(w)}}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=DownloadWindow},function(module,exports,__webpack_require__){"use strict";function FavoriteWindow(gis){var windowWidth=500,windowCmpWidth=windowWidth-14;gis.store.maps.on("load",function(store,records){var pager=store.proxy.reader.jsonData.pager;pager&&(info.setText(GIS.i18n.page+" "+pager.page+" / "+pager.pageCount),prevButton.enable(),nextButton.enable(),1===pager.page&&prevButton.disable(),pager.page===pager.pageCount&&nextButton.disable())});var NameWindow=function(id){var record=gis.store.maps.getById(id),nameTextfield=Ext.create("Ext.form.field.Text",{height:26,width:371,fieldStyle:"padding-left: 5px; border-radius: 1px; border-color: #bbb; font-size:11px",style:"margin-bottom:0",emptyText:GIS.i18n.favorite_name,value:id?record.data.name:"",listeners:{afterrender:function(){this.focus()}}}),createButton=Ext.create("Ext.button.Button",{text:GIS.i18n.create,handler:function(){var name=nameTextfield.getValue(),layers=gis.util.map.getVisibleVectorLayers(),centerPoint=gis.instance.getCenter(),views=[];if(!layers.length)return void gis.alert(GIS.i18n.please_create_map_first);if(!name)return void gis.alert(GIS.i18n.please_enter_a_name);layers.forEach(function(layer){var view=Ext.clone(layer.view);view.legendSet&&view.method&&(2===view.method||3===view.method)&&delete view.legendSet,view.hidden=!gis.instance.hasLayer(layer.instance),view.layer=layer.id,view.opacity=layer.layerOpacity,delete view.dataDimensionItems,views.push(view)});var map={name:name,longitude:centerPoint.lng,latitude:centerPoint.lat,zoom:gis.instance.getZoom(),basemap:gis.util.map.getBasemap(),mapViews:views};Ext.Ajax.request({url:encodeURI(gis.init.apiPath+"maps/"),method:"POST",headers:{"Content-Type":"application/json"},params:JSON.stringify(map),success:function(r){var id=r.getAllResponseHeaders().location.split("/").pop();gis.map={id:id,name:name},gis.store.maps.loadStore(),window.destroy()}})}}),updateButton=Ext.create("Ext.button.Button",{text:GIS.i18n.update,handler:function(){var name=nameTextfield.getValue();Ext.Ajax.request({url:encodeURI(gis.init.apiPath+"maps/"+id),method:"PATCH",headers:{"Content-Type":"application/json"},params:JSON.stringify({name:name}),success:function(){gis.store.maps.loadStore(),window.destroy()}})}}),cancelButton=Ext.create("Ext.button.Button",{text:GIS.i18n.cancel,handler:function(){window.destroy()}}),window=Ext.create("Ext.window.Window",{title:id?"Rename favorite":"Create new favorite",iconCls:"gis-window-title-icon-favorite",bodyStyle:"padding:1px; background:#fff",resizable:!1,modal:!0,items:nameTextfield,destroyOnBlur:!0,bbar:[cancelButton,"->",id?updateButton:createButton],listeners:{show:function(w){this.setPosition(favoriteWindow.x+14,favoriteWindow.y+67),w.hasDestroyOnBlurHandler||gis.util.gui.window.addDestroyOnBlurHandler(w),gis.viewport.favoriteWindow.destroyOnBlur=!0,nameTextfield.focus(!1,500)}}});return window},addButton=Ext.create("Ext.button.Button",{text:GIS.i18n.add_new,width:67,height:26,style:"border-radius: 1px;",menu:{},handler:function(){var nameWindow=new NameWindow(null,"create");nameWindow.show()}}),searchTextfield=Ext.create("Ext.form.field.Text",{width:windowCmpWidth-addButton.width-3,height:26,fieldStyle:"padding-right: 0; padding-left: 4px; border-radius: 1px; border-color: #bbb; font-size:11px",emptyText:GIS.i18n.search_for_favorites,enableKeyEvents:!0,currentValue:"",listeners:{keyup:{fn:function(){if(this.getValue()!==this.currentValue){this.currentValue=this.getValue();var value=this.getValue(),url=value?encodeURI(gis.init.apiPath+"maps.json?fields=id,displayName~rename(name),access"+(value?"&filter=displayName:ilike:"+value:"")):null,store=gis.store.maps;store.page=1,store.loadStore(url)}},buffer:100}}}),prevButton=Ext.create("Ext.button.Button",{text:GIS.i18n.previous,handler:function(){var value=searchTextfield.getValue(),url=value?encodeURI(gis.init.apiPath+"maps.json?fields=id,displayName~rename(name),access"+(value?"&filter=displayName:ilike:"+value:"")):null,store=gis.store.maps;store.page=store.page<=1?1:store.page-1,store.loadStore(url)}}),nextButton=Ext.create("Ext.button.Button",{text:GIS.i18n.next,handler:function(){var value=searchTextfield.getValue(),url=value?encodeURI(gis.init.apiPath+"maps.json?fields=id,displayName~rename(name),access"+(value?"&filter=displayName:ilike:"+value:"")):null,store=gis.store.maps;store.page=store.page+1,store.loadStore(url)}}),info=Ext.create("Ext.form.Label",{cls:"gis-label-info",width:300,height:22}),grid=Ext.create("Ext.grid.Panel",{cls:"gis-grid",scroll:!1,hideHeaders:!0,columns:[{dataIndex:"name",sortable:!1,width:windowCmpWidth-88,renderer:function(value,metaData,record){var fn=function(){var element=Ext.get(record.data.id);element&&(element=element.parent("td"),element.addClsOnOver("link"),element.load=function(){favoriteWindow.hide(),gis.map={id:record.data.id},GIS.core.MapLoader(gis).load()},element.dom.setAttribute("onclick","Ext.get(this).load();"))};return Ext.defer(fn,100),'<div id="'+record.data.id+'" class="el-fontsize-10">'+value+"</div>"}},{xtype:"actioncolumn",sortable:!1,width:80,items:[{iconCls:"gis-grid-row-icon-edit",getClass:function(value,metaData,record){return"tooltip-favorite-edit"+(record.data.access.update?"":" disabled")},handler:function(grid,rowIndex,colIndex,col,event){var record=this.up("grid").store.getAt(rowIndex);if(record.data.access.update){var nameWindow=new NameWindow(record.data.id);nameWindow.show()}}},{iconCls:"gis-grid-row-icon-overwrite",getClass:function(value,metaData,record){return"tooltip-favorite-overwrite"+(record.data.access.update?"":" disabled")},handler:function(grid,rowIndex,colIndex,col,event){var record=this.up("grid").store.getAt(rowIndex),name=record.get("name");if(record.data.access.update){var layers=gis.util.map.getVisibleVectorLayers(),message=GIS.i18n.overwrite_favorite+"\n\n"+record.data.name;if(layers.length){if(confirm(message)){var centerPoint=gis.instance.getCenter(),views=[];layers.forEach(function(layer){var view=Ext.clone(layer.view);view.legendSet&&view.method&&(2===view.method||3===view.method)&&delete view.legendSet,view.layer=layer.id,view.hidden=!gis.instance.hasLayer(layer.instance),view.opacity=layer.layerOpacity,delete view.periodType,delete view.dataDimensionItems,views.push(view)});var map={name:name,longitude:centerPoint.lng,latitude:centerPoint.lat,zoom:gis.instance.getZoom(),mapViews:views,basemap:gis.util.map.getBasemap()};gis.map&&gis.map.user&&(map.user=gis.map.user),Ext.Ajax.request({url:encodeURI(gis.init.apiPath+"maps/"+record.data.id),method:"PUT",headers:{"Content-Type":"application/json"},params:JSON.stringify(map),success:function(){gis.map=map,gis.store.maps.loadStore()}})}}else gis.alert(GIS.i18n.no_map_to_save)}}},{iconCls:"gis-grid-row-icon-sharing",getClass:function(value,metaData,record){return"tooltip-favorite-sharing"+(record.data.access.manage?"":" disabled")},handler:function(grid,rowIndex){var record=this.up("grid").store.getAt(rowIndex);record.data.access.manage&&Ext.Ajax.request({url:encodeURI(gis.init.apiPath+"sharing?type=map&id="+record.data.id),method:"GET",failure:function(r){gis.mask.hide(),gis.alert(r)},success:function(r){var sharing=JSON.parse(r.responseText),window=GIS.app.SharingWindow(gis,sharing);window.show()}})}},{iconCls:"gis-grid-row-icon-delete",getClass:function(value,metaData,record){return"tooltip-favorite-delete"+(record.data.access.delete?"":" disabled")},handler:function(grid,rowIndex,colIndex,col,event){var record=this.up("grid").store.getAt(rowIndex);if(record.data.access.delete){var message=GIS.i18n.delete_favorite+"?\n\n"+record.data.name;confirm(message)&&Ext.Ajax.request({url:encodeURI(gis.init.apiPath+"maps/"+record.data.id),method:"DELETE",success:function(){gis.store.maps.loadStore()},failure:function(r){gis.alert(r)}})}}}]},{sortable:!1,width:6}],store:gis.store.maps,bbar:[info,"->",prevButton,nextButton],listeners:{added:function(){gis.viewport.mapGrid=this},render:function(){var size=Math.floor((gis.viewport.centerRegion.getHeight()-155)/gis.conf.layout.grid.row_height);this.store.pageSize=size,this.store.page=1,this.store.loadStore(),gis.store.maps.on("load",function(){this.isVisible()&&this.fireEvent("afterrender")},this)},afterrender:function(){var fn=function(){var editArray=Ext.query(".tooltip-favorite-edit"),overwriteArray=Ext.query(".tooltip-favorite-overwrite"),sharingArray=Ext.query(".tooltip-favorite-sharing"),dashboardArray=Ext.query(".tooltip-favorite-dashboard"),deleteArray=Ext.query(".tooltip-favorite-delete");editArray.forEach(function(el){return Ext.create("Ext.tip.ToolTip",{target:el,html:GIS.i18n.rename,anchor:"bottom",anchorOffset:-14,showDelay:500})}),overwriteArray.forEach(function(el){return Ext.create("Ext.tip.ToolTip",{target:el,html:GIS.i18n.overwrite,anchor:"bottom",anchorOffset:-14,showDelay:500})}),sharingArray.forEach(function(el){return Ext.create("Ext.tip.ToolTip",{target:el,html:GIS.i18n.share_with_other_people,anchor:"bottom",anchorOffset:-14,showDelay:500})}),dashboardArray.forEach(function(el){return Ext.create("Ext.tip.ToolTip",{target:el,html:GIS.i18n.add_to_dashboard,anchor:"bottom",anchorOffset:-14,showDelay:500})}),deleteArray.forEach(function(el){return Ext.create("Ext.tip.ToolTip",{target:el,html:GIS.i18n.delete,anchor:"bottom",anchorOffset:-14,showDelay:500})})};Ext.defer(fn,100)},itemmouseenter:function(grid,record,item){this.currentItem=Ext.get(item),this.currentItem.removeCls("x-grid-row-over")},select:function(){this.currentItem.removeCls("x-grid-row-selected")},selectionchange:function(){this.currentItem.removeCls("x-grid-row-focused")}}}),favoriteWindow=Ext.create("Ext.window.Window",{title:GIS.i18n.manage_favorites+(gis.map?'<span style="font-weight:normal">&nbsp;|&nbsp;&nbsp;'+gis.map.name+"</span>":""),iconCls:"gis-window-title-icon-favorite",cls:"gis-container-default",bodyStyle:"padding:1px",resizable:!1,modal:!0,width:windowWidth,destroyOnBlur:!0,items:[{xtype:"panel",layout:"hbox",cls:"gis-container-inner",height:27,items:[addButton,{height:26,width:1,style:"width:1px; margin-left:1px; margin-right:1px",bodyStyle:"border-left: 1px solid #aaa"},searchTextfield]},grid],listeners:{show:function(w){this.setPosition(199,33),w.hasDestroyOnBlurHandler||gis.util.gui.window.addDestroyOnBlurHandler(w),searchTextfield.focus(!1,500)}}});return favoriteWindow}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=FavoriteWindow},function(module,exports,__webpack_require__){"use strict";function FilterWindow(gis,layer){var lt=void 0,gt=void 0,greaterNumberField=Ext.create("Ext.form.field.Number",{cls:"gis-numberfield",fieldLabel:GIS.i18n.greater_than,width:200,value:layer.minValue,listeners:{change:function(){gt=this.getValue()}}}),lowerNumberField=Ext.create("Ext.form.field.Number",{cls:"gis-numberfield",fieldLabel:GIS.i18n.and_or_lower_than,style:"margin-bottom: 0",width:200,value:layer.maxValue+1,listeners:{change:function(){lt=this.getValue()}}}),filter=function(){var cache=layer.featureStore.features.slice(0),features=[];if(gt||lt){if(gt&&lt)for(var i=0;i<cache.length;i++)gt<lt&&cache[i].properties.value>gt&&cache[i].properties.value<lt?features.push(cache[i]):gt>lt&&(cache[i].properties.value>gt||cache[i].properties.value<lt)?features.push(cache[i]):gt===lt&&cache[i].properties.value===gt&&features.push(cache[i]);else if(gt&&!lt)for(var _i=0;_i<cache.length;_i++)cache[_i].properties.value>gt&&features.push(cache[_i]);else if(!gt&&lt)for(var _i2=0;_i2<cache.length;_i2++)cache[_i2].properties.value<lt&&features.push(cache[_i2])}else features=cache;layer.instance.clearLayers(),layer.instance.addData(features)},window=Ext.create("Ext.window.Window",{title:GIS.i18n.filter_by_value,iconCls:"gis-window-title-icon-filter",bodyStyle:"background-color: #fff; padding: 1px",resizable:!1,filter:filter,items:[{xtype:"container",style:"padding: 4px; border: 0 none",html:"<b>Show</b> organisation units with values.."},{xtype:"container",height:7},greaterNumberField,lowerNumberField],bbar:["->",{xtype:"button",text:GIS.i18n.update,handler:filter}],listeners:{render:function(){gis.util.gui.window.setPositionTopLeft(this)},destroy:function(){layer.instance.clearLayers(),layer.instance.addData(layer.featureStore.features)}}});return window}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=FilterWindow},function(module,exports,__webpack_require__){"use strict";function FilterWindowFacility(gis,layer){var window,multiSelect,button,filter,selection,features=[],coreFeatures=layer.core.featureStore.features.slice(0),groupSetName=layer.core.view.organisationUnitGroupSet.name,store=gis.store.groupsByGroupSet;return filter=function(){if(features=[],selection.length&&selection[0])for(var i=0;i<coreFeatures.length;i++)for(var j=0;j<selection.length;j++)coreFeatures[i].attributes[groupSetName]===selection[j]&&features.push(coreFeatures[i]);else features=coreFeatures;layer.removeAllFeatures(),layer.addFeatures(features)},multiSelect=Ext.create("Ext.ux.form.MultiSelect",{hideLabel:!0,dataFields:["id","name"],valueField:"name",displayField:"name",width:200,height:300,store:store}),button=Ext.create("Ext.button.Button",{text:"Filter",handler:function(){selection=multiSelect.getValue(),filter()}}),window=Ext.create("Ext.window.Window",{title:GIS.i18n.filter_by_value,iconCls:"gis-window-title-icon-filter",cls:"gis-container-default",resizable:!1,filter:filter,items:multiSelect,bbar:["->",button],listeners:{render:function(){gis.util.gui.window.setPositionTopLeft(this)},destroy:function(){layer.removeAllFeatures(),layer.addFeatures(coreFeatures)}}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=FilterWindowFacility},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function InterpretationWindow(gis){var textArea,shareButton,window;if((0,_isString2.default)(gis.map.id))return textArea=Ext.create("Ext.form.field.TextArea",{cls:"gis-textarea",height:130,fieldStyle:"padding-left: 3px; padding-top: 3px",emptyText:GIS.i18n.write_your_interpretation+"..",enableKeyEvents:!0,listeners:{keyup:function(){shareButton.xable()}}}),shareButton=Ext.create("Ext.button.Button",{text:GIS.i18n.share,disabled:!0,xable:function(){this.setDisabled(!textArea.getValue())},handler:function(){textArea.getValue()&&Ext.Ajax.request({url:encodeURI(gis.init.apiPath+"interpretations/map/"+gis.map.id),method:"POST",params:textArea.getValue(),headers:{"Content-Type":"text/html"},success:function(){textArea.reset(),window.hide()}})}}),window=Ext.create("Ext.window.Window",{title:GIS.i18n.write_interpretation+'<span style="font-weight:normal">&nbsp;|&nbsp;&nbsp;'+gis.map.name+"</span>",layout:"fit",iconCls:"gis-window-title-icon-interpretation",cls:"gis-container-default",bodyStyle:"padding: 1px",width:500,resizable:!0,modal:!0,destroyOnBlur:!0,items:[textArea],bbar:{defaults:{height:24},items:["->",shareButton]},listeners:{show:function(w){this.setPosition(325,33),w.hasDestroyOnBlurHandler||gis.util.gui.window.addDestroyOnBlurHandler(w),document.body.oncontextmenu=!0},hide:function(){document.body.oncontextmenu=function(){return!1}},destroy:function(){gis.viewport.interpretationWindow=null}}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=InterpretationWindow;var _isString=__webpack_require__(4),_isString2=_interopRequireDefault(_isString)},function(module,exports,__webpack_require__){"use strict";function LayerMenu(gis,layer,cls){var item,items=[];return item={text:GIS.i18n.edit_layer,iconCls:"gis-menu-item-icon-edit",cls:"gis-menu-item-first",alwaysEnabled:!0,handler:function(){layer.window.show()}},items.push(item),items.push({xtype:"menuseparator",alwaysEnabled:!0}),layer.id!==gis.layer.boundary.id&&layer.id!==gis.layer.facility.id&&layer.id!==gis.layer.event.id&&layer.id!==gis.layer.earthEngine.id&&layer.id!==gis.layer.external.id&&(item={text:GIS.i18n.filter+"...",iconCls:"gis-menu-item-icon-filter",handler:function(){if(layer.filterWindow){if(layer.filterWindow.isVisible())return;layer.filterWindow.destroy()}layer.filterWindow=layer.id===gis.layer.facility.id?GIS.app.FilterWindowFacility(gis,layer):GIS.app.FilterWindow(gis,layer),layer.filterWindow.show()}},items.push(item)),layer.id!==gis.layer.event.id&&layer.id!==gis.layer.earthEngine.id&&layer.id!==gis.layer.external.id&&(item={text:GIS.i18n.search,iconCls:"gis-menu-item-icon-search",handler:function(){if(layer.searchWindow){if(layer.searchWindow.isVisible())return;layer.searchWindow.destroy()}layer.searchWindow=GIS.app.SearchWindow(gis,layer),layer.searchWindow.show()}},items.push(item)),"menuseparator"!==items[items.length-1].xtype&&items.push({xtype:"menuseparator",alwaysEnabled:!0}),item={text:GIS.i18n.clear,iconCls:"gis-menu-item-icon-clear",handler:function(){gis.instance.removeLayer(layer.instance),layer.areaInstance&&gis.instance.removeLayer(layer.areaInstance),layer.widget.reset(),layer.legendPanel&&(layer.legendPanel.update(""),layer.legendPanel.collapse())}},items.push(item),Ext.create("Ext.menu.Menu",{shadow:!1,showSeparator:!1,enableItems:function(){Ext.each(this.items.items,function(item){item.enable()})},disableItems:function(){this.items.items.forEach(function(item){item.alwaysEnabled||item.disable()})},items:items,listeners:{afterrender:function(){this.getEl().addCls("gis-toolbar-btn-menu"),cls&&this.getEl().addCls(cls)},show:function(){layer.instance?this.enableItems():this.disableItems(),this.doLayout()}}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=LayerMenu},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function LayerWidgetBoundary(gis,layer){var accordionPanels=[],last=void 0,infrastructuralDataElementValuesStore=Ext.create("Ext.data.Store",{fields:["name","value"],sorters:[{property:"name",direction:"ASC"}]}),treePanel=Ext.create("Ext.tree.Panel",{cls:"gis-tree",height:327,style:"border-top: 1px solid #ddd; padding-top: 1px",displayField:"name",width:gis.conf.layout.widget.item_width,rootVisible:!1,autoScroll:!1,scroll:!1,viewConfig:{style:"overflow-y:auto"},multiSelect:!0,rendered:!1,reset:function(){var rootNode=this.getRootNode().findChild("id",gis.init.rootNodes[0].id);this.collapseAll(),this.expandPath(rootNode.getPath()),this.getSelectionModel().select(rootNode)},selectRootIf:function(){if(this.getSelectionModel().getSelection().length<1){var node=this.getRootNode().findChild("id",gis.init.rootNodes[0].id);return this.rendered&&this.getSelectionModel().select(node),node}},isPending:!1,recordsToSelect:[],recordsToRestore:[],multipleSelectIf:function(map,doUpdate){this.recordsToSelect.length===gis.util.object.getLength(map)&&(this.getSelectionModel().select(this.recordsToSelect),this.recordsToSelect=[],this.isPending=!1,doUpdate&&update())},multipleExpand:function(id,map,doUpdate){var _this=this,rootId=gis.conf.finals.root.id,path=map[id];path.substr(0,rootId.length+1)!=="/"+rootId&&(path="/"+rootId+path),this.expandPath(path,"id","/",function(){var record=Ext.clone(_this.getRootNode().findChild("id",id,!0));record&&_this.recordsToSelect.push(record),_this.multipleSelectIf(map,doUpdate)})},select:function(url,params){params||(params={}),Ext.Ajax.request({url:encodeURI(url),method:"GET",params:params,scope:this,success:function(r){var _this2=this,a=JSON.parse(r.responseText).organisationUnits;this.numberOfRecords=a.length,a.forEach(function(u){return _this2.multipleExpand(u.id,u.path)})}})},getParentGraphMap:function(){var selection=this.getSelectionModel().getSelection(),map={};if((0,_isArray2.default)(selection)&&selection.length)for(var pathArray,i=0;i<selection.length;i++)pathArray=selection[i].getPath().split("/"),map[pathArray.pop()]=pathArray.join("/");return map},selectGraphMap:function(map,update){if(gis.util.object.getLength(map)){this.isPending=!0;for(var key in map)map.hasOwnProperty(key)&&treePanel.multipleExpand(key,map,update)}},store:Ext.create("Ext.data.TreeStore",{fields:["id","name","hasChildren"],proxy:{type:"rest",format:"json",noCache:!1,extraParams:{fields:"children[id,"+gis.init.namePropertyUrl+",children::isNotEmpty~rename(hasChildren)&paging=false"},url:gis.init.apiPath+"organisationUnits",reader:{type:"json",root:"children"},sortParam:!1},sorters:[{property:"name",direction:"ASC"}],root:{id:gis.conf.finals.root.id,expanded:!0,children:gis.init.rootNodes},listeners:{beforeload:function(store,operation){store.proxy._url||(store.proxy._url=store.proxy.url),store.proxy.url=store.proxy._url+"/"+operation.node.data.id},load:function(store,node,records){records.forEach(function(record){(0,_isBoolean2.default)(record.data.hasChildren)&&record.set("leaf",!record.data.hasChildren)})}}}),xable:function(values){for(var i=0;i<values.length;i++)if(values[i])return void this.disable();this.enable()},getDimension:function(){var r=treePanel.getSelectionModel().getSelection(),config={dimension:gis.conf.finals.dimension.organisationUnit.objectName,items:[]};if("orgunit"===toolMenu.menuValue)if(userOrganisationUnit.getValue()||userOrganisationUnitChildren.getValue()||userOrganisationUnitGrandChildren.getValue())userOrganisationUnit.getValue()&&config.items.push({id:"USER_ORGUNIT",name:""}),userOrganisationUnitChildren.getValue()&&config.items.push({id:"USER_ORGUNIT_CHILDREN",name:""}),userOrganisationUnitGrandChildren.getValue()&&config.items.push({id:"USER_ORGUNIT_GRANDCHILDREN",name:""});else for(var i=0;i<r.length;i++)config.items.push({id:r[i].data.id});else if("level"===toolMenu.menuValue){for(var levels=organisationUnitLevel.getValue(),maxLevel=(0,_arrayMax2.default)(levels),_i=0;_i<levels.length;_i++)config.items.push({id:"LEVEL-"+levels[_i],name:""});for(var item,_i2=0;_i2<r.length;_i2++){if(item=r[_i2].data,maxLevel&&item.depth>maxLevel)return gis.alert(item.name+" "+GIS.i18n.is_not_part_of_selected_organisation_unit_levels),null;config.items.push({id:item.id,name:""})}}else if("group"===toolMenu.menuValue){for(var groupIds=organisationUnitGroup.getValue(),_i3=0;_i3<groupIds.length;_i3++)config.items.push({id:"OU_GROUP-"+groupIds[_i3],name:""});for(var _i4=0;_i4<r.length;_i4++)config.items.push({id:r[_i4].data.id,name:""})}return config.items.length?config:null},listeners:{beforeitemexpand:function(){treePanel.isPending||(treePanel.recordsToRestore=treePanel.getSelectionModel().getSelection())},itemexpand:function(){!treePanel.isPending&&treePanel.recordsToRestore.length&&(treePanel.getSelectionModel().select(treePanel.recordsToRestore),treePanel.recordsToRestore=[])},render:function(){this.rendered=!0},afterrender:function(){this.getRootNode().getChildAt(0)&&this.getSelectionModel().select(0)},itemcontextmenu:function(v,r,h,i,e){e.stopEvent(),v.getSelectionModel().select(r,!1),v.menu&&v.menu.destroy(),v.menu=Ext.create("Ext.menu.Menu",{showSeparator:!1,shadow:!1}),r.data.leaf||(v.menu.add({text:GIS.i18n.select_sub_units,icon:"images/node-select-child.png",handler:function(){r.expand(!1,function(){v.getSelectionModel().select(r.childNodes,!0),v.getSelectionModel().deselect(r)})}}),v.menu.showAt(e.xy))}}}),userOrganisationUnit=Ext.create("Ext.form.field.Checkbox",{columnWidth:.3,style:"padding-top: 2px; padding-left: 3px; margin-bottom: 0",boxLabelCls:"x-form-cb-label-alt1",boxLabel:GIS.i18n.user_ou,labelWidth:gis.conf.layout.form_label_width,handler:function(chb,checked){treePanel.xable([checked,userOrganisationUnitChildren.getValue(),userOrganisationUnitGrandChildren.getValue()])}}),userOrganisationUnitChildren=Ext.create("Ext.form.field.Checkbox",{columnWidth:.33,style:"padding-top: 2px; margin-bottom: 0",boxLabelCls:"x-form-cb-label-alt1",boxLabel:GIS.i18n.sub_units,labelWidth:gis.conf.layout.form_label_width,handler:function(chb,checked){treePanel.xable([checked,userOrganisationUnit.getValue(),userOrganisationUnitGrandChildren.getValue()])}}),userOrganisationUnitGrandChildren=Ext.create("Ext.form.field.Checkbox",{columnWidth:.34,style:"padding-top: 2px; margin-bottom: 0",boxLabelCls:"x-form-cb-label-alt1",boxLabel:GIS.i18n.sub_x2_units,labelWidth:gis.conf.layout.form_label_width,handler:function(chb,checked){treePanel.xable([checked,userOrganisationUnit.getValue(),userOrganisationUnitChildren.getValue()])}}),organisationUnitLevel=Ext.create("Ext.form.field.ComboBox",{cls:"gis-combo",multiSelect:!0,style:"margin-bottom:0",width:gis.conf.layout.widget.item_width-37,valueField:"level",displayField:"name",emptyText:GIS.i18n.select_organisation_unit_levels,editable:!1,hidden:!0,store:{fields:["id","name","level"],data:gis.init.organisationUnitLevels}}),organisationUnitGroup=Ext.create("Ext.form.field.ComboBox",{cls:"gis-combo",multiSelect:!0,style:"margin-bottom:0",width:gis.conf.layout.widget.item_width-37,valueField:"id",displayField:"name",emptyText:GIS.i18n.select_organisation_unit_groups,editable:!1,hidden:!0,store:gis.store.organisationUnitGroup}),toolMenu=Ext.create("Ext.menu.Menu",{shadow:!1,showSeparator:!1,menuValue:"level",clickHandler:function(param){if(param){var items=this.items.items;this.menuValue=param;for(var i=0;i<items.length;i++)items[i].setIconCls&&(items[i].param===param?items[i].setIconCls("gis-menu-item-selected"):items[i].setIconCls("gis-menu-item-unselected"));"orgunit"===param?(userOrganisationUnit.show(),userOrganisationUnitChildren.show(),userOrganisationUnitGrandChildren.show(),organisationUnitLevel.hide(),organisationUnitGroup.hide(),(userOrganisationUnit.getValue()||userOrganisationUnitChildren.getValue())&&treePanel.disable()):"level"===param?(userOrganisationUnit.hide(),userOrganisationUnitChildren.hide(),userOrganisationUnitGrandChildren.hide(),organisationUnitLevel.show(),organisationUnitGroup.hide(),treePanel.enable()):"group"===param&&(userOrganisationUnit.hide(),userOrganisationUnitChildren.hide(),userOrganisationUnitGrandChildren.hide(),organisationUnitLevel.hide(),organisationUnitGroup.show(),treePanel.enable())}},items:[{xtype:"label",text:GIS.i18n.selection_mode,style:"padding:7px 5px 5px 7px; font-weight:bold; border:0 none"},{text:GIS.i18n.select_organisation_units+"&nbsp;&nbsp;",param:"orgunit",iconCls:"gis-menu-item-selected"},{text:GIS.i18n.select_levels+"&nbsp;&nbsp;",param:"level",iconCls:"gis-menu-item-unselected"},{text:GIS.i18n.select_groups+"&nbsp;&nbsp;",param:"group",iconCls:"gis-menu-item-unselected"}],listeners:{afterrender:function(){this.getEl().addCls("gis-btn-menu")},click:function(menu,item){this.clickHandler(item.param)}}}),tool=Ext.create("Ext.button.Button",{cls:"gis-button-organisationunitselection",iconCls:"gis-button-icon-gear",width:36,height:24,menu:toolMenu}),toolPanel=Ext.create("Ext.panel.Panel",{width:36,bodyStyle:"border:0 none; text-align:right",style:"margin-right:1px",items:tool}),organisationUnit=Ext.create("Ext.panel.Panel",{title:'<div class="ns-panel-title-data">'+GIS.i18n.organisation_units+"</div>",hideCollapseTool:!0,items:[{layout:"column",bodyStyle:"border:0 none",style:"padding-bottom:1px",items:[toolPanel,{layout:"column",bodyStyle:"border:0 none",items:[userOrganisationUnit,userOrganisationUnitChildren,userOrganisationUnitGrandChildren,organisationUnitLevel,organisationUnitGroup]}]},treePanel],listeners:{added:function(){accordionPanels.push(this)}}}),labelPanel=Ext.create("Ext.ux.panel.LabelPanel",{skipBoldButton:!0,skipColorButton:!0}),radius=Ext.create("Ext.form.field.Number",{cls:"gis-numberfield",width:75,allowDecimals:!1,minValue:1,maxValue:50,value:5}),optionsPanel=Ext.create("Ext.panel.Panel",{title:'<div class="ns-panel-title-data">'+GIS.i18n.options+"</div>",hideCollapseTool:!0,items:[labelPanel,{xtype:"container",layout:"hbox",style:"margin-top:5px",items:[{xtype:"container",html:"Point radius:",width:100,style:"padding:5px;font-size:11px;"},radius]}],listeners:{added:function(){accordionPanels.push(this)}}}),reset=function(skipTree){return layer.item.setValue(!1),layer.window.isRendered?(toolMenu.clickHandler(toolMenu.menuValue),skipTree||treePanel.reset(),userOrganisationUnit.setValue(!1),userOrganisationUnitChildren.setValue(!1),userOrganisationUnitGrandChildren.setValue(!1),organisationUnitLevel.clearValue(),organisationUnitGroup.clearValue(),layer.searchWindow&&(layer.searchWindow.destroy(),layer.searchWindow=null),void radius.setValue(5)):void(layer.view=null)},setGui=function(view){var ouDim=view.rows[0],levels=[],groups=[],isOu=!1,isOuc=!1,isOugc=!1;(function(){layer.window.isRendered&&(reset(!0),ouDim.items.forEach(function(item){"USER_ORGUNIT"===item.id?isOu=!0:"USER_ORGUNIT_CHILDREN"===item.id?isOuc=!0:"USER_ORGUNIT_GRANDCHILDREN"===item.id?isOugc=!0:"LEVEL"===item.id.substr(0,5)?levels.push(parseInt(item.id.split("-")[1])):"OU_GROUP"===item.id.substr(0,8)&&groups.push(parseInt(item.id.split("-")[1]))}),levels.length?(toolMenu.clickHandler("level"),organisationUnitLevel.setValue(levels)):groups.length?(toolMenu.clickHandler("group"),organisationUnitGroup.setValue(groups)):(toolMenu.clickHandler("orgunit"),userOrganisationUnit.setValue(isOu),userOrganisationUnitChildren.setValue(isOuc),userOrganisationUnitGrandChildren.setValue(isOugc)),treePanel.selectGraphMap(view.parentGraphMap),view.radiusLow&&radius.setValue(view.radiusLow))})(),function(){layer.item.setValue(!view.hidden,view.opacity),layer.menu.enableItems()}()},getView=function(config){var view={};if(treePanel.getDimension())return view.rows=[treePanel.getDimension()],Ext.apply(view,labelPanel.getConfig()),view.radiusLow=radius.getValue(),validateView(view)},validateView=function(view){return(0,_isArray2.default)(view.rows)&&view.rows.length&&(0,_isString2.default)(view.rows[0].dimension)&&(0,_isArray2.default)(view.rows[0].items)&&view.rows[0].items.length?view:(GIS.logg.push([view.rows,layer.id+".rows: dimension array"]),alert("No organisation units selected"),!1)},accordionBody=Ext.create("Ext.panel.Panel",{layout:"accordion",activeOnTop:!0,cls:"ns-accordion",bodyStyle:"border:0 none; margin-bottom:1px",height:408,items:function(){var panels=[organisationUnit,optionsPanel];return last=panels[panels.length-1],last.cls="ns-accordion-last",panels}(),listeners:{afterrender:function(){for(var i=accordionPanels.length-1;i>=0;i--)accordionPanels[i].expand()}}}),accordion=Ext.create("Ext.panel.Panel",{bodyStyle:"border-style:none; padding:1px; padding-bottom:0",items:accordionBody,panels:accordionPanels,map:layer.map,layer:layer,menu:layer.menu,reset:reset,setGui:setGui,getView:getView,getParentGraphMap:function(){return treePanel.getParentGraphMap()},infrastructuralDataElementValuesStore:infrastructuralDataElementValuesStore,getExpandedPanel:function(){for(var i=0;i<this.panels.length;i++)if(!this.panels[i].collapsed)return this.panels[i];return null},getFirstPanel:function(){return this.panels[0]},listeners:{added:function(){layer.accordion=this},render:function(){toolMenu.clickHandler("level")}}});return accordion}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=LayerWidgetBoundary;var _isArray=__webpack_require__(0),_isArray2=_interopRequireDefault(_isArray),_isBoolean=__webpack_require__(27),_isBoolean2=_interopRequireDefault(_isBoolean),_isString=__webpack_require__(4),_isString2=_interopRequireDefault(_isString),_arrayMax=__webpack_require__(234),_arrayMax2=_interopRequireDefault(_arrayMax);
},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function LayerWidgetEarthEngine(gis,layer){var datasets={"USGS/SRTMGL1_003":{id:"USGS/SRTMGL1_003",name:GIS.i18n.elevation,description:"Elevation above sea-level. You can adjust the min and max values so it better representes the terrain in your region.",valueLabel:GIS.i18n.min_max_elevation,min:0,max:1500,minValue:0,maxValue:8848,steps:5,colors:"YlOrBr"},"WorldPop/POP":{id:"WorldPop/POP",name:GIS.i18n.population_density,description:"Population density estimates with national totals adjusted to match UN population division estimates. Try a different year if you don't see data for your country.",imageLabel:GIS.i18n.select_year,valueLabel:GIS.i18n.min_max_people,min:0,max:1e3,minValue:0,maxValue:Number.MAX_VALUE,steps:5,colors:"YlOrBr",filter:function(year){return[{type:"eq",arguments:["year",year]},{type:"eq",arguments:["UNadj","yes"]}]},collection:function(callback){var imageCollection=ee.ImageCollection(this.id).filterMetadata("UNadj","equals","yes").distinct("year").sort("year",!1),featureCollection=ee.FeatureCollection(imageCollection).select(["year"],null,!1);featureCollection.getInfo(function(data){callback(data.features.map(function(feature){return{id:feature.properties.year,name:feature.properties.year}}))})}},"NOAA/DMSP-OLS/NIGHTTIME_LIGHTS":{id:"NOAA/DMSP-OLS/NIGHTTIME_LIGHTS",name:GIS.i18n.nighttime_lights,description:"Light intensity from cities, towns, and other sites with persistent lighting, including gas flares.",imageLabel:GIS.i18n.select_year,min:0,max:63,maxValue:63,steps:6,colors:"YlOrBr",filter:function(index){return[{type:"eq",arguments:["system:index",index]}]},collection:function(callback){var imageCollection=ee.ImageCollection(this.id).distinct("system:time_start").sort("system:time_start",!1),featureCollection=ee.FeatureCollection(imageCollection).select(["system:time_start"],null,!1);featureCollection.getInfo(function(data){callback(data.features.map(function(feature){return{id:feature.id,name:new Date(feature.properties["system:time_start"]).getFullYear()}}))})}},"UCSB-CHG/CHIRPS/PENTAD":{id:"UCSB-CHG/CHIRPS/PENTAD",name:GIS.i18n.precipitation,description:"Precipitation collected from satellite and weather stations on the ground. The values are in millimeters within 5 days periods. Updated monthly, during the 3rd week of the following month.",valueLabel:GIS.i18n.min_max_rainfall,min:0,max:100,minValue:0,maxValue:100,steps:6,colors:"Blues",filter:function(index){return[{type:"eq",arguments:["system:index",index]}]},collection:function(callback){var imageCollection=ee.ImageCollection(this.id).filterDate("2000-01-01","2025-01-01").sort("system:time_start",!1),featureCollection=ee.FeatureCollection(imageCollection).select(["system:time_start","system:time_end"],null,!1);featureCollection.getInfo(function(data){callback(data.features.map(function(feature){return{id:feature.id,name:(0,_d3TimeFormat.timeFormat)("%-d  ")(feature.properties["system:time_start"])+(0,_d3TimeFormat.timeFormat)("%-d %b %Y")(feature.properties["system:time_end"]-7200001)}}))})}},"MODIS/MOD11A2":{id:"MODIS/MOD11A2",name:GIS.i18n.temperature,description:"Land surface temperatures collected from satellite in 8 days periods. Blank spots will appear in areas with a persistent cloud cover.",valueLabel:GIS.i18n.min_max_c,min:0,max:50,minValue:-100,maxValue:100,steps:6,colors:"Reds",filter:function(index){return[{type:"eq",arguments:["system:index",index]}]},collection:function(callback){var imageCollection=ee.ImageCollection(this.id).sort("system:time_start",!1),featureCollection=ee.FeatureCollection(imageCollection).select(["system:time_start","system:time_end"],null,!1);featureCollection.getInfo(function(data){callback(data.features.map(function(feature){return{id:feature.id,name:(0,_d3TimeFormat.timeFormat)("%-d %b  ")(feature.properties["system:time_start"])+(0,_d3TimeFormat.timeFormat)("%-d %b %Y")(feature.properties["system:time_end"]-7200001)}}))})}},"MODIS/051/MCD12Q1":{id:"MODIS/051/MCD12Q1",name:GIS.i18n.landcover,description:"17 distinct landcover types collected from satellites.",imageLabel:GIS.i18n.select_year,filter:function(index){return[{type:"eq",arguments:["system:index",index]}]},collection:function(callback){var imageCollection=ee.ImageCollection(this.id).sort("system:time_start",!1),featureCollection=ee.FeatureCollection(imageCollection).select(["system:time_start","system:time_end"],null,!1);featureCollection.getInfo(function(data){callback(data.features.map(function(feature){return{id:feature.id,name:new Date(feature.properties["system:time_start"]).getFullYear()}}))})}}},minValue=Ext.create("Ext.form.field.Number",{cls:"gis-numberfield",width:93,style:"margin-right:2px",allowDecimals:!1,value:0,listeners:{change:function(field,value){var steps=stepValue.getValue();0===value&&1===steps&&(stepValue.setValue(2),steps=2),colorsCombo.setClasses(steps+(0===value?1:2))}}}),maxValue=Ext.create("Ext.form.field.Number",{cls:"gis-numberfield",width:93,allowDecimals:!1,value:2500}),stepValue=Ext.create("Ext.form.field.Number",{cls:"gis-numberfield",width:93,allowDecimals:!1,minValue:1,maxValue:7,value:5,listeners:{change:function(field,value){var min=minValue.getValue();1===value&&0===min&&(this.setValue(2),value=2),colorsCombo.setClasses(value+(0===min?1:2))}}}),descriptionField=Ext.create("Ext.container.Container",{hidden:!0,style:"padding:10px; color:#444"}),minMaxLabel=Ext.create("Ext.container.Container",{html:GIS.i18n.min_max_value,width:gis.conf.layout.widget.itemlabel_width,style:"padding-top:5px;font-size:11px;"}),minMaxField=Ext.create("Ext.container.Container",{layout:"hbox",hidden:!0,style:"padding:5px 0 0 5px;",items:[minMaxLabel,minValue,maxValue]}),stepField=Ext.create("Ext.container.Container",{layout:"hbox",hidden:!0,style:"padding:5px 0 0 5px;",items:[{xtype:"container",html:GIS.i18n.steps,width:gis.conf.layout.widget.itemlabel_width,style:"padding-top:5px;font-size:11px;"},stepValue]}),onDatasetSelect=function(combo){var dataset=datasets[combo.getValue()];descriptionField.show(),descriptionField.update(dataset.description),collectionCombo.clearValue(),dataset.collection?(collectionCombo.show(),collectionCombo.labelEl.update((dataset.imageLabel||GIS.i18n.select_period)+":")):collectionCombo.hide(),void 0!==dataset.min?(minMaxField.show(),minMaxLabel.update((dataset.valueLabel||GIS.i18n.min_max_value)+":"),minValue.setMinValue(dataset.minValue),minValue.setValue(dataset.min),maxValue.setMaxValue(dataset.maxValue),maxValue.setValue(dataset.max),stepField.show(),stepValue.setValue(dataset.steps),colorsCombo.show().setValue(dataset.colors)):(minMaxField.hide(),stepField.hide(),colorsCombo.hide())},datasetCombo=Ext.create("Ext.form.field.ComboBox",{cls:"gis-combo",fieldLabel:GIS.i18n.select_dataset,editable:!1,valueField:"id",displayField:"name",queryMode:"local",forceSelection:!0,labelWidth:gis.conf.layout.widget.itemlabel_width,width:gis.conf.layout.widget.item_width,store:Ext.create("Ext.data.Store",{fields:["id","name"],data:Object.keys(datasets).map(function(id){return datasets[id]})}),listeners:{select:onDatasetSelect}}),loadCollection=function(id,callback){var dataset=datasets[id];(0,_isFunction2.default)(dataset.collection)?(collectionCombo.store.removeAll(),collectionCombo.setLoading(!0),Ext.Ajax.request({url:encodeURI(gis.init.apiPath+"tokens/google"),success:function(response){var token=JSON.parse(response.responseText);ee.data.setAuthToken(token.client_id,"Bearer",token.access_token,token.expires_in,null,null,!1),ee.initialize(),dataset.collection(function(list){collectionCombo.store.loadData(list),dataset.collection=list,collectionCombo.setLoading(!1),callback&&callback(dataset)})}})):(collectionCombo.store.loadData(dataset.collection),callback&&callback(dataset))},collectionCombo=Ext.create("Ext.form.field.ComboBox",{cls:"gis-combo",fieldLabel:GIS.i18n.select_period,hidden:!0,editable:!1,valueField:"id",displayField:"name",queryMode:"local",forceSelection:!0,labelWidth:gis.conf.layout.widget.itemlabel_width,width:gis.conf.layout.widget.item_width,store:Ext.create("Ext.data.Store",{fields:["id","name"]}),listeners:{expand:function(){loadCollection(datasetCombo.getValue())}}}),colorsCombo=Ext.create("Ext.ux.field.ColorScale",{fieldLabel:GIS.i18n.color_scale,hidden:!0,value:"YlOrBr",classes:6,style:"padding-top:5px;",labelWidth:gis.conf.layout.widget.itemlabel_width,width:gis.conf.layout.widget.item_width}),reset=function(){return layer.item.setValue(!1),layer.window.isRendered?void datasetCombo.reset():void(layer.view=null)},setGui=function(view){"string"==typeof view.config&&(view.config=JSON.parse(view.config));var config=view.config,dataset=datasets[config.id],params=config.params;datasetCombo.setValue(config.id),descriptionField.show(),descriptionField.update(dataset.description),dataset.collection?(loadCollection(config.id,function(){(0,_isArray2.default)(config.filter)&&collectionCombo.setValue(config.filter[0].arguments[1])}),collectionCombo.show(),collectionCombo.labelEl&&collectionCombo.labelEl.update((dataset.imageLabel||"Select period")+":")):collectionCombo.hide(),void 0!==dataset.min?(minMaxField.show(),minMaxLabel.update((dataset.valueLabel||"Min/max value")+":"),minValue.setMinValue(dataset.minValue),minValue.setValue(params.min),maxValue.setMaxValue(dataset.maxValue),maxValue.setValue(params.max),stepField.show(),stepValue.setValue(params.palette.split(",").length-(0===params.min?1:2)),colorsCombo.show().setValue(params.palette)):(minMaxField.hide(),stepField.hide(),colorsCombo.hide())},getView=function(){var dataset=datasets[datasetCombo.getValue()],image=collectionCombo.getValue(),view={config:{id:dataset.id}};return dataset?dataset.collection&&!image?void gis.alert("No period selected."):(image&&(view.config.image=collectionCombo.findRecordByValue(image).get("name")),void 0!==dataset.min&&(view.config.params={palette:colorsCombo.getValue().join(","),min:minValue.getValue(),max:maxValue.getValue()}),image&&(view.config.filter=dataset.filter(image)),view):void gis.alert("No dataset selected.")};return Ext.create("Ext.panel.Panel",{bodyStyle:"border:0;padding:5px 1px;",items:[datasetCombo,descriptionField,collectionCombo,minMaxField,colorsCombo,stepField],map:layer.map,layer:layer,menu:layer.menu,reset:reset,setGui:setGui,getView:getView,listeners:{added:function(){layer.accordion=this}}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=LayerWidgetEarthEngine;var _isArray=__webpack_require__(0),_isArray2=_interopRequireDefault(_isArray),_isFunction=__webpack_require__(29),_isFunction2=_interopRequireDefault(_isFunction),_d3TimeFormat=__webpack_require__(262)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function LayerWidgetEvent(gis,layer){var stageStorage={},attributeStorage={},dataElementStorage={},baseWidth=444,accBaseWidth=baseWidth-2,dimConf=gis.conf.finals.dimension,programStore=Ext.create("Ext.data.Store",{fields:["id","name"],proxy:{type:"ajax",url:encodeURI(gis.init.apiPath+"programs.json?fields=id,displayName~rename(name)&paging=false"),reader:{type:"json",root:"programs"},pageParam:!1,startParam:!1,limitParam:!1},sortInfo:{field:"name",direction:"ASC"},isLoaded:!1,listeners:{load:function(){this.isLoaded||(this.isLoaded=!0)}}}),stagesByProgramStore=Ext.create("Ext.data.Store",{fields:["id","name"],proxy:{type:"ajax",url:"",reader:{type:"json",root:"programStages"}},isLoaded:!1,loadFn:function(fn){(0,_isFunction2.default)(fn)&&(this.isLoaded?fn.call():this.load({callback:fn}))},listeners:{load:function(){this.isLoaded||(this.isLoaded=!0),this.sort("name","ASC")}}}),dataElementsByStageStore=Ext.create("Ext.data.Store",{fields:["id","name","isAttribute"],data:[],sorters:[{property:"isAttribute",direction:"DESC"},{property:"name",direction:"ASC"}]}),program=Ext.create("Ext.form.field.ComboBox",{fieldLabel:GIS.i18n.program,editable:!1,valueField:"id",displayField:"name",labelAlign:"top",labelCls:"gis-form-item-label-top",labelSeparator:"",emptyText:GIS.i18n.select_program,forceSelection:!0,queryMode:"remote",columnWidth:.5,style:"margin:1px 1px 1px 0",storage:{},store:programStore,getRecord:function(){return this.getValue?{id:this.getValue(),name:this.getRawValue()}:null},listeners:{select:function(cb){onProgramSelect(cb.getValue())}}}),stage=Ext.create("Ext.form.field.ComboBox",{editable:!1,valueField:"id",displayField:"name",fieldLabel:GIS.i18n.stage,labelAlign:"top",labelCls:"gis-form-item-label-top",labelSeparator:"",emptyText:GIS.i18n.select_stage,queryMode:"local",forceSelection:!0,columnWidth:.5,style:"margin:1px 0 1px 0",disabled:!0,listConfig:{loadMask:!1},store:stagesByProgramStore,getRecord:function(){return this.getValue()?{id:this.getValue(),name:this.getRawValue()}:null},listeners:{select:function(cb){onStageSelect(cb.getValue())}}}),dataElementAvailable=Ext.create("Ext.ux.form.MultiSelect",{cls:"ns-toolbar-multiselect-left",width:accBaseWidth-4,height:118,valueField:"id",displayField:"name",style:"margin-bottom:1px",store:dataElementsByStageStore,tbar:[{xtype:"label",text:"Available data items",cls:"ns-toolbar-multiselect-left-label"},"->",{xtype:"button",icon:"images/arrowdown.png",width:22,height:22,handler:function(){dataElementAvailable.getValue().length&&selectDataElements(dataElementAvailable.getValue())}},{xtype:"button",icon:"images/arrowdowndouble.png",width:22,height:22,handler:function(){dataElementsByStageStore.getRange().length&&selectDataElements(dataElementsByStageStore.getRange())}}],listeners:{afterrender:function(ms){this.boundList.on("itemdblclick",function(){ms.getValue().length&&selectDataElements(ms.getValue())})}}}),dataElementSelected=Ext.create("Ext.panel.Panel",{width:accBaseWidth-4,height:176,bodyStyle:"padding-left:1px",autoScroll:!0,tbar:{height:27,items:[{xtype:"label",text:"Selected data items",style:"padding-left:6px; color:#222",cls:"ns-toolbar-multiselect-left-label"},"->",{xtype:"button",icon:"images/arrowupdouble.png",width:22,height:22,handler:function(){dataElementSelected.removeAllDataElements()}}]},getChildIndex:function(child){for(var items=this.items.items,i=0;i<items.length;i++)if(items[i].id===child.id)return i;return items.length},hasDataElement:function hasDataElement(dataElementId){var hasDataElement=!1;return this.items.each(function(item){item.dataElement.id===dataElementId&&(hasDataElement=!0)}),hasDataElement},removeAllDataElements:function(){this.items.items.forEach(function(item){return item.removeDataElement()})}}),dataElement=Ext.create("Ext.panel.Panel",{title:'<div class="gis-panel-title-data">'+GIS.i18n.data+"</div>",bodyStyle:"padding:1px",hideCollapseTool:!0,items:[{layout:"column",bodyStyle:"border:0 none",style:"margin-top:2px",items:[program,stage]},dataElementAvailable,dataElementSelected]}),startDate=Ext.create("Ext.form.field.Text",{fieldLabel:GIS.i18n.start_date,labelAlign:"top",labelCls:"gis-form-item-label-top",labelSeparator:"",columnWidth:.5,height:41,value:gis.init.calendar.formatDate(gis.init.systemInfo.dateFormat,gis.init.calendar.today().add(-12,"m")),listeners:{render:function(c){onDateFieldRender(c)}}}),endDate=Ext.create("Ext.form.field.Text",{fieldLabel:GIS.i18n.end_date,labelAlign:"top",labelCls:"gis-form-item-label-top",labelSeparator:"",columnWidth:.5,height:41,style:"margin-left: 1px",value:gis.init.calendar.formatDate(gis.init.systemInfo.dateFormat,gis.init.calendar.today()),listeners:{render:function(c){onDateFieldRender(c)}}}),periods=Ext.create("Ext.form.field.ComboBox",{cls:"gis-combo",fieldLabel:GIS.i18n.period,labelSeparator:"",editable:!1,valueField:"id",displayField:"name",queryMode:"local",forceSelection:!0,width:220,labelWidth:gis.conf.layout.widget.itemlabel_width,labelAlign:"top",labelCls:"gis-form-item-label-top",style:"padding-bottom:5px;",store:Ext.create("Ext.data.Store",{fields:["id","name","index"],data:[{id:"CUSTOM",name:GIS.i18n.start_end_dates}].concat(gis.conf.period.relativePeriods)}),selectFirst:function(){this.setValue(this.store.getAt(0).data.id)},listeners:{select:function(){var id=this.getValue();"CUSTOM"===id?(startDate.enable(),endDate.enable()):(startDate.disable(),endDate.disable())}}}),period=Ext.create("Ext.panel.Panel",{title:'<div class="gis-panel-title-period">Periods</div>',bodyStyle:"padding:4px 1px 2px",hideCollapseTool:!0,width:accBaseWidth,items:[periods,{xtype:"container",layout:"column",items:[startDate,endDate]}]}),treePanel=Ext.create("Ext.tree.Panel",{cls:"gis-tree",width:accBaseWidth-4,height:313,bodyStyle:"border:0 none",style:"border-top: 1px solid #ddd; padding-top: 1px;",displayField:"name",rootVisible:!1,autoScroll:!1,scroll:!1,viewConfig:{style:"overflow-y:auto"},multiSelect:!0,rendered:!1,reset:function(){var rootNode=this.getRootNode().findChild("id",gis.init.rootNodes[0].id);this.collapseAll(),this.expandPath(rootNode.getPath()),this.getSelectionModel().select(rootNode)},selectRootIf:function(){if(this.getSelectionModel().getSelection().length<1){var node=this.getRootNode().findChild("id",gis.init.rootNodes[0].id);return this.rendered&&this.getSelectionModel().select(node),node}},isPending:!1,recordsToSelect:[],recordsToRestore:[],multipleSelectIf:function(map,doUpdate){this.recordsToSelect.length===gis.util.object.getLength(map)&&(this.getSelectionModel().select(this.recordsToSelect),this.recordsToSelect=[],this.isPending=!1,doUpdate&&update())},multipleExpand:function(id,map,doUpdate){var that=this,rootId=gis.conf.finals.root.id,path=map[id];path.substr(0,rootId.length+1)!=="/"+rootId&&(path="/"+rootId+path),that.expandPath(path,"id","/",function(){var record=Ext.clone(that.getRootNode().findChild("id",id,!0));that.recordsToSelect.push(record),that.multipleSelectIf(map,doUpdate)})},select:function(url,params){params||(params={}),Ext.Ajax.request({url:encodeURI(url),method:"GET",params:params,scope:this,success:function(r){var _this=this,units=JSON.parse(r.responseText).organisationUnits;this.numberOfRecords=units.length,units.forEach(function(unit){_this.multipleExpand(unit.id,unit.path)})}})},getParentGraphMap:function(){var selection=this.getSelectionModel().getSelection(),map={};return(0,_isArray2.default)(selection)&&selection.length&&selection.forEach(function(sel){var pathArray=sel.getPath().split("/");map[pathArray.pop()]=pathArray.join("/")}),map},selectGraphMap:function(map,update){if(gis.util.object.getLength(map)){this.isPending=!0;for(var key in map)map.hasOwnProperty(key)&&treePanel.multipleExpand(key,map,update)}},store:Ext.create("Ext.data.TreeStore",{fields:["id","name","hasChildren"],proxy:{type:"rest",format:"json",noCache:!1,extraParams:{fields:"children[id,"+gis.init.namePropertyUrl+",children::isNotEmpty~rename(hasChildren)&paging=false"},url:gis.init.apiPath+"organisationUnits",reader:{type:"json",root:"children"},sortParam:!1},sorters:[{property:"name",direction:"ASC"}],root:{id:gis.conf.finals.root.id,expanded:!0,children:gis.init.rootNodes},listeners:{beforeload:function(store,operation){store.proxy._url||(store.proxy._url=store.proxy.url),store.proxy.url=store.proxy._url+"/"+operation.node.data.id},load:function(store,node,records){records.forEach(function(record){Ext.isBoolean(record.data.hasChildren)&&record.set("leaf",!record.data.hasChildren)})}}}),xable:function(values){for(var i=0;i<values.length;i++)if(values[i])return void this.disable();this.enable()},getDimension:function(){var r=treePanel.getSelectionModel().getSelection(),config={dimension:gis.conf.finals.dimension.organisationUnit.objectName,items:[]};return userOrganisationUnit.getValue()||userOrganisationUnitChildren.getValue()||userOrganisationUnitGrandChildren.getValue()?(userOrganisationUnit.getValue()&&config.items.push({id:"USER_ORGUNIT",name:""}),userOrganisationUnitChildren.getValue()&&config.items.push({id:"USER_ORGUNIT_CHILDREN",name:""}),userOrganisationUnitGrandChildren.getValue()&&config.items.push({id:"USER_ORGUNIT_GRANDCHILDREN",name:""})):r.forEach(function(item){return config.items.push({id:item.data.id})}),config.items.length?config:null},listeners:{beforeitemexpand:function(){treePanel.isPending||(treePanel.recordsToRestore=treePanel.getSelectionModel().getSelection())},itemexpand:function(){!treePanel.isPending&&treePanel.recordsToRestore.length&&(treePanel.getSelectionModel().select(treePanel.recordsToRestore),treePanel.recordsToRestore=[])},render:function(){this.rendered=!0},afterrender:function(){this.getRootNode().getChildAt(0)&&this.getSelectionModel().select(0)},itemcontextmenu:function(v,r,h,i,e){e.stopEvent(),v.getSelectionModel().select(r,!1),v.menu&&v.menu.destroy(),v.menu=Ext.create("Ext.menu.Menu",{showSeparator:!1,shadow:!1}),r.data.leaf||(v.menu.add({text:GIS.i18n.select_sub_units,icon:"images/node-select-child.png",handler:function(){r.expand(!1,function(){v.getSelectionModel().select(r.childNodes,!0),v.getSelectionModel().deselect(r)})}}),v.menu.showAt(e.xy))}}}),userOrganisationUnit=Ext.create("Ext.form.field.Checkbox",{columnWidth:.33,style:"padding-top: 2px; padding-left: 5px; margin-bottom: 0",boxLabelCls:"x-form-cb-label-alt1",boxLabel:GIS.i18n.user_ou,labelWidth:gis.conf.layout.form_label_width,handler:function(chb,checked){treePanel.xable([checked,userOrganisationUnitChildren.getValue(),userOrganisationUnitGrandChildren.getValue()])}}),userOrganisationUnitChildren=Ext.create("Ext.form.field.Checkbox",{columnWidth:.33,style:"padding-top: 2px; margin-bottom: 0",boxLabelCls:"x-form-cb-label-alt1",boxLabel:GIS.i18n.user_sub_units,labelWidth:gis.conf.layout.form_label_width,handler:function(chb,checked){treePanel.xable([checked,userOrganisationUnit.getValue(),userOrganisationUnitGrandChildren.getValue()])}}),userOrganisationUnitGrandChildren=Ext.create("Ext.form.field.Checkbox",{columnWidth:.33,style:"padding-top: 2px; margin-bottom: 0",boxLabelCls:"x-form-cb-label-alt1",boxLabel:GIS.i18n.user_sub_x2_units,labelWidth:gis.conf.layout.form_label_width,handler:function(chb,checked){treePanel.xable([checked,userOrganisationUnit.getValue(),userOrganisationUnitChildren.getValue()])}}),organisationUnitPanel=Ext.create("Ext.panel.Panel",{width:accBaseWidth,layout:"column",bodyStyle:"border:0 none",items:[userOrganisationUnit,userOrganisationUnitChildren,userOrganisationUnitGrandChildren]}),organisationUnit=Ext.create("Ext.panel.Panel",{title:'<div class="gis-panel-title-organisationunit">'+GIS.i18n.organisation_units+"</div>",bodyStyle:"padding:1px",hideCollapseTool:!0,items:[organisationUnitPanel,treePanel]}),coordinateFieldStore=Ext.create("Ext.data.Store",{fields:["id","name"],data:[{id:"event",name:GIS.i18n.event_location}]}),coordinateField=Ext.create("Ext.form.field.ComboBox",{editable:!1,valueField:"id",displayField:"name",width:160,forceSelection:!0,queryMode:"local",style:"margin:1px 1px 10px 0",store:coordinateFieldStore,listeners:{render:function(cb){cb.setValue(cb.store.getAt(0).data.id)}}}),eventCluster=Ext.create("Ext.form.field.Checkbox",{boxLabel:GIS.i18n.group_nearby_events,cls:"gis-event-clustering-checkbox",checked:!0}),eventColor=Ext.create("Ext.ux.button.ColorButton",{xtype:"colorbutton",height:24,width:80,value:"333333"}),eventRadius=Ext.create("Ext.form.field.Number",{cls:"gis-numberfield",width:80,allowDecimals:!1,minValue:1,maxValue:20,value:6}),optionsPanel=Ext.create("Ext.panel.Panel",{title:'<div class="gis-panel-title-options">'+GIS.i18n.options+"</div>",cls:"gis-accordion-last",bodyStyle:"padding:6px 8px;",hideCollapseTool:!0,width:accBaseWidth,items:[{xtype:"container",html:GIS.i18n.coordinate_field,style:"padding-bottom:3px;font-weight:bold;font-size:12px;"},coordinateField,{xtype:"container",html:GIS.i18n.clustering,style:"padding-bottom:3px;font-weight:bold;font-size:12px;"},eventCluster,{xtype:"container",html:GIS.i18n.style,style:"padding:10px 0 3px;font-weight:bold;font-size:12px;"},{xtype:"container",layout:"hbox",items:[{xtype:"container",html:GIS.i18n.point_color+":",width:80,style:"padding:5px;font-size:11px;"},eventColor]},{xtype:"container",layout:"hbox",items:[{xtype:"container",html:GIS.i18n.point_radius+":",width:80,style:"padding:5px;font-size:11px;"},eventRadius]}]}),onProgramSelect=function(programId,layout){programId=layout?layout.program.id:programId,stage.clearValue(),dataElementsByStageStore.removeAll(),dataElementSelected.removeAll();var load=function(stages){stage.enable(),stage.clearValue(),stagesByProgramStore.removeAll(),stagesByProgramStore.loadData(stages);var stageId=(layout?layout.programStage.id:null)||(1===stages.length?stages[0].id:null);stageId&&(stage.setValue(stageId),onStageSelect(stageId,layout))};stageStorage.hasOwnProperty(programId)?load(stageStorage[programId]):Ext.Ajax.request({url:encodeURI(gis.init.apiPath+"programs.json?filter=id:eq:"+programId+"&fields=programStages[id,displayName~rename(name)],programTrackedEntityAttributes[trackedEntityAttribute[id,displayName~rename(name),valueType,optionSet[id,displayName~rename(name)]]]&paging=false"),success:function(r){var program=JSON.parse(r.responseText).programs[0];if(program){var stages=program.programStages,attributes=(0,_arrayPluck2.default)(program.programTrackedEntityAttributes,"trackedEntityAttribute");attributes.forEach(function(attribute){return attribute.isAttribute=!0}),(0,_isArray2.default)(attributes)&&attributes.length&&(attributeStorage[programId]=attributes),(0,_isArray2.default)(stages)&&stages.length&&(stageStorage[programId]=stages,load(stages))}}})},onStageSelect=function(stageId,layout){layout||dataElementSelected.removeAll(),loadDataElements(stageId,layout)},onDateFieldRender=function(c){$("#"+c.inputEl.id).calendarsPicker({calendar:gis.init.calendar,dateFormat:gis.init.systemInfo.dateFormat}),Ext.get(c.id).setStyle("z-index",1e5)},loadDataElements=function(stageId,layout){var programId=layout?layout.program.id:program.getValue()||null;stageId=stageId||layout.programStage.id;var load=function(dataElements){var attributes=attributeStorage[programId],data=(0,_arrayClean2.default)([].concat(attributes||[],dataElements||[])),coordinateFields=[{id:"event",name:"Event location"}].concat(data.filter(function(field){return"COORDINATE"===field.valueType}));if(dataElementsByStageStore.loadData(data),coordinateFieldStore.removeAll(),coordinateFieldStore.loadData(coordinateFields),layout){var dataDimensions=gis.util.layout.getDataDimensionsFromLayout(layout),records=[];dataDimensions.forEach(function(dim){var row=dataElementsByStageStore.getById(dim.dimension);row&&records.push(Ext.applyIf(dim,row.data))}),selectDataElements(records,layout),layout.eventCoordinateField&&coordinateField.setValue(layout.eventCoordinateField)}};dataElementStorage.hasOwnProperty(stageId)?load(dataElementStorage[stageId]):Ext.Ajax.request({url:encodeURI(gis.init.apiPath+"programStages.json?filter=id:eq:"+stageId+"&fields=programStageDataElements[dataElement[id,"+gis.init.namePropertyUrl+",valueType,optionSet[id,displayName~rename(name)]]]"),success:function(r){var objects=JSON.parse(r.responseText).programStages;if(!objects.length)return void load();var dataElements=(0,_arrayPluck2.default)(objects[0].programStageDataElements,"dataElement");dataElementStorage[stageId]=dataElements,load(dataElements)}})},addUxFromDataElement=function addUxFromDataElement(element,index){element.type=element.type||element.valueType,index=index||dataElementSelected.items.items.length;var getUxType=function(element){return Ext.isObject(element.optionSet)&&Ext.isString(element.optionSet.id)?"Ext.ux.panel.OrganisationUnitGroupSetContainer":"INTEGER"===element.type||"NUMBER"===element.type?"Ext.ux.panel.DataElementIntegerContainer":"TEXT"===element.type?"Ext.ux.panel.DataElementStringContainer":"DATE"===element.type?"Ext.ux.panel.DataElementDateContainer":"BOOLEAN"===element.type||"TRUE_ONLY"===element.type?"Ext.ux.panel.DataElementBooleanContainer":"Ext.ux.panel.DataElementIntegerContainer"},ux=dataElementSelected.insert(index,Ext.create(getUxType(element),{dataElement:element}));return ux.removeDataElement=function(){dataElementSelected.remove(ux),dataElementSelected.hasDataElement(element.id)||(dataElementsByStageStore.add(element),dataElementsByStageStore.sort())},ux.duplicateDataElement=function(){var index=dataElementSelected.getChildIndex(ux)+1;addUxFromDataElement(element,index)},dataElementsByStageStore.removeAt(dataElementsByStageStore.findExact("id",element.id)),ux},selectDataElements=function(items,layout){var dataElements=[];items.forEach(function(item){(0,_isString2.default)(item)?dataElements.push(dataElementsByStageStore.getAt(dataElementsByStageStore.findExact("id",item)).data):(0,_isObject2.default)(item)&&(item.data?dataElements.push(item.data):dataElements.push(item))}),dataElements.forEach(function(element){var ux=addUxFromDataElement(element);layout&&ux.setRecord(element)})},reset=function(skipTree){return layer.item.setValue(!1),layer.window.isRendered?(program.clearValue(),stage.clearValue(),dataElementsByStageStore.removeAll(),dataElementSelected.removeAll(),periods.selectFirst(),startDate.reset(),endDate.reset(),skipTree||treePanel.reset(),userOrganisationUnit.setValue(!1),userOrganisationUnitChildren.setValue(!1),userOrganisationUnitGrandChildren.setValue(!1),coordinateFieldStore.removeAll(),eventCluster.reset(),eventColor.reset(),void eventRadius.reset()):void(layer.view=null)},setGui=function(view){var ouDim=view.rows[0],isOu=!1,isOuc=!1,isOugc=!1,isTopOu=!1;(function(){layer.window.isRendered&&(reset(!0),program.store.add(view.program),program.setValue(view.program.id),onProgramSelect(null,view),view.startDate&&(startDate.setValue(view.startDate),startDate.enable()),view.endDate&&(endDate.setValue(view.endDate),endDate.enable()),view.filters&&view.filters[0]&&view.filters[0].dimension===dimConf.period.objectName&&view.filters[0].items&&(periods.select(view.filters[0].items[0].id),startDate.disable(),endDate.disable()),ouDim.items.forEach(function(item){"USER_ORGUNIT"===item.id?isOu=!0:"USER_ORGUNIT_CHILDREN"===item.id?isOuc=!0:"USER_ORGUNIT_GRANDCHILDREN"===item.id?isOugc=!0:isTopOu=!0}),isTopOu||(userOrganisationUnit.setValue(isOu),userOrganisationUnitChildren.setValue(isOuc),userOrganisationUnitGrandChildren.setValue(isOugc)),treePanel.selectGraphMap(view.parentGraphMap),void 0!==view.eventCoordinateField&&coordinateField.setValue(view.eventCoordinateField),void 0!==view.eventClustering&&eventCluster.setValue(view.eventClustering),view.eventPointColor&&eventColor.setValue(view.eventPointColor),void 0!==view.eventPointRadius&&eventRadius.setValue(view.eventPointRadius))})(),function(){layer.item.setValue(!view.hidden,view.opacity),layer.menu.enableItems()}()},getView=function(config){var view={};return view.program=program.getRecord(),view.programStage=stage.getRecord(),"CUSTOM"===periods.getValue()?(view.startDate=gis.init.calendar.formatDate("yyyy-mm-dd",gis.init.calendar.parseDate(gis.init.systemInfo.dateFormat,startDate.getValue())),view.endDate=gis.init.calendar.formatDate("yyyy-mm-dd",gis.init.calendar.parseDate(gis.init.systemInfo.dateFormat,endDate.getValue()))):view.filters=[{dimension:dimConf.period.objectName,items:[{id:periods.getValue()}]}],view.columns=[],dataElementSelected.items.items.forEach(function(panel){return view.columns.push(panel.getRecord())}),view.rows=[{dimension:"ou",items:treePanel.getDimension().items}],"event"!==coordinateField.getValue()&&(view.eventCoordinateField=coordinateField.getValue()),view.eventClustering=eventCluster.getValue(),view.eventPointColor=eventColor.getValue(),view.eventPointRadius=eventRadius.getValue(),view.opacity=layer.layerOpacity,view},accordionBody=Ext.create("Ext.panel.Panel",{layout:"accordion",activeOnTop:!0,cls:"gis-accordion",bodyStyle:"border:0 none",height:450,items:[dataElement,period,organisationUnit,optionsPanel],listeners:{afterrender:function(){optionsPanel.expand(),organisationUnit.expand(),period.expand(),dataElement.expand(),
periods.selectFirst()}}}),panel=Ext.create("Ext.panel.Panel",{map:layer.map,layer:layer,menu:layer.menu,reset:reset,setGui:setGui,getView:getView,getParentGraphMap:function(){return treePanel.getParentGraphMap()},cls:"gis-form-widget",border:!1,items:[accordionBody]});return panel}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=LayerWidgetEvent;var _isString=__webpack_require__(4),_isString2=_interopRequireDefault(_isString),_isObject=__webpack_require__(3),_isObject2=_interopRequireDefault(_isObject),_isArray=__webpack_require__(0),_isArray2=_interopRequireDefault(_isArray),_isFunction=__webpack_require__(29),_isFunction2=_interopRequireDefault(_isFunction),_arrayClean=__webpack_require__(10),_arrayClean2=_interopRequireDefault(_arrayClean),_arrayPluck=__webpack_require__(40),_arrayPluck2=_interopRequireDefault(_arrayPluck)},function(module,exports,__webpack_require__){"use strict";function LayerWidgetExternal(gis,layer){var externalStore=Ext.create("Ext.data.Store",{fields:["id","name","mapService","url","layers","attribution","mapLayerPosition","imageFormat","legendSet","legendSetUrl"],proxy:{type:"ajax",url:encodeURI(gis.init.apiPath+"externalMapLayers.json?fields=id,displayName~rename(name),service,url,attribution,mapService,layers,imageFormat,mapLayerPosition,legendSet,legendSetUrl&paging=false"),reader:{type:"json",root:"externalMapLayers"},pageParam:!1,startParam:!1,limitParam:!1}}),externalCombo=Ext.create("Ext.form.field.ComboBox",{cls:"gis-combo",fieldLabel:GIS.i18n.select_layer,editable:!1,valueField:"id",displayField:"name",forceSelection:!0,labelWidth:70,width:gis.conf.layout.widget.item_width,store:externalStore}),reset=function(){externalCombo.reset()},setGui=function(view){"string"==typeof view.config&&(view.config=JSON.parse(view.config)),view.config.id&&externalCombo.setValue(view.config.id)},getView=function(){var external=externalCombo.getStore().getById(externalCombo.getValue());return{config:external.data}};return Ext.create("Ext.panel.Panel",{bodyStyle:"border:0;padding:5px 1px;",items:[externalCombo],map:layer.map,layer:layer,menu:layer.menu,reset:reset,setGui:setGui,getView:getView,listeners:{added:function(){layer.accordion=this}}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=LayerWidgetExternal},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function LayerWidgetFacility(gis,layer){var accordionPanels=[],last=void 0,infrastructuralDataElementValuesStore=Ext.create("Ext.data.Store",{fields:["name","value"],sorters:[{property:"name",direction:"ASC"}]}),groupSet=Ext.create("Ext.form.field.ComboBox",{cls:"gis-combo",fieldLabel:GIS.i18n.groupset,editable:!1,valueField:"id",displayField:"name",emptyText:GIS.i18n.organisationunit_groupset,mode:"remote",forceSelection:!0,width:gis.conf.layout.widget.item_width,labelWidth:gis.conf.layout.widget.itemlabel_width,currentValue:!1,store:gis.store.groupSets}),icons=Ext.create("Ext.panel.Panel",{title:'<div class="ns-panel-title-data">'+GIS.i18n.organisation_unit_group_icons+"</div>",hideCollapseTool:!0,items:[groupSet],listeners:{added:function(){accordionPanels.push(this)}}}),treePanel=Ext.create("Ext.tree.Panel",{cls:"gis-tree",height:307,style:"border-top: 1px solid #ddd; padding-top: 1px",displayField:"name",width:gis.conf.layout.widget.item_width,rootVisible:!1,autoScroll:!1,scroll:!1,viewConfig:{style:"overflow-y:auto"},multiSelect:!0,rendered:!1,reset:function(){var rootNode=this.getRootNode().findChild("id",gis.init.rootNodes[0].id);this.collapseAll(),this.expandPath(rootNode.getPath()),this.getSelectionModel().select(rootNode)},selectRootIf:function(){if(this.getSelectionModel().getSelection().length<1){var node=this.getRootNode().findChild("id",gis.init.rootNodes[0].id);return this.rendered&&this.getSelectionModel().select(node),node}},isPending:!1,recordsToSelect:[],recordsToRestore:[],multipleSelectIf:function(map,doUpdate){this.recordsToSelect.length===gis.util.object.getLength(map)&&(this.getSelectionModel().select(this.recordsToSelect),this.recordsToSelect=[],this.isPending=!1,doUpdate&&update())},multipleExpand:function(id,map,doUpdate){var _this=this,rootId=gis.conf.finals.root.id,path=map[id];path.substr(0,rootId.length+1)!=="/"+rootId&&(path="/"+rootId+path),this.expandPath(path,"id","/",function(){var record=Ext.clone(that.getRootNode().findChild("id",id,!0));_this.recordsToSelect.push(record),_this.multipleSelectIf(map,doUpdate)})},select:function(url,params){params||(params={}),Ext.Ajax.request({url:encodeURI(url),method:"GET",params:params,scope:this,success:function(r){var a=JSON.parse(r.responseText).organisationUnits;this.numberOfRecords=a.length;for(var i=0;i<a.length;i++)this.multipleExpand(a[i].id,a[i].path)}})},getParentGraphMap:function(){var selection=this.getSelectionModel().getSelection(),map={};if((0,_isArray2.default)(selection)&&selection.length)for(var pathArray,i=0;i<selection.length;i++)pathArray=selection[i].getPath().split("/"),map[pathArray.pop()]=pathArray.join("/");return map},selectGraphMap:function(map,update){if(gis.util.object.getLength(map)){this.isPending=!0;for(var key in map)map.hasOwnProperty(key)&&treePanel.multipleExpand(key,map,update)}},store:Ext.create("Ext.data.TreeStore",{fields:["id","name","hasChildren"],proxy:{type:"rest",format:"json",noCache:!1,extraParams:{fields:"children[id,"+gis.init.namePropertyUrl+",children::isNotEmpty~rename(hasChildren)&paging=false"},url:gis.init.apiPath+"organisationUnits",reader:{type:"json",root:"children"},sortParam:!1},sorters:[{property:"name",direction:"ASC"}],root:{id:gis.conf.finals.root.id,expanded:!0,children:gis.init.rootNodes},listeners:{beforeload:function(store,operation){store.proxy._url||(store.proxy._url=store.proxy.url),store.proxy.url=store.proxy._url+"/"+operation.node.data.id},load:function(store,node,records){records.forEach(function(record){(0,_isBoolean2.default)(record.data.hasChildren)&&record.set("leaf",!record.data.hasChildren)})}}}),xable:function(values){for(var i=0;i<values.length;i++)if(values[i])return void this.disable();this.enable()},getDimension:function(){var r=treePanel.getSelectionModel().getSelection(),config={dimension:gis.conf.finals.dimension.organisationUnit.objectName,items:[]};if("orgunit"===toolMenu.menuValue)if(userOrganisationUnit.getValue()||userOrganisationUnitChildren.getValue()||userOrganisationUnitGrandChildren.getValue())userOrganisationUnit.getValue()&&config.items.push({id:"USER_ORGUNIT",name:""}),userOrganisationUnitChildren.getValue()&&config.items.push({id:"USER_ORGUNIT_CHILDREN",name:""}),userOrganisationUnitGrandChildren.getValue()&&config.items.push({id:"USER_ORGUNIT_GRANDCHILDREN",name:""});else for(var i=0;i<r.length;i++)config.items.push({id:r[i].data.id});else if("level"===toolMenu.menuValue){for(var levels=organisationUnitLevel.getValue(),_i=0;_i<levels.length;_i++)config.items.push({id:"LEVEL-"+levels[_i],name:""});for(var _i2=0;_i2<r.length;_i2++)config.items.push({id:r[_i2].data.id,name:""})}else if("group"===toolMenu.menuValue){for(var groupIds=organisationUnitGroup.getValue(),_i3=0;_i3<groupIds.length;_i3++)config.items.push({id:"OU_GROUP-"+groupIds[_i3],name:""});for(var _i4=0;_i4<r.length;_i4++)config.items.push({id:r[_i4].data.id,name:""})}return config.items.length?config:null},listeners:{beforeitemexpand:function(){treePanel.isPending||(treePanel.recordsToRestore=treePanel.getSelectionModel().getSelection())},itemexpand:function(){!treePanel.isPending&&treePanel.recordsToRestore.length&&(treePanel.getSelectionModel().select(treePanel.recordsToRestore),treePanel.recordsToRestore=[])},render:function(){this.rendered=!0},afterrender:function(){this.getRootNode().getChildAt(0)&&this.getSelectionModel().select(0)},itemcontextmenu:function(v,r,h,i,e){e.stopEvent(),v.getSelectionModel().select(r,!1),v.menu&&v.menu.destroy(),v.menu=Ext.create("Ext.menu.Menu",{showSeparator:!1,shadow:!1}),r.data.leaf||(v.menu.add({text:GIS.i18n.select_sub_units,icon:"images/node-select-child.png",handler:function(){r.expand(!1,function(){v.getSelectionModel().select(r.childNodes,!0),v.getSelectionModel().deselect(r)})}}),v.menu.showAt(e.xy))}}}),userOrganisationUnit=Ext.create("Ext.form.field.Checkbox",{columnWidth:.3,style:"padding-top: 2px; padding-left: 3px; margin-bottom: 0",boxLabelCls:"x-form-cb-label-alt1",boxLabel:GIS.i18n.user_ou,labelWidth:gis.conf.layout.form_label_width,handler:function(chb,checked){treePanel.xable([checked,userOrganisationUnitChildren.getValue(),userOrganisationUnitGrandChildren.getValue()])}}),userOrganisationUnitChildren=Ext.create("Ext.form.field.Checkbox",{columnWidth:.33,style:"padding-top: 2px; margin-bottom: 0",boxLabelCls:"x-form-cb-label-alt1",boxLabel:GIS.i18n.sub_units,labelWidth:gis.conf.layout.form_label_width,handler:function(chb,checked){treePanel.xable([checked,userOrganisationUnit.getValue(),userOrganisationUnitGrandChildren.getValue()])}}),userOrganisationUnitGrandChildren=Ext.create("Ext.form.field.Checkbox",{columnWidth:.34,style:"padding-top: 2px; margin-bottom: 0",boxLabelCls:"x-form-cb-label-alt1",boxLabel:GIS.i18n.sub_x2_units,labelWidth:gis.conf.layout.form_label_width,handler:function(chb,checked){treePanel.xable([checked,userOrganisationUnit.getValue(),userOrganisationUnitChildren.getValue()])}}),organisationUnitLevel=Ext.create("Ext.form.field.ComboBox",{cls:"gis-combo",multiSelect:!0,style:"margin-bottom:0",width:gis.conf.layout.widget.item_width-37,valueField:"level",displayField:"name",emptyText:GIS.i18n.select_organisation_unit_levels,editable:!1,store:{fields:["id","name","level"],data:gis.init.organisationUnitLevels}}),organisationUnitGroup=Ext.create("Ext.form.field.ComboBox",{cls:"gis-combo",multiSelect:!0,style:"margin-bottom:0",width:gis.conf.layout.widget.item_width-37,valueField:"id",displayField:"name",emptyText:GIS.i18n.select_organisation_unit_groups,editable:!1,store:gis.store.organisationUnitGroup}),toolMenu=Ext.create("Ext.menu.Menu",{shadow:!1,showSeparator:!1,menuValue:"level",clickHandler:function(param){if(param){var items=this.items.items;this.menuValue=param;for(var i=0;i<items.length;i++)items[i].setIconCls&&(items[i].param===param?items[i].setIconCls("gis-menu-item-selected"):items[i].setIconCls("gis-menu-item-unselected"));"orgunit"===param?(userOrganisationUnit.show(),userOrganisationUnitChildren.show(),userOrganisationUnitGrandChildren.show(),organisationUnitLevel.hide(),organisationUnitGroup.hide(),(userOrganisationUnit.getValue()||userOrganisationUnitChildren.getValue())&&treePanel.disable()):"level"===param?(userOrganisationUnit.hide(),userOrganisationUnitChildren.hide(),userOrganisationUnitGrandChildren.hide(),organisationUnitLevel.show(),organisationUnitGroup.hide(),treePanel.enable()):"group"===param&&(userOrganisationUnit.hide(),userOrganisationUnitChildren.hide(),userOrganisationUnitGrandChildren.hide(),organisationUnitLevel.hide(),organisationUnitGroup.show(),treePanel.enable())}},items:[{xtype:"label",text:GIS.i18n.selection_mode,style:"padding:7px 5px 5px 7px; font-weight:bold; border:0 none"},{text:GIS.i18n.select_organisation_units+"&nbsp;&nbsp;",param:"orgunit",iconCls:"gis-menu-item-selected"},{text:GIS.i18n.select_levels+"&nbsp;&nbsp;",param:"level",iconCls:"gis-menu-item-unselected"},{text:GIS.i18n.select_groups+"&nbsp;&nbsp;",param:"group",iconCls:"gis-menu-item-unselected"}],listeners:{afterrender:function(){this.getEl().addCls("gis-btn-menu")},click:function(menu,item){this.clickHandler(item.param)}}}),tool=Ext.create("Ext.button.Button",{cls:"gis-button-organisationunitselection",iconCls:"gis-button-icon-gear",width:36,height:24,menu:toolMenu}),toolPanel=Ext.create("Ext.panel.Panel",{width:36,bodyStyle:"border:0 none; text-align:right",style:"margin-right:1px",items:tool}),organisationUnit=Ext.create("Ext.panel.Panel",{title:'<div class="ns-panel-title-data">'+GIS.i18n.organisation_units+"</div>",hideCollapseTool:!0,items:[{layout:"column",bodyStyle:"border:0 none",style:"padding-bottom:1px",items:[toolPanel,{layout:"column",bodyStyle:"border:0 none",items:[userOrganisationUnit,userOrganisationUnitChildren,userOrganisationUnitGrandChildren,organisationUnitLevel,organisationUnitGroup]}]},treePanel],listeners:{added:function(){accordionPanels.push(this)}}}),labelPanel=Ext.create("Ext.ux.panel.LabelPanel"),areaRadius=Ext.create("Ext.ux.panel.CheckTextNumber",{width:gis.conf.layout.widget.item_width,checkboxBoxLabel:GIS.i18n.show_circular_area+":"}),options=Ext.create("Ext.panel.Panel",{title:'<div class="ns-panel-title-data">'+GIS.i18n.options+"</div>",hideCollapseTool:!0,items:[labelPanel,{xtype:"container",height:1},areaRadius],listeners:{added:function(){accordionPanels.push(this)}}}),reset=function(skipTree){return layer.item.setValue(!1,layer.item.defaultOpacity),layer.searchWindow&&(layer.searchWindow.destroy(),layer.searchWindow=null),layer.filterWindow&&(layer.filterWindow.destroy(),layer.filterWindow=null),layer.circleLayer&!skipTree&&(layer.circleLayer.deactivateControls(),layer.circleLayer=null),layer.window.isRendered?(groupSet.clearValue(),toolMenu.clickHandler(toolMenu.menuValue),skipTree||treePanel.reset(),userOrganisationUnit.setValue(!1),userOrganisationUnitChildren.setValue(!1),userOrganisationUnitGrandChildren.setValue(!1),organisationUnitLevel.clearValue(),organisationUnitGroup.clearValue(),void areaRadius.reset()):void(layer.view=null)},setGui=function(view){var ouDim=view.rows[0],levels=[],groups=[],isOu=!1,isOuc=!1,isOugc=!1;(function(){if(layer.window.isRendered){reset(!0),groupSet.store.removeAll(),groupSet.store.add(view.organisationUnitGroupSet),groupSet.setValue(view.organisationUnitGroupSet.id);for(var item,i=0;i<ouDim.items.length;i++)item=ouDim.items[i],"USER_ORGUNIT"===item.id?isOu=!0:"USER_ORGUNIT_CHILDREN"===item.id?isOuc=!0:"USER_ORGUNIT_GRANDCHILDREN"===item.id?isOugc=!0:"LEVEL"===item.id.substr(0,5)?levels.push(parseInt(item.id.split("-")[1])):"OU_GROUP"===item.id.substr(0,8)&&groups.push(parseInt(item.id.split("-")[1]));levels.length?(toolMenu.clickHandler("level"),organisationUnitLevel.setValue(levels)):groups.length?(toolMenu.clickHandler("group"),organisationUnitGroup.setValue(groups)):(toolMenu.clickHandler("orgunit"),userOrganisationUnit.setValue(isOu),userOrganisationUnitChildren.setValue(isOuc),userOrganisationUnitGrandChildren.setValue(isOugc)),treePanel.selectGraphMap(view.parentGraphMap),labelPanel.setConfig(view),areaRadius.setValue(!!view.areaRadius,view.areaRadius?view.areaRadius:null)}})(),function(){layer.item.setValue(!view.hidden,view.opacity),layer.menu.enableItems(),layer.filterWindow&&layer.filterWindow.isVisible()&&layer.filterWindow.filter()}()},getView=function(config){var view={};return view.layer=layer.id,view.rows=[treePanel.getDimension()],view.organisationUnitGroupSet={id:groupSet.getValue()},Ext.apply(view,labelPanel.getConfig()),view.areaRadius=areaRadius.getValue()?areaRadius.getNumber():null,view.opacity=layer.layerOpacity,validateView(view)},validateView=function(view){return(0,_isObject2.default)(view.organisationUnitGroupSet)&&(0,_isString2.default)(view.organisationUnitGroupSet.id)?(0,_isArray2.default)(view.rows)&&view.rows.length&&(0,_isString2.default)(view.rows[0].dimension)&&(0,_isArray2.default)(view.rows[0].items)&&view.rows[0].items.length?view:(GIS.logg.push([view.rows,layer.id+".rows: dimension array"]),alert("No organisation units selected"),!1):(GIS.logg.push([view.organisationUnitGroupSet.id,layer.id+".organisationUnitGroupSet.id: string"]),alert(GIS.i18n.no_groupset_selected),!1)},accordionBody=Ext.create("Ext.panel.Panel",{layout:"accordion",activeOnTop:!0,cls:"ns-accordion",bodyStyle:"border:0 none; margin-bottom:1px",height:414,items:function(){var panels=[icons,organisationUnit,options];return last=panels[panels.length-1],last.cls="ns-accordion-last",panels}(),listeners:{afterrender:function(){for(var i=accordionPanels.length-1;i>=0;i--)accordionPanels[i].expand()}}}),accordion=Ext.create("Ext.panel.Panel",{bodyStyle:"border-style:none; padding:1px; padding-bottom:0",items:accordionBody,panels:accordionPanels,map:layer.map,layer:layer,menu:layer.menu,reset:reset,setGui:setGui,getView:getView,getParentGraphMap:function(){return treePanel.getParentGraphMap()},infrastructuralDataElementValuesStore:infrastructuralDataElementValuesStore,getExpandedPanel:function(){for(var i=0;i<this.panels.length;i++)if(!this.panels[i].collapsed)return this.panels[i];return null},getFirstPanel:function(){return this.panels[0]},listeners:{added:function(){layer.accordion=this},render:function(){toolMenu.clickHandler("level")}}});return accordion}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=LayerWidgetFacility;var _isArray=__webpack_require__(0),_isArray2=_interopRequireDefault(_isArray),_isBoolean=__webpack_require__(27),_isBoolean2=_interopRequireDefault(_isBoolean),_isObject=__webpack_require__(3),_isObject2=_interopRequireDefault(_isObject),_isString=__webpack_require__(4),_isString2=_interopRequireDefault(_isString)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function LayerWidgetThematic(gis,layer){var _Ext$create,accordionPanels=[],dimConf=gis.conf.finals.dimension,indicatorsByGroupStore=Ext.create("Ext.data.Store",{fields:["id","name","legendSet"],proxy:{type:"ajax",url:"",reader:{type:"json",root:"indicators"}},isLoaded:!1,loadFn:function(fn){(0,_isFunction2.default)(fn)&&(this.isLoaded?fn.call():this.load({callback:fn}))},listeners:{load:function(){this.isLoaded||(this.isLoaded=!0),this.sort("name","ASC")}}}),dataElementsByGroupStore=Ext.create("Ext.data.Store",{fields:["id","name"],proxy:{type:"ajax",url:"",reader:{type:"json",root:"dataElements"}},isLoaded:!1,loadFn:function(fn){this.isLoaded?fn.call():this.load(fn)},sortStore:function(){this.sort("name","ASC")},setTotalsProxy:function(uid,preventLoad,callbackFn){var path=void 0;return(0,_isString2.default)(uid)?path="/dataElements.json?fields=dimensionItem~rename(id),"+gis.init.namePropertyUrl+"&domainType=aggregate&paging=false&filter=dataElementGroups.id:eq:"+uid:0===uid&&(path="/dataElements.json?fields=dimensionItem~rename(id),"+gis.init.namePropertyUrl+"&domainType=aggregate&paging=false"),path?(this.setProxy({type:"ajax",url:encodeURI(gis.init.contextPath+"/api"+path),reader:{type:"json",root:"dataElements"}}),void(preventLoad||this.load({scope:this,callback:function(){this.sortStore(),(0,_isFunction2.default)(callbackFn)&&callbackFn()}}))):void alert(GIS.i18n.invalid_parameter)},setDetailsProxy:function(uid,preventLoad,callbackFn){(0,_isString2.default)(uid)?(this.setProxy({type:"ajax",url:encodeURI(gis.init.apiPath+"dataElementOperands.json?fields=id,"+gis.init.namePropertyUrl+"&paging=false&filter=dataElement.dataElementGroups.id:eq:"+uid),reader:{type:"json",root:"dataElementOperands"}}),preventLoad||this.load({scope:this,callback:function(){this.sortStore(),(0,_isFunction2.default)(callbackFn)&&callbackFn()}})):alert(GIS.i18n.invalid_parameter)},listeners:{load:function(){this.isLoaded||(this.isLoaded=!0),this.sort("name","ASC")}}}),dataSetStore=Ext.create("Ext.data.Store",{fields:["id","name"],proxy:{type:"ajax",url:encodeURI(gis.init.apiPath+"dataSets.json?fields=dimensionItem~rename(id),"+gis.init.namePropertyUrl+"&paging=false"),reader:{type:"json",root:"dataSets"}},sortStore:function(){this.sort("name","ASC")},isLoaded:!1,listeners:{load:function(s){this.isLoaded=!0}}}),programStore=Ext.create("Ext.data.Store",{fields:["id","name"],proxy:{type:"ajax",url:encodeURI(gis.init.apiPath+"programs.json?fields=id,displayName~rename(name)&paging=false"),reader:{type:"json",root:"programs"},pageParam:!1,startParam:!1,limitParam:!1}}),eventDataItemAvailableStore=Ext.create("Ext.data.Store",{fields:["id","name"],data:[],sortStore:function(){this.sort("name","ASC")},loadDataAndUpdate:function(data,append){this.clearFilter(),this.loadData(data,append),this.updateFilter()},getRecordsByIds:function(ids){var records=[];ids=(0,_arrayFrom2.default)(ids);for(var index,i=0;i<ids.length;i++)index=this.findExact("id",ids[i]),index!==-1&&records.push(this.getAt(index));return records},updateFilter:function(){var selectedStoreIds=dataSelectedStore.getIds();this.clearFilter(),this.filterBy(function(record){return!(0,_arrayContains2.default)(selectedStoreIds,record.data.id)})}}),programIndicatorAvailableStore=Ext.create("Ext.data.Store",{fields:["id","name"],data:[],sortStore:function(){this.sort("name","ASC")},loadDataAndUpdate:function(data,append){this.clearFilter(),this.loadData(data,append),this.updateFilter()},getRecordsByIds:function(ids){var records=[];ids=(0,_arrayFrom2.default)(ids);for(var index,i=0;i<ids.length;i++)index=this.findExact("id",ids[i]),index!==-1&&records.push(this.getAt(index));return records},updateFilter:function(){var selectedStoreIds=dataSelectedStore.getIds();this.clearFilter(),this.filterBy(function(record){return!(0,_arrayContains2.default)(selectedStoreIds,record.data.id)})}}),periodsByTypeStore=Ext.create("Ext.data.Store",{fields:["id","name","index"],data:[],setIndex:function(periods){for(var i=0;i<periods.length;i++)periods[i].index=i},sortStore:function(){this.sort("index","ASC")}}),infrastructuralDataElementValuesStore=Ext.create("Ext.data.Store",{fields:["name","value"],sorters:[{property:"name",direction:"ASC"}]}),valueTypeToggler=(Ext.create("Ext.data.Store",{fields:["id","name","startValue","endValue","color"],proxy:{type:"ajax",url:"",reader:{type:"json",root:"legends"}},isLoaded:!1,loadFn:function(fn){this.isLoaded?fn.call():this.load(fn)},listeners:{load:function(){this.isLoaded||(this.isLoaded=!0),this.sort("name","ASC")}}}),function(valueType){valueType===dimConf.indicator.objectName?(indicatorGroup.show(),indicator.show(),dataElementGroup.hide(),dataElementPanel.hide(),dataSet.hide(),eventDataItemProgram.hide(),eventDataItem.hide(),programIndicatorProgram.hide(),programIndicator.hide()):valueType===dimConf.dataElement.objectName||valueType===dimConf.operand.objectName?(indicatorGroup.hide(),indicator.hide(),dataElementGroup.show(),dataElementPanel.show(),dataSet.hide(),eventDataItemProgram.hide(),eventDataItem.hide(),programIndicatorProgram.hide(),programIndicator.hide()):valueType===dimConf.dataSet.objectName?(indicatorGroup.hide(),indicator.hide(),dataElementGroup.hide(),dataElementPanel.hide(),dataSet.show(),eventDataItemProgram.hide(),eventDataItem.hide(),programIndicatorProgram.hide(),programIndicator.hide()):valueType===dimConf.eventDataItem.objectName?(indicatorGroup.hide(),indicator.hide(),dataElementGroup.hide(),dataElementPanel.hide(),dataSet.hide(),eventDataItemProgram.show(),eventDataItem.show(),programIndicatorProgram.hide(),programIndicator.hide()):valueType===dimConf.programIndicator.objectName&&(indicatorGroup.hide(),indicator.hide(),dataElementGroup.hide(),dataElementPanel.hide(),dataSet.hide(),eventDataItemProgram.hide(),eventDataItem.hide(),programIndicatorProgram.show(),programIndicator.show())}),legendTypeToggler=function(legendType){"automatic"===legendType?(methodPanel.show(),method.setValue(2),colorScale.show(),colorLow.enable(),lowPanelLabel.update(GIS.i18n.low_color_size+":"),colorHigh.enable(),highPanelLabel.update(GIS.i18n.high_color_size+":"),legendSet.hide()):"predefined"===legendType&&(methodPanel.hide(),colorScale.hide(),colorLow.disable(),lowPanelLabel.update(GIS.i18n.low_size+":"),colorHigh.disable(),highPanelLabel.update(GIS.i18n.high_size+":"),legendSet.show())},valueType=Ext.create("Ext.form.field.ComboBox",{cls:"gis-combo",fieldLabel:GIS.i18n.item_type,editable:!1,valueField:"id",displayField:"name",queryMode:"local",forceSelection:!0,width:gis.conf.layout.widget.item_width,labelWidth:gis.conf.layout.widget.itemlabel_width,value:dimConf.indicator.objectName,store:Ext.create("Ext.data.ArrayStore",{fields:["id","name"],data:[[dimConf.indicator.objectName,GIS.i18n.indicator],[dimConf.dataElement.objectName,GIS.i18n.dataelement],[dimConf.dataSet.objectName,GIS.i18n.reporting_rates],[dimConf.eventDataItem.objectName,GIS.i18n.event_data_items],[dimConf.programIndicator.objectName,GIS.i18n.program_indicators]]}),listeners:{select:function(){valueTypeToggler(this.getValue())}}}),indicatorGroup=Ext.create("Ext.form.field.ComboBox",{cls:"gis-combo",fieldLabel:GIS.i18n.indicator_group,editable:!1,valueField:"id",displayField:"name",forceSelection:!0,queryMode:"local",width:gis.conf.layout.widget.item_width,labelWidth:gis.conf.layout.widget.itemlabel_width,store:{fields:["id","name"],data:gis.init.indicatorGroups},listeners:{select:function(){indicator.clearValue(),indicator.store.proxy.url=encodeURI(gis.init.apiPath+"indicators.json?fields=dimensionItem~rename(id),"+gis.init.namePropertyUrl+"&paging=false&filter=indicatorGroups.id:eq:"+this.getValue()),indicator.store.load()}}}),indicator=Ext.create("Ext.form.field.ComboBox",{cls:"gis-combo",fieldLabel:GIS.i18n.indicator,editable:!1,valueField:"id",displayField:"name",queryMode:"local",forceSelection:!0,width:gis.conf.layout.widget.item_width,labelWidth:gis.conf.layout.widget.itemlabel_width,listConfig:{loadMask:!1},store:indicatorsByGroupStore,listeners:{select:function(cb){Ext.Ajax.request({url:encodeURI(gis.init.apiPath+"indicators.json?fields=legendSet[id]&paging=false&filter=id:eq:"+this.getValue()),success:function(r){var set=JSON.parse(r.responseText).indicators[0].legendSet;(0,_isObject2.default)(set)&&set.id?(legendType.setValue(gis.conf.finals.widget.legendtype_predefined),legendTypeToggler(gis.conf.finals.widget.legendtype_predefined),gis.store.legendSets.isLoaded?legendSet.setValue(set.id):gis.store.legendSets.loadFn(function(){legendSet.setValue(set.id)})):(legendType.setValue(gis.conf.finals.widget.legendtype_automatic),legendTypeToggler(gis.conf.finals.widget.legendtype_automatic))}})}}}),dataElementGroup=Ext.create("Ext.form.field.ComboBox",{cls:"gis-combo",fieldLabel:GIS.i18n.group,editable:!1,valueField:"id",displayField:"name",forceSelection:!0,hidden:!0,width:gis.conf.layout.widget.item_width,labelWidth:gis.conf.layout.widget.itemlabel_width,store:{fields:["id","name"],data:gis.init.dataElementGroups},loadAvailable:function(preventLoad){var store=dataElementsByGroupStore,detailLevel=dataElementDetailLevel.getValue(),value=this.getValue();value&&(detailLevel===gis.conf.finals.dimension.dataElement.objectName?store.setTotalsProxy(value,preventLoad):store.setDetailsProxy(value,preventLoad))},listeners:{select:function(cb){dataElement.clearValue(),cb.loadAvailable()}}}),dataElement=Ext.create("Ext.form.field.ComboBox",{cls:"gis-combo",fieldLabel:GIS.i18n.dataelement,editable:!1,valueField:"id",displayField:"name",queryMode:"local",forceSelection:!0,width:gis.conf.layout.widget.item_width-65,labelWidth:gis.conf.layout.widget.itemlabel_width,listConfig:{loadMask:!1,minWidth:188},store:dataElementsByGroupStore,listeners:{select:function(){var id=this.getValue(),index=id.indexOf(".");index!==-1&&(id=id.substr(0,index)),Ext.Ajax.request({url:encodeURI(gis.init.apiPath+"dataElements.json?fields=legendSet[id]&paging=false&filter=id:eq:"+id),success:function(r){var set=JSON.parse(r.responseText).dataElements[0].legendSet;(0,_isObject2.default)(set)&&set.id?(legendType.setValue(gis.conf.finals.widget.legendtype_predefined),legendTypeToggler(gis.conf.finals.widget.legendtype_predefined),gis.store.legendSets.isLoaded?legendSet.setValue(set.id):gis.store.legendSets.loadFn(function(){legendSet.setValue(set.id)})):(legendType.setValue(gis.conf.finals.widget.legendtype_automatic),legendTypeToggler(gis.conf.finals.widget.legendtype_automatic))}})}}}),dataElementDetailLevel=Ext.create("Ext.form.field.ComboBox",{cls:"gis-combo",style:"margin-left:1px",queryMode:"local",editable:!1,valueField:"id",displayField:"text",width:64,value:dimConf.dataElement.objectName,onSelect:function(){dataElementGroup.loadAvailable(),dataElement.clearValue()},store:{fields:["id","text"],data:[{id:dimConf.dataElement.objectName,text:GIS.i18n.totals},{id:dimConf.operand.objectName,text:GIS.i18n.details}]},listeners:{select:function(cb){cb.onSelect()}}}),dataElementPanel=Ext.create("Ext.container.Container",{layout:"column",bodyStyle:"border:0 none",hidden:!0,items:[dataElement,dataElementDetailLevel]}),dataSet=Ext.create("Ext.form.field.ComboBox",{cls:"gis-combo",fieldLabel:GIS.i18n.dataset,editable:!1,valueField:"id",displayField:"name",forceSelection:!0,hidden:!0,width:gis.conf.layout.widget.item_width,labelWidth:gis.conf.layout.widget.itemlabel_width,listConfig:{loadMask:!1},store:dataSetStore,listeners:{select:function(cb){Ext.Ajax.request({url:encodeURI(gis.init.apiPath+"dataSets.json?fields=legendSet[id]&paging=false&filter=id:eq:"+this.getValue()),success:function(r){var set=JSON.parse(r.responseText).dataSets[0].legendSet;(0,_isObject2.default)(set)&&set.id?(legendType.setValue(gis.conf.finals.widget.legendtype_predefined),legendTypeToggler(gis.conf.finals.widget.legendtype_predefined),gis.store.legendSets.isLoaded?legendSet.setValue(set.id):gis.store.legendSets.loadFn(function(){legendSet.setValue(set.id)})):(legendType.setValue(gis.conf.finals.widget.legendtype_automatic),legendTypeToggler(gis.conf.finals.widget.legendtype_automatic))}})}}}),onEventDataItemProgramSelect=function(programId){eventDataItem.clearValue(),Ext.Ajax.request({url:encodeURI(gis.init.apiPath+"programDataElements.json?program="+programId+"&fields=dimensionItem~rename(id),"+gis.init.namePropertyUrl+",valueType&paging=false"),disableCaching:!1,success:function(r){var types=gis.conf.valueType.aggregateTypes,elements=Ext.decode(r.responseText).programDataElements.filter(function(item){return(0,_arrayContains2.default)(types,(item||{}).valueType)});Ext.Ajax.request({url:encodeURI(gis.init.apiPath+"programs.json?filter=id:eq:"+programId+"&fields=programTrackedEntityAttributes[dimensionItem~rename(id),"+gis.init.namePropertyUrl+",valueType]&paging=false"),disableCaching:!1,success:function(r){var attributes=((Ext.decode(r.responseText).programs[0]||{}).programTrackedEntityAttributes||[]).filter(function(item){return(0,_arrayContains2.default)(types,(item||{}).valueType)}),data=(0,_arraySort2.default)((0,_arrayClean2.default)([].concat(elements,attributes)))||[];eventDataItemAvailableStore.loadData(data)}})}})},eventDataItemProgram=Ext.create("Ext.form.field.ComboBox",{cls:"gis-combo",fieldLabel:GIS.i18n.program,editable:!1,valueField:"id",displayField:"name",forceSelection:!0,hidden:!0,width:gis.conf.layout.widget.item_width,labelWidth:gis.conf.layout.widget.itemlabel_width,store:programStore,listeners:{select:function(cb){onEventDataItemProgramSelect(cb.getValue())}}}),eventDataItem=Ext.create("Ext.form.field.ComboBox",{cls:"gis-combo",fieldLabel:GIS.i18n.event_data_item,editable:!1,valueField:"id",displayField:"name",queryMode:"local",forceSelection:!0,hidden:!0,width:gis.conf.layout.widget.item_width,labelWidth:gis.conf.layout.widget.itemlabel_width,listConfig:{loadMask:!1},store:eventDataItemAvailableStore}),onProgramIndicatorProgramSelect=function(programId){programIndicator.clearValue(),Ext.Ajax.request({url:encodeURI(gis.init.apiPath+"programs.json?paging=false&fields=programIndicators[dimensionItem~rename(id),displayName~rename(name)]&filter=id:eq:"+programId),success:function(r){r=JSON.parse(r.responseText);var isA=_isArray2.default,isO=_isObject2.default,program=isA(r.programs)&&r.programs.length?r.programs[0]:null,programIndicators=isO(program)&&isA(program.programIndicators)&&program.programIndicators.length?program.programIndicators:[],data=gis.util.array.sort((0,_arrayClean2.default)(programIndicators))||[];programIndicatorAvailableStore.loadData(data)}})},programIndicatorProgram=Ext.create("Ext.form.field.ComboBox",{cls:"gis-combo",fieldLabel:GIS.i18n.program,
editable:!1,valueField:"id",displayField:"name",forceSelection:!0,hidden:!0,width:gis.conf.layout.widget.item_width,labelWidth:gis.conf.layout.widget.itemlabel_width,store:programStore,listeners:{select:function(cb){onProgramIndicatorProgramSelect(cb.getValue())}}}),programIndicator=Ext.create("Ext.form.field.ComboBox",{cls:"gis-combo",fieldLabel:GIS.i18n.event_data_item,editable:!1,valueField:"id",displayField:"name",queryMode:"local",forceSelection:!0,hidden:!0,width:gis.conf.layout.widget.item_width,labelWidth:gis.conf.layout.widget.itemlabel_width,listConfig:{loadMask:!1},store:programIndicatorAvailableStore}),onPeriodTypeSelect=function(){var type=periodType.getValue(),periodOffset=periodType.periodOffset,generator=gis.init.periodGenerator;if("relativePeriods"===type)periodsByTypeStore.loadData(gis.conf.period.relativePeriods),periodPrev.disable(),periodNext.disable();else{for(var periods=generator.generateReversedPeriods(type,"Yearly"===type?periodOffset-5:periodOffset),i=0;i<periods.length;i++)periods[i].id=periods[i].iso;periodsByTypeStore.setIndex(periods),periodsByTypeStore.loadData(periods),periodPrev.enable(),periodNext.enable()}period.selectFirst()},periodType=Ext.create("Ext.form.field.ComboBox",{cls:"gis-combo",editable:!1,valueField:"id",displayField:"name",forceSelection:!0,queryMode:"local",width:142,store:gis.store.periodTypes,periodOffset:0,listeners:{select:function(){periodType.periodOffset=0,onPeriodTypeSelect()}}}),period=Ext.create("Ext.form.field.ComboBox",{cls:"gis-combo",fieldLabel:GIS.i18n.period,editable:!1,valueField:"id",displayField:"name",queryMode:"local",forceSelection:!0,width:gis.conf.layout.widget.item_width,labelWidth:gis.conf.layout.widget.itemlabel_width,store:periodsByTypeStore,selectFirst:function(){this.setValue(this.store.getAt(0).data.id)}}),periodPrev=Ext.create("Ext.button.Button",{xtype:"button",text:"<",width:22,height:24,style:"margin-left: 1px",handler:function(){periodType.getValue()&&(periodType.periodOffset--,onPeriodTypeSelect())}}),periodNext=Ext.create("Ext.button.Button",{xtype:"button",text:">",width:22,height:24,style:"margin-left: 1px",scope:this,handler:function(){periodType.getValue()&&(periodType.periodOffset++,onPeriodTypeSelect())}}),periodTypePanel=Ext.create("Ext.panel.Panel",{layout:"hbox",bodyStyle:"border:0 none",items:[{html:GIS.i18n.period_type+":",width:100,bodyStyle:"border:0 none",style:"padding: 3px 0 0 4px"},periodType,periodPrev,periodNext]}),data=Ext.create("Ext.panel.Panel",{title:'<div class="ns-panel-title-data">'+GIS.i18n.data_and_periods+"</div>",hideCollapseTool:!0,items:[valueType,indicatorGroup,indicator,dataElementGroup,dataElementPanel,dataSet,eventDataItemProgram,eventDataItem,programIndicatorProgram,programIndicator,periodTypePanel,period],listeners:{added:function(){accordionPanels.push(this)}}}),treePanel=Ext.create("Ext.tree.Panel",{cls:"gis-tree",height:304,style:"border-top: 1px solid #ddd; padding-top: 1px",displayField:"name",width:gis.conf.layout.widget.item_width,rootVisible:!1,autoScroll:!1,scroll:!1,viewConfig:{style:"overflow-y:auto"},multiSelect:!0,rendered:!1,reset:function(){var rootNode=this.getRootNode().findChild("id",gis.init.rootNodes[0].id);this.collapseAll(),this.expandPath(rootNode.getPath()),this.getSelectionModel().select(rootNode)},selectRootIf:function(){if(this.getSelectionModel().getSelection().length<1){var node=this.getRootNode().findChild("id",gis.init.rootNodes[0].id);return this.rendered&&this.getSelectionModel().select(node),node}},isPending:!1,recordsToSelect:[],recordsToRestore:[],multipleSelectIf:function(map,doUpdate){this.recordsToSelect.length===gis.util.object.getLength(map)&&(this.getSelectionModel().select(this.recordsToSelect),this.recordsToSelect=[],this.isPending=!1,doUpdate&&update())},multipleExpand:function(id,map,doUpdate){var that=this,rootId=gis.conf.finals.root.id,path=map[id];path.substr(0,rootId.length+1)!=="/"+rootId&&(path="/"+rootId+path),that.expandPath(path,"id","/",function(){var record=Ext.clone(that.getRootNode().findChild("id",id,!0));record&&that.recordsToSelect.push(record),that.multipleSelectIf(map,doUpdate)})},select:function(url,params){params||(params={}),Ext.Ajax.request({url:encodeURI(url),method:"GET",params:params,scope:this,success:function(r){var a=JSON.parse(r.responseText).organisationUnits;this.numberOfRecords=a.length;for(var i=0;i<a.length;i++)this.multipleExpand(a[i].id,a[i].path)}})},getParentGraphMap:function(){var selection=this.getSelectionModel().getSelection(),map={};if((0,_isArray2.default)(selection)&&selection.length)for(var pathArray,i=0;i<selection.length;i++)pathArray=selection[i].getPath().split("/"),map[pathArray.pop()]=pathArray.join("/");return map},selectGraphMap:function(map,update){if(gis.util.object.getLength(map)){this.isPending=!0;for(var key in map)map.hasOwnProperty(key)&&treePanel.multipleExpand(key,map,update)}},store:Ext.create("Ext.data.TreeStore",{fields:["id","name","hasChildren"],proxy:{type:"rest",format:"json",noCache:!1,extraParams:{fields:"children[id,"+gis.init.namePropertyUrl+",children::isNotEmpty~rename(hasChildren)&paging=false"},url:encodeURI(gis.init.apiPath+"organisationUnits"),reader:{type:"json",root:"children"},sortParam:!1},sorters:[{property:"name",direction:"ASC"}],root:{id:gis.conf.finals.root.id,expanded:!0,children:gis.init.rootNodes},listeners:{beforeload:function(store,operation){store.proxy._url||(store.proxy._url=store.proxy.url),store.proxy.url=store.proxy._url+"/"+operation.node.data.id},load:function(store,node,records){records.forEach(function(record){(0,_isBoolean2.default)(record.data.hasChildren)&&record.set("leaf",!record.data.hasChildren)})}}}),xable:function(values){for(var i=0;i<values.length;i++)if(values[i])return void this.disable();this.enable()},getDimension:function(){var r=treePanel.getSelectionModel().getSelection(),config={dimension:gis.conf.finals.dimension.organisationUnit.objectName,items:[]};if("orgunit"===toolMenu.menuValue)if(userOrganisationUnit.getValue()||userOrganisationUnitChildren.getValue()||userOrganisationUnitGrandChildren.getValue())userOrganisationUnit.getValue()&&config.items.push({id:"USER_ORGUNIT",name:""}),userOrganisationUnitChildren.getValue()&&config.items.push({id:"USER_ORGUNIT_CHILDREN",name:""}),userOrganisationUnitGrandChildren.getValue()&&config.items.push({id:"USER_ORGUNIT_GRANDCHILDREN",name:""});else for(var i=0;i<r.length;i++)config.items.push({id:r[i].data.id});else if("level"===toolMenu.menuValue){for(var levels=organisationUnitLevel.getValue(),maxLevel=(0,_arrayMax2.default)(levels),_i=0;_i<levels.length;_i++)config.items.push({id:"LEVEL-"+levels[_i],name:""});for(var item,_i2=0;_i2<r.length;_i2++){if(item=r[_i2].data,maxLevel&&item.depth>maxLevel)return gis.alert(GIS.i18n.you_can_not_select_organisation_units_below_the_selected_level+" ("+item.name+")"),null;config.items.push({id:item.id,name:""})}}else if("group"===toolMenu.menuValue){for(var groupIds=organisationUnitGroup.getValue(),_i3=0;_i3<groupIds.length;_i3++)config.items.push({id:"OU_GROUP-"+groupIds[_i3],name:""});for(var _i4=0;_i4<r.length;_i4++)config.items.push({id:r[_i4].data.id,name:""})}return config.items.length?config:null},listeners:{beforeitemexpand:function(){treePanel.isPending||(treePanel.recordsToRestore=treePanel.getSelectionModel().getSelection())},itemexpand:function(){!treePanel.isPending&&treePanel.recordsToRestore.length&&(treePanel.getSelectionModel().select(treePanel.recordsToRestore),treePanel.recordsToRestore=[])},render:function(){this.rendered=!0},afterrender:function(){this.getRootNode().getChildAt(0)&&this.getSelectionModel().select(0)},itemcontextmenu:function(v,r,h,i,e){e.stopEvent(),v.getSelectionModel().select(r,!1),v.menu&&v.menu.destroy(),v.menu=Ext.create("Ext.menu.Menu",{showSeparator:!1,shadow:!1}),r.data.leaf||(v.menu.add({text:GIS.i18n.select_sub_units,icon:"images/node-select-child.png",handler:function(){r.expand(!1,function(){v.getSelectionModel().select(r.childNodes,!0),v.getSelectionModel().deselect(r)})}}),v.menu.showAt(e.xy))}}}),userOrganisationUnit=Ext.create("Ext.form.field.Checkbox",{columnWidth:.3,style:"padding-top: 2px; padding-left: 3px; margin-bottom: 0",boxLabelCls:"x-form-cb-label-alt1",boxLabel:GIS.i18n.user_ou,labelWidth:gis.conf.layout.form_label_width,handler:function(chb,checked){treePanel.xable([checked,userOrganisationUnitChildren.getValue(),userOrganisationUnitGrandChildren.getValue()])}}),userOrganisationUnitChildren=Ext.create("Ext.form.field.Checkbox",{columnWidth:.33,style:"padding-top: 2px; margin-bottom: 0",boxLabelCls:"x-form-cb-label-alt1",boxLabel:GIS.i18n.sub_units,labelWidth:gis.conf.layout.form_label_width,handler:function(chb,checked){treePanel.xable([checked,userOrganisationUnit.getValue(),userOrganisationUnitGrandChildren.getValue()])}}),userOrganisationUnitGrandChildren=Ext.create("Ext.form.field.Checkbox",{columnWidth:.34,style:"padding-top: 2px; margin-bottom: 0",boxLabelCls:"x-form-cb-label-alt1",boxLabel:GIS.i18n.sub_x2_units,labelWidth:gis.conf.layout.form_label_width,handler:function(chb,checked){treePanel.xable([checked,userOrganisationUnit.getValue(),userOrganisationUnitChildren.getValue()])}}),organisationUnitLevel=Ext.create("Ext.form.field.ComboBox",{cls:"gis-combo",multiSelect:!0,style:"margin-bottom:0",width:gis.conf.layout.widget.item_width-37,valueField:"level",displayField:"name",emptyText:GIS.i18n.select_organisation_unit_levels,editable:!1,store:{fields:["id","name","level"],data:gis.init.organisationUnitLevels},listeners:{added:function(){this.reset()}},reset:function(){var secondLevel=this.getStore().getAt(1);secondLevel&&this.setValue(secondLevel)}}),organisationUnitGroup=Ext.create("Ext.form.field.ComboBox",{cls:"gis-combo",multiSelect:!0,style:"margin-bottom:0",width:gis.conf.layout.widget.item_width-37,valueField:"id",displayField:"name",emptyText:GIS.i18n.select_organisation_unit_groups,editable:!1,store:gis.store.organisationUnitGroup}),toolMenu=Ext.create("Ext.menu.Menu",{shadow:!1,showSeparator:!1,menuValue:"level",clickHandler:function(param){if(param){var items=this.items.items;this.menuValue=param;for(var i=0;i<items.length;i++)items[i].setIconCls&&(items[i].param===param?items[i].setIconCls("gis-menu-item-selected"):items[i].setIconCls("gis-menu-item-unselected"));"orgunit"===param?(userOrganisationUnit.show(),userOrganisationUnitChildren.show(),userOrganisationUnitGrandChildren.show(),organisationUnitLevel.hide(),organisationUnitGroup.hide(),(userOrganisationUnit.getValue()||userOrganisationUnitChildren.getValue())&&treePanel.disable()):"level"===param?(userOrganisationUnit.hide(),userOrganisationUnitChildren.hide(),userOrganisationUnitGrandChildren.hide(),organisationUnitLevel.show(),organisationUnitGroup.hide(),treePanel.enable()):"group"===param&&(userOrganisationUnit.hide(),userOrganisationUnitChildren.hide(),userOrganisationUnitGrandChildren.hide(),organisationUnitLevel.hide(),organisationUnitGroup.show(),treePanel.enable())}},items:[{xtype:"label",text:GIS.i18n.selection_mode,style:"padding:7px 5px 5px 7px; font-weight:bold; border:0 none"},{text:GIS.i18n.select_organisation_units+"&nbsp;&nbsp;",param:"orgunit",iconCls:"gis-menu-item-selected"},{text:GIS.i18n.select_levels+"&nbsp;&nbsp;",param:"level",iconCls:"gis-menu-item-unselected"},{text:GIS.i18n.select_groups+"&nbsp;&nbsp;",param:"group",iconCls:"gis-menu-item-unselected"}],listeners:{afterrender:function(){this.getEl().addCls("gis-btn-menu")},click:function(menu,item){this.clickHandler(item.param)}}}),tool=Ext.create("Ext.button.Button",{cls:"gis-button-organisationunitselection",iconCls:"gis-button-icon-gear",width:36,height:24,menu:toolMenu}),toolPanel=Ext.create("Ext.panel.Panel",{width:36,bodyStyle:"border:0 none; text-align:right",style:"margin-right:1px",items:tool}),organisationUnit=Ext.create("Ext.panel.Panel",{title:'<div class="ns-panel-title-data">'+GIS.i18n.organisation_units+"</div>",hideCollapseTool:!0,items:[{layout:"column",bodyStyle:"border:0 none",style:"padding-bottom:1px",items:[toolPanel,{layout:"column",bodyStyle:"border:0 none",items:[userOrganisationUnit,userOrganisationUnitChildren,userOrganisationUnitGrandChildren,organisationUnitLevel,organisationUnitGroup]}]},treePanel],listeners:{added:function(){accordionPanels.push(this)}}}),legendType=Ext.create("Ext.form.field.ComboBox",{cls:"gis-combo",fieldLabel:GIS.i18n.legend_type,labelWidth:gis.conf.layout.widget.itemlabel_width,editable:!1,valueField:"id",displayField:"name",queryMode:"local",value:"automatic",width:gis.conf.layout.widget.item_width,store:Ext.create("Ext.data.ArrayStore",{fields:["id","name"],data:[["automatic",GIS.i18n.automatic],["predefined",GIS.i18n.predefined]]}),listeners:{select:function(){legendTypeToggler(this.getValue())}}}),legendSet=Ext.create("Ext.form.field.ComboBox",{cls:"gis-combo",fieldLabel:GIS.i18n.legendset,editable:!1,valueField:"id",displayField:"name",width:gis.conf.layout.widget.item_width,labelWidth:gis.conf.layout.widget.itemlabel_width,hidden:!0,store:gis.store.legendSets}),classes=Ext.create("Ext.form.field.Number",{cls:"gis-numberfield",editable:!1,valueField:"id",displayField:"id",queryMode:"local",value:5,minValue:3,maxValue:9,width:50,fieldStyle:"height: 24px",style:"margin-right: 1px",store:Ext.create("Ext.data.ArrayStore",{fields:["id"],data:[[1],[2],[3],[4],[5],[6],[7]]}),listeners:{change:function(field,value){colorScale.setClasses(value)}}}),method=Ext.create("Ext.form.field.ComboBox",{cls:"gis-combo",editable:!1,valueField:"id",displayField:"name",queryMode:"local",width:137,value:3,store:Ext.create("Ext.data.ArrayStore",{fields:["id","name"],data:[[2,GIS.i18n.equal_intervals],[3,GIS.i18n.equal_counts]]})}),colorScale=Ext.create("Ext.ux.field.ColorScale",{classes:5,fieldLabel:"Color scale",labelWidth:gis.conf.layout.widget.itemlabel_width,width:gis.conf.layout.widget.item_width}),colorLow=Ext.create("Ext.ux.button.ColorButton",{style:"margin-right: 1px",width:137,height:24,value:"ff0000",scope:this}),colorHigh=Ext.create("Ext.ux.button.ColorButton",{style:"margin-right: 1px",width:137,height:24,value:"00ff00",scope:this}),radiusLow=Ext.create("Ext.form.field.Number",{cls:"gis-numberfield",width:50,allowDecimals:!1,minValue:1,value:5}),radiusHigh=Ext.create("Ext.form.field.Number",{cls:"gis-numberfield",width:50,allowDecimals:!1,minValue:1,value:15}),methodPanel=Ext.create("Ext.container.Container",{layout:"hbox",height:25,bodyStyle:"border: 0 none; margin-bottom:1px",items:[{html:GIS.i18n.classes_method+":",width:100,style:"padding: 4px 0 0 4px",bodyStyle:"border: 0 none"},classes,method]}),lowPanelLabel=Ext.create("Ext.panel.Panel",{html:"Low size:",width:100,style:"padding: 4px 0 0 4px",bodyStyle:"border: 0 none"}),highPanelLabel=Ext.create("Ext.panel.Panel",(_Ext$create={html:GIS.i18n.high_color_size+":"},_defineProperty(_Ext$create,"html","High size:"),_defineProperty(_Ext$create,"width",100),_defineProperty(_Ext$create,"style","padding: 4px 0 0 4px"),_defineProperty(_Ext$create,"bodyStyle","border: 0 none"),_Ext$create)),lowPanel=Ext.create("Ext.container.Container",{layout:"hbox",height:25,bodyStyle:"border: 0 none",items:[lowPanelLabel,radiusLow]}),highPanel=Ext.create("Ext.panel.Panel",{layout:"hbox",height:25,bodyStyle:"border: 0 none",items:[highPanelLabel,radiusHigh]}),labelPanel=Ext.create("Ext.ux.panel.LabelPanel",{bodyStyle:"border: 0 none; padding-top: 10px;",height:34}),aggregationType=Ext.create("Ext.form.field.ComboBox",{cls:"gis-combo",style:"padding-top: 10px;",fieldLabel:GIS.i18n.aggregation_type,labelWidth:gis.conf.layout.widget.itemlabel_width,editable:!1,valueField:"id",displayField:"name",queryMode:"local",width:gis.conf.layout.widget.item_width,store:Ext.create("Ext.data.Store",{fields:["id","name"],data:[{id:"DEFAULT",name:GIS.i18n.by_data_element},{id:"COUNT",name:GIS.i18n.count},{id:"AVERAGE",name:GIS.i18n.average},{id:"SUM",name:GIS.i18n.sum},{id:"STDDEV",name:GIS.i18n.stddev},{id:"VARIANCE",name:GIS.i18n.variance},{id:"MIN",name:GIS.i18n.min},{id:"MAX",name:GIS.i18n.max}]})}),options=Ext.create("Ext.panel.Panel",{title:'<div class="ns-panel-title-data">'+GIS.i18n.options+"</div>",hideCollapseTool:!0,items:[legendType,legendSet,methodPanel,colorScale,lowPanel,highPanel,labelPanel,aggregationType],listeners:{added:function(){accordionPanels.push(this)}}}),reset=function(skipTree){return layer.item.setValue(!1),layer.searchWindow&&(layer.searchWindow.destroy(),layer.searchWindow=null),layer.filterWindow&&(layer.filterWindow.destroy(),layer.filterWindow=null),layer.window.isRendered?(valueType.reset(),valueTypeToggler(dimConf.indicator.objectName),indicatorGroup.clearValue(),indicator.clearValue(),indicator.store.removeAll(),dataElementGroup.clearValue(),dataElement.clearValue(),dataElement.store.removeAll(),dataSet.clearValue(),dataSet.store.removeAll(),periodType.clearValue(),period.clearValue(),period.store.removeAll(),legendType.reset(),legendTypeToggler("automatic"),legendSet.clearValue(),legendSet.store.removeAll(),classes.reset(),method.reset(),colorLow.reset(),colorHigh.reset(),radiusLow.reset(),radiusHigh.reset(),aggregationType.reset(),toolMenu.clickHandler(toolMenu.menuValue),skipTree||treePanel.reset(),userOrganisationUnit.setValue(!1),userOrganisationUnitChildren.setValue(!1),userOrganisationUnitGrandChildren.setValue(!1),organisationUnitLevel.reset(),void organisationUnitGroup.clearValue()):void(layer.view=null)},setGui=function(view,isDrillDown){var dxDim=view.columns[0],peDim=view.filters[0],ouDim=view.rows[0],itemTypeCmpMap={INDICATOR:indicator,DATA_ELEMENT:dataElement,DATA_ELEMENT_OPERAND:dataElement,REPORTING_RATE:dataSet,PROGRAM_DATA_ELEMENT:eventDataItem,PROGRAM_ATTRIBUTE:eventDataItem,PROGRAM_INDICATOR:programIndicator},itemTypeObjectNameMap={INDICATOR:dimConf.indicator.objectName,DATA_ELEMENT:dimConf.dataElement.objectName,DATA_ELEMENT_OPERAND:dimConf.operand.objectName,REPORTING_RATE:dimConf.dataSet.objectName,PROGRAM_DATA_ELEMENT:dimConf.eventDataItem.objectName,PROGRAM_ATTRIBUTE:dimConf.eventDataItem.objectName,PROGRAM_INDICATOR:dimConf.programIndicator.objectName},objectNameMap={},legendtype_predefined=gis.conf.finals.widget.legendtype_predefined,legendtype_automatic=gis.conf.finals.widget.legendtype_automatic,isOu=!1,isOuc=!1,isOugc=!1,levels=[],groups=[],objectNameProgramCmpMap={};objectNameMap[dimConf.indicator.objectName]=dimConf.indicator.objectName,objectNameMap[dimConf.dataElement.objectName]=dimConf.dataElement.objectName,objectNameMap[dimConf.operand.objectName]=dimConf.dataElement.objectName,objectNameMap[dimConf.dataSet.objectName]=dimConf.dataSet.objectName,objectNameMap[dimConf.eventDataItem.objectName]=dimConf.eventDataItem.objectName,objectNameMap[dimConf.programIndicator.objectName]=dimConf.programIndicator.objectName;var dxItemType=dxDim.items[0].dimensionItemType,legType=(0,_isObject2.default)(view.legendSet)&&(0,_isString2.default)(view.legendSet.id)?legendtype_predefined:legendtype_automatic,dxCmp=itemTypeCmpMap[dxItemType],dxObjectName=itemTypeObjectNameMap[dxItemType];objectNameProgramCmpMap[dimConf.eventDataItem.objectName]=eventDataItemProgram,objectNameProgramCmpMap[dimConf.programIndicator.objectName]=programIndicatorProgram;var setDxGui=function(){dxItemType&&(valueType.setValue(objectNameMap[dxObjectName]),valueTypeToggler(dxObjectName),dxCmp===dataElement&&dataElementDetailLevel.setValue(dxObjectName),dxCmp.store.add(dxDim.items[0]),dxCmp.setValue(dxDim.items[0].id))},setPeGui=function(){period.store.add(gis.conf.period.relativePeriodRecordsMap[peDim.items[0].id]?gis.conf.period.relativePeriodRecordsMap[peDim.items[0].id]:peDim.items[0]),period.setValue(peDim.items[0].id)},setOuGui=function(){for(var item,i=0;i<ouDim.items.length;i++)item=ouDim.items[i],"USER_ORGUNIT"===item.id?isOu=!0:"USER_ORGUNIT_CHILDREN"===item.id?isOuc=!0:"USER_ORGUNIT_GRANDCHILDREN"===item.id?isOugc=!0:"LEVEL"===item.id.substr(0,5)?levels.push(parseInt(item.id.split("-")[1])):"OU_GROUP"===item.id.substr(0,8)&&groups.push(parseInt(item.id.split("-")[1]));levels.length?(toolMenu.clickHandler("level"),organisationUnitLevel.setValue(levels)):groups.length?(toolMenu.clickHandler("group"),organisationUnitGroup.setValue(groups)):(toolMenu.clickHandler("orgunit"),userOrganisationUnit.setValue(isOu),userOrganisationUnitChildren.setValue(isOuc),userOrganisationUnitGrandChildren.setValue(isOugc)),treePanel.selectGraphMap(view.parentGraphMap)},setOptionsGui=function(){legendType.setValue(legType),legendTypeToggler(legType),"automatic"===legType?(classes.setValue(view.classes),method.setValue(view.method),view.colorScale&&colorScale.setScale(view.colorScale),colorLow.setValue(view.colorLow),colorHigh.setValue(view.colorHigh),radiusLow.setValue(view.radiusLow),radiusHigh.setValue(view.radiusHigh)):"predefined"===legType&&(method.setValue(1),legendSet.store.add(view.legendSet),legendSet.setValue(view.legendSet.id)),view.aggregationType&&aggregationType.setValue(view.aggregationType)},setLayer=function(){layer.item.setValue(!view.hidden,view.opacity),layer.menu.enableItems(),layer.filterWindow&&layer.filterWindow.isVisible()&&layer.filterWindow.filter()};(function(){layer.window.isRendered&&(isDrillDown||(reset(!0),setDxGui(),setPeGui(),setOptionsGui()),setOuGui(),setLayer(),labelPanel.setConfig(view))})()},getView=function(config){var in_=dimConf.indicator.objectName,de=dimConf.dataElement.objectName,dc=dimConf.operand.objectName,ds=dimConf.dataSet.objectName,di=dimConf.eventDataItem.objectName,pi=dimConf.programIndicator.objectName,objectNameCmpMap={},objectNameItemTypeMap={},view={},dxObjectName=valueType.getValue()===de?dataElementDetailLevel.getValue():valueType.getValue();objectNameCmpMap[in_]=indicator,objectNameCmpMap[de]=dataElement,objectNameCmpMap[dc]=dataElement,objectNameCmpMap[ds]=dataSet,objectNameCmpMap[di]=eventDataItem,objectNameCmpMap[pi]=programIndicator,objectNameItemTypeMap[dimConf.indicator.objectName]="INDICATOR",objectNameItemTypeMap[dimConf.dataElement.objectName]="DATA_ELEMENT",objectNameItemTypeMap[dimConf.dataSet.objectName]="REPORTING_RATE",objectNameItemTypeMap[dimConf.eventDataItem.objectName]="PROGRAM_DATA_ELEMENT",objectNameItemTypeMap[dimConf.programIndicator.objectName]="PROGRAM_ATTRIBUTE";var dxItemType=objectNameItemTypeMap[dxObjectName];if(view.layer=layer.id,view.valueType=dxObjectName,objectNameCmpMap[dxObjectName].getValue()&&(view.columns=[{dimension:"dx",objectName:dxObjectName,items:[{id:objectNameCmpMap[dxObjectName].getValue(),dimensionItemType:dxItemType}]}]),dxObjectName===di&&eventDataItemProgram.getValue()?view.program={id:eventDataItemProgram.getValue()}:dxObjectName===pi&&programIndicatorProgram.getValue()&&(view.program={id:programIndicatorProgram.getValue()}),treePanel.getDimension())return view.rows=[treePanel.getDimension()],period.getValue()?(view.filters=[{dimension:dimConf.period.objectName,items:[{id:period.getValue()}]}],view.classes=parseInt(classes.getValue()),view.method="predefined"===legendType.getValue()?1:parseInt(method.getValue()),view.colorLow=colorLow.getValue(),view.colorHigh=colorHigh.getValue(),view.radiusLow=parseInt(radiusLow.getValue()),view.radiusHigh=parseInt(radiusHigh.getValue()),view.opacity=layer.layerOpacity,view.aggregationType=aggregationType.getValue(),1!==view.method&&(view.colorScale=colorScale.getValue().join()),Ext.apply(view,labelPanel.getConfig()),legendType.getValue()===gis.conf.finals.widget.legendtype_predefined&&legendSet.getValue()&&(view.legendSet={id:legendSet.getValue()}),gis.api.layout.Layout(view)):void gis.alert(GIS.i18n.no_period_selected)},accordionBody=Ext.create("Ext.panel.Panel",{layout:"accordion",activeOnTop:!0,cls:"ns-accordion",bodyStyle:"border:0 none; margin-bottom:1px",height:410,items:function(){var panels=[data,organisationUnit,options];return panels[panels.length-1].cls="ns-accordion-last",panels}(),listeners:{afterrender:function(){for(var i=accordionPanels.length-1;i>=0;i--)accordionPanels[i].expand()}}}),accordion=Ext.create("Ext.panel.Panel",{bodyStyle:"border-style:none; padding:1px; padding-bottom:0",items:accordionBody,panels:accordionPanels,map:layer.map,layer:layer,menu:layer.menu,reset:reset,setGui:setGui,getView:getView,getParentGraphMap:function(){return treePanel.getParentGraphMap()},infrastructuralDataElementValuesStore:infrastructuralDataElementValuesStore,setThisHeight:function(mx){return 450},getExpandedPanel:function(){for(var i=0;i<this.panels.length;i++)if(!this.panels[i].collapsed)return this.panels[i];return null},getFirstPanel:function(){return this.panels[0]},listeners:{added:function(){layer.accordion=this},render:function(){toolMenu.clickHandler("level")}}});return accordion}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=LayerWidgetThematic;var _isArray=__webpack_require__(0),_isArray2=_interopRequireDefault(_isArray),_isBoolean=__webpack_require__(27),_isBoolean2=_interopRequireDefault(_isBoolean),_isFunction=__webpack_require__(29),_isFunction2=_interopRequireDefault(_isFunction),_isObject=__webpack_require__(3),_isObject2=_interopRequireDefault(_isObject),_isString=__webpack_require__(4),_isString2=_interopRequireDefault(_isString),_arrayClean=__webpack_require__(10),_arrayClean2=_interopRequireDefault(_arrayClean),_arrayContains=__webpack_require__(20),_arrayContains2=_interopRequireDefault(_arrayContains),_arrayMax=__webpack_require__(234),_arrayMax2=_interopRequireDefault(_arrayMax),_arraySort=__webpack_require__(41),_arraySort2=_interopRequireDefault(_arraySort),_arrayFrom=__webpack_require__(25),_arrayFrom2=_interopRequireDefault(_arrayFrom),_arrayPluck=__webpack_require__(40);_interopRequireDefault(_arrayPluck)},function(module,exports,__webpack_require__){"use strict";function LayersPanel(gis){for(var layer,item,layerIsVisibleLayer,layers=gis.layer,orderedLayers=[layers.event,layers.facility,layers.boundary,layers.thematic1,layers.thematic2,layers.thematic3,layers.thematic4,layers.earthEngine,layers.external,layers.openStreetMap,layers.osmLight,layers.googleStreets,layers.googleHybrid],items=[],visibleLayer=layers.osmLight,i=0;i<orderedLayers.length;i++)layer=orderedLayers[i],layerIsVisibleLayer=layer.id===visibleLayer.id,item=Ext.create("Ext.ux.panel.LayerItemPanel",{cls:"gis-container-inner",height:23,layer:layer,text:layer.name,imageUrl:"images/"+layer.id+"_14.png",value:layerIsVisibleLayer,opacity:layer.layerOpacity,defaultOpacity:layer.layerOpacity,numberFieldDisabled:!layerIsVisibleLayer}),layer.item=item,items.push(layer.item);return visibleLayer.item.setValue(!0),Ext.create("Ext.panel.Panel",{layout:"fit",cls:"gis-container-inner",layerItems:items,items:{cls:"gis-container-inner",items:items}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=LayersPanel},function(module,exports,__webpack_require__){"use strict";function SearchWindow(gis,layer){for(var highlight,window,data=[],store=layer.featureStore,i=0;i<layer.features.length;i++)data.push([layer.features[i].id,layer.features[i].properties.name]);return data.length?window=Ext.create("Ext.window.Window",{title:GIS.i18n.organisationunit_search,iconCls:"gis-window-title-icon-search",bodyStyle:"background-color: #fff; padding: 1px",resizable:!1,height:380,items:[{layout:"column",cls:"gis-container-inner",items:[{cls:"gis-panel-html-label",html:GIS.i18n.text_filter+":",width:gis.conf.layout.tool.itemlabel_width},{xtype:"textfield",cls:"gis-textfield",width:gis.conf.layout.tool.item_width-gis.conf.layout.tool.itemlabel_width,enableKeyEvents:!0,listeners:{keyup:function(){store.clearFilter(),this.getValue()&&store.filter("name",this.getValue()),store.sortStore()}}}]},{xtype:"grid",cls:"gis-grid",bodyStyle:"border: 0 none",height:290,width:gis.conf.layout.tool.item_width,scroll:"vertical",hideHeaders:!0,columns:[{id:"name",text:GIS.i18n.organisation_units,dataIndex:"name",sortable:!1,width:gis.conf.layout.tool.item_width}],store:store,listeners:{select:function(grid,record){highlight=layer.instance.highlight(record.data.id),highlight&&highlight.getLatLng&&gis.instance.panTo(highlight.getLatLng())}}}],listeners:{render:function(){gis.util.gui.window.setPositionTopLeft(this),store.sortStore()},destroy:function(){layer.instance.removeHighlight()}}}):(GIS.logg.push([data,layer.id+".search.data: feature ids/names"]),void alert(GIS.i18n.layer+" "+GIS.i18n.has_no_orgunits))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=SearchWindow},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function SharingWindow(gis,sharing){var UserGroupRow,getBody,userGroupStore,userGroupField,userGroupButton,userGroupRowContainer,externalAccess,publicGroup,window;if(UserGroupRow=function(obj,isPublicAccess,disallowPublicAccess){var getData,store,getItems,combo,getAccess,panel;return getData=function(){var data=[{id:"r-------",name:GIS.i18n.can_view},{id:"rw------",name:GIS.i18n.can_edit_and_view}];return isPublicAccess&&data.unshift({id:"--------",name:GIS.i18n.none}),data},store=Ext.create("Ext.data.Store",{fields:["id","name"],data:getData()}),getItems=function(){var items=[];return combo=Ext.create("Ext.form.field.ComboBox",{style:"margin-bottom:2px",fieldLabel:isPublicAccess?GIS.i18n.public_access:obj.name,labelStyle:"color:#333",cls:"gis-combo",width:380,labelWidth:250,queryMode:"local",valueField:"id",displayField:"name",labelSeparator:null,editable:!1,disabled:!!disallowPublicAccess,value:obj.access||"rw------",store:store}),items.push(combo),isPublicAccess||items.push(Ext.create("Ext.Img",{src:"images/grid-delete_16.png",style:"margin-top:2px; margin-left:7px",overCls:"pointer",width:16,height:16,listeners:{render:function(i){i.getEl().on("click",function(e){i.up("panel").destroy(),window.doLayout()})}}})),items},getAccess=function(){return{id:obj.id,name:obj.name,access:combo.getValue()}},panel=Ext.create("Ext.panel.Panel",{layout:"column",bodyStyle:"border:0 none",getAccess:getAccess,items:getItems()})},getBody=function(){var body={object:{id:sharing.object.id,name:sharing.object.name,publicAccess:publicGroup.down("combobox").getValue(),externalAccess:!!externalAccess&&externalAccess.getValue(),user:{id:gis.init.user.id,name:gis.init.user.name}}};if(userGroupRowContainer.items.items.length>1){body.object.userGroupAccesses=[];for(var item,i=1;i<userGroupRowContainer.items.items.length;i++)item=userGroupRowContainer.items.items[i],body.object.userGroupAccesses.push(item.getAccess())}return body},userGroupStore=Ext.create("Ext.data.Store",{fields:["id","name"],proxy:{type:"ajax",url:encodeURI(gis.init.apiPath+"sharing/search"),extraParams:{pageSize:50},startParam:!1,limitParam:!1,reader:{type:"json",root:"userGroups"}}}),userGroupField=Ext.create("Ext.form.field.ComboBox",{valueField:"id",displayField:"name",emptyText:GIS.i18n.search_for_user_groups,queryParam:"key",queryDelay:200,minChars:1,hideTrigger:!0,fieldStyle:"height:26px; padding-left:6px; border-radius:1px; font-size:11px",style:"margin-bottom:5px",width:380,store:userGroupStore,listeners:{beforeselect:function(cb){userGroupButton.enable()},afterrender:function(cb){cb.inputEl.on("keyup",function(){userGroupButton.disable()})}}}),userGroupButton=Ext.create("Ext.button.Button",{text:"+",style:"margin-left:2px; padding-right:4px; padding-left:4px; border-radius:1px",disabled:!0,height:26,handler:function(b){var id=userGroupField.getValue(),name=userGroupField.getRawValue(),userGroupAccesses=getBody().object.userGroupAccesses;userGroupField.clearValue(),b.disable();for(var i=0;i<userGroupAccesses.length;i++)if(userGroupAccesses[i].id===id)return void gis.alert(name+" already added");userGroupRowContainer.add(UserGroupRow({id:id,name:name,access:"r-------"}))}}),userGroupRowContainer=Ext.create("Ext.container.Container",{bodyStyle:"border:0 none"}),sharing.meta.allowExternalAccess&&(externalAccess=userGroupRowContainer.add({xtype:"checkbox",fieldLabel:GIS.i18n.allow_external_access,labelSeparator:"",
labelWidth:250,checked:!!sharing.object.externalAccess})),publicGroup=userGroupRowContainer.add(UserGroupRow({id:sharing.object.id,name:sharing.object.name,access:sharing.object.publicAccess},!0,!sharing.meta.allowPublicAccess)),(0,_isArray2.default)(sharing.object.userGroupAccesses))for(var userGroupRow,i=0;i<sharing.object.userGroupAccesses.length;i++)userGroupRow=UserGroupRow(sharing.object.userGroupAccesses[i]),userGroupRowContainer.add(userGroupRow);return window=Ext.create("Ext.window.Window",{title:GIS.i18n.sharing_settings,bodyStyle:"padding:5px 5px 3px; background-color:#fff",resizable:!1,modal:!0,destroyOnBlur:!0,items:[{html:sharing.object.name,bodyStyle:"border:0 none; font-weight:bold; color:#333",style:"margin-bottom:7px"},{xtype:"container",layout:"column",bodyStyle:"border:0 none",items:[userGroupField,userGroupButton]},{html:GIS.i18n.created_by+" "+sharing.object.user.name,bodyStyle:"border:0 none; color:#777",style:"margin-top:2px;margin-bottom:7px"},userGroupRowContainer],bbar:["->",{text:"Save",handler:function(){Ext.Ajax.request({url:encodeURI(gis.init.apiPath+"sharing?type=map&id="+sharing.object.id),method:"POST",headers:{"Content-Type":"application/json"},params:JSON.stringify(getBody())}),window.destroy()}}],listeners:{show:function(w){var pos=gis.viewport.favoriteWindow.getPosition();w.setPosition(pos[0]+5,pos[1]+5),w.hasDestroyOnBlurHandler||gis.util.gui.window.addDestroyOnBlurHandler(w),gis.viewport.favoriteWindow.destroyOnBlur=!1},destroy:function(){gis.viewport.favoriteWindow.destroyOnBlur=!0}}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=SharingWindow;var _isArray=__webpack_require__(0),_isArray2=_interopRequireDefault(_isArray)},function(module,exports,__webpack_require__){"use strict";function WidgetWindow(gis,layer,width,padding){return width=width||gis.conf.layout.widget.window_width,padding=padding||0,Ext.create("Ext.window.Window",{title:layer.name,layout:"fit",iconCls:"gis-window-title-icon-"+layer.id,bodyStyle:"padding:"+padding+"px",cls:"gis-container-default",closeAction:"hide",width:width,resizable:!1,isRendered:!1,items:layer.widget,bbar:["->",{text:GIS.i18n.update,handler:function handler(){var view=layer.widget.getView();if(view){var handler=layer.handler(gis,layer);handler.compare=layer.id!==gis.layer.facility.id&&layer.id!==gis.layer.earthEngine.id,handler.zoomToVisibleExtent=!0,handler.hideMask=!0,handler.load(view),gis.postDataStatistics()}}}],listeners:{show:function(w){this.isRendered||(this.isRendered=!0,layer.view&&this.widget.setGui(layer.view)),gis.util.gui.window.setPositionTopLeft(this)}}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=WidgetWindow},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function createExtensions(gis){Ext.define("Ext.ux.panel.LayerItemPanel",{extend:"Ext.panel.Panel",alias:"widget.layeritempanel",layout:"column",layer:null,checkbox:null,numberField:null,imageUrl:null,text:null,height:22,value:!1,opacity:gis.conf.layout.layer.opacity,getValue:function(){return this.checkbox.getValue()},setValue:function(value,opacity){this.checkbox.setValue(value),this.numberField.setDisabled(!value),this.setLayerVisibility(value),value&&(opacity=(0,_isNumber2.default)(parseFloat(opacity))?parseFloat(opacity):this.opacity,0===opacity?(this.numberField.setValue(0),this.setOpacity(.01)):(this.numberField.setValue(100*opacity),this.setOpacity(opacity)))},setLayerVisibility:function(isVisible){var layer=this.layer;isVisible?layer.instance?gis.instance.addLayer(layer.instance):"earthEngine"!==layer.id&&"external"!==layer.id&&(layer.instance=gis.instance.addLayer(layer.config)):layer.instance&&gis.instance.removeLayer(layer.instance)},getOpacity:function(){return this.opacity},setOpacity:function(opacity){var layer=this.layer;layer.instance&&layer.instance.setOpacity&&layer.instance.setOpacity(opacity),layer.layerOpacity=opacity,this.opacity=opacity},disableItem:function(){this.checkbox.setValue(!1),this.numberField.disable(),this.setLayerVisibility(!1)},enableItem:function(){this.checkbox.setValue(!0),this.numberField.enable(),this.setLayerVisibility(!0)},updateItem:function(value){this.numberField.setDisabled(!value),this.setLayerVisibility(value)},initComponent:function(){var layer,image,that=this;this.checkbox=Ext.create("Ext.form.field.Checkbox",{width:14,checked:this.value,listeners:{change:function(chb,value){if(value&&"base"===that.layer.layerType)for(var id in gis.layer)gis.layer.hasOwnProperty(id)&&(layer=gis.layer[id],"base"===layer.layerType&&layer!==that.layer&&(layer.item.checkbox.suppressChange=!0,layer.item.disableItem()));that.updateItem(value,that.layer.layerType),gis.viewport&&gis.viewport.downloadButton&&gis.viewport.downloadButton.xable()}}}),image=Ext.create("Ext.Img",{width:14,height:14,src:this.imageUrl}),this.numberField=Ext.create("Ext.form.field.Number",{width:47,height:18,minValue:0,maxValue:100,value:100*this.opacity,allowBlank:!1,disabled:this.numberFieldDisabled,listeners:{change:function(){var value=this.getValue(),opacity=0===value?.01:value/100;that.setOpacity(opacity)}}}),this.items=[{width:this.checkbox.width+4,items:this.checkbox},{width:image.width+5,items:image,bodyStyle:"padding-top: 4px"},{width:106,html:this.text,bodyStyle:"padding-top: 4px"},{width:this.numberField.width,items:this.numberField}],this.setOpacity(this.opacity),this.self.superclass.initComponent.call(this)}}),Ext.define("Ext.ux.panel.CheckTextNumber",{extend:"Ext.panel.Panel",alias:"widget.checktextnumber",layout:"column",bodyStyle:"border: 0 none",layer:null,checkbox:null,checkboxBoxLabel:null,numberField:null,numberFieldWidth:70,height:24,number:5e3,value:!1,components:[],getValue:function(){return this.checkbox.getValue()},getNumber:function(){return this.numberField.getValue()},setValue:function(value,number){value&&this.checkbox.setValue(value),number&&this.numberField.setValue(number)},enable:function(){for(var i=0;i<this.components.length;i++)this.components[i].enable()},disable:function(){for(var i=0;i<this.components.length;i++)this.components[i].disable()},reset:function(){this.numberField.setValue(this.number),this.checkbox.setValue(!1),this.disable()},initComponent:function(){var ct=this,onAdded=function(cmp){ct.components.push(cmp)};ct.items=[],ct.numberField=Ext.create("Ext.form.field.Number",{cls:"gis-numberfield",width:ct.numberFieldWidth,height:21,minValue:0,maxValue:9999999,allowBlank:!1,disabled:!0,value:ct.number,listeners:{added:onAdded}}),ct.checkbox=Ext.create("Ext.form.field.Checkbox",{cls:"gis-checkbox",width:ct.width-ct.numberField.width,boxLabel:ct.checkboxBoxLabel,boxLabelCls:"x-form-cb-label-alt1",checked:ct.value,disabled:ct.disabled,style:"padding-left: 3px",listeners:{change:function(chb,value){value?ct.enable():ct.disable()}}}),ct.items.push(ct.checkbox),ct.items.push(ct.numberField),this.self.superclass.initComponent.call(this)}}),Ext.define("Ext.ux.panel.LabelPanel",{extend:"Ext.panel.Panel",alias:"widget.labelpanel",layout:"column",bodyStyle:"border: 0 none",skipBoldButton:!1,skipColorButton:!1,checkboxWidth:100,chechboxBoxLabel:"Show labels",numberFieldValue:11,numberFieldWidth:50,colorButtonWidth:87,colorButtonColor:"000000",width:290,height:24,value:!1,components:[],getConfig:function(){var config={labels:this.checkbox.getValue(),labelFontSize:this.numberField.getValue()+"px",labelFontStyle:this.italicButton.pressed?"italic":"normal"};return this.skipBoldButton||(config.labelFontWeight=this.boldButton.pressed?"bold":"normal"),this.skipColorButton||(config.labelFontColor="#"+this.colorButton.getValue()),config},setConfig:function(config){this.numberField.setValue(parseInt(config.labelFontSize)),this.italicButton.toggle((0,_arrayContains2.default)(["italic","oblique"],config.labelFontStyle)),this.skipBoldButton||this.boldButton.toggle((0,_arrayContains2.default)(["bold","bolder"],config.labelFontWeight)||(0,_isNumber2.default)(parseInt(config.labelFontWeight))&&parseInt(config.labelFontWeight)>=700),this.skipColorButton||this.colorButton.setValue(config.labelFontColor),this.checkbox.setValue(config.labels)},enable:function(){for(var i=0;i<this.components.length;i++)this.components[i].enable()},disable:function(){for(var i=0;i<this.components.length;i++)this.components[i].disable()},reset:function(){this.numberField.setValue(this.numberFieldValue),this.boldButton.toggle(!1),this.italicButton.toggle(!1),this.colorButton.setValue(this.colorButtonColor),this.checkbox.setValue(!1),this.disable()},initComponent:function(){var ct=this,onAdded=function(cmp){ct.components.push(cmp)};ct.items=[],ct.checkbox=Ext.create("Ext.form.field.Checkbox",{cls:"gis-checkbox",width:ct.checkboxWidth,boxLabel:ct.chechboxBoxLabel,checked:ct.value,disabled:ct.disabled,boxLabelCls:"x-form-cb-label-alt1",style:"padding-left: 3px",listeners:{change:function(chb,value){value?ct.enable():ct.disable()}}}),ct.items.push(ct.checkbox),ct.numberField=Ext.create("Ext.form.field.Number",{cls:"gis-numberfield",width:ct.numberFieldWidth,height:21,minValue:0,maxValue:100,allowBlank:!1,disabled:!0,value:ct.numberFieldValue,listeners:{added:onAdded}}),ct.items.push(ct.numberField),ct.skipBoldButton||(ct.boldButton=Ext.create("Ext.button.Button",{width:24,height:24,icon:"images/text_bold.png",style:"margin-left: 1px",disabled:!0,enableToggle:!0,listeners:{added:onAdded}}),ct.items.push(ct.boldButton)),ct.italicButton=Ext.create("Ext.button.Button",{width:24,height:24,icon:"images/text_italic.png",style:"margin-left: 1px",disabled:!0,enableToggle:!0,listeners:{added:onAdded}}),ct.items.push(ct.italicButton),ct.skipColorButton||(ct.colorButton=Ext.create("Ext.ux.button.ColorButton",{width:ct.colorButtonWidth,height:24,style:"margin-left: 1px",value:ct.colorButtonColor,listeners:{added:onAdded}}),ct.items.push(ct.colorButton)),this.self.superclass.initComponent.call(this)}});var scrollbarWidth=/\bchrome\b/.test(navigator.userAgent.toLowerCase())?8:17,nameCmpWidth=428-scrollbarWidth,operatorCmpWidth=70,triggerCmpWidth=17,valueCmpWidth=350,namePadding="3px 3px",margin="3px 0 1px",removeCmpStyle="padding: 0; margin-left: 3px";Ext.define("Ext.ux.panel.DataElementIntegerContainer",{extend:"Ext.container.Container",alias:"widget.dataelementintegerpanel",layout:"column",bodyStyle:"border:0 none",style:"margin: "+margin,getRecord:function(){var record={};return record.dimension=this.dataElement.id,record.name=this.dataElement.name,this.valueCmp.getValue()&&(record.filter=this.operatorCmp.getValue()+":"+this.valueCmp.getValue()),record},setRecord:function(record){if(record.filter){var a=record.filter.split(":");this.operatorCmp.setValue(a[0]),this.valueCmp.setValue(a[1])}},initComponent:function(){var container=this;this.nameCmp=Ext.create("Ext.form.Label",{text:this.dataElement.name,flex:1,style:"padding:"+namePadding}),this.addCmp=Ext.create("Ext.button.Button",{cls:"ns-linkbutton",style:"padding: 0",height:18,text:GIS.i18n.duplicate,handler:function(){container.duplicateDataElement()}}),this.removeCmp=Ext.create("Ext.button.Button",{cls:"ns-linkbutton",style:removeCmpStyle,height:18,text:GIS.i18n.remove,handler:function(){container.removeDataElement()}}),this.operatorCmp=Ext.create("Ext.form.field.ComboBox",{valueField:"id",displayField:"name",queryMode:"local",editable:!1,width:operatorCmpWidth,style:"margin-bottom:0",value:"EQ",store:{fields:["id","name"],data:[{id:"EQ",name:"="},{id:"GT",name:">"},{id:"GE",name:">="},{id:"LT",name:"<"},{id:"LE",name:"<="},{id:"NE",name:"!="}]}}),this.valueCmp=Ext.create("Ext.form.field.Number",{width:valueCmpWidth,style:"margin-bottom:0"}),this.items=[{xtype:"container",layout:"hbox",width:nameCmpWidth,items:[this.nameCmp,this.addCmp,this.removeCmp]},this.operatorCmp,this.valueCmp],this.self.superclass.initComponent.call(this)}}),Ext.define("Ext.ux.panel.DataElementStringContainer",{extend:"Ext.container.Container",alias:"widget.dataelementstringpanel",cls:"ns-dxselector",layout:"column",bodyStyle:"border:0 none",style:"margin: "+margin,getRecord:function(){var record={};return record.dimension=this.dataElement.id,record.name=this.dataElement.name,this.valueCmp.getValue()&&(record.filter=this.operatorCmp.getValue()+":"+this.valueCmp.getValue()),record},setRecord:function(record){this.operatorCmp.setValue(record.operator),this.valueCmp.setValue(record.filter)},initComponent:function(){var container=this;this.nameCmp=Ext.create("Ext.form.Label",{text:this.dataElement.name,flex:1,style:"padding:"+namePadding}),this.addCmp=Ext.create("Ext.button.Button",{cls:"ns-linkbutton",style:"padding: 0",height:18,text:GIS.i18n.duplicate,handler:function(){container.duplicateDataElement()}}),this.removeCmp=Ext.create("Ext.button.Button",{cls:"ns-linkbutton",style:removeCmpStyle,height:18,text:GIS.i18n.remove,handler:function(){container.removeDataElement()}}),this.operatorCmp=Ext.create("Ext.form.field.ComboBox",{valueField:"id",displayField:"name",queryMode:"local",editable:!1,width:operatorCmpWidth,style:"margin-bottom:0",value:"LIKE",store:{fields:["id","name"],data:[{id:"LIKE",name:"Contains"},{id:"EQ",name:"Is exact"}]}}),this.valueCmp=Ext.create("Ext.form.field.Text",{width:nameCmpWidth-operatorCmpWidth,style:"margin-bottom:0"}),this.items=[{xtype:"container",layout:"hbox",width:nameCmpWidth,items:[this.nameCmp,this.addCmp,this.removeCmp]},this.operatorCmp,this.valueCmp],this.self.superclass.initComponent.call(this)}}),Ext.define("Ext.ux.panel.DataElementDateContainer",{extend:"Ext.container.Container",alias:"widget.dataelementdatepanel",cls:"ns-dxselector",layout:"column",bodyStyle:"border:0 none",style:"margin: "+margin,getRecord:function(){var record={};return record.dimension=this.dataElement.id,record.name=this.dataElement.name,this.valueCmp.getValue()&&(record.filter=this.operatorCmp.getValue()+":"+this.valueCmp.getSubmitValue()),record},setRecord:function(record){if(record.filter&&Ext.isString(record.filter)){var a=record.filter.split(":");this.operatorCmp.setValue(a[0]),this.valueCmp.setValue(a[1])}},initComponent:function(){var container=this;this.nameCmp=Ext.create("Ext.form.Label",{text:this.dataElement.name,flex:1,style:"padding:"+namePadding}),this.addCmp=Ext.create("Ext.button.Button",{cls:"ns-linkbutton",style:"padding: 0",height:18,text:GIS.i18n.duplicate,handler:function(){container.duplicateDataElement()}}),this.removeCmp=Ext.create("Ext.button.Button",{cls:"ns-linkbutton",style:removeCmpStyle,height:18,text:GIS.i18n.remove,handler:function(){container.removeDataElement()}}),this.operatorCmp=Ext.create("Ext.form.field.ComboBox",{valueField:"id",displayField:"name",queryMode:"local",editable:!1,width:operatorCmpWidth,style:"margin-bottom:0",value:"EQ",store:{fields:["id","name"],data:[{id:"EQ",name:"="},{id:"GT",name:">"},{id:"GE",name:">="},{id:"LT",name:"<"},{id:"LE",name:"<="},{id:"NE",name:"!="}]}}),this.valueCmp=Ext.create("Ext.form.field.Date",{width:nameCmpWidth-operatorCmpWidth,style:"margin-bottom:0",format:"Y-m-d"}),this.items=[{xtype:"container",layout:"hbox",width:nameCmpWidth,items:[this.nameCmp,this.addCmp,this.removeCmp]},this.operatorCmp,this.valueCmp],this.self.superclass.initComponent.call(this)}}),Ext.define("Ext.ux.panel.DataElementBooleanContainer",{extend:"Ext.container.Container",alias:"widget.dataelementbooleanpanel",cls:"ns-dxselector",layout:"column",bodyStyle:"border:0 none",style:"margin: "+margin,getRecord:function(){for(var items=this.valueCmp.getValue(),record={dimension:this.dataElement.id,name:this.dataElement.name},i=0;i<items.length;i++)Ext.isObject(items[i])&&(items[i]=items[i].code);return items.length&&(record.filter="IN:"+items.join(";")),record},setRecord:function(record){if(Ext.isString(record.filter)&&record.filter.length){var a=record.filter.split(":");this.valueCmp.setOptionValues(a[1].split(";"))}},getRecordsByCode:function(options,codeArray){for(var records=[],i=0;i<options.length;i++)for(var j=0;j<codeArray.length;j++)options[i].code===codeArray[j]&&records.push(options[i]);return records},initComponent:function(){var container=this,idProperty="id",nameProperty="name";this.nameCmp=Ext.create("Ext.form.Label",{text:this.dataElement.name,flex:1,style:"padding:"+namePadding}),this.addCmp=Ext.create("Ext.button.Button",{cls:"ns-linkbutton",style:"padding: 0",height:18,text:GIS.i18n.duplicate,handler:function(){container.duplicateDataElement()}}),this.removeCmp=Ext.create("Ext.button.Button",{cls:"ns-linkbutton",style:removeCmpStyle,height:18,text:GIS.i18n.remove,handler:function(){container.removeDataElement()}}),this.operatorCmp=Ext.create("Ext.form.field.ComboBox",{valueField:"id",displayField:"name",queryMode:"local",editable:!1,style:"margin-bottom:0",width:operatorCmpWidth,value:"IN",store:{fields:["id","name"],data:[{id:"IN",name:"One of"}]}}),this.getData=function(idArray){var data=[],yes={},no={};yes[idProperty]="1",yes[nameProperty]=GIS.i18n.yes,no[idProperty]="0",no[nameProperty]=GIS.i18n.no;for(var i=0;i<idArray.length;i++)"1"===idArray[i]||1===idArray[i]?data.push(yes):"0"!==idArray[i]&&0!==idArray[i]||data.push(no);return data},this.searchStore=Ext.create("Ext.data.Store",{fields:[idProperty,nameProperty],data:container.getData(["1","0"])}),this.filterSearchStore=function(isLayout){var selected=container.valueCmp.getValue();isLayout&&(container.searchCmp.onTriggerClick(),container.searchCmp.collapse()),container.searchStore.clearFilter(),container.searchStore.filterBy(function(record){return!Ext.Array.contains(selected,record.data[idProperty])})},this.searchCmp=Ext.create("Ext.form.field.ComboBox",{multiSelect:!0,width:operatorCmpWidth,style:"margin-bottom:0",emptyText:GIS.i18n.select+"...",valueField:idProperty,displayField:nameProperty,queryMode:"local",listConfig:{minWidth:nameCmpWidth-operatorCmpWidth},store:this.searchStore,listeners:{select:function(){var id=Ext.Array.from(this.getValue())[0];container.valueStore.findExact(idProperty,id)===-1&&container.valueStore.add(container.searchStore.getAt(container.searchStore.findExact(idProperty,id)).data),this.select([]),container.filterSearchStore()},expand:function(){container.filterSearchStore()}}}),this.valueStore=Ext.create("Ext.data.Store",{fields:[idProperty,nameProperty],listeners:{add:function(){container.valueCmp.select(this.getRange())},remove:function(){container.valueCmp.select(this.getRange())}}}),this.valueCmp=Ext.create("Ext.form.field.ComboBox",{multiSelect:!0,style:"margin-bottom:0",width:nameCmpWidth-operatorCmpWidth-operatorCmpWidth,valueField:idProperty,displayField:nameProperty,emptyText:GIS.i18n.no_selected_items,editable:!1,hideTrigger:!0,store:container.valueStore,queryMode:"local",listConfig:{minWidth:266,cls:"ns-optionselector"},setOptionValues:function(codeArray){container.valueStore.removeAll(),container.valueStore.loadData(container.getData(codeArray)),this.setValue(codeArray),container.filterSearchStore(!0),container.searchCmp.blur()},listeners:{change:function(cmp,newVal,oldVal){if(newVal=Ext.Array.from(newVal),oldVal=Ext.Array.from(oldVal),newVal.length<oldVal.length){var id=Ext.Array.difference(oldVal,newVal)[0];container.valueStore.removeAt(container.valueStore.findExact(idProperty,id))}}}}),this.items=[{xtype:"container",layout:"hbox",width:nameCmpWidth,items:[this.nameCmp,this.addCmp,this.removeCmp]},this.operatorCmp,this.searchCmp,this.valueCmp],this.self.superclass.initComponent.call(this)}}),Ext.define("Ext.ux.panel.OrganisationUnitGroupSetContainer",{extend:"Ext.container.Container",alias:"widget.organisationunitgroupsetpanel",cls:"ns-dxselector",layout:"column",bodyStyle:"border:0 none",style:"margin: "+margin,getRecord:function(){for(var items=this.valueCmp.getValue(),record={dimension:this.dataElement.id,name:this.dataElement.name},i=0;i<items.length;i++)Ext.isObject(items[i])&&(items[i]=items[i].code);return items.length&&(record.filter="IN:"+items.join(";")),record},setRecord:function(record){if(Ext.isString(record.filter)&&record.filter.length){var a=record.filter.split(":");this.valueCmp.setOptionValues(a[1].split(";"))}},getRecordsByCode:function(options,codeArray){for(var records=[],i=0;i<options.length;i++)for(var j=0;j<codeArray.length;j++)options[i].code===codeArray[j]&&records.push(options[i]);return records},initComponent:function(){var container=this,idProperty="code",nameProperty="name";this.nameCmp=Ext.create("Ext.form.Label",{text:this.dataElement.name,flex:1,style:"padding:"+namePadding}),this.addCmp=Ext.create("Ext.button.Button",{cls:"ns-linkbutton",style:"padding: 0",height:18,text:GIS.i18n.duplicate,handler:function(){container.duplicateDataElement()}}),this.removeCmp=Ext.create("Ext.button.Button",{cls:"ns-linkbutton",style:removeCmpStyle,height:18,text:GIS.i18n.remove,handler:function(){container.removeDataElement()}}),this.operatorCmp=Ext.create("Ext.form.field.ComboBox",{valueField:"id",displayField:"name",queryMode:"local",editable:!1,style:"margin-bottom:0",width:operatorCmpWidth,value:"IN",store:{fields:["id","name"],data:[{id:"IN",name:"One of"}]}}),this.searchStore=Ext.create("Ext.data.Store",{fields:[idProperty,nameProperty],data:[],loadOptionSet:function(optionSetId,key,pageSize){var store=this;optionSetId=optionSetId||container.dataElement.optionSet.id,pageSize=pageSize||100,dhis2.gis.store.get("optionSets",optionSetId).done(function(obj){if(Ext.isObject(obj)&&Ext.isArray(obj.options)&&obj.options.length){var data=[];if(key)for(var name,match,re=new RegExp(key,"gi"),i=0;i<obj.options.length&&(name=obj.options[i].name,match=name.match(re),!Ext.isArray(match)||!match.length||(data.push(obj.options[i]),data.length!==pageSize));i++);else data=obj.options;store.removeAll(),store.loadData(data.slice(0,pageSize))}})},listeners:{datachanged:function(s){container.searchCmp&&s.getRange().length&&container.searchCmp.expand()}}}),this.filterSearchStore=function(){var selected=container.valueCmp.getValue();container.searchStore.clearFilter(),container.searchStore.filterBy(function(record){return!Ext.Array.contains(selected,record.data[idProperty])})},this.searchCmp=Ext.create("Ext.form.field.ComboBox",{multiSelect:!0,width:operatorCmpWidth-triggerCmpWidth,style:"margin-bottom:0",emptyText:GIS.i18n.search+"...",valueField:idProperty,displayField:nameProperty,hideTrigger:!0,enableKeyEvents:!0,queryMode:"local",listConfig:{minWidth:nameCmpWidth-operatorCmpWidth},store:this.searchStore,listeners:{keyup:function(){var value=this.getValue(),optionSetId=container.dataElement.optionSet.id;container.searchStore.loadOptionSet(optionSetId,value),(!value||Ext.isString(value)&&1===value.length)&&container.triggerCmp.setDisabled(!!value)},select:function(){var id=Ext.Array.from(this.getValue())[0];container.valueStore.findExact(idProperty,id)===-1&&container.valueStore.add(container.searchStore.getAt(container.searchStore.findExact(idProperty,id)).data),this.select([]),container.filterSearchStore(),container.triggerCmp.enable()},expand:function(){container.filterSearchStore()}}}),this.triggerCmp=Ext.create("Ext.button.Button",{cls:"ns-button-combotrigger",disabledCls:"ns-button-combotrigger-disabled",width:triggerCmpWidth,height:22,handler:function(b){container.searchStore.loadOptionSet()}}),this.valueStore=Ext.create("Ext.data.Store",{fields:[idProperty,nameProperty],listeners:{add:function(){container.valueCmp.select(this.getRange())},remove:function(){container.valueCmp.select(this.getRange())}}}),this.valueCmp=Ext.create("Ext.form.field.ComboBox",{multiSelect:!0,style:"margin-bottom:0",width:nameCmpWidth-operatorCmpWidth-operatorCmpWidth,valueField:idProperty,displayField:nameProperty,emptyText:GIS.i18n.no_selected_item,editable:!1,hideTrigger:!0,store:container.valueStore,queryMode:"local",listConfig:{minWidth:266,cls:"ns-optionselector"},setOptionValues:function(codeArray){var me=this,records=[];dhis2.gis.store.get("optionSets",container.dataElement.optionSet.id).done(function(obj){Ext.isObject(obj)&&Ext.isArray(obj.options)&&obj.options.length&&(records=container.getRecordsByCode(obj.options,codeArray),container.valueStore.removeAll(),container.valueStore.loadData(records),me.setValue(records))})},listeners:{change:function(cmp,newVal,oldVal){if(newVal=Ext.Array.from(newVal),oldVal=Ext.Array.from(oldVal),newVal.length<oldVal.length){var id=Ext.Array.difference(oldVal,newVal)[0];container.valueStore.removeAt(container.valueStore.findExact(idProperty,id))}}}}),this.items=[{xtype:"container",layout:"hbox",width:nameCmpWidth,items:[this.nameCmp,this.addCmp,this.removeCmp]},this.operatorCmp,this.searchCmp,this.triggerCmp,this.valueCmp],this.self.superclass.initComponent.call(this)}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=createExtensions;var _isArray=__webpack_require__(0),_isBoolean=(_interopRequireDefault(_isArray),__webpack_require__(27)),_isNumber=(_interopRequireDefault(_isBoolean),__webpack_require__(42)),_isNumber2=_interopRequireDefault(_isNumber),_isObject=__webpack_require__(3),_isString=(_interopRequireDefault(_isObject),__webpack_require__(4)),_arrayContains=(_interopRequireDefault(_isString),__webpack_require__(20)),_arrayContains2=_interopRequireDefault(_arrayContains),_arrayDifference=__webpack_require__(28),_arrayFrom=(_interopRequireDefault(_arrayDifference),__webpack_require__(25));_interopRequireDefault(_arrayFrom)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function extendInstance(gis){var layer,util=gis.util,init=gis.init,store=gis.store;!function(){util.map.getFeaturesByLayers=function(layers){for(var a=[],i=0;i<layers.length;i++)a=a.concat(layers[i].features);return a},util.map.hasVisibleFeatures=function(){var layer,layers=util.map.getVisibleVectorLayers();if(layers.length)for(var i=0;i<layers.length;i++)if(layer=layers[i],layer.features.length)return!0;return!1},util.map.getLayersByType=function(layerType){for(var layers=[],i=0;i<gis.olmap.layers.length;i++){var layer=gis.olmap.layers[i];layer.layerType===layerType&&layers.push(layer)}return layers},util.map.addMapControl=function(name,fn){var panel=GIS.app.MapControlPanel(name,fn);gis.olmap.addControl(panel),panel.div.className+=" "+name,panel.div.childNodes[0].className+=" "+name+"Button"},util.map.map2plugin=function(map){if(map.url=init.contextPath,map.id)return{id:map.id};delete map.access,delete map.created;for(var dimensions,layout,i=0;i<map.mapViews.length;i++){layout=map.mapViews[i],dimensions=(0,_arrayClean2.default)([].concat(layout.columns||[],layout.rows||[],layout.filters||[])),dimension=dimensions[i];for(var dimension,j=0;j<dimensions.length;j++){dimension=dimensions[j],delete dimension.id,delete dimension.ids,delete dimension.type,delete dimension.dimensionName,delete dimension.objectName;for(var item,k=0;k<dimension.items.length;k++)item=dimension.items[k],delete item.name,delete item.code,delete item.created,delete item.lastUpdated}layout.legendSet?(delete layout.method,delete layout.classes,delete layout.colorLow,delete layout.colorHigh,delete layout.radiusLow,delete layout.radiusHigh):(2===layout.method&&delete layout.method,5===layout.classes&&delete layout.classes,"ff0000"===layout.colorLow&&delete layout.colorLow,"00ff00"===layout.colorHigh&&delete layout.colorHigh,5===layout.radiusLow&&delete layout.radiusLow,15===layout.radiusHigh&&delete layout.radiusHigh),layout.opacity===gis.conf.layout.layer.opacity&&delete layout.opacity,layout.userOrganisationUnit||delete layout.userOrganisationUnit,layout.userOrganisationUnitChildren||delete layout.userOrganisationUnitChildren,layout.userOrganisationUnitGrandChildren||delete layout.userOrganisationUnitGrandChildren,layout.organisationUnitGroupSet||delete layout.organisationUnitGroupSet,delete layout.parentGraphMap}return map},util.url=util.url||{},util.url.getUrlParam=function(s){var output="",href=window.location.href;if(href.indexOf("?")>-1)for(var query=href.substr(href.indexOf("?")+1),query=query.split("&"),i=0;i<query.length;i++)if(query[i].indexOf("=")>-1){var a=query[i].split("=");if(a[0].toLowerCase()===s){output=a[1];break}}return unescape(output)},util.svg=util.svg||{},util.svg.merge=function(str,strArray){if(strArray.length){str=str||"<svg></svg>";for(var i=0;i<strArray.length;i++)str=str.replace("</svg>",""),strArray[i]=strArray[i].substring(strArray[i].indexOf(">")+1),str+=strArray[i]}return str},util.svg.getString=function(title,layers){var namespace,titleSVG,scalelineSVG,svgArray=[],svg="",title=Ext.htmlEncode(title),legendSVG="",x=20,y=35,center=gis.viewport.centerRegion;if(!layers.length)return!1;layers=layers.reverse(),namespace='xmlns="http://www.w3.org/2000/svg"',svg="<svg "+namespace+' width="'+center.getWidth()+'" height="'+center.getHeight()+'"></svg>',titleSVG='<g id="title" style="display: block; visibility: visible;"><text id="title" x="'+x+'" y="'+y+'" font-size="18" font-weight="bold"><tspan>'+title+"</tspan></text></g>",y+=35;for(var i=layers.length-1;i>0;i--)layers[i].id===gis.layer.facility.id&&(layers.splice(i,1),console.log(GIS.i18n.facility_layer_export_currently_not_supported));if(!layers.length)return!1;for(var i=0;i<layers.length;i++){var what,when,where,legend,layer=layers[i],id=layer.id,imageLegendConfig=layer.imageLegendConfig||[];if(id!==gis.layer.boundary.id&&id!==gis.layer.facility.id&&id!==gis.layer.event.id){what='<g id="indicator" style="display: block; visibility: visible;"><text id="indicator" x="'+x+'" y="'+y+'" font-size="12"><tspan>'+Ext.htmlEncode(layer.view.columns[0].items[0].name)+"</tspan></text></g>",y+=15,when='<g id="period" style="display: block; visibility: visible;"><text id="period" x="'+x+'" y="'+y+'" font-size="12"><tspan>'+Ext.htmlEncode(layer.view.filters[0].items[0].name)+"</tspan></text></g>",y+=8,legend="<g>";for(var j=0;j<imageLegendConfig.length;j++)0!==j&&(y+=15),legend+='<rect x="'+x+'" y="'+y+'" height="15" width="30" fill="'+Ext.htmlEncode(imageLegendConfig[j].color)+'" stroke="#000000" stroke-width="1"/>',legend+='<text id="label" x="'+(x+40)+'" y="'+(y+12)+'" font-size="12"><tspan>'+Ext.htmlEncode(imageLegendConfig[j].label)+"</tspan></text>";legend+="</g>",legendSVG+=what+when+where+legend,y+=50}}return svgArray.length&&(svg=util.svg.merge(svg,svgArray)),svg=svg.replace("</svg>",titleSVG+legendSVG+scalelineSVG+"</svg>")},util.json=util.json||{},util.json.encodeString=function(str){return(0,_isString2.default)(str)?str.replace(/[^a-zA-Z 0-9(){}<>_!+;:?*&%#-]+/g,""):str},util.json.decodeAggregatedValues=function(responseText){responseText=JSON.parse(responseText);for(var values=[],i=0;i<responseText.length;i++)values.push({oi:responseText[i][0],v:responseText[i][1]});return values},util.gui=util.gui||{},util.gui.window=util.gui.window||{},util.gui.window.setPositionTopRight=function(window){window.setPosition(gis.viewport.centerRegion.getWidth()-(window.getWidth()+50),gis.viewport.centerRegion.y+64)},util.gui.window.setPositionTopLeft=function(window){window.setPosition(2,33)},util.gui.window.addHideOnBlurHandler=function(w){var maskElements=Ext.query(".x-mask"),el=Ext.get(maskElements[maskElements.length-1]);el.on("click",function(){w.hideOnBlur&&w.hide()}),w.hasHideOnBlurHandler=!0},util.gui.window.addDestroyOnBlurHandler=function(w){var maskElements=Ext.query(".x-mask"),el=Ext.get(maskElements[maskElements.length-1]);el.on("click",function(){w.destroyOnBlur&&w.destroy()}),w.hasDestroyOnBlurHandler=!0},util.gui.window.setAnchorPosition=function(w,target){var vpw=gis.viewport.getWidth(),targetx=target?target.getPosition()[0]:4,winw=w.getWidth(),y=target?target.getPosition()[1]+target.getHeight()+4:33;targetx+winw>vpw?w.setPosition(vpw-winw-2,y):w.setPosition(targetx,y)}}(),function(){for(var i=0;i<init.rootNodes.length;i++)init.rootNodes[i].path="/root/"+init.rootNodes[i].id;util.array.sort(init.organisationUnitLevels,"ASC","level"),util.array.sort(init.indicatorGroups),util.array.sort(init.dataElementGroups)}(),function(){store.periodTypes=Ext.create("Ext.data.Store",{
fields:["id","name"],data:gis.conf.period.periodTypes}),store.groupSets=Ext.create("Ext.data.Store",{fields:["id","name"],proxy:{type:"ajax",url:encodeURI(gis.init.apiPath+"organisationUnitGroupSets.json?fields=id,"+gis.init.namePropertyUrl+"&paging=false"),reader:{type:"json",root:"organisationUnitGroupSets"}},isLoaded:!1,loadFn:function(fn){this.isLoaded?fn.call():this.load(fn)},listeners:{load:function(){this.isLoaded||(this.isLoaded=!0),this.sort("name","ASC")}}}),store.groupsByGroupSet=Ext.create("Ext.data.Store",{fields:["id","name","symbol"]}),store.organisationUnitGroup=Ext.create("Ext.data.Store",{fields:["id","name"],proxy:{type:"ajax",url:encodeURI(init.apiPath+"organisationUnitGroups.json?fields=id,"+gis.init.namePropertyUrl+"&paging=false"),reader:{type:"json",root:"organisationUnitGroups"}}}),store.legendSets=Ext.create("Ext.data.Store",{fields:["id","name"],proxy:{type:"ajax",url:encodeURI(gis.init.apiPath+"legendSets.json?fields=id,displayName~rename(name)&paging=false"),reader:{type:"json",root:"legendSets"}},isLoaded:!1,loadFn:function(fn){this.isLoaded?fn.call():this.load(fn)},listeners:{load:function(){this.isLoaded||(this.isLoaded=!0),this.sort("name","ASC")}}}),store.maps=Ext.create("Ext.data.Store",{fields:["id","name","access"],proxy:{type:"ajax",reader:{type:"json",root:"maps"}},isLoaded:!1,pageSize:10,page:1,defaultUrl:encodeURI(gis.init.apiPath+"maps.json?fields=id,displayName~rename(name),access"),loadStore:function(url){this.proxy.url=url||this.defaultUrl,this.load({params:{pageSize:this.pageSize,page:this.page}})},loadFn:function(fn){this.isLoaded?fn.call():this.load(fn)},listeners:{load:function(){this.isLoaded||(this.isLoaded=!0),this.sort("name","ASC")}}})}(),function(){layer=gis.layer.event,layer.menu=GIS.app.LayerMenu(gis,layer),layer.widget=GIS.app.LayerWidgetEvent(gis,layer),layer.window=GIS.app.WidgetWindow(gis,layer,gis.conf.layout.widget.window_width+150,1),layer.window.widget=layer.widget,layer=gis.layer.facility,layer.menu=GIS.app.LayerMenu(gis,layer),layer.widget=GIS.app.LayerWidgetFacility(gis,layer),layer.window=GIS.app.WidgetWindow(gis,layer),layer.window.widget=layer.widget,layer=gis.layer.thematic1,layer.menu=GIS.app.LayerMenu(gis,layer),layer.widget=GIS.app.LayerWidgetThematic(gis,layer),layer.window=GIS.app.WidgetWindow(gis,layer),layer.window.widget=layer.widget,layer=gis.layer.thematic2,layer.menu=GIS.app.LayerMenu(gis,layer),layer.widget=GIS.app.LayerWidgetThematic(gis,layer),layer.window=GIS.app.WidgetWindow(gis,layer),layer.window.widget=layer.widget,layer=gis.layer.thematic3,layer.menu=GIS.app.LayerMenu(gis,layer),layer.widget=GIS.app.LayerWidgetThematic(gis,layer),layer.window=GIS.app.WidgetWindow(gis,layer),layer=gis.layer.thematic4,layer.menu=GIS.app.LayerMenu(gis,layer),layer.widget=GIS.app.LayerWidgetThematic(gis,layer),layer.window=GIS.app.WidgetWindow(gis,layer),layer.window.widget=layer.widget,layer=gis.layer.boundary,layer.menu=GIS.app.LayerMenu(gis,layer),layer.widget=GIS.app.LayerWidgetBoundary(gis,layer),layer.window=GIS.app.WidgetWindow(gis,layer),layer.window.widget=layer.widget,layer=gis.layer.earthEngine,layer.menu=GIS.app.LayerMenu(gis,layer),layer.widget=GIS.app.LayerWidgetEarthEngine(gis,layer),layer.window=GIS.app.WidgetWindow(gis,layer),layer.window.widget=layer.widget,layer=gis.layer.external,layer.menu=GIS.app.LayerMenu(gis,layer),layer.widget=GIS.app.LayerWidgetExternal(gis,layer),layer.window=GIS.app.WidgetWindow(gis,layer),layer.window.widget=layer.widget}()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=extendInstance;var _isArray=__webpack_require__(0),_isObject=(_interopRequireDefault(_isArray),__webpack_require__(3)),_isString=(_interopRequireDefault(_isObject),__webpack_require__(4)),_isString2=_interopRequireDefault(_isString),_arrayClean=__webpack_require__(10),_arrayClean2=_interopRequireDefault(_arrayClean)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _isArray=__webpack_require__(0),_isArray2=_interopRequireDefault(_isArray),_isObject=__webpack_require__(3),_isObject2=_interopRequireDefault(_isObject),_colorbrewer=__webpack_require__(260),_colorbrewer2=_interopRequireDefault(_colorbrewer),createColorScale=function(value,model){var classes=model.get("classes"),colors=_colorbrewer2.default[model.getId()][classes],scale=colors.map(function(color){return'<li style="background:'+color+'" />'}).join("");return'<ul class="color-scale-'+classes+'">'+scale+"</ul>"},colorStore=Ext.create("Ext.data.Store",{fields:["id","classes",{name:"scale",persist:!1,convert:createColorScale}],data:[{id:"YlOrBr",classes:5},{id:"Reds",classes:5},{id:"YlGn",classes:5},{id:"Greens",classes:5},{id:"Blues",classes:5},{id:"BuPu",classes:5},{id:"RdPu",classes:5},{id:"PuRd",classes:5},{id:"Greys",classes:5},{id:"YlOrBr_reverse",classes:5},{id:"Reds_reverse",classes:5},{id:"YlGn_reverse",classes:5},{id:"Greens_reverse",classes:5},{id:"Blues_reverse",classes:5},{id:"BuPu_reverse",classes:5},{id:"RdPu_reverse",classes:5},{id:"PuRd_reverse",classes:5},{id:"Greys_reverse",classes:5},{id:"PuOr",classes:5},{id:"BrBG",classes:5},{id:"PRGn",classes:5},{id:"PiYG",classes:5},{id:"RdBu",classes:5},{id:"RdGy",classes:5},{id:"RdYlBu",classes:5},{id:"Spectral",classes:5},{id:"RdYlGn",classes:5},{id:"Paired",classes:5},{id:"Pastel1",classes:5},{id:"Set1",classes:5},{id:"Set3",classes:5}]}),paletteIdMap=function(){var map={},palette=void 0;for(var id in _colorbrewer2.default)if(_colorbrewer2.default.hasOwnProperty(id))for(var key in _colorbrewer2.default[id])_colorbrewer2.default[id].hasOwnProperty(key)&&(palette=_colorbrewer2.default[id][key].join(","),map[palette]=id);return map}();Ext.define("Ext.ux.field.ColorScale",{extend:"Ext.form.field.ComboBox",alias:"widget.colorscale",cls:"gis-combo",editable:!1,valueField:"id",displayField:"scale",queryMode:"local",forceSelection:!0,tpl:'<tpl for="."><div class="x-boundlist-item color-scale">{scale}</div></tpl>',store:colorStore,classes:5,listeners:{afterRender:function(){this.setClasses(this.classes),this.reset()}},reset:function(){this.scheme?this.setValue(this.scheme,!0):this.setValue(this.store.getAt(0).data.id,!0)},getValue:function(){if(this.scheme&&this.findRecordByValue(this.scheme))return _colorbrewer2.default[this.scheme][this.findRecordByValue(this.scheme).get("classes")]},setValue:function(value,doSelect){if(this.self.superclass.setValue.call(this,value,doSelect),(0,_isArray2.default)(value)&&(value=value[0]),(0,_isObject2.default)(value)&&(value=value.getId()),"string"==typeof value&&value.includes("#")&&(value=paletteIdMap[value]),this.scheme=value,value&&this.inputEl){this.colorEl||(this.colorEl=document.createElement("div"),this.colorEl.className="color-scale",this.colorEl.style.width=this.inputEl.getWidth()+"px",this.inputEl.insertSibling(this.colorEl));var model=this.findRecordByValue(value);model&&(this.colorEl.innerHTML=model.get("scale"))}return this},setClasses:function(classes){this.classes=classes,this.store.each(function(model){model.set("classes",classes),model.set("scale","")}),this.colorEl&&(this.colorEl.innerHTML=this.findRecordByValue(this.scheme).get("scale"))},setScale:function(scale){var colors=scale.split(","),classes=colors.length,scheme=void 0;this.setClasses(classes),this.store.each(function(model){var id=model.getId();scale===(_colorbrewer2.default[id][classes]||[]).join()&&(scheme=id)}),scheme&&this.setValue(scheme)}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={YlGn:{3:["#f7fcb9","#addd8e","#31a354"],4:["#ffffcc","#c2e699","#78c679","#238443"],5:["#ffffcc","#c2e699","#78c679","#31a354","#006837"],6:["#ffffcc","#d9f0a3","#addd8e","#78c679","#31a354","#006837"],7:["#ffffcc","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],8:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],9:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"]},YlGnBu:{3:["#edf8b1","#7fcdbb","#2c7fb8"],4:["#ffffcc","#a1dab4","#41b6c4","#225ea8"],5:["#ffffcc","#a1dab4","#41b6c4","#2c7fb8","#253494"],6:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#2c7fb8","#253494"],7:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],8:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],9:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"]},GnBu:{3:["#e0f3db","#a8ddb5","#43a2ca"],4:["#f0f9e8","#bae4bc","#7bccc4","#2b8cbe"],5:["#f0f9e8","#bae4bc","#7bccc4","#43a2ca","#0868ac"],6:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#43a2ca","#0868ac"],7:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],8:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],9:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"]},BuGn:{3:["#e5f5f9","#99d8c9","#2ca25f"],4:["#edf8fb","#b2e2e2","#66c2a4","#238b45"],5:["#edf8fb","#b2e2e2","#66c2a4","#2ca25f","#006d2c"],6:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#2ca25f","#006d2c"],7:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],8:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],9:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"]},PuBuGn:{3:["#ece2f0","#a6bddb","#1c9099"],4:["#f6eff7","#bdc9e1","#67a9cf","#02818a"],5:["#f6eff7","#bdc9e1","#67a9cf","#1c9099","#016c59"],6:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#1c9099","#016c59"],7:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],8:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],9:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"]},PuBu:{3:["#ece7f2","#a6bddb","#2b8cbe"],4:["#f1eef6","#bdc9e1","#74a9cf","#0570b0"],5:["#f1eef6","#bdc9e1","#74a9cf","#2b8cbe","#045a8d"],6:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#2b8cbe","#045a8d"],7:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],8:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],9:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"]},BuPu:{3:["#e0ecf4","#9ebcda","#8856a7"],4:["#edf8fb","#b3cde3","#8c96c6","#88419d"],5:["#edf8fb","#b3cde3","#8c96c6","#8856a7","#810f7c"],6:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8856a7","#810f7c"],7:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],8:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],9:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"]},RdPu:{3:["#fde0dd","#fa9fb5","#c51b8a"],4:["#feebe2","#fbb4b9","#f768a1","#ae017e"],5:["#feebe2","#fbb4b9","#f768a1","#c51b8a","#7a0177"],6:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#c51b8a","#7a0177"],7:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],8:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],9:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"]},PuRd:{3:["#e7e1ef","#c994c7","#dd1c77"],4:["#f1eef6","#d7b5d8","#df65b0","#ce1256"],5:["#f1eef6","#d7b5d8","#df65b0","#dd1c77","#980043"],6:["#f1eef6","#d4b9da","#c994c7","#df65b0","#dd1c77","#980043"],7:["#f1eef6","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],8:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],9:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"]},OrRd:{3:["#fee8c8","#fdbb84","#e34a33"],4:["#fef0d9","#fdcc8a","#fc8d59","#d7301f"],5:["#fef0d9","#fdcc8a","#fc8d59","#e34a33","#b30000"],6:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#e34a33","#b30000"],7:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],8:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],9:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"]},YlOrRd:{3:["#ffeda0","#feb24c","#f03b20"],4:["#ffffb2","#fecc5c","#fd8d3c","#e31a1c"],5:["#ffffb2","#fecc5c","#fd8d3c","#f03b20","#bd0026"],6:["#ffffb2","#fed976","#feb24c","#fd8d3c","#f03b20","#bd0026"],7:["#ffffb2","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],8:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],9:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"]},YlOrBr:{3:["#fff7bc","#fec44f","#d95f0e"],4:["#ffffd4","#fed98e","#fe9929","#cc4c02"],5:["#ffffd4","#fed98e","#fe9929","#d95f0e","#993404"],6:["#ffffd4","#fee391","#fec44f","#fe9929","#d95f0e","#993404"],7:["#ffffd4","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],8:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],9:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"]},Purples:{3:["#efedf5","#bcbddc","#756bb1"],4:["#f2f0f7","#cbc9e2","#9e9ac8","#6a51a3"],5:["#f2f0f7","#cbc9e2","#9e9ac8","#756bb1","#54278f"],6:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#756bb1","#54278f"],7:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],8:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],9:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"]},Blues:{3:["#deebf7","#9ecae1","#3182bd"],4:["#eff3ff","#bdd7e7","#6baed6","#2171b5"],5:["#eff3ff","#bdd7e7","#6baed6","#3182bd","#08519c"],6:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#3182bd","#08519c"],7:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],8:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],9:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"]},Greens:{3:["#e5f5e0","#a1d99b","#31a354"],4:["#edf8e9","#bae4b3","#74c476","#238b45"],5:["#edf8e9","#bae4b3","#74c476","#31a354","#006d2c"],6:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#31a354","#006d2c"],7:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],8:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],9:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"]},Oranges:{3:["#fee6ce","#fdae6b","#e6550d"],4:["#feedde","#fdbe85","#fd8d3c","#d94701"],5:["#feedde","#fdbe85","#fd8d3c","#e6550d","#a63603"],6:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#e6550d","#a63603"],7:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],8:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],9:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"]},Reds:{3:["#fee0d2","#fc9272","#de2d26"],4:["#fee5d9","#fcae91","#fb6a4a","#cb181d"],5:["#fee5d9","#fcae91","#fb6a4a","#de2d26","#a50f15"],6:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#de2d26","#a50f15"],7:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],8:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],9:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"]},Greys:{3:["#f0f0f0","#bdbdbd","#636363"],4:["#f7f7f7","#cccccc","#969696","#525252"],5:["#f7f7f7","#cccccc","#969696","#636363","#252525"],6:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#636363","#252525"],7:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],8:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],9:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"]},PuOr:{3:["#f1a340","#f7f7f7","#998ec3"],4:["#e66101","#fdb863","#b2abd2","#5e3c99"],5:["#e66101","#fdb863","#f7f7f7","#b2abd2","#5e3c99"],6:["#b35806","#f1a340","#fee0b6","#d8daeb","#998ec3","#542788"],7:["#b35806","#f1a340","#fee0b6","#f7f7f7","#d8daeb","#998ec3","#542788"],8:["#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788"],9:["#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788"],10:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],11:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"]},BrBG:{3:["#d8b365","#f5f5f5","#5ab4ac"],4:["#a6611a","#dfc27d","#80cdc1","#018571"],5:["#a6611a","#dfc27d","#f5f5f5","#80cdc1","#018571"],6:["#8c510a","#d8b365","#f6e8c3","#c7eae5","#5ab4ac","#01665e"],7:["#8c510a","#d8b365","#f6e8c3","#f5f5f5","#c7eae5","#5ab4ac","#01665e"],8:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e"],9:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e"],10:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],11:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"]},PRGn:{3:["#af8dc3","#f7f7f7","#7fbf7b"],4:["#7b3294","#c2a5cf","#a6dba0","#008837"],5:["#7b3294","#c2a5cf","#f7f7f7","#a6dba0","#008837"],6:["#762a83","#af8dc3","#e7d4e8","#d9f0d3","#7fbf7b","#1b7837"],7:["#762a83","#af8dc3","#e7d4e8","#f7f7f7","#d9f0d3","#7fbf7b","#1b7837"],8:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837"],9:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837"],10:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],11:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"]},PiYG:{3:["#e9a3c9","#f7f7f7","#a1d76a"],4:["#d01c8b","#f1b6da","#b8e186","#4dac26"],5:["#d01c8b","#f1b6da","#f7f7f7","#b8e186","#4dac26"],6:["#c51b7d","#e9a3c9","#fde0ef","#e6f5d0","#a1d76a","#4d9221"],7:["#c51b7d","#e9a3c9","#fde0ef","#f7f7f7","#e6f5d0","#a1d76a","#4d9221"],8:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221"],9:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221"],10:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],11:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"]},RdBu:{3:["#ef8a62","#f7f7f7","#67a9cf"],4:["#ca0020","#f4a582","#92c5de","#0571b0"],5:["#ca0020","#f4a582","#f7f7f7","#92c5de","#0571b0"],6:["#b2182b","#ef8a62","#fddbc7","#d1e5f0","#67a9cf","#2166ac"],7:["#b2182b","#ef8a62","#fddbc7","#f7f7f7","#d1e5f0","#67a9cf","#2166ac"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"]},RdGy:{3:["#ef8a62","#ffffff","#999999"],4:["#ca0020","#f4a582","#bababa","#404040"],5:["#ca0020","#f4a582","#ffffff","#bababa","#404040"],6:["#b2182b","#ef8a62","#fddbc7","#e0e0e0","#999999","#4d4d4d"],7:["#b2182b","#ef8a62","#fddbc7","#ffffff","#e0e0e0","#999999","#4d4d4d"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"]},RdYlBu:{3:["#fc8d59","#ffffbf","#91bfdb"],4:["#d7191c","#fdae61","#abd9e9","#2c7bb6"],5:["#d7191c","#fdae61","#ffffbf","#abd9e9","#2c7bb6"],6:["#d73027","#fc8d59","#fee090","#e0f3f8","#91bfdb","#4575b4"],7:["#d73027","#fc8d59","#fee090","#ffffbf","#e0f3f8","#91bfdb","#4575b4"],8:["#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4"],9:["#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"]},Spectral:{3:["#fc8d59","#ffffbf","#99d594"],4:["#d7191c","#fdae61","#abdda4","#2b83ba"],5:["#d7191c","#fdae61","#ffffbf","#abdda4","#2b83ba"],6:["#d53e4f","#fc8d59","#fee08b","#e6f598","#99d594","#3288bd"],7:["#d53e4f","#fc8d59","#fee08b","#ffffbf","#e6f598","#99d594","#3288bd"],8:["#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd"],9:["#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd"],10:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],11:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"]},RdYlGn:{3:["#fc8d59","#ffffbf","#91cf60"],4:["#d7191c","#fdae61","#a6d96a","#1a9641"],5:["#d7191c","#fdae61","#ffffbf","#a6d96a","#1a9641"],6:["#d73027","#fc8d59","#fee08b","#d9ef8b","#91cf60","#1a9850"],7:["#d73027","#fc8d59","#fee08b","#ffffbf","#d9ef8b","#91cf60","#1a9850"],8:["#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850"],9:["#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"]},Accent:{3:["#7fc97f","#beaed4","#fdc086"],4:["#7fc97f","#beaed4","#fdc086","#ffff99"],5:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0"],6:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f"],7:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17"],8:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"]},Dark2:{3:["#1b9e77","#d95f02","#7570b3"],4:["#1b9e77","#d95f02","#7570b3","#e7298a"],5:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e"],6:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02"],7:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d"],8:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"]},Paired:{3:["#a6cee3","#1f78b4","#b2df8a"],4:["#a6cee3","#1f78b4","#b2df8a","#33a02c"],5:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99"],6:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c"],7:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f"],8:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00"],9:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6"],10:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a"],11:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99"],12:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"]},Pastel1:{3:["#fbb4ae","#b3cde3","#ccebc5"],4:["#fbb4ae","#b3cde3","#ccebc5","#decbe4"],5:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6"],6:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc"],7:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd"],8:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec"],9:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Pastel2:{3:["#b3e2cd","#fdcdac","#cbd5e8"],4:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4"],5:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9"],6:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae"],7:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc"],8:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"]},Set1:{3:["#e41a1c","#377eb8","#4daf4a"],4:["#e41a1c","#377eb8","#4daf4a","#984ea3"],5:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00"],6:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33"],7:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628"],8:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf"],9:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"]},Set2:{3:["#66c2a5","#fc8d62","#8da0cb"],4:["#66c2a5","#fc8d62","#8da0cb","#e78ac3"],5:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854"],6:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f"],7:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494"],8:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"]},Set3:{3:["#8dd3c7","#ffffb3","#bebada"],4:["#8dd3c7","#ffffb3","#bebada","#fb8072"],5:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3"],6:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462"],7:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69"],8:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5"],9:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9"],10:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd"],11:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5"],12:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"]},YlOrBr_reverse:{3:["#d95f0e","#fec44f","#fff7bc"],4:["#cc4c02","#fe9929","#fed98e","#ffffd4"],5:["#993404","#d95f0e","#fe9929","#fed98e","#ffffd4"],6:["#993404","#d95f0e","#fe9929","#fec44f","#fee391","#ffffd4"],7:["#8c2d04","#cc4c02","#ec7014","#fe9929","#fec44f","#fee391","#ffffd4"],8:["#8c2d04","#cc4c02","#ec7014","#fe9929","#fec44f","#fee391","#fff7bc","#ffffe5"],9:["#662506","#993404","#cc4c02","#ec7014","#fe9929","#fec44f","#fee391","#fff7bc","#ffffe5"]},Reds_reverse:{3:["#de2d26","#fc9272","#fee0d2"],4:["#cb181d","#fb6a4a","#fcae91","#fee5d9"],5:["#a50f15","#de2d26","#fb6a4a","#fcae91","#fee5d9"],6:["#a50f15","#de2d26","#fb6a4a","#fc9272","#fcbba1","#fee5d9"],7:["#99000d","#cb181d","#ef3b2c","#fb6a4a","#fc9272","#fcbba1","#fee5d9"],8:["#99000d","#cb181d","#ef3b2c","#fb6a4a","#fc9272","#fcbba1","#fee0d2","#fff5f0"],9:["#67000d","#a50f15","#cb181d","#ef3b2c","#fb6a4a","#fc9272","#fcbba1","#fee0d2","#fff5f0"]},YlGn_reverse:{3:["#31a354","#addd8e","#f7fcb9"],4:["#238443","#78c679","#c2e699","#ffffcc"],5:["#006837","#31a354","#78c679","#c2e699","#ffffcc"],6:["#006837","#31a354","#78c679","#addd8e","#d9f0a3","#ffffcc"],7:["#005a32","#238443","#41ab5d","#78c679","#addd8e","#d9f0a3","#ffffcc"],8:["#005a32","#238443","#41ab5d","#78c679","#addd8e","#d9f0a3","#f7fcb9","#ffffe5"],9:["#004529","#006837","#238443","#41ab5d","#78c679","#addd8e","#d9f0a3","#f7fcb9","#ffffe5"]},Greens_reverse:{3:["#31a354","#a1d99b","#e5f5e0"],4:["#238b45","#74c476","#bae4b3","#edf8e9"],5:["#006d2c","#31a354","#74c476","#bae4b3","#edf8e9"],6:["#006d2c","#31a354","#74c476","#a1d99b","#c7e9c0","#edf8e9"],7:["#005a32","#238b45","#41ab5d","#74c476","#a1d99b","#c7e9c0","#edf8e9"],8:["#005a32","#238b45","#41ab5d","#74c476","#a1d99b","#c7e9c0","#e5f5e0","#f7fcf5"],9:["#00441b","#006d2c","#238b45","#41ab5d","#74c476","#a1d99b","#c7e9c0","#e5f5e0","#f7fcf5"]},Blues_reverse:{3:["#3182bd","#9ecae1","#deebf7"],4:["#2171b5","#6baed6","#bdd7e7","#eff3ff"],5:["#08519c","#3182bd","#6baed6","#bdd7e7","#eff3ff"],6:["#08519c","#3182bd","#6baed6","#9ecae1","#c6dbef","#eff3ff"],7:["#084594","#2171b5","#4292c6","#6baed6","#9ecae1","#c6dbef","#eff3ff"],8:["#084594","#2171b5","#4292c6","#6baed6","#9ecae1","#c6dbef","#deebf7","#f7fbff"],9:["#08306b","#08519c","#2171b5","#4292c6","#6baed6","#9ecae1","#c6dbef","#deebf7","#f7fbff"]},BuPu_reverse:{3:["#8856a7","#9ebcda","#e0ecf4"],4:["#88419d","#8c96c6","#b3cde3","#edf8fb"],5:["#810f7c","#8856a7","#8c96c6","#b3cde3","#edf8fb"],6:["#810f7c","#8856a7","#8c96c6","#9ebcda","#bfd3e6","#edf8fb"],7:["#6e016b","#88419d","#8c6bb1","#8c96c6","#9ebcda","#bfd3e6","#edf8fb"],8:["#6e016b","#88419d","#8c6bb1","#8c96c6","#9ebcda","#bfd3e6","#e0ecf4","#f7fcfd"],9:["#4d004b","#810f7c","#88419d","#8c6bb1","#8c96c6","#9ebcda","#bfd3e6","#e0ecf4","#f7fcfd"]},RdPu_reverse:{3:["#c51b8a","#fa9fb5","#fde0dd"],4:["#ae017e","#f768a1","#fbb4b9","#feebe2"],5:["#7a0177","#c51b8a","#f768a1","#fbb4b9","#feebe2"],6:["#7a0177","#c51b8a","#f768a1","#fa9fb5","#fcc5c0","#feebe2"],7:["#7a0177","#ae017e","#dd3497","#f768a1","#fa9fb5","#fcc5c0","#feebe2"],8:["#7a0177","#ae017e","#dd3497","#f768a1","#fa9fb5","#fcc5c0","#fde0dd","#fff7f3"],9:["#49006a","#7a0177","#ae017e","#dd3497","#f768a1","#fa9fb5","#fcc5c0","#fde0dd","#fff7f3"]},PuRd_reverse:{3:["#dd1c77","#c994c7","#e7e1ef"],4:["#ce1256","#df65b0","#d7b5d8","#f1eef6"],5:["#980043","#dd1c77","#df65b0","#d7b5d8","#f1eef6"],6:["#980043","#dd1c77","#df65b0","#c994c7","#d4b9da","#f1eef6"],7:["#91003f","#ce1256","#e7298a","#df65b0","#c994c7","#d4b9da","#f1eef6"],8:["#91003f","#ce1256","#e7298a","#df65b0","#c994c7","#d4b9da","#e7e1ef","#f7f4f9"],9:["#67001f","#980043","#ce1256","#e7298a","#df65b0","#c994c7","#d4b9da","#e7e1ef","#f7f4f9"]},Greys_reverse:{3:["#636363","#bdbdbd","#f0f0f0"],4:["#525252","#969696","#cccccc","#f7f7f7"],5:["#252525","#636363","#969696","#cccccc","#f7f7f7"],6:["#252525","#636363","#969696","#bdbdbd","#d9d9d9","#f7f7f7"],7:["#252525","#525252","#737373","#969696","#bdbdbd","#d9d9d9","#f7f7f7"],8:["#252525","#525252","#737373","#969696","#bdbdbd","#d9d9d9","#f0f0f0","#ffffff"],9:["#000000","#252525","#525252","#737373","#969696","#bdbdbd","#d9d9d9","#f0f0f0","#ffffff"]}}},,function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0__src_defaultLocale__=__webpack_require__(203);__webpack_require__.d(__webpack_exports__,"timeFormatDefaultLocale",function(){return __WEBPACK_IMPORTED_MODULE_0__src_defaultLocale__.a}),__webpack_require__.d(__webpack_exports__,"timeFormat",function(){return __WEBPACK_IMPORTED_MODULE_0__src_defaultLocale__.b}),__webpack_require__.d(__webpack_exports__,"timeParse",function(){return __WEBPACK_IMPORTED_MODULE_0__src_defaultLocale__.c}),__webpack_require__.d(__webpack_exports__,"utcFormat",function(){return __WEBPACK_IMPORTED_MODULE_0__src_defaultLocale__.d}),__webpack_require__.d(__webpack_exports__,"utcParse",function(){return __WEBPACK_IMPORTED_MODULE_0__src_defaultLocale__.e});var __WEBPACK_IMPORTED_MODULE_1__src_locale__=__webpack_require__(236);__webpack_require__.d(__webpack_exports__,"timeFormatLocale",function(){return __WEBPACK_IMPORTED_MODULE_1__src_locale__.a});var __WEBPACK_IMPORTED_MODULE_2__src_isoFormat__=__webpack_require__(235);__webpack_require__.d(__webpack_exports__,"isoFormat",function(){return __WEBPACK_IMPORTED_MODULE_2__src_isoFormat__.a});var __WEBPACK_IMPORTED_MODULE_3__src_isoParse__=__webpack_require__(263);__webpack_require__.d(__webpack_exports__,"isoParse",function(){return __WEBPACK_IMPORTED_MODULE_3__src_isoParse__.a})},function(module,__webpack_exports__,__webpack_require__){"use strict";function parseIsoNative(string){var date=new Date(string);return isNaN(date)?null:date}var __WEBPACK_IMPORTED_MODULE_0__isoFormat__=__webpack_require__(235),__WEBPACK_IMPORTED_MODULE_1__defaultLocale__=__webpack_require__(203),parseIso=+new Date("2000-01-01T00:00:00.000Z")?parseIsoNative:__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__defaultLocale__.e)(__WEBPACK_IMPORTED_MODULE_0__isoFormat__.b);__webpack_exports__.a=parseIso;
},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_5__src_day__=(__webpack_require__(9),__webpack_require__(267),__webpack_require__(270),__webpack_require__(268),__webpack_require__(266),__webpack_require__(265));__webpack_require__.d(__webpack_exports__,"a",function(){return __WEBPACK_IMPORTED_MODULE_5__src_day__.a});var __WEBPACK_IMPORTED_MODULE_6__src_week__=__webpack_require__(277);__webpack_require__.d(__webpack_exports__,"c",function(){return __WEBPACK_IMPORTED_MODULE_6__src_week__.a}),__webpack_require__.d(__webpack_exports__,"d",function(){return __WEBPACK_IMPORTED_MODULE_6__src_week__.b});var __WEBPACK_IMPORTED_MODULE_8__src_year__=(__webpack_require__(269),__webpack_require__(278));__webpack_require__.d(__webpack_exports__,"b",function(){return __WEBPACK_IMPORTED_MODULE_8__src_year__.a});var __WEBPACK_IMPORTED_MODULE_11__src_utcDay__=(__webpack_require__(273),__webpack_require__(272),__webpack_require__(271));__webpack_require__.d(__webpack_exports__,"e",function(){return __WEBPACK_IMPORTED_MODULE_11__src_utcDay__.a});var __WEBPACK_IMPORTED_MODULE_12__src_utcWeek__=__webpack_require__(275);__webpack_require__.d(__webpack_exports__,"g",function(){return __WEBPACK_IMPORTED_MODULE_12__src_utcWeek__.a}),__webpack_require__.d(__webpack_exports__,"h",function(){return __WEBPACK_IMPORTED_MODULE_12__src_utcWeek__.b});var __WEBPACK_IMPORTED_MODULE_14__src_utcYear__=(__webpack_require__(274),__webpack_require__(276));__webpack_require__.d(__webpack_exports__,"f",function(){return __WEBPACK_IMPORTED_MODULE_14__src_utcYear__.a})},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__interval__=__webpack_require__(9),__WEBPACK_IMPORTED_MODULE_1__duration__=__webpack_require__(26),day=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__interval__.a)(function(date){date.setHours(0,0,0,0)},function(date,step){date.setDate(date.getDate()+step)},function(start,end){return(end-start-(end.getTimezoneOffset()-start.getTimezoneOffset())*__WEBPACK_IMPORTED_MODULE_1__duration__.d)/__WEBPACK_IMPORTED_MODULE_1__duration__.b},function(date){return date.getDate()-1});__webpack_exports__.a=day;day.range},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__interval__=__webpack_require__(9),__WEBPACK_IMPORTED_MODULE_1__duration__=__webpack_require__(26),hour=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__interval__.a)(function(date){var offset=date.getTimezoneOffset()*__WEBPACK_IMPORTED_MODULE_1__duration__.d%__WEBPACK_IMPORTED_MODULE_1__duration__.c;offset<0&&(offset+=__WEBPACK_IMPORTED_MODULE_1__duration__.c),date.setTime(Math.floor((+date-offset)/__WEBPACK_IMPORTED_MODULE_1__duration__.c)*__WEBPACK_IMPORTED_MODULE_1__duration__.c+offset)},function(date,step){date.setTime(+date+step*__WEBPACK_IMPORTED_MODULE_1__duration__.c)},function(start,end){return(end-start)/__WEBPACK_IMPORTED_MODULE_1__duration__.c},function(date){return date.getHours()});hour.range},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__interval__=__webpack_require__(9),millisecond=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__interval__.a)(function(){},function(date,step){date.setTime(+date+step)},function(start,end){return end-start});millisecond.every=function(k){return k=Math.floor(k),isFinite(k)&&k>0?k>1?__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__interval__.a)(function(date){date.setTime(Math.floor(date/k)*k)},function(date,step){date.setTime(+date+step*k)},function(start,end){return(end-start)/k}):millisecond:null};millisecond.range},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__interval__=__webpack_require__(9),__WEBPACK_IMPORTED_MODULE_1__duration__=__webpack_require__(26),minute=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__interval__.a)(function(date){date.setTime(Math.floor(date/__WEBPACK_IMPORTED_MODULE_1__duration__.d)*__WEBPACK_IMPORTED_MODULE_1__duration__.d)},function(date,step){date.setTime(+date+step*__WEBPACK_IMPORTED_MODULE_1__duration__.d)},function(start,end){return(end-start)/__WEBPACK_IMPORTED_MODULE_1__duration__.d},function(date){return date.getMinutes()});minute.range},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__interval__=__webpack_require__(9),month=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__interval__.a)(function(date){date.setDate(1),date.setHours(0,0,0,0)},function(date,step){date.setMonth(date.getMonth()+step)},function(start,end){return end.getMonth()-start.getMonth()+12*(end.getFullYear()-start.getFullYear())},function(date){return date.getMonth()});month.range},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__interval__=__webpack_require__(9),__WEBPACK_IMPORTED_MODULE_1__duration__=__webpack_require__(26),second=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__interval__.a)(function(date){date.setTime(Math.floor(date/__WEBPACK_IMPORTED_MODULE_1__duration__.e)*__WEBPACK_IMPORTED_MODULE_1__duration__.e)},function(date,step){date.setTime(+date+step*__WEBPACK_IMPORTED_MODULE_1__duration__.e)},function(start,end){return(end-start)/__WEBPACK_IMPORTED_MODULE_1__duration__.e},function(date){return date.getUTCSeconds()});second.range},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__interval__=__webpack_require__(9),__WEBPACK_IMPORTED_MODULE_1__duration__=__webpack_require__(26),utcDay=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__interval__.a)(function(date){date.setUTCHours(0,0,0,0)},function(date,step){date.setUTCDate(date.getUTCDate()+step)},function(start,end){return(end-start)/__WEBPACK_IMPORTED_MODULE_1__duration__.b},function(date){return date.getUTCDate()-1});__webpack_exports__.a=utcDay;utcDay.range},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__interval__=__webpack_require__(9),__WEBPACK_IMPORTED_MODULE_1__duration__=__webpack_require__(26),utcHour=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__interval__.a)(function(date){date.setUTCMinutes(0,0,0)},function(date,step){date.setTime(+date+step*__WEBPACK_IMPORTED_MODULE_1__duration__.c)},function(start,end){return(end-start)/__WEBPACK_IMPORTED_MODULE_1__duration__.c},function(date){return date.getUTCHours()});utcHour.range},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__interval__=__webpack_require__(9),__WEBPACK_IMPORTED_MODULE_1__duration__=__webpack_require__(26),utcMinute=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__interval__.a)(function(date){date.setUTCSeconds(0,0)},function(date,step){date.setTime(+date+step*__WEBPACK_IMPORTED_MODULE_1__duration__.d)},function(start,end){return(end-start)/__WEBPACK_IMPORTED_MODULE_1__duration__.d},function(date){return date.getUTCMinutes()});utcMinute.range},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__interval__=__webpack_require__(9),utcMonth=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__interval__.a)(function(date){date.setUTCDate(1),date.setUTCHours(0,0,0,0)},function(date,step){date.setUTCMonth(date.getUTCMonth()+step)},function(start,end){return end.getUTCMonth()-start.getUTCMonth()+12*(end.getUTCFullYear()-start.getUTCFullYear())},function(date){return date.getUTCMonth()});utcMonth.range},function(module,__webpack_exports__,__webpack_require__){"use strict";function utcWeekday(i){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__interval__.a)(function(date){date.setUTCDate(date.getUTCDate()-(date.getUTCDay()+7-i)%7),date.setUTCHours(0,0,0,0)},function(date,step){date.setUTCDate(date.getUTCDate()+7*step)},function(start,end){return(end-start)/__WEBPACK_IMPORTED_MODULE_1__duration__.a})}var __WEBPACK_IMPORTED_MODULE_0__interval__=__webpack_require__(9),__WEBPACK_IMPORTED_MODULE_1__duration__=__webpack_require__(26);__webpack_require__.d(__webpack_exports__,"a",function(){return utcSunday}),__webpack_require__.d(__webpack_exports__,"b",function(){return utcMonday});var utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range,utcMonday.range,utcTuesday.range,utcWednesday.range,utcThursday.range,utcFriday.range,utcSaturday.range},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__interval__=__webpack_require__(9),utcYear=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__interval__.a)(function(date){date.setUTCMonth(0,1),date.setUTCHours(0,0,0,0)},function(date,step){date.setUTCFullYear(date.getUTCFullYear()+step)},function(start,end){return end.getUTCFullYear()-start.getUTCFullYear()},function(date){return date.getUTCFullYear()});utcYear.every=function(k){return isFinite(k=Math.floor(k))&&k>0?__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__interval__.a)(function(date){date.setUTCFullYear(Math.floor(date.getUTCFullYear()/k)*k),date.setUTCMonth(0,1),date.setUTCHours(0,0,0,0)},function(date,step){date.setUTCFullYear(date.getUTCFullYear()+step*k)}):null},__webpack_exports__.a=utcYear;utcYear.range},function(module,__webpack_exports__,__webpack_require__){"use strict";function weekday(i){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__interval__.a)(function(date){date.setDate(date.getDate()-(date.getDay()+7-i)%7),date.setHours(0,0,0,0)},function(date,step){date.setDate(date.getDate()+7*step)},function(start,end){return(end-start-(end.getTimezoneOffset()-start.getTimezoneOffset())*__WEBPACK_IMPORTED_MODULE_1__duration__.d)/__WEBPACK_IMPORTED_MODULE_1__duration__.a})}var __WEBPACK_IMPORTED_MODULE_0__interval__=__webpack_require__(9),__WEBPACK_IMPORTED_MODULE_1__duration__=__webpack_require__(26);__webpack_require__.d(__webpack_exports__,"a",function(){return sunday}),__webpack_require__.d(__webpack_exports__,"b",function(){return monday});var sunday=weekday(0),monday=weekday(1),tuesday=weekday(2),wednesday=weekday(3),thursday=weekday(4),friday=weekday(5),saturday=weekday(6);sunday.range,monday.range,tuesday.range,wednesday.range,thursday.range,friday.range,saturday.range},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__interval__=__webpack_require__(9),year=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__interval__.a)(function(date){date.setMonth(0,1),date.setHours(0,0,0,0)},function(date,step){date.setFullYear(date.getFullYear()+step)},function(start,end){return end.getFullYear()-start.getFullYear()},function(date){return date.getFullYear()});year.every=function(k){return isFinite(k=Math.floor(k))&&k>0?__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__interval__.a)(function(date){date.setFullYear(Math.floor(date.getFullYear()/k)*k),date.setMonth(0,1),date.setHours(0,0,0,0)},function(date,step){date.setFullYear(date.getFullYear()+step*k)}):null},__webpack_exports__.a=year;year.range},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _index=__webpack_require__(80),_index2=_interopRequireDefault(_index),_index3=__webpack_require__(237),_index4=_interopRequireDefault(_index3),_isObject=__webpack_require__(3),_isObject2=_interopRequireDefault(_isObject),_isString=__webpack_require__(4),_isString2=_interopRequireDefault(_isString),_arrayClean=__webpack_require__(10),_arrayClean2=_interopRequireDefault(_arrayClean),_arrayContains=__webpack_require__(20),_arrayContains2=_interopRequireDefault(_arrayContains),_arrayPluck=__webpack_require__(40),_arrayPluck2=_interopRequireDefault(_arrayPluck),_loglevel=__webpack_require__(238),_loglevel2=_interopRequireDefault(_loglevel);_loglevel2.default.setLevel(_loglevel2.default.levels.INFO),_loglevel2.default.info("Loading: GIS app 26.0.3"),window.GIS=_index2.default,_index2.default.app=_index4.default,Ext.onReady(function(){var createViewport,gis;!function(){Ext.QuickTips.init(),Ext.override(Ext.grid.Scroller,{afterRender:function(){var me=this;me.self.superclass.onHide.call(me),me.mon(me.scrollEl,"scroll",me.onElScroll,me),Ext.cache[me.el.id].skipGarbageCollection=!0,Ext.EventManager.addListener(me.scrollEl,"scroll",me.onElScrollCheck,me),Ext.cache[me.scrollEl.id].skipGarbageCollection=!0},wasScrolled:!1,onElScroll:function(event,target){this.wasScrolled=!0,this.fireEvent("bodyscroll",event,target)},onElScrollCheck:function(event,target,options){var me=this;me.wasScrolled||me.mon(me.scrollEl,"scroll",me.onElScroll,me),me.wasScrolled=!1}})}(),createViewport=function(){var centerRegion,eastRegion,downloadButton,shareButton,aboutButton,defaultButton,interpretationItem,pluginItem,favoriteUrlItem,apiUrlItem,layersPanel,resizeButton,viewport,onRender,afterRender;return resizeButton=Ext.create("Ext.button.Button",{text:">>>",handler:function(){eastRegion.toggleCollapse()}}),defaultButton=Ext.create("Ext.button.Button",{text:_index2.default.i18n.map,iconCls:"gis-button-icon-map",toggleGroup:"module",pressed:!0,menu:{},handler:function(b){b.menu=Ext.create("Ext.menu.Menu",{closeAction:"destroy",shadow:!1,showSeparator:!1,items:[{text:_index2.default.i18n.clear_map+"&nbsp;&nbsp;",cls:"gis-menu-item-noicon",handler:function(){window.location.href=gis.init.contextPath+"/dhis-web-mapping"}}],listeners:{show:function(){gis.util.gui.window.setAnchorPosition(b.menu,b)},hide:function(){b.menu.destroy(),defaultButton.toggle()},destroy:function(m){b.menu=null}}}),b.menu.show()}}),interpretationItem=Ext.create("Ext.menu.Item",{text:"Write interpretation&nbsp;&nbsp;",iconCls:"gis-menu-item-tablelayout",disabled:!0,xable:function(){gis.map?this.enable():this.disable()},handler:function(){viewport.interpretationWindow&&(viewport.interpretationWindow.destroy(),viewport.interpretationWindow=null),viewport.interpretationWindow=_index2.default.app.InterpretationWindow(gis),viewport.interpretationWindow.show()}}),pluginItem=Ext.create("Ext.menu.Item",{text:"Embed in web page&nbsp;&nbsp;",iconCls:"gis-menu-item-datasource",disabled:!0,xable:function(){gis.instance.getLayersBounds().isValid()||gis.layer.earthEngine.instance&&gis.instance.hasLayer(gis.layer.earthEngine.instance)?this.enable():this.disable()},handler:function(){var textArea,window,text="",el="map1",layout=gis.util.map.map2plugin(gis.util.layout.getPluginConfig()),version=function(){var versionArray=gis.init.systemInfo.version.split("."),major=versionArray[0],minor=parseInt(versionArray[1])-1;return"v"+major+minor}();if(layout.el=el,layout.mapViews)for(var view,i=0;i<layout.mapViews.length;i++)view=layout.mapViews[i],view.legendSet&&(delete view.legendSet.bounds,delete view.legendSet.colors,delete view.legendSet.names),view.labels||(delete view.labels,delete view.labelFontSize,delete view.labelFontWeight,delete view.labelFontStyle,delete view.labelFontColor);text+="<html>\n<head>\n",text+='<link rel="stylesheet" href="http://dhis2-cdn.org/'+version+'/ext/resources/css/ext-plugin-gray.css" />\n',text+='<script src="http://dhis2-cdn.org/'+version+'/ext/ext-all.js"></script>\n',text+='<script src="http://dhis2-cdn.org/'+version+'/plugin/map.js"></script>\n',text+="</head>\n\n<body>\n",text+='<div id="'+el+'"></div>\n\n',text+="<script>\n\n",text+="Ext.onReady(function() {\n\n",text+="DHIS.getMap("+JSON.stringify(layout,null,2)+");\n\n",text+="});\n\n",text+="</script>\n\n",text+="</body>\n</html>",textArea=Ext.create("Ext.form.field.TextArea",{width:700,height:400,readOnly:!0,cls:"ns-textarea monospaced",value:text}),window=Ext.create("Ext.window.Window",{title:"Embed in web page"+(gis.map&&gis.map.name?'<span style="font-weight:normal">&nbsp;|&nbsp;&nbsp;'+gis.map.name+"</span>":""),layout:"fit",modal:!0,resizable:!1,items:textArea,destroyOnBlur:!0,bbar:["->",{text:"Select",handler:function(){textArea.selectText()}}],listeners:{show:function(w){this.setPosition(215,33),w.hasDestroyOnBlurHandler||gis.util.gui.window.addDestroyOnBlurHandler(w)}}}),window.show()}}),favoriteUrlItem=Ext.create("Ext.menu.Item",{text:"Favorite link&nbsp;&nbsp;",iconCls:"gis-menu-item-datasource",disabled:!0,xable:function(){gis.map&&gis.map.id?this.enable():this.disable()},handler:function(){var textField,window,url=encodeURI(gis.init.contextPath+"/dhis-web-mapping/index.html?id="+gis.map.id);textField=Ext.create("Ext.form.field.Text",{html:'<a class="user-select td-nobreak" target="_blank" href="'+url+'">'+url+"</a>"}),window=Ext.create("Ext.window.Window",{title:'Favorite link<span style="font-weight:normal">&nbsp;|&nbsp;&nbsp;'+gis.map.name+"</span>",layout:"fit",modal:!0,resizable:!1,destroyOnBlur:!0,bodyStyle:"padding: 12px 18px; background-color: #fff; font-size: 11px",html:'<a class="user-select td-nobreak" target="_blank" href="'+url+'">'+url+"</a>",listeners:{show:function(w){this.setPosition(325,33),w.hasDestroyOnBlurHandler||gis.util.gui.window.addDestroyOnBlurHandler(w),document.body.oncontextmenu=!0},hide:function(){document.body.oncontextmenu=function(){return!1}}}}),window.show()}}),apiUrlItem=Ext.create("Ext.menu.Item",{text:"API link&nbsp;&nbsp;",iconCls:"gis-menu-item-datasource",disabled:!0,xable:function(){gis.map&&gis.map.id?this.enable():this.disable()},handler:function(){var textField,window,url=gis.init.apiPath+"maps/"+gis.map.id+"/data";textField=Ext.create("Ext.form.field.Text",{html:'<a class="user-select td-nobreak" target="_blank" href="'+url+'">'+url+"</a>"}),window=Ext.create("Ext.window.Window",{title:'API link<span style="font-weight:normal">&nbsp;|&nbsp;&nbsp;'+gis.map.name+"</span>",layout:"fit",modal:!0,resizable:!1,destroyOnBlur:!0,bodyStyle:"padding: 12px 18px; background-color: #fff; font-size: 11px",html:'<a class="user-select td-nobreak" target="_blank" href="'+url+'">'+url+"</a>",listeners:{show:function(w){this.setPosition(325,33),w.hasDestroyOnBlurHandler||gis.util.gui.window.addDestroyOnBlurHandler(w),document.body.oncontextmenu=!0},hide:function(){document.body.oncontextmenu=function(){return!1}}}}),window.show()}}),shareButton=Ext.create("Ext.button.Button",{text:_index2.default.i18n.share,disabled:!0,xableItems:function(){interpretationItem.xable(),pluginItem.xable(),favoriteUrlItem.xable(),apiUrlItem.xable()},menu:{cls:"gis-menu",shadow:!1,showSeparator:!1,items:[interpretationItem,pluginItem,favoriteUrlItem,apiUrlItem],listeners:{afterrender:function(){this.getEl().addCls("gis-toolbar-btn-menu")},show:function(){shareButton.xableItems()}}}}),aboutButton=Ext.create("Ext.button.Button",{text:_index2.default.i18n.about,menu:{},handler:function(){viewport.aboutWindow&&viewport.aboutWindow.destroy&&(viewport.aboutWindow.destroy(),viewport.aboutWindow=null),viewport.aboutWindow=_index2.default.app.AboutWindow(gis),viewport.aboutWindow.show()}}),centerRegion=Ext.create("Ext.panel.Panel",{region:"center",mapApi:gis.api,fullSize:!0,cmp:[defaultButton],trash:[],toggleCmp:function(show){for(var i=0;i<this.cmp.length;i++)show?this.cmp[i].show():this.cmp[i].hide()},tbar:{defaults:{height:26},style:"padding-left:5px;",items:function(){var a=[];return a.push({iconCls:"gis-btn-icon-"+gis.layer.event.id,menu:gis.layer.event.menu,tooltip:_index2.default.i18n.event_layer,width:26}),a.push({iconCls:"gis-btn-icon-"+gis.layer.facility.id,menu:gis.layer.facility.menu,tooltip:_index2.default.i18n.symbol_layer,width:26}),a.push({iconCls:"gis-btn-icon-"+gis.layer.thematic1.id,menu:gis.layer.thematic1.menu,tooltip:_index2.default.i18n.thematic_layer+" 1",width:26}),a.push({iconCls:"gis-btn-icon-"+gis.layer.thematic2.id,menu:gis.layer.thematic2.menu,tooltip:_index2.default.i18n.thematic_layer+" 2",width:26}),a.push({iconCls:"gis-btn-icon-"+gis.layer.thematic3.id,menu:gis.layer.thematic3.menu,tooltip:_index2.default.i18n.thematic_layer+" 3",width:26}),a.push({iconCls:"gis-btn-icon-"+gis.layer.thematic4.id,menu:gis.layer.thematic4.menu,tooltip:_index2.default.i18n.thematic_layer+" 4",width:26}),a.push({iconCls:"gis-btn-icon-"+gis.layer.boundary.id,menu:gis.layer.boundary.menu,tooltip:_index2.default.i18n.boundary_layer,width:26}),a.push({iconCls:"gis-btn-icon-"+gis.layer.earthEngine.id,menu:gis.layer.earthEngine.menu,tooltip:_index2.default.i18n.earthengine_layer,width:26}),a.push({iconCls:"gis-btn-icon-"+gis.layer.external.id,menu:gis.layer.external.menu,tooltip:_index2.default.i18n.external_layer,width:26}),a.push({text:_index2.default.i18n.favorites,menu:{},handler:function(){viewport.favoriteWindow&&viewport.favoriteWindow.destroy&&viewport.favoriteWindow.destroy(),viewport.favoriteWindow=_index2.default.app.FavoriteWindow(gis),viewport.favoriteWindow.show()}}),a.push({xtype:"tbseparator",height:18,style:"border-color: transparent #d1d1d1 transparent transparent; margin-right: 4px"}),a.push(shareButton),a.push("->"),a.push({text:_index2.default.i18n.table,iconCls:"gis-button-icon-table",toggleGroup:"module",menu:{},handler:function(b){b.menu=Ext.create("Ext.menu.Menu",{closeAction:"destroy",shadow:!1,showSeparator:!1,items:[{text:_index2.default.i18n.go_to_pivot_tables+"&nbsp;&nbsp;",cls:"gis-menu-item-noicon",listeners:{render:function(b){this.getEl().dom.addEventListener("click",function(e){b.disabled||(0!==e.button||e.ctrlKey?(e.ctrlKey&&(0,_arrayContains2.default)([0,1],e.button)||!e.ctrlKey&&1===e.button)&&window.open(gis.init.contextPath+"/dhis-web-pivot","_blank"):window.location.href=gis.init.contextPath+"/dhis-web-pivot")})}}},"-",{text:_index2.default.i18n.open_this_map_as_table+"&nbsp;&nbsp;",cls:"gis-menu-item-noicon",disabled:!(_index2.default.isSessionStorage&&gis.util.layout.getAnalytical()),listeners:{render:function(b){this.getEl().dom.addEventListener("click",function(e){!b.disabled&&_index2.default.isSessionStorage&&(gis.util.layout.setSessionStorage("analytical",gis.util.layout.getAnalytical()),0!==e.button||e.ctrlKey?(e.ctrlKey&&(0,_arrayContains2.default)([0,1],e.button)||!e.ctrlKey&&1===e.button)&&window.open(gis.init.contextPath+"/dhis-web-pivot/index.html?s=analytical","_blank"):window.location.href=gis.init.contextPath+"/dhis-web-pivot/index.html?s=analytical")})}}},{text:_index2.default.i18n.open_last_table+"&nbsp;&nbsp;",cls:"gis-menu-item-noicon",disabled:!(_index2.default.isSessionStorage&&JSON.parse(sessionStorage.getItem("dhis2"))&&JSON.parse(sessionStorage.getItem("dhis2")).table),listeners:{render:function(b){this.getEl().dom.addEventListener("click",function(e){b.disabled||(0!==e.button||e.ctrlKey?(e.ctrlKey&&(0,_arrayContains2.default)([0,1],e.button)||!e.ctrlKey&&1===e.button)&&window.open(gis.init.contextPath+"/dhis-web-pivot/index.html?s=table","_blank"):window.location.href=gis.init.contextPath+"/dhis-web-pivot/index.html?s=table")})}}}],listeners:{show:function(){gis.util.gui.window.setAnchorPosition(b.menu,b)},hide:function(){b.menu.destroy(),defaultButton.toggle()},destroy:function(m){b.menu=null}}}),b.menu.show()},listeners:{render:function(){centerRegion.cmp.push(this)}}}),a.push({text:_index2.default.i18n.chart,iconCls:"gis-button-icon-chart",toggleGroup:"module",menu:{},handler:function(b){b.menu=Ext.create("Ext.menu.Menu",{closeAction:"destroy",shadow:!1,showSeparator:!1,items:[{text:_index2.default.i18n.go_to_charts+"&nbsp;&nbsp;",cls:"gis-menu-item-noicon",listeners:{render:function(b){this.getEl().dom.addEventListener("click",function(e){b.disabled||(0!==e.button||e.ctrlKey?(e.ctrlKey&&(0,_arrayContains2.default)([0,1],e.button)||!e.ctrlKey&&1===e.button)&&window.open(gis.init.contextPath+"/dhis-web-visualizer","_blank"):window.location.href=gis.init.contextPath+"/dhis-web-visualizer")})}}},"-",{text:_index2.default.i18n.open_this_map_as_chart+"&nbsp;&nbsp;",cls:"gis-menu-item-noicon",disabled:!_index2.default.isSessionStorage||!gis.util.layout.getAnalytical(),listeners:{render:function(b){this.getEl().dom.addEventListener("click",function(e){!b.disabled&&_index2.default.isSessionStorage&&(gis.util.layout.setSessionStorage("analytical",gis.util.layout.getAnalytical()),0!==e.button||e.ctrlKey?(e.ctrlKey&&(0,_arrayContains2.default)([0,1],e.button)||!e.ctrlKey&&1===e.button)&&window.open(gis.init.contextPath+"/dhis-web-visualizer/index.html?s=analytical","_blank"):window.location.href=gis.init.contextPath+"/dhis-web-visualizer/index.html?s=analytical")})}}},{text:_index2.default.i18n.open_last_chart+"&nbsp;&nbsp;",cls:"gis-menu-item-noicon",disabled:!(_index2.default.isSessionStorage&&JSON.parse(sessionStorage.getItem("dhis2"))&&JSON.parse(sessionStorage.getItem("dhis2")).chart),listeners:{render:function(b){this.getEl().dom.addEventListener("click",function(e){b.disabled||(0!==e.button||e.ctrlKey?(e.ctrlKey&&(0,_arrayContains2.default)([0,1],e.button)||!e.ctrlKey&&1===e.button)&&window.open(gis.init.contextPath+"/dhis-web-visualizer/index.html?s=chart","_blank"):window.location.href=gis.init.contextPath+"/dhis-web-visualizer/index.html?s=chart")})}}}],listeners:{show:function(){gis.util.gui.window.setAnchorPosition(b.menu,b)},hide:function(){b.menu.destroy(),defaultButton.toggle()},destroy:function(m){b.menu=null}}}),b.menu.show()},listeners:{render:function(){centerRegion.cmp.push(this)}}}),a.push(defaultButton),a.push({xtype:"tbseparator",height:18,style:"border-color: transparent #d1d1d1 transparent transparent; margin-right: 6px; margin-left: 3px",listeners:{render:function(){centerRegion.cmp.push(this)}}}),a.push(aboutButton),a.push({xtype:"button",text:_index2.default.i18n.home,handler:function(){window.location.href="../dhis-web-commons-about/redirect.action"}}),a.push(resizeButton),a}()},afterLayout:function(){this.map?this.map.invalidateSize():(this.map=gis.instance,this.body.appendChild(this.map.getContainer()),L.Icon.Default.imagePath="images/",this.map.options.maxZoom=18,this.map.addControl({type:"zoom",position:"topright"}),this.map.addControl({type:"fitBounds",position:"topright"}),this.map.addControl({type:"scale",imperial:!1}),L.control.geocoder(gis.init.systemInfo.mapzenSearchKey,{position:"topright",attribution:null,panToPoint:null}).addTo(this.map),this.map.addControl({type:"measure",position:"topright",primaryLengthUnit:"kilometers",secondaryLengthUnit:"miles",primaryAreaUnit:"hectares",secondaryAreaUnit:"acres",activeColor:"#ffa500",completedColor:"#ffa500"}),this.map.invalidateSize(),this.map.fitBounds([[-34.9,-18.7],[35.9,50.2]]))}}),eastRegion=Ext.create("Ext.panel.Panel",{region:"east",layout:"anchor",width:200,preventHeader:!0,collapsible:!0,collapseMode:"mini",items:function(){var a=[];return layersPanel=_index2.default.app.LayersPanel(gis),a.push({title:_index2.default.i18n.layer_stack_transparency,bodyStyle:"padding: 3px 2px 2px 5px; border:0 none; border-bottom: 1px solid #d0d0d0; border-top: 1px solid #d0d0d0",style:"border:0 none",items:layersPanel,collapsible:!0,animCollapse:!1}),a.push({title:_index2.default.i18n.facility_layer_legend,bodyStyle:"padding: 5px 6px 3px; border: 0 none; border-bottom: 1px solid #d0d0d0; border-top: 1px solid #d0d0d0",collapsible:!0,collapsed:!0,animCollapse:!1,listeners:{added:function(){gis.layer.facility.legendPanel=this}}}),a.push({title:_index2.default.i18n.thematic_layer_1_legend,bodyStyle:"padding: 4px 6px 6px; border: 0 none; border-bottom: 1px solid #d0d0d0; border-top: 1px solid #d0d0d0",collapsible:!0,collapsed:!0,animCollapse:!1,listeners:{added:function(){gis.layer.thematic1.legendPanel=this}}}),a.push({title:_index2.default.i18n.thematic_layer_2_legend,bodyStyle:"padding: 4px 6px 6px; border: 0 none; border-bottom: 1px solid #d0d0d0; border-top: 1px solid #d0d0d0",collapsible:!0,collapsed:!0,animCollapse:!1,listeners:{added:function(){gis.layer.thematic2.legendPanel=this}}}),a.push({title:_index2.default.i18n.thematic_layer_3_legend,bodyStyle:"padding: 4px 6px 6px; border: 0 none; border-bottom: 1px solid #d0d0d0",collapsible:!0,collapsed:!0,animCollapse:!1,listeners:{added:function(){gis.layer.thematic3.legendPanel=this}}}),a.push({title:_index2.default.i18n.thematic_layer_4_legend,bodyStyle:"padding: 4px 6px 6px; border: 0 none",collapsible:!0,collapsed:!0,animCollapse:!1,listeners:{added:function(){gis.layer.thematic4.legendPanel=this}}}),a.push({title:_index2.default.i18n.earth_engine_layer_legend,bodyStyle:"padding: 4px 6px 6px; border: 0 none",collapsible:!0,collapsed:!0,animCollapse:!1,listeners:{added:function(){gis.layer.earthEngine.legendPanel=this}}}),a.push({title:_index2.default.i18n.external_layer_legend,bodyStyle:"padding: 4px 6px 6px; border: 0 none",collapsible:!0,collapsed:!0,animCollapse:!1,listeners:{added:function(){gis.layer.external.legendPanel=this}}}),a}(),listeners:{collapse:function(){resizeButton.setText("<<<")},expand:function(){resizeButton.setText(">>>")}}}),onRender=function(vp){gis.mask=Ext.create("Ext.LoadMask",centerRegion,{msg:"Loading"})},afterRender=function(){var layout,id=gis.util.url.getUrlParam("id"),session=gis.util.url.getUrlParam("s"),base=gis.util.url.getUrlParam("base");id?(gis.map={id:id},_index2.default.core.MapLoader(gis).load()):(0,_isString2.default)(session)&&_index2.default.isSessionStorage&&(0,_isObject2.default)(JSON.parse(sessionStorage.getItem("dhis2")))&&session in JSON.parse(sessionStorage.getItem("dhis2"))&&(layout=gis.api.layout.Layout(JSON.parse(sessionStorage.getItem("dhis2"))[session]),layout&&_index2.default.core.MapLoader(gis,!0).load([layout])),(id||session||base)&&history.pushState(null,null,".");var initEl=document.getElementById("init");initEl.parentNode.removeChild(initEl),Ext.getBody().setStyle("background","#fff"),Ext.getBody().setStyle("opacity",0),Ext.defer(function(){Ext.getBody().fadeIn({duration:600})},300)},viewport=Ext.create("Ext.container.Viewport",{id:"viewport",layout:"border",eastRegion:eastRegion,centerRegion:centerRegion,downloadButton:downloadButton,shareButton:shareButton,aboutButton:aboutButton,layersPanel:layersPanel,items:[centerRegion,eastRegion],listeners:{render:function(){onRender(this)},afterrender:function(){afterRender()}}})},function(){var fn,requests=[],callbacks=0,init={user:{},systemSettings:{},extensions:{}};fn=function(){++callbacks===requests.length&&(gis=_index2.default.core.getInstance(init),_index2.default.app.createExtensions(gis),_index2.default.app.extendInstance(gis),gis.viewport=createViewport())},dhis2.util.namespace("dhis2.gis"),dhis2.gis.store=dhis2.gis.store||new dhis2.storage.Store({name:"dhis2",adapters:[dhis2.storage.IndexedDBAdapter,dhis2.storage.DomSessionStorageAdapter,dhis2.storage.InMemoryAdapter],objectStores:["optionSets"]}),Ext.Ajax.request({url:encodeURI("manifest.webapp"),success:function(r){var context=JSON.parse(r.responseText).activities.dhis;init.contextPath=context.href,init.apiPath=init.contextPath+"/api/"+_index2.default.apiVersion+"/",init.analyticsPath=init.contextPath+"/api/25/",init.defaultHeaders={},context.auth&&(Ext.Ajax.defaultHeaders={Authorization:"Basic "+btoa(context.auth)},init.defaultHeaders.Authorization="Basic "+btoa(context.auth)),Ext.Ajax.request({url:encodeURI(init.apiPath+"system/info.json"),success:function(r){init.systemInfo=JSON.parse(r.responseText),init.contextPath=init.systemInfo.contextPath||init.contextPath,Ext.Ajax.request({url:encodeURI(init.apiPath+"systemSettings.json?key=keyCalendar&key=keyDateFormat&key=keyGoogleMapsApiKey&key=keyMapzenSearchApiKey"),success:function(r){var systemSettings=JSON.parse(r.responseText);init.systemInfo.dateFormat=(0,_isString2.default)(systemSettings.keyDateFormat)?systemSettings.keyDateFormat.toLowerCase():"yyyy-mm-dd",init.systemInfo.calendar=systemSettings.keyCalendar,init.systemInfo.mapzenSearchKey=systemSettings.keyMapzenSearchApiKey,init.systemInfo.googleMapsKey=systemSettings.keyGoogleMapsApiKey,Ext.Ajax.request({url:encodeURI(init.contextPath+"/api/me/user-account.json"),success:function(r){init.userAccount=JSON.parse(r.responseText);var namePropertyUrl,contextPath,keyUiLocale,keyAnalysisDisplayProperty,dateFormat,defaultKeyUiLocale="en",defaultKeyAnalysisDisplayProperty="displayName",displayPropertyMap={
name:"displayName",displayName:"displayName",shortName:"displayShortName",displayShortName:"displayShortName"};init.userAccount.settings.keyUiLocale=init.userAccount.settings.keyUiLocale||defaultKeyUiLocale,init.userAccount.settings.keyAnalysisDisplayProperty=displayPropertyMap[init.userAccount.settings.keyAnalysisDisplayProperty]||defaultKeyAnalysisDisplayProperty,contextPath=init.contextPath,keyUiLocale=init.userAccount.settings.keyUiLocale,keyAnalysisDisplayProperty=init.userAccount.settings.keyAnalysisDisplayProperty,namePropertyUrl=keyAnalysisDisplayProperty+"~rename(name)",dateFormat=init.systemInfo.dateFormat,init.namePropertyUrl=namePropertyUrl,function(){var calendarScriptUrl,createGenerator,dhis2PeriodUrl="dhis2/dhis2.period.js",defaultCalendarId="gregorian",calendarIdMap={iso8601:defaultCalendarId},calendarId=calendarIdMap[init.systemInfo.calendar]||init.systemInfo.calendar||defaultCalendarId,calendarIds=["coptic","ethiopian","islamic","julian","nepali","thai"];createGenerator=function(){init.calendar=$.calendars.instance(calendarId),init.periodGenerator=new dhis2.period.PeriodGenerator(init.calendar,init.systemInfo.dateFormat)},(0,_arrayContains2.default)(calendarIds,calendarId)?(calendarScriptUrl="dhis2/jquery.calendars."+calendarId+".min.js",Ext.Loader.injectScriptElement(calendarScriptUrl,function(){Ext.Loader.injectScriptElement(dhis2PeriodUrl,createGenerator)})):Ext.Loader.injectScriptElement(dhis2PeriodUrl,createGenerator)}(),requests.push({url:encodeURI("i18n/i18n_app.properties"),success:function(r){_index2.default.i18n=dhis2.util.parseJavaProperties(r.responseText),keyUiLocale===defaultKeyUiLocale?fn():Ext.Ajax.request({url:encodeURI("i18n/i18n_app_"+keyUiLocale+".properties"),success:function(r){Ext.apply(_index2.default.i18n,dhis2.util.parseJavaProperties(r.responseText))},failure:function(){console.log("No translations found for system locale ("+keyUiLocale+")")},callback:function(){fn()}})},failure:function(){Ext.Ajax.request({url:encodeURI("i18n/i18n_app_"+keyUiLocale+".properties"),success:function(r){_index2.default.i18n=dhis2.util.parseJavaProperties(r.responseText)},failure:function(){alert("No translations found for system locale ("+keyUiLocale+") or default locale ("+defaultKeyUiLocale+").")},callback:fn})}}),requests.push({url:encodeURI(contextPath+"/api/organisationUnits.json?userDataViewFallback=true&paging=false&fields=id,"+namePropertyUrl+",children[id,"+namePropertyUrl+"]"),success:function(r){init.rootNodes=JSON.parse(r.responseText).organisationUnits||[],fn()}}),requests.push({url:encodeURI(contextPath+"/api/organisationUnitLevels.json?fields=id,displayName~rename(name),level&paging=false"),success:function(r){init.organisationUnitLevels=JSON.parse(r.responseText).organisationUnitLevels||[],init.organisationUnitLevels.length||alert(_index2.default.i18n.no_organisation_unit_levels),fn()}}),requests.push({url:encodeURI(contextPath+"/api/organisationUnits.json?userOnly=true&fields=id,"+namePropertyUrl+",children[id,"+namePropertyUrl+"]&paging=false"),success:function(r){var organisationUnits=JSON.parse(r.responseText).organisationUnits||[],ou=[],ouc=[];if(organisationUnits.length){for(var org,i=0;i<organisationUnits.length;i++)org=organisationUnits[i],ou.push(org.id),org.children&&(ouc=(0,_arrayClean2.default)(ouc.concat((0,_arrayPluck2.default)(org.children,"id")||[])));init.user=init.user||{},init.user.ou=ou,init.user.ouc=ouc}else console&&console.log(_index2.default.i18n.user_is_not_assigned_to_any_organisation_units);fn()}}),requests.push({url:init.contextPath+"/api/me/authorization/F_GIS_ADMIN",success:function(r){init.user.isAdmin="true"===r.responseText,fn()}}),requests.push({url:encodeURI(init.apiPath+"indicatorGroups.json?fields=id,displayName~rename(name)&paging=false"),success:function(r){init.indicatorGroups=JSON.parse(r.responseText).indicatorGroups||[],fn()}}),requests.push({url:encodeURI(init.apiPath+"dataElementGroups.json?fields=id,"+namePropertyUrl+"&paging=false"),success:function(r){init.dataElementGroups=JSON.parse(r.responseText).dataElementGroups||[],fn()}}),requests.push({url:encodeURI(init.apiPath+"configuration/infrastructuralIndicators.json"),success:function(r){var obj=void 0;r.responseText&&(obj=JSON.parse(r.responseText)),init.systemSettings.infrastructuralIndicatorGroup=(0,_isObject2.default)(obj)?obj:null,(0,_isObject2.default)(obj)?fn():Ext.Ajax.request({url:encodeURI(init.apiPath+"indicatorGroups.json?fields=id,displayName~rename(name),indicators[id,"+namePropertyUrl+"]&pageSize=1"),success:function(r){r=JSON.parse(r.responseText),init.systemSettings.infrastructuralIndicatorGroup=r.indicatorGroups?r.indicatorGroups[0]:null},callback:fn})}}),requests.push({url:encodeURI(init.apiPath+"configuration/infrastructuralDataElements.json"),success:function(r){var obj=void 0;r.responseText&&(obj=JSON.parse(r.responseText)),init.systemSettings.infrastructuralDataElementGroup=(0,_isObject2.default)(obj)?obj:null,(0,_isObject2.default)(obj)?fn():Ext.Ajax.request({url:encodeURI(init.apiPath+"dataElementGroups.json?fields=id,"+namePropertyUrl+",dataElements[id,"+namePropertyUrl+"]&pageSize=1"),success:function(r){r=JSON.parse(r.responseText),init.systemSettings.infrastructuralDataElementGroup=r.dataElementGroups?r.dataElementGroups[0]:null},callback:fn})}}),requests.push({url:encodeURI(init.apiPath+"configuration/infrastructuralPeriodType.json"),success:function(r){var obj=JSON.parse(r.responseText);init.systemSettings.infrastructuralPeriodType=(0,_isObject2.default)(obj)?obj:{id:"Yearly",code:"Yearly",name:"Yearly"},fn()}}),requests.push({url:".",disableCaching:!1,success:function(){var store=dhis2.gis.store;store.open().done(function(){store.getKeys("optionSets").done(function(keys){0===keys.length?Ext.Ajax.request({url:encodeURI(contextPath+"/api/optionSets.json?fields=id,displayName~rename(name),version,options[code,displayName~rename(name)]&paging=false"),success:function(r){var sets=JSON.parse(r.responseText).optionSets;sets.length?store.setAll("optionSets",sets).done(fn):fn()}}):Ext.Ajax.request({url:encodeURI(contextPath+"/api/optionSets.json?fields=id,version&paging=false"),success:function(r){var updateStore,registerOptionSet,optionSets=JSON.parse(r.responseText).optionSets||[],ids=[],url="",callbacks=0;if(updateStore=function(){if(++callbacks===optionSets.length){if(!ids.length)return void fn();for(var i=0;i<ids.length;i++)url+="&filter=id:eq:"+ids[i];Ext.Ajax.request({url:encodeURI(contextPath+"/api/optionSets.json?fields=id,displayName~rename(name),version,options[code,displayName~rename(name)]&paging=false"+url),success:function(r){var sets=JSON.parse(r.responseText).optionSets;store.setAll("optionSets",sets).done(fn)}})}},registerOptionSet=function(optionSet){store.get("optionSets",optionSet.id).done(function(obj){(0,_isObject2.default)(obj)&&obj.version===optionSet.version||ids.push(optionSet.id),updateStore()})},optionSets.length)for(var i=0;i<optionSets.length;i++)registerOptionSet(optionSets[i]);else fn()}})})})}});for(var i=0;i<requests.length;i++)Ext.Ajax.request(requests[i])}})}})}})}})}()})}]);
//# sourceMappingURL=app.js.map